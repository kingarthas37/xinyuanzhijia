require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process,global){
/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
(function () {

    var async = {};
    function noop() {}
    function identity(v) {
        return v;
    }
    function toBool(v) {
        return !!v;
    }
    function notId(v) {
        return !v;
    }

    // global on the server, window in the browser
    var previous_async;

    // Establish the root object, `window` (`self`) in the browser, `global`
    // on the server, or `this` in some virtual machines. We use `self`
    // instead of `window` for `WebWorker` support.
    var root = typeof self === 'object' && self.self === self && self ||
            typeof global === 'object' && global.global === global && global ||
            this;

    if (root != null) {
        previous_async = root.async;
    }

    async.noConflict = function () {
        root.async = previous_async;
        return async;
    };

    function only_once(fn) {
        return function() {
            if (fn === null) throw new Error("Callback was already called.");
            fn.apply(this, arguments);
            fn = null;
        };
    }

    function _once(fn) {
        return function() {
            if (fn === null) return;
            fn.apply(this, arguments);
            fn = null;
        };
    }

    //// cross-browser compatiblity functions ////

    var _toString = Object.prototype.toString;

    var _isArray = Array.isArray || function (obj) {
        return _toString.call(obj) === '[object Array]';
    };

    // Ported from underscore.js isObject
    var _isObject = function(obj) {
        var type = typeof obj;
        return type === 'function' || type === 'object' && !!obj;
    };

    function _isArrayLike(arr) {
        return _isArray(arr) || (
            // has a positive integer length property
            typeof arr.length === "number" &&
            arr.length >= 0 &&
            arr.length % 1 === 0
        );
    }

    function _arrayEach(arr, iterator) {
        var index = -1,
            length = arr.length;

        while (++index < length) {
            iterator(arr[index], index, arr);
        }
    }

    function _map(arr, iterator) {
        var index = -1,
            length = arr.length,
            result = Array(length);

        while (++index < length) {
            result[index] = iterator(arr[index], index, arr);
        }
        return result;
    }

    function _range(count) {
        return _map(Array(count), function (v, i) { return i; });
    }

    function _reduce(arr, iterator, memo) {
        _arrayEach(arr, function (x, i, a) {
            memo = iterator(memo, x, i, a);
        });
        return memo;
    }

    function _forEachOf(object, iterator) {
        _arrayEach(_keys(object), function (key) {
            iterator(object[key], key);
        });
    }

    function _indexOf(arr, item) {
        for (var i = 0; i < arr.length; i++) {
            if (arr[i] === item) return i;
        }
        return -1;
    }

    var _keys = Object.keys || function (obj) {
        var keys = [];
        for (var k in obj) {
            if (obj.hasOwnProperty(k)) {
                keys.push(k);
            }
        }
        return keys;
    };

    function _keyIterator(coll) {
        var i = -1;
        var len;
        var keys;
        if (_isArrayLike(coll)) {
            len = coll.length;
            return function next() {
                i++;
                return i < len ? i : null;
            };
        } else {
            keys = _keys(coll);
            len = keys.length;
            return function next() {
                i++;
                return i < len ? keys[i] : null;
            };
        }
    }

    // Similar to ES6's rest param (http://ariya.ofilabs.com/2013/03/es6-and-rest-parameter.html)
    // This accumulates the arguments passed into an array, after a given index.
    // From underscore.js (https://github.com/jashkenas/underscore/pull/2140).
    function _restParam(func, startIndex) {
        startIndex = startIndex == null ? func.length - 1 : +startIndex;
        return function() {
            var length = Math.max(arguments.length - startIndex, 0);
            var rest = Array(length);
            for (var index = 0; index < length; index++) {
                rest[index] = arguments[index + startIndex];
            }
            switch (startIndex) {
                case 0: return func.call(this, rest);
                case 1: return func.call(this, arguments[0], rest);
            }
            // Currently unused but handle cases outside of the switch statement:
            // var args = Array(startIndex + 1);
            // for (index = 0; index < startIndex; index++) {
            //     args[index] = arguments[index];
            // }
            // args[startIndex] = rest;
            // return func.apply(this, args);
        };
    }

    function _withoutIndex(iterator) {
        return function (value, index, callback) {
            return iterator(value, callback);
        };
    }

    //// exported async module functions ////

    //// nextTick implementation with browser-compatible fallback ////

    // capture the global reference to guard against fakeTimer mocks
    var _setImmediate = typeof setImmediate === 'function' && setImmediate;

    var _delay = _setImmediate ? function(fn) {
        // not a direct alias for IE10 compatibility
        _setImmediate(fn);
    } : function(fn) {
        setTimeout(fn, 0);
    };

    if (typeof process === 'object' && typeof process.nextTick === 'function') {
        async.nextTick = process.nextTick;
    } else {
        async.nextTick = _delay;
    }
    async.setImmediate = _setImmediate ? _delay : async.nextTick;


    async.forEach =
    async.each = function (arr, iterator, callback) {
        return async.eachOf(arr, _withoutIndex(iterator), callback);
    };

    async.forEachSeries =
    async.eachSeries = function (arr, iterator, callback) {
        return async.eachOfSeries(arr, _withoutIndex(iterator), callback);
    };


    async.forEachLimit =
    async.eachLimit = function (arr, limit, iterator, callback) {
        return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);
    };

    async.forEachOf =
    async.eachOf = function (object, iterator, callback) {
        callback = _once(callback || noop);
        object = object || [];

        var iter = _keyIterator(object);
        var key, completed = 0;

        while ((key = iter()) != null) {
            completed += 1;
            iterator(object[key], key, only_once(done));
        }

        if (completed === 0) callback(null);

        function done(err) {
            completed--;
            if (err) {
                callback(err);
            }
            // Check key is null in case iterator isn't exhausted
            // and done resolved synchronously.
            else if (key === null && completed <= 0) {
                callback(null);
            }
        }
    };

    async.forEachOfSeries =
    async.eachOfSeries = function (obj, iterator, callback) {
        callback = _once(callback || noop);
        obj = obj || [];
        var nextKey = _keyIterator(obj);
        var key = nextKey();
        function iterate() {
            var sync = true;
            if (key === null) {
                return callback(null);
            }
            iterator(obj[key], key, only_once(function (err) {
                if (err) {
                    callback(err);
                }
                else {
                    key = nextKey();
                    if (key === null) {
                        return callback(null);
                    } else {
                        if (sync) {
                            async.setImmediate(iterate);
                        } else {
                            iterate();
                        }
                    }
                }
            }));
            sync = false;
        }
        iterate();
    };



    async.forEachOfLimit =
    async.eachOfLimit = function (obj, limit, iterator, callback) {
        _eachOfLimit(limit)(obj, iterator, callback);
    };

    function _eachOfLimit(limit) {

        return function (obj, iterator, callback) {
            callback = _once(callback || noop);
            obj = obj || [];
            var nextKey = _keyIterator(obj);
            if (limit <= 0) {
                return callback(null);
            }
            var done = false;
            var running = 0;
            var errored = false;

            (function replenish () {
                if (done && running <= 0) {
                    return callback(null);
                }

                while (running < limit && !errored) {
                    var key = nextKey();
                    if (key === null) {
                        done = true;
                        if (running <= 0) {
                            callback(null);
                        }
                        return;
                    }
                    running += 1;
                    iterator(obj[key], key, only_once(function (err) {
                        running -= 1;
                        if (err) {
                            callback(err);
                            errored = true;
                        }
                        else {
                            replenish();
                        }
                    }));
                }
            })();
        };
    }


    function doParallel(fn) {
        return function (obj, iterator, callback) {
            return fn(async.eachOf, obj, iterator, callback);
        };
    }
    function doParallelLimit(fn) {
        return function (obj, limit, iterator, callback) {
            return fn(_eachOfLimit(limit), obj, iterator, callback);
        };
    }
    function doSeries(fn) {
        return function (obj, iterator, callback) {
            return fn(async.eachOfSeries, obj, iterator, callback);
        };
    }

    function _asyncMap(eachfn, arr, iterator, callback) {
        callback = _once(callback || noop);
        arr = arr || [];
        var results = _isArrayLike(arr) ? [] : {};
        eachfn(arr, function (value, index, callback) {
            iterator(value, function (err, v) {
                results[index] = v;
                callback(err);
            });
        }, function (err) {
            callback(err, results);
        });
    }

    async.map = doParallel(_asyncMap);
    async.mapSeries = doSeries(_asyncMap);
    async.mapLimit = doParallelLimit(_asyncMap);

    // reduce only has a series version, as doing reduce in parallel won't
    // work in many situations.
    async.inject =
    async.foldl =
    async.reduce = function (arr, memo, iterator, callback) {
        async.eachOfSeries(arr, function (x, i, callback) {
            iterator(memo, x, function (err, v) {
                memo = v;
                callback(err);
            });
        }, function (err) {
            callback(err, memo);
        });
    };

    async.foldr =
    async.reduceRight = function (arr, memo, iterator, callback) {
        var reversed = _map(arr, identity).reverse();
        async.reduce(reversed, memo, iterator, callback);
    };

    async.transform = function (arr, memo, iterator, callback) {
        if (arguments.length === 3) {
            callback = iterator;
            iterator = memo;
            memo = _isArray(arr) ? [] : {};
        }

        async.eachOf(arr, function(v, k, cb) {
            iterator(memo, v, k, cb);
        }, function(err) {
            callback(err, memo);
        });
    };

    function _filter(eachfn, arr, iterator, callback) {
        var results = [];
        eachfn(arr, function (x, index, callback) {
            iterator(x, function (v) {
                if (v) {
                    results.push({index: index, value: x});
                }
                callback();
            });
        }, function () {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    }

    async.select =
    async.filter = doParallel(_filter);

    async.selectLimit =
    async.filterLimit = doParallelLimit(_filter);

    async.selectSeries =
    async.filterSeries = doSeries(_filter);

    function _reject(eachfn, arr, iterator, callback) {
        _filter(eachfn, arr, function(value, cb) {
            iterator(value, function(v) {
                cb(!v);
            });
        }, callback);
    }
    async.reject = doParallel(_reject);
    async.rejectLimit = doParallelLimit(_reject);
    async.rejectSeries = doSeries(_reject);

    function _createTester(eachfn, check, getResult) {
        return function(arr, limit, iterator, cb) {
            function done() {
                if (cb) cb(getResult(false, void 0));
            }
            function iteratee(x, _, callback) {
                if (!cb) return callback();
                iterator(x, function (v) {
                    if (cb && check(v)) {
                        cb(getResult(true, x));
                        cb = iterator = false;
                    }
                    callback();
                });
            }
            if (arguments.length > 3) {
                eachfn(arr, limit, iteratee, done);
            } else {
                cb = iterator;
                iterator = limit;
                eachfn(arr, iteratee, done);
            }
        };
    }

    async.any =
    async.some = _createTester(async.eachOf, toBool, identity);

    async.someLimit = _createTester(async.eachOfLimit, toBool, identity);

    async.all =
    async.every = _createTester(async.eachOf, notId, notId);

    async.everyLimit = _createTester(async.eachOfLimit, notId, notId);

    function _findGetResult(v, x) {
        return x;
    }
    async.detect = _createTester(async.eachOf, identity, _findGetResult);
    async.detectSeries = _createTester(async.eachOfSeries, identity, _findGetResult);
    async.detectLimit = _createTester(async.eachOfLimit, identity, _findGetResult);

    async.sortBy = function (arr, iterator, callback) {
        async.map(arr, function (x, callback) {
            iterator(x, function (err, criteria) {
                if (err) {
                    callback(err);
                }
                else {
                    callback(null, {value: x, criteria: criteria});
                }
            });
        }, function (err, results) {
            if (err) {
                return callback(err);
            }
            else {
                callback(null, _map(results.sort(comparator), function (x) {
                    return x.value;
                }));
            }

        });

        function comparator(left, right) {
            var a = left.criteria, b = right.criteria;
            return a < b ? -1 : a > b ? 1 : 0;
        }
    };

    async.auto = function (tasks, concurrency, callback) {
        if (typeof arguments[1] === 'function') {
            // concurrency is optional, shift the args.
            callback = concurrency;
            concurrency = null;
        }
        callback = _once(callback || noop);
        var keys = _keys(tasks);
        var remainingTasks = keys.length;
        if (!remainingTasks) {
            return callback(null);
        }
        if (!concurrency) {
            concurrency = remainingTasks;
        }

        var results = {};
        var runningTasks = 0;

        var hasError = false;

        var listeners = [];
        function addListener(fn) {
            listeners.unshift(fn);
        }
        function removeListener(fn) {
            var idx = _indexOf(listeners, fn);
            if (idx >= 0) listeners.splice(idx, 1);
        }
        function taskComplete() {
            remainingTasks--;
            _arrayEach(listeners.slice(0), function (fn) {
                fn();
            });
        }

        addListener(function () {
            if (!remainingTasks) {
                callback(null, results);
            }
        });

        _arrayEach(keys, function (k) {
            if (hasError) return;
            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];
            var taskCallback = _restParam(function(err, args) {
                runningTasks--;
                if (args.length <= 1) {
                    args = args[0];
                }
                if (err) {
                    var safeResults = {};
                    _forEachOf(results, function(val, rkey) {
                        safeResults[rkey] = val;
                    });
                    safeResults[k] = args;
                    hasError = true;

                    callback(err, safeResults);
                }
                else {
                    results[k] = args;
                    async.setImmediate(taskComplete);
                }
            });
            var requires = task.slice(0, task.length - 1);
            // prevent dead-locks
            var len = requires.length;
            var dep;
            while (len--) {
                if (!(dep = tasks[requires[len]])) {
                    throw new Error('Has nonexistent dependency in ' + requires.join(', '));
                }
                if (_isArray(dep) && _indexOf(dep, k) >= 0) {
                    throw new Error('Has cyclic dependencies');
                }
            }
            function ready() {
                return runningTasks < concurrency && _reduce(requires, function (a, x) {
                    return (a && results.hasOwnProperty(x));
                }, true) && !results.hasOwnProperty(k);
            }
            if (ready()) {
                runningTasks++;
                task[task.length - 1](taskCallback, results);
            }
            else {
                addListener(listener);
            }
            function listener() {
                if (ready()) {
                    runningTasks++;
                    removeListener(listener);
                    task[task.length - 1](taskCallback, results);
                }
            }
        });
    };



    async.retry = function(times, task, callback) {
        var DEFAULT_TIMES = 5;
        var DEFAULT_INTERVAL = 0;

        var attempts = [];

        var opts = {
            times: DEFAULT_TIMES,
            interval: DEFAULT_INTERVAL
        };

        function parseTimes(acc, t){
            if(typeof t === 'number'){
                acc.times = parseInt(t, 10) || DEFAULT_TIMES;
            } else if(typeof t === 'object'){
                acc.times = parseInt(t.times, 10) || DEFAULT_TIMES;
                acc.interval = parseInt(t.interval, 10) || DEFAULT_INTERVAL;
            } else {
                throw new Error('Unsupported argument type for \'times\': ' + typeof t);
            }
        }

        var length = arguments.length;
        if (length < 1 || length > 3) {
            throw new Error('Invalid arguments - must be either (task), (task, callback), (times, task) or (times, task, callback)');
        } else if (length <= 2 && typeof times === 'function') {
            callback = task;
            task = times;
        }
        if (typeof times !== 'function') {
            parseTimes(opts, times);
        }
        opts.callback = callback;
        opts.task = task;

        function wrappedTask(wrappedCallback, wrappedResults) {
            function retryAttempt(task, finalAttempt) {
                return function(seriesCallback) {
                    task(function(err, result){
                        seriesCallback(!err || finalAttempt, {err: err, result: result});
                    }, wrappedResults);
                };
            }

            function retryInterval(interval){
                return function(seriesCallback){
                    setTimeout(function(){
                        seriesCallback(null);
                    }, interval);
                };
            }

            while (opts.times) {

                var finalAttempt = !(opts.times-=1);
                attempts.push(retryAttempt(opts.task, finalAttempt));
                if(!finalAttempt && opts.interval > 0){
                    attempts.push(retryInterval(opts.interval));
                }
            }

            async.series(attempts, function(done, data){
                data = data[data.length - 1];
                (wrappedCallback || opts.callback)(data.err, data.result);
            });
        }

        // If a callback is passed, run this as a controll flow
        return opts.callback ? wrappedTask() : wrappedTask;
    };

    async.waterfall = function (tasks, callback) {
        callback = _once(callback || noop);
        if (!_isArray(tasks)) {
            var err = new Error('First argument to waterfall must be an array of functions');
            return callback(err);
        }
        if (!tasks.length) {
            return callback();
        }
        function wrapIterator(iterator) {
            return _restParam(function (err, args) {
                if (err) {
                    callback.apply(null, [err].concat(args));
                }
                else {
                    var next = iterator.next();
                    if (next) {
                        args.push(wrapIterator(next));
                    }
                    else {
                        args.push(callback);
                    }
                    ensureAsync(iterator).apply(null, args);
                }
            });
        }
        wrapIterator(async.iterator(tasks))();
    };

    function _parallel(eachfn, tasks, callback) {
        callback = callback || noop;
        var results = _isArrayLike(tasks) ? [] : {};

        eachfn(tasks, function (task, key, callback) {
            task(_restParam(function (err, args) {
                if (args.length <= 1) {
                    args = args[0];
                }
                results[key] = args;
                callback(err);
            }));
        }, function (err) {
            callback(err, results);
        });
    }

    async.parallel = function (tasks, callback) {
        _parallel(async.eachOf, tasks, callback);
    };

    async.parallelLimit = function(tasks, limit, callback) {
        _parallel(_eachOfLimit(limit), tasks, callback);
    };

    async.series = function(tasks, callback) {
        _parallel(async.eachOfSeries, tasks, callback);
    };

    async.iterator = function (tasks) {
        function makeCallback(index) {
            function fn() {
                if (tasks.length) {
                    tasks[index].apply(null, arguments);
                }
                return fn.next();
            }
            fn.next = function () {
                return (index < tasks.length - 1) ? makeCallback(index + 1): null;
            };
            return fn;
        }
        return makeCallback(0);
    };

    async.apply = _restParam(function (fn, args) {
        return _restParam(function (callArgs) {
            return fn.apply(
                null, args.concat(callArgs)
            );
        });
    });

    function _concat(eachfn, arr, fn, callback) {
        var result = [];
        eachfn(arr, function (x, index, cb) {
            fn(x, function (err, y) {
                result = result.concat(y || []);
                cb(err);
            });
        }, function (err) {
            callback(err, result);
        });
    }
    async.concat = doParallel(_concat);
    async.concatSeries = doSeries(_concat);

    async.whilst = function (test, iterator, callback) {
        callback = callback || noop;
        if (test()) {
            var next = _restParam(function(err, args) {
                if (err) {
                    callback(err);
                } else if (test.apply(this, args)) {
                    iterator(next);
                } else {
                    callback.apply(null, [null].concat(args));
                }
            });
            iterator(next);
        } else {
            callback(null);
        }
    };

    async.doWhilst = function (iterator, test, callback) {
        var calls = 0;
        return async.whilst(function() {
            return ++calls <= 1 || test.apply(this, arguments);
        }, iterator, callback);
    };

    async.until = function (test, iterator, callback) {
        return async.whilst(function() {
            return !test.apply(this, arguments);
        }, iterator, callback);
    };

    async.doUntil = function (iterator, test, callback) {
        return async.doWhilst(iterator, function() {
            return !test.apply(this, arguments);
        }, callback);
    };

    async.during = function (test, iterator, callback) {
        callback = callback || noop;

        var next = _restParam(function(err, args) {
            if (err) {
                callback(err);
            } else {
                args.push(check);
                test.apply(this, args);
            }
        });

        var check = function(err, truth) {
            if (err) {
                callback(err);
            } else if (truth) {
                iterator(next);
            } else {
                callback(null);
            }
        };

        test(check);
    };

    async.doDuring = function (iterator, test, callback) {
        var calls = 0;
        async.during(function(next) {
            if (calls++ < 1) {
                next(null, true);
            } else {
                test.apply(this, arguments);
            }
        }, iterator, callback);
    };

    function _queue(worker, concurrency, payload) {
        if (concurrency == null) {
            concurrency = 1;
        }
        else if(concurrency === 0) {
            throw new Error('Concurrency must not be zero');
        }
        function _insert(q, data, pos, callback) {
            if (callback != null && typeof callback !== "function") {
                throw new Error("task callback must be a function");
            }
            q.started = true;
            if (!_isArray(data)) {
                data = [data];
            }
            if(data.length === 0 && q.idle()) {
                // call drain immediately if there are no tasks
                return async.setImmediate(function() {
                    q.drain();
                });
            }
            _arrayEach(data, function(task) {
                var item = {
                    data: task,
                    callback: callback || noop
                };

                if (pos) {
                    q.tasks.unshift(item);
                } else {
                    q.tasks.push(item);
                }

                if (q.tasks.length === q.concurrency) {
                    q.saturated();
                }
            });
            async.setImmediate(q.process);
        }
        function _next(q, tasks) {
            return function(){
                workers -= 1;

                var removed = false;
                var args = arguments;
                _arrayEach(tasks, function (task) {
                    _arrayEach(workersList, function (worker, index) {
                        if (worker === task && !removed) {
                            workersList.splice(index, 1);
                            removed = true;
                        }
                    });

                    task.callback.apply(task, args);
                });
                if (q.tasks.length + workers === 0) {
                    q.drain();
                }
                q.process();
            };
        }

        var workers = 0;
        var workersList = [];
        var q = {
            tasks: [],
            concurrency: concurrency,
            payload: payload,
            saturated: noop,
            empty: noop,
            drain: noop,
            started: false,
            paused: false,
            push: function (data, callback) {
                _insert(q, data, false, callback);
            },
            kill: function () {
                q.drain = noop;
                q.tasks = [];
            },
            unshift: function (data, callback) {
                _insert(q, data, true, callback);
            },
            process: function () {
                while(!q.paused && workers < q.concurrency && q.tasks.length){

                    var tasks = q.payload ?
                        q.tasks.splice(0, q.payload) :
                        q.tasks.splice(0, q.tasks.length);

                    var data = _map(tasks, function (task) {
                        return task.data;
                    });

                    if (q.tasks.length === 0) {
                        q.empty();
                    }
                    workers += 1;
                    workersList.push(tasks[0]);
                    var cb = only_once(_next(q, tasks));
                    worker(data, cb);
                }
            },
            length: function () {
                return q.tasks.length;
            },
            running: function () {
                return workers;
            },
            workersList: function () {
                return workersList;
            },
            idle: function() {
                return q.tasks.length + workers === 0;
            },
            pause: function () {
                q.paused = true;
            },
            resume: function () {
                if (q.paused === false) { return; }
                q.paused = false;
                var resumeCount = Math.min(q.concurrency, q.tasks.length);
                // Need to call q.process once per concurrent
                // worker to preserve full concurrency after pause
                for (var w = 1; w <= resumeCount; w++) {
                    async.setImmediate(q.process);
                }
            }
        };
        return q;
    }

    async.queue = function (worker, concurrency) {
        var q = _queue(function (items, cb) {
            worker(items[0], cb);
        }, concurrency, 1);

        return q;
    };

    async.priorityQueue = function (worker, concurrency) {

        function _compareTasks(a, b){
            return a.priority - b.priority;
        }

        function _binarySearch(sequence, item, compare) {
            var beg = -1,
                end = sequence.length - 1;
            while (beg < end) {
                var mid = beg + ((end - beg + 1) >>> 1);
                if (compare(item, sequence[mid]) >= 0) {
                    beg = mid;
                } else {
                    end = mid - 1;
                }
            }
            return beg;
        }

        function _insert(q, data, priority, callback) {
            if (callback != null && typeof callback !== "function") {
                throw new Error("task callback must be a function");
            }
            q.started = true;
            if (!_isArray(data)) {
                data = [data];
            }
            if(data.length === 0) {
                // call drain immediately if there are no tasks
                return async.setImmediate(function() {
                    q.drain();
                });
            }
            _arrayEach(data, function(task) {
                var item = {
                    data: task,
                    priority: priority,
                    callback: typeof callback === 'function' ? callback : noop
                };

                q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);

                if (q.tasks.length === q.concurrency) {
                    q.saturated();
                }
                async.setImmediate(q.process);
            });
        }

        // Start with a normal queue
        var q = async.queue(worker, concurrency);

        // Override push to accept second parameter representing priority
        q.push = function (data, priority, callback) {
            _insert(q, data, priority, callback);
        };

        // Remove unshift function
        delete q.unshift;

        return q;
    };

    async.cargo = function (worker, payload) {
        return _queue(worker, 1, payload);
    };

    function _console_fn(name) {
        return _restParam(function (fn, args) {
            fn.apply(null, args.concat([_restParam(function (err, args) {
                if (typeof console === 'object') {
                    if (err) {
                        if (console.error) {
                            console.error(err);
                        }
                    }
                    else if (console[name]) {
                        _arrayEach(args, function (x) {
                            console[name](x);
                        });
                    }
                }
            })]));
        });
    }
    async.log = _console_fn('log');
    async.dir = _console_fn('dir');
    /*async.info = _console_fn('info');
    async.warn = _console_fn('warn');
    async.error = _console_fn('error');*/

    async.memoize = function (fn, hasher) {
        var memo = {};
        var queues = {};
        var has = Object.prototype.hasOwnProperty;
        hasher = hasher || identity;
        var memoized = _restParam(function memoized(args) {
            var callback = args.pop();
            var key = hasher.apply(null, args);
            if (has.call(memo, key)) {   
                async.setImmediate(function () {
                    callback.apply(null, memo[key]);
                });
            }
            else if (has.call(queues, key)) {
                queues[key].push(callback);
            }
            else {
                queues[key] = [callback];
                fn.apply(null, args.concat([_restParam(function (args) {
                    memo[key] = args;
                    var q = queues[key];
                    delete queues[key];
                    for (var i = 0, l = q.length; i < l; i++) {
                        q[i].apply(null, args);
                    }
                })]));
            }
        });
        memoized.memo = memo;
        memoized.unmemoized = fn;
        return memoized;
    };

    async.unmemoize = function (fn) {
        return function () {
            return (fn.unmemoized || fn).apply(null, arguments);
        };
    };

    function _times(mapper) {
        return function (count, iterator, callback) {
            mapper(_range(count), iterator, callback);
        };
    }

    async.times = _times(async.map);
    async.timesSeries = _times(async.mapSeries);
    async.timesLimit = function (count, limit, iterator, callback) {
        return async.mapLimit(_range(count), limit, iterator, callback);
    };

    async.seq = function (/* functions... */) {
        var fns = arguments;
        return _restParam(function (args) {
            var that = this;

            var callback = args[args.length - 1];
            if (typeof callback == 'function') {
                args.pop();
            } else {
                callback = noop;
            }

            async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([_restParam(function (err, nextargs) {
                    cb(err, nextargs);
                })]));
            },
            function (err, results) {
                callback.apply(that, [err].concat(results));
            });
        });
    };

    async.compose = function (/* functions... */) {
        return async.seq.apply(null, Array.prototype.reverse.call(arguments));
    };


    function _applyEach(eachfn) {
        return _restParam(function(fns, args) {
            var go = _restParam(function(args) {
                var that = this;
                var callback = args.pop();
                return eachfn(fns, function (fn, _, cb) {
                    fn.apply(that, args.concat([cb]));
                },
                callback);
            });
            if (args.length) {
                return go.apply(this, args);
            }
            else {
                return go;
            }
        });
    }

    async.applyEach = _applyEach(async.eachOf);
    async.applyEachSeries = _applyEach(async.eachOfSeries);


    async.forever = function (fn, callback) {
        var done = only_once(callback || noop);
        var task = ensureAsync(fn);
        function next(err) {
            if (err) {
                return done(err);
            }
            task(next);
        }
        next();
    };

    function ensureAsync(fn) {
        return _restParam(function (args) {
            var callback = args.pop();
            args.push(function () {
                var innerArgs = arguments;
                if (sync) {
                    async.setImmediate(function () {
                        callback.apply(null, innerArgs);
                    });
                } else {
                    callback.apply(null, innerArgs);
                }
            });
            var sync = true;
            fn.apply(this, args);
            sync = false;
        });
    }

    async.ensureAsync = ensureAsync;

    async.constant = _restParam(function(values) {
        var args = [null].concat(values);
        return function (callback) {
            return callback.apply(this, args);
        };
    });

    async.wrapSync =
    async.asyncify = function asyncify(func) {
        return _restParam(function (args) {
            var callback = args.pop();
            var result;
            try {
                result = func.apply(this, args);
            } catch (e) {
                return callback(e);
            }
            // if result is Promise object
            if (_isObject(result) && typeof result.then === "function") {
                result.then(function(value) {
                    callback(null, value);
                })["catch"](function(err) {
                    callback(err.message ? err : new Error(err));
                });
            } else {
                callback(null, result);
            }
        });
    };

    // Node.js
    if (typeof module === 'object' && module.exports) {
        module.exports = async;
    }
    // AMD / RequireJS
    else if (typeof define === 'function' && define.amd) {
        define([], function () {
            return async;
        });
    }
    // included directly via <script> tag
    else {
        root.async = async;
    }

}());

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":2}],2:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],3:[function(require,module,exports){
'use strict';

var AMUI = require('amazeui');

$(function () {

    // Avoid `console` errors in browsers that lack a console.
    {
        var method;
        var noop = function noop() {};
        var methods = ['assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error', 'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log', 'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd', 'timeStamp', 'trace', 'warn'];
        var length = methods.length;
        var console = window.console = window.console || {};

        while (length--) {
            method = methods[length];

            // Only stub undefined methods.
            if (!console[method]) {
                console[method] = noop;
            }
        }
    }

    // //globalVar 只能在 非 node环境的文件 里用
    // window.globalVar={
    //     gLog:require('./log'),
    // }

    //jquery validate message中文
    {
        $.extend($.validator.messages, {
            required: "必选字段",
            remote: "请修正该字段",
            email: "请输入正确格式的电子邮件",
            url: "请输入合法的网址",
            date: "请输入合法的日期",
            dateISO: "请输入合法的日期 (ISO).",
            number: "请输入合法的数字",
            digits: "只能输入整数",
            creditcard: "请输入合法的信用卡号",
            equalTo: "请再次输入相同的值",
            accept: "请输入拥有合法后缀名的字符串",
            maxlength: jQuery.validator.format("请输入一个 长度最多是 {0} 的字符串"),
            minlength: jQuery.validator.format("请输入一个 长度最少是 {0} 的字符串"),
            rangelength: jQuery.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符串"),
            range: jQuery.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),
            max: jQuery.validator.format("请输入一个最大为{0} 的值"),
            min: jQuery.validator.format("请输入一个最小为{0} 的值")
        });
    }

    //am selected与jquery.form冲突解决:
    {
        AMUI.plugin('amuiSelected', AMUI.selected);
        $('[data-am-selected]').amuiSelected();
    }

    //提示flash隐藏
    {
        if ($('.am-alert.am-alert-success').length) {
            setTimeout(function () {
                $('.am-alert.am-alert-success').hide();
            }, 3000);
        }
    }

    {
        $('.btn-back').click(function () {
            history.back(-1);
        });
    }
});

},{"amazeui":8}],4:[function(require,module,exports){
'use strict';

var name = '51wish';

//env
window.env = function () {
    if (location.hostname === name + '.leanapp.cn' || location.hostname === name + '.cn' || location.host === 'www.' + name + '.cn') {
        return 'production';
    }
    if (location.hostname === 'stg-' + name + '.leanapp.cn') {
        return 'stage';
    }
    return 'development';
};

var cloud = function cloud() {
    if (env() === 'production') {
        return '//51wish.cn/1.1/functions/';
    }
    if (env() === 'stage') {
        return '//stg-51wish.leanapp.cn/1.1/functions/';
    }
    return '/1.1/functions/';
};

window.leanApp = {
    appdId: 'QuiPuWpJPzCahsgBK7teBOJN-gzGzoHsz',
    api: 'https://leancloud.cn/1.1/',
    cloud: cloud()
};

//lean app header info
window.leanAppHeader = {
    'x-lc-id': leanApp.appdId,
    'x-lc-sign': $.cookie('x_lc_sign') || '',
    'x-lc-session': $.cookie('x_lc_session') || '',
    'x-lc-prod': env() === 'production' ? 1 : 0,
    'content-type': 'application/json'
};

},{}],5:[function(require,module,exports){
'use strict';

require('../../../../js/main');

require('./config');
require('./common');

},{"../../../../js/main":17,"./common":3,"./config":4}],6:[function(require,module,exports){
'use strict';

module.exports = {

    //url参数组合
    urlParamsComponent: function urlParamsComponent(url, params) {
        var search = '';
        for (var key in params) {
            if (params[key]) {
                search += key + '=' + params[key] + '&';
            }
        }
        return url + '?' + search.substring(0, search.length - 1);
    },

    //product mainImage 转换
    productMainImageOutput: function productMainImageOutput(mainImage) {
        for (var i in mainImage) {
            if (mainImage[i].isMainImage) {
                return mainImage[i].url;
            }
        }
    }

};

},{}],7:[function(require,module,exports){
'use strict';

var Bloodhound = require('bloodhound');

module.exports = {

    //匹配autoomplete产品名字
    getName: function getName(el) {

        var element = $(el);
        element.typeahead(null, {
            display: function display(item) {
                return item.value;
            },
            templates: {
                suggestion: function suggestion(item) {
                    return '<div><img src="' + item.image + '?imageMogr2/thumbnail/32" />' + item.value + ' </div>';
                }
            },
            highlight: true,
            source: new Bloodhound({
                datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
                queryTokenizer: Bloodhound.tokenizers.whitespace,
                remote: {
                    url: '/admin/product/get-product',
                    prepare: function prepare(query, settings) {
                        settings.data = {
                            name: element.val()
                        };
                        return settings;
                    }
                }
            })
        });
    },


    //通过id获取产品
    getId: function getId(input, id, callback) {
        $.ajax({
            url: '/admin/product/get-id/' + id,
            type: 'get'
        }).then(function (data) {
            if (data.success) {
                input.value = data.result.name + ' {id:' + id + '}';
                callback();
            }
        });
    }
};

},{"bloodhound":9}],8:[function(require,module,exports){
/*! Amaze UI v2.7.2 | by Amaze UI Team | (c) 2016 AllMobilize, Inc. | Licensed under MIT | 2016-08-17T16:17:24+0800 */ 
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?exports.AMUI=e(require("jquery")):t.AMUI=e(t.jQuery)}(this,function(t){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(1),s=i(2);i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10),i(11),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21),i(22),i(24),i(25),i(23),i(27),i(28),i(29),i(30),i(31),i(32),i(33),i(26),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(49),i(50),i(51),i(52),i(53),i(54),t.exports=n.AMUI=s},function(e,i){e.exports=t},function(t,e,i){"use strict";var n=i(1);if("undefined"==typeof n)throw new Error("Amaze UI 2.x requires jQuery :-(\n\u7231\u4e0a\u4e00\u5339\u91ce\u9a6c\uff0c\u53ef\u4f60\u7684\u5bb6\u91cc\u6ca1\u6709\u8349\u539f\u2026");var s=n.AMUI||{},o=n(window),a=window.document,r=n("html");s.VERSION="2.7.2",s.support={},s.support.transition=function(){var t=function(){var t=a.body||a.documentElement,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return e[i]}();return t&&{end:t}}(),s.support.animation=function(){var t=function(){var t=a.body||a.documentElement,e={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var i in e)if(void 0!==t.style[i])return e[i]}();return t&&{end:t}}(),s.support.touch="ontouchstart"in window&&navigator.userAgent.toLowerCase().match(/mobile|tablet/)||window.DocumentTouch&&document instanceof window.DocumentTouch||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0||!1,s.support.mutationobserver=window.MutationObserver||window.WebKitMutationObserver||null,s.support.formValidation="function"==typeof document.createElement("form").checkValidity,s.utils={},s.utils.debounce=function(t,e,i){var n;return function(){var s=this,o=arguments,a=function(){n=null,i||t.apply(s,o)},r=i&&!n;clearTimeout(n),n=setTimeout(a,e),r&&t.apply(s,o)}},s.utils.isInView=function(t,e){var i=n(t),s=!(!i.width()&&!i.height())&&"none"!==i.css("display");if(!s)return!1;var a=o.scrollLeft(),r=o.scrollTop(),l=i.offset(),c=l.left,u=l.top;return e=n.extend({topOffset:0,leftOffset:0},e),u+i.height()>=r&&u-e.topOffset<=r+o.height()&&c+i.width()>=a&&c-e.leftOffset<=a+o.width()},s.utils.parseOptions=s.utils.options=function(t){if(n.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,i={};if(e!=-1)try{i=new Function("","var json = "+t.substr(e)+"; return JSON.parse(JSON.stringify(json));")()}catch(s){}return i},s.utils.generateGUID=function(t){var e=t+"-"||"am-";do e+=Math.random().toString(36).substring(2,7);while(document.getElementById(e));return e},s.utils.getAbsoluteUrl=function(){var t;return function(e){return t||(t=document.createElement("a")),t.href=e,t.href}}(),s.plugin=function(t,e,i){var o=n.fn[t];i=i||{},n.fn[t]=function(o){var a,r=Array.prototype.slice.call(arguments,0),l=r.slice(1),c=this.each(function(){var c=n(this),u="amui."+t,h=i.dataOptions||"data-am-"+t,d=c.data(u),p=n.extend({},s.utils.parseOptions(c.attr(h)),"object"==typeof o&&o);(d||"destroy"!==o)&&(d||c.data(u,d=new e(this,p)),i.methodCall?i.methodCall.call(c,r,d):(i.before&&i.before.call(c,r,d),"string"==typeof o&&(a="function"==typeof d[o]?d[o].apply(d,l):d[o]),i.after&&i.after.call(c,r,d)))});return void 0===a?c:a},n.fn[t].Constructor=e,n.fn[t].noConflict=function(){return n.fn[t]=o,this},s[t]=e},n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one(s.support.transition.end,function(){e=!0});var o=function(){e||n(i).trigger(s.support.transition.end),i.transitionEndTimmer=void 0};return this.transitionEndTimmer=setTimeout(o,t),this},n.fn.redraw=function(){return this.each(function(){this.offsetHeight})},n.fn.transitionEnd=function(t){function e(s){t.call(this,s),i&&n.off(i,e)}var i=s.support.transition.end,n=this;return t&&i&&n.on(i,e),this},n.fn.removeClassRegEx=function(){return this.each(function(t){var e=n(this).attr("class");if(!e||!t)return!1;var i=[];e=e.split(" ");for(var s=0,o=e.length;s<o;s++)e[s].match(t)||i.push(e[s]);n(this).attr("class",i.join(" "))})},n.fn.alterClass=function(t,e){var i=this;if(t.indexOf("*")===-1)return i.removeClass(t),e?i.addClass(e):i;var s=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return i.each(function(t,e){for(var i=" "+e.className+" ";s.test(i);)i=i.replace(s," ");e.className=n.trim(i)}),e?i.addClass(e):i},s.utils.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),s.utils.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(t){window.clearTimeout(t)}}(),s.utils.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var t=n('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');n(document.body).append(t);var e=t[0].offsetWidth-t[0].clientWidth;return t.remove(),e},s.utils.imageLoader=function(t,e){function i(){e(t[0])}function n(){if(this.one("load",i),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?i():n.call(t)):void i()},s.template=function(t,e){var i=s.template;return i.cache[t]||(i.cache[t]=function(){var e=t,n=/^[\w\-]+$/.test(t)?i.get(t):(e="template(string)",t),s=1,o=("try { "+(i.variable?"var "+i.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+n.replace(/<%/g,"\x11").replace(/%>/g,"\x13").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++s+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(i.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+e+"' + ' line ' + this.line + ')'; } //@ sourceURL="+e+"\n").replace(/this\.ret \+= '';/g,""),a=new Function(o),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},l=function(t){return(""+t).replace(/[&<>\'\"]/g,function(t){return r[t]})};return function(t){return a.call(i.context={escapeHTML:l,line:1,ret:"",stash:t})}}()),e?i.cache[t](e):i.cache[t]},s.template.cache={},s.template.get=function(t){if(t){var e=document.getElementById(t);return e&&e.innerHTML||""}},s.DOMWatchers=[],s.DOMReady=!1,s.ready=function(t){s.DOMWatchers.push(t),s.DOMReady&&t(document)},s.DOMObserve=function(t,e,i){var o=s.support.mutationobserver;o&&(e=n.isPlainObject(e)?e:{childList:!0,subtree:!0},i="function"==typeof i&&i||function(){},n(t).each(function(){var t=this,a=n(t);if(!a.data("am.observer"))try{var r=new o(s.utils.debounce(function(e,n){i.call(t,e,n),a.trigger("changed.dom.amui")},50));r.observe(t,e),a.data("am.observer",r)}catch(l){}}))},n.fn.DOMObserve=function(t,e){return this.each(function(){s.DOMObserve(this,t,e)})},s.support.touch&&r.addClass("am-touch"),n(document).on("changed.dom.amui",function(t){var e=t.target;n.each(s.DOMWatchers,function(t,i){i(e)})}),n(function(){var t=n(document.body);s.DOMReady=!0,n.each(s.DOMWatchers,function(t,e){e(document)}),s.DOMObserve("[data-am-observe]"),r.removeClass("no-js").addClass("js"),s.support.animation&&r.addClass("cssanimations"),window.navigator.standalone&&r.addClass("am-standalone"),n(".am-topbar-fixed-top").length&&t.addClass("am-with-topbar-fixed-top"),n(".am-topbar-fixed-bottom").length&&t.addClass("am-with-topbar-fixed-bottom");var e=n(".am-layout");e.find('[class*="md-block-grid"]').alterClass("md-block-grid-*"),e.find('[class*="lg-block-grid"]').alterClass("lg-block-grid"),n("[data-am-widget]").each(function(){var t=n(this);0===t.parents(".am-layout").length&&t.addClass("am-no-layout")})}),t.exports=s},function(t,e,i){"use strict";function n(t,e,i){return setTimeout(l(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(o(t,i[e],i),!0)}function o(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function a(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,n,i),t.apply(this,arguments)}}function r(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&ut(n,i)}function l(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ft?t.apply(e?e[0]||void 0:void 0,e):t}function u(t,e){return void 0===t?e:t}function h(t,e,i){o(f(e),function(e){t.addEventListener(e,i,!1)})}function d(t,e,i){o(f(e),function(e){t.removeEventListener(e,i,!1)})}function p(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function f(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function g(t){return Array.prototype.slice.call(t,0)}function y(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];v(s,a)<0&&n.push(t[o]),s[o]=a,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function w(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),o=0;o<pt.length;){if(i=pt[o],n=i?i+s:e,n in t)return n;o++}}function b(){return Tt++}function T(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}function x(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t){var e,i=t.options.inputClass;return new(e=i?i:Et?_:St?q:Ct?H:L)(t,E)}function E(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&Mt&&n-s===0,a=e&(Nt|It)&&n-s===0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,S(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function S(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=F(e)),s>1&&!i.firstMultiple?i.firstMultiple=F(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,r=a?a.center:o.center,l=e.center=A(n);e.timeStamp=yt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(r,l),e.distance=P(r,l),k(i,e),e.offsetDirection=M(e.deltaX,e.deltaY);var c=$(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=gt(c.x)>gt(c.y)?c.x:c.y,e.scale=a?O(a.pointers,n):1,e.rotation=a?I(a.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,D(i,e);var u=t.element;p(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function k(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Mt&&o.eventType!==Nt||(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function D(t,e){var i,n,s,o,a=t.lastInterval||e,r=e.timeStamp-a.timeStamp;if(e.eventType!=It&&(r>$t||void 0===a.velocity)){var l=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,u=$(r,l,c);n=u.x,s=u.y,i=gt(u.x)>gt(u.y)?u.x:u.y,o=M(l,c),t.lastInterval=e}else i=a.velocity,n=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=o}function F(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:vt(t.pointers[i].clientX),clientY:vt(t.pointers[i].clientY)},i++;return{timeStamp:yt(),pointers:e,center:A(e),deltaX:t.deltaX,deltaY:t.deltaY}}function A(t){var e=t.length;if(1===e)return{x:vt(t[0].clientX),y:vt(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:vt(i/e),y:vt(n/e)}}function $(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?Ot:gt(t)>=gt(e)?t<0?Lt:_t:e<0?zt:Rt}function P(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function N(t,e,i){i||(i=Bt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function I(t,e){return N(e[1],e[0],Ut)+N(t[1],t[0],Ut)}function O(t,e){return P(e[0],e[1],Ut)/P(t[0],t[1],Ut)}function L(){this.evEl=Xt,this.evWin=Yt,this.pressed=!1,x.apply(this,arguments)}function _(){this.evEl=Gt,this.evWin=Kt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Qt,this.evWin=te,this.started=!1,x.apply(this,arguments)}function R(t,e){var i=g(t.touches),n=g(t.changedTouches);return e&(Nt|It)&&(i=y(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=ie,this.targetIds={},x.apply(this,arguments)}function W(t,e){var i=g(t.touches),n=this.targetIds;if(e&(Mt|Pt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,a=g(t.changedTouches),r=[],l=this.target;if(o=i.filter(function(t){return p(t.target,l)}),e===Mt)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<a.length;)n[a[s].identifier]&&r.push(a[s]),e&(Nt|It)&&delete n[a[s].identifier],s++;return r.length?[y(o.concat(r),"identifier",!0),r]:void 0}function H(){x.apply(this,arguments);var t=l(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new L(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function B(t,e){t&Mt?(this.primaryTouch=e.changedPointers[0].identifier,U.call(this,e)):t&(Nt|It)&&U.call(this,e)}function U(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,s=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(s,ne)}}function V(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(e-s.x),a=Math.abs(i-s.y);if(o<=se&&a<=se)return!0}return!1}function X(t,e){this.manager=t,this.set(e)}function Y(t){if(m(t,ue))return ue;var e=m(t,he),i=m(t,de);return e&&i?ue:e||i?e?he:de:m(t,ce)?ce:le}function j(){if(!ae)return!1;var t={},e=window.CSS&&window.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||window.CSS.supports("touch-action",i)}),t}function Z(t){this.options=ut({},this.defaults,t||{}),this.id=b(),this.manager=null,this.options.enable=u(this.options.enable,!0),this.state=me,this.simultaneous={},this.requireFail=[]}function G(t){return t&we?"cancel":t&ge?"end":t&ve?"move":t&fe?"start":""}function K(t){return t==Rt?"down":t==zt?"up":t==Lt?"left":t==_t?"right":""}function J(t,e){var i=e.manager;return i?i.get(t):t}function Q(){Z.apply(this,arguments)}function tt(){Q.apply(this,arguments),this.pX=null,this.pY=null}function et(){Q.apply(this,arguments)}function it(){Z.apply(this,arguments),this._timer=null,this._input=null}function nt(){Q.apply(this,arguments)}function st(){Q.apply(this,arguments)}function ot(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=u(e.recognizers,at.defaults.preset),new rt(t,e)}function rt(t,e){this.options=ut({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=C(this),this.touchAction=new X(this,this.options.touchAction),lt(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function lt(t,e){var i=t.element;if(i.style){var n;o(t.options.cssProps,function(s,o){n=w(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ct(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ut,ht=i(1),dt=i(2),pt=["","webkit","Moz","MS","ms","o"],mt=document.createElement("div"),ft="function",vt=Math.round,gt=Math.abs,yt=Date.now;ut="function"!=typeof Object.assign?function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var wt=a(function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&void 0===t[n[s]])&&(t[n[s]]=e[n[s]]),s++;return t},"extend","Use `assign`."),bt=a(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),Tt=1,xt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in window,Et=void 0!==w(window,"PointerEvent"),St=Ct&&xt.test(navigator.userAgent),kt="touch",Dt="pen",Ft="mouse",At="kinect",$t=25,Mt=1,Pt=2,Nt=4,It=8,Ot=1,Lt=2,_t=4,zt=8,Rt=16,qt=Lt|_t,Wt=zt|Rt,Ht=qt|Wt,Bt=["x","y"],Ut=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(T(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Mt,mousemove:Pt,mouseup:Nt},Xt="mousedown",Yt="mousemove mouseup";r(L,x,{handler:function(t){var e=Vt[t.type];e&Mt&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=Nt),this.pressed&&(e&Nt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ft,srcEvent:t}))}});var jt={pointerdown:Mt,pointermove:Pt,pointerup:Nt,pointercancel:It,pointerout:It},Zt={2:kt,3:Dt,4:Ft,5:At},Gt="pointerdown",Kt="pointermove pointerup pointercancel";window.MSPointerEvent&&!window.PointerEvent&&(Gt="MSPointerDown",Kt="MSPointerMove MSPointerUp MSPointerCancel"),r(_,x,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=jt[n],o=Zt[t.pointerType]||t.pointerType,a=o==kt,r=v(e,t.pointerId,"pointerId");s&Mt&&(0===t.button||a)?r<0&&(e.push(t),r=e.length-1):s&(Nt|It)&&(i=!0),r<0||(e[r]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(r,1))}});var Jt={touchstart:Mt,touchmove:Pt,touchend:Nt,touchcancel:It},Qt="touchstart",te="touchstart touchmove touchend touchcancel";r(z,x,{handler:function(t){var e=Jt[t.type];if(e===Mt&&(this.started=!0),this.started){var i=R.call(this,t,e);e&(Nt|It)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:kt,srcEvent:t})}}});var ee={touchstart:Mt,touchmove:Pt,touchend:Nt,touchcancel:It},ie="touchstart touchmove touchend touchcancel";r(q,x,{handler:function(t){var e=ee[t.type],i=W.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:kt,srcEvent:t})}});var ne=2500,se=25;r(H,x,{handler:function(t,e,i){var n=i.pointerType==kt,s=i.pointerType==Ft;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)B.call(this,e,i);else if(s&&V.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var oe=w(mt.style,"touchAction"),ae=void 0!==oe,re="compute",le="auto",ce="manipulation",ue="none",he="pan-x",de="pan-y",pe=j();X.prototype={set:function(t){t==re&&(t=this.compute()),ae&&this.manager.element.style&&pe[t]&&(this.manager.element.style[oe]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Y(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=m(n,ue)&&!pe[ue],o=m(n,de)&&!pe[de],a=m(n,he)&&!pe[he];if(s){var r=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(r&&l&&c)return}return a&&o?void 0:s||o&&i&qt||a&&i&Wt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var me=1,fe=2,ve=4,ge=8,ye=ge,we=16,be=32;Z.prototype={defaults:{},set:function(t){return ut(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=J(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=J(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=J(t,this),v(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=J(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<ge&&e(i.options.event+G(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=ge&&e(i.options.event+G(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|me)))return!1;t++}return!0},recognize:function(t){var e=ut({},t);return c(this.options.enable,[this,e])?(this.state&(ye|we|be)&&(this.state=me),this.state=this.process(e),void(this.state&(fe|ve|ge|we)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},r(Q,Z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(fe|ve),s=this.attrTest(t);return n&&(i&It||!s)?e|we:n||s?i&Nt?e|ge:e&fe?e|ve:fe:be}}),r(tt,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&qt&&e.push(de),t&Wt&&e.push(he),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,a=t.deltaY;return s&e.direction||(e.direction&qt?(s=0===o?Ot:o<0?Lt:_t,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===a?Ot:a<0?zt:Rt,i=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=K(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),r(et,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),r(it,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[le]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(Nt|It)&&!o)this.reset();else if(t.eventType&Mt)this.reset(),this._timer=n(function(){this.state=ye,this.tryEmit()},e.time,this);else if(t.eventType&Nt)return ye;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ye&&(t&&t.eventType&Nt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),r(nt,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ue]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),r(st,Q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:qt|Wt,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(qt|Wt)?e=t.overallVelocity:i&qt?e=t.overallVelocityX:i&Wt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&Nt},emit:function(t){var e=K(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),r(ot,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Mt&&0===this.count)return this.failTimeout();if(s&&o&&i){if(t.eventType!=Nt)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||P(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&a?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=n(function(){this.state=ye,this.tryEmit()},e.interval,this),fe):ye}return be},failTimeout:function(){return this._timer=n(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ye&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.7",at.defaults={domEvents:!1,touchAction:re,enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[et,{enable:!1},["rotate"]],[st,{direction:qt}],[tt,{direction:qt},["swipe"]],[ot],[ot,{event:"doubletap",taps:2},["tap"]],[it]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Te=1,xe=2;rt.prototype={set:function(t){return ut(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?xe:Te},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&ye)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],e.stopped===xe||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(fe|ve|ge)&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof Z)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=v(e,t);i!==-1&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return o(f(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return o(f(t),function(t){e?i[t]&&i[t].splice(v(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&ct(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&lt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ut(at,{INPUT_START:Mt,INPUT_MOVE:Pt,INPUT_END:Nt,INPUT_CANCEL:It,STATE_POSSIBLE:me,STATE_BEGAN:fe,STATE_CHANGED:ve,STATE_ENDED:ge,STATE_RECOGNIZED:ye,STATE_CANCELLED:we,STATE_FAILED:be,DIRECTION_NONE:Ot,DIRECTION_LEFT:Lt,DIRECTION_RIGHT:_t,DIRECTION_UP:zt,DIRECTION_DOWN:Rt,DIRECTION_HORIZONTAL:qt,DIRECTION_VERTICAL:Wt,DIRECTION_ALL:Ht,Manager:rt,Input:x,TouchAction:X,TouchInput:q,MouseInput:L,PointerEventInput:_,TouchMouseInput:H,SingleTouchInput:z,Recognizer:Z,AttrRecognizer:Q,Tap:ot,Pan:tt,Swipe:st,Pinch:et,Rotate:nt,Press:it,on:h,off:d,each:o,merge:bt,extend:wt,assign:ut,inherit:r,bindFn:l,prefixed:w}),function(t,e){function i(i,n){var s=t(i);s.data("hammer")||s.data("hammer",new e(s[0],n))}t.fn.hammer=function(t){return this.each(function(){i(this,t)})},e.Manager.prototype.emit=function(e){return function(i,n){e.call(this,i,n),t(this.element).trigger({type:i,gesture:n})}}(e.Manager.prototype.emit)}(ht,at),t.exports=dt.Hammer=at},function(t,e,i){"use strict";function n(){window.removeEventListener("load",n,!1),c=!0}function s(t){return u=u||new s.Class(t)}function o(t,e){for(var i in e)t[i]=e[i];return t}function a(){"#ath"==document.location.hash&&history.replaceState("",window.document.title,document.location.href.split("#")[0]),h.test(document.location.href)&&history.replaceState("",window.document.title,document.location.href.replace(h,"$1")),d.test(document.location.search)&&history.replaceState("",window.document.title,document.location.href.replace(d,"$2"))}var r=i(2),l="addEventListener"in window,c=!1;"complete"===document.readyState?c=!0:l&&window.addEventListener("load",n,!1);var u,h=/\/ath(\/)?$/,d=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;s.intl={en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_cn:{ios:"\u5982\u8981\u628a\u5e94\u7528\u7a0b\u5f0f\u52a0\u81f3\u4e3b\u5c4f\u5e55,\u8bf7\u70b9\u51fb%icon, \u7136\u540e<strong>\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_tw:{ios:"\u5982\u8981\u628a\u61c9\u7528\u7a0b\u5f0f\u52a0\u81f3\u4e3b\u5c4f\u5e55, \u8acb\u9ede\u64ca%icon, \u7136\u5f8c<strong>\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'}};for(var p in s.intl)s.intl[p.substr(0,2)]=s.intl[p];s.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,logging:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var m=window.navigator.userAgent,f=window.navigator;o(s,{hasToken:"#ath"==document.location.hash||h.test(document.location.href)||d.test(document.location.search),isRetina:window.devicePixelRatio&&window.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(m),
isMobileChrome:m.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(m)&&m.indexOf("Version")==-1,isMobileIE:m.indexOf("Windows Phone")>-1,language:f.language&&f.language.toLowerCase().replace("-","_")||""}),s.language=s.language&&s.language in s.intl?s.language:"en_us",s.isMobileSafari=s.isIDevice&&m.indexOf("Safari")>-1&&m.indexOf("CriOS")<0,s.OS=s.isIDevice?"ios":s.isMobileChrome?"android":s.isMobileIE?"windows":"unsupported",s.OSVersion=m.match(/(OS|Android) (\d+[_\.]\d+)/),s.OSVersion=s.OSVersion&&s.OSVersion[2]?+s.OSVersion[2].replace("_","."):0,s.isStandalone="standalone"in window.navigator&&window.navigator.standalone,s.isTablet=s.isMobileSafari&&m.indexOf("iPad")>-1||s.isMobileChrome&&m.indexOf("Mobile")<0,s.isCompatible=s.isMobileSafari&&s.OSVersion>=6||s.isMobileChrome;var v={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};s.removeSession=function(t){try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.removeItem(t||s.defaults.appID)}catch(e){}},s.doLog=function(t){this.options.logging&&console.log(t)},s.Class=function(t){if(this.doLog=s.doLog,this.options=o({},s.defaults),o(this.options,t),this.options.debug&&(this.options.logging=!0),l){if(this.options.mandatory=this.options.mandatory&&("standalone"in window.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(s.isCompatible=!0,s.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==s.OS?"android":s.OS,s.OSVersion="ios"==s.OS?"8":"4"),this.container=document.documentElement,this.session=this.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!s.hasToken||s.isCompatible&&this.session||(s.hasToken=!1,a()),!s.isCompatible)return void this.doLog("Add to homescreen: not displaying callout because device not supported");this.session=this.session||v;try{if(!localStorage)throw new Error("localStorage is not defined");localStorage.setItem(this.options.appID,JSON.stringify(this.session)),s.hasLocalStorage=!0}catch(e){s.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var i=!this.options.validLocation.length,n=this.options.validLocation.length;n--;)if(this.options.validLocation[n].test(document.location.href)){i=!0;break}if(this.getItem("addToHome")&&this.optOut(),this.session.optedout)return void this.doLog("Add to homescreen: not displaying callout because user opted out");if(this.session.added)return void this.doLog("Add to homescreen: not displaying callout because already added to the homescreen");if(!i)return void this.doLog("Add to homescreen: not displaying callout because not a valid location");if(s.isStandalone)return this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&s.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because in standalone mode");if(this.options.detectHomescreen){if(s.hasToken)return a(),this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&s.hasLocalStorage&&this.options.onAdd.call(this)),void this.doLog("Add to homescreen: not displaying callout because URL has token, so we are likely coming from homescreen");"hash"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",window.document.title,document.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",window.document.title,document.location.href+(document.location.search?"&":"?")+"ath=")}if(!this.session.returningVisitor&&(this.session.returningVisitor=!0,this.updateSession(),this.options.skipFirstVisit))return void this.doLog("Add to homescreen: not displaying callout because skipping first visit");if(!this.options.privateModeOverride&&!s.hasLocalStorage)return void this.doLog("Add to homescreen: not displaying callout because browser is in private mode");this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&(this.doLog("Add to homescreen: autostart displaying callout"),this.show())}},s.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(t){if(this.options.autostart&&!c)return void setTimeout(this.show.bind(this),50);if(this.shown)return void this.doLog("Add to homescreen: not displaying callout because already shown on screen");var e=Date.now(),i=this.session.lastDisplayTime;if(t!==!0){if(!this.ready)return void this.doLog("Add to homescreen: not displaying callout because not ready");if(e-i<6e4*this.options.displayPace)return void this.doLog("Add to homescreen: not displaying callout because displayed recently");if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return void this.doLog("Add to homescreen: not displaying callout because displayed too many times already")}this.shown=!0,this.session.lastDisplayTime=e,this.session.displayCount++,this.updateSession(),this.applicationIcon||("ios"==s.OS?this.applicationIcon=document.querySelector('head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]'):this.applicationIcon=document.querySelector('head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var n="";"object"==typeof this.options.message&&s.language in this.options.message?n=this.options.message[s.language][s.OS]:"object"==typeof this.options.message&&s.OS in this.options.message?n=this.options.message[s.OS]:this.options.message in s.intl?n=s.intl[this.options.message][s.OS]:""!==this.options.message?n=this.options.message:s.OS in s.intl[s.language]&&(n=s.intl[s.language][s.OS]),n="<p>"+n.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=document.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=document.createElement("div"),this.element.className="ath-container ath-"+s.OS+" ath-"+s.OS+(s.OSVersion+"").substr(0,1)+" ath-"+(s.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+window.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+window.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=document.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=n,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img?this.doLog("Add to homescreen: not displaying callout because waiting for img to load"):this._delayedShow()},_delayedShow:function(t){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var t=this;this.updateViewport(),window.addEventListener("resize",this,!1),window.addEventListener("scroll",this,!1),window.addEventListener("orientationchange",this,!1),this.options.modal&&document.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){t.element.addEventListener("click",t,!0)},1e3),setTimeout(function(){t.element.style.webkitTransitionDuration="1.2s",t.element.style.transitionDuration="1.2s",t.element.style.webkitTransform="translate3d(0,0,0)",t.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),window.removeEventListener("resize",this,!1),window.removeEventListener("scroll",this,!1),window.removeEventListener("orientationchange",this,!1),document.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=window.innerWidth+"px",this.viewport.style.height=window.innerHeight+"px",this.viewport.style.left=window.scrollX+"px",this.viewport.style.top=window.scrollY+"px";var t=document.documentElement.clientWidth;this.orientation=t>document.documentElement.clientHeight?"landscape":"portrait";var e="ios"==s.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>t?1:e/window.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){s.hasLocalStorage!==!1&&localStorage&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=v,this.updateSession()},getItem:function(t){try{if(!localStorage)throw new Error("localStorage is not defined");return localStorage.getItem(t)}catch(e){s.hasLocalStorage=!1}},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},s.VERSION="3.2.2",t.exports=r.addToHomescreen=s},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){var i=this;this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t),this.$element.addClass("am-fade am-in").on("click.alert.amui",".am-close",function(){i.close()})};o.DEFAULTS={removeElement:!0},o.prototype.close=function(){function t(){e.trigger("closed.alert.amui").remove()}var e=this.$element;e.trigger("close.alert.amui").removeClass("am-in"),s.support.transition&&e.hasClass("am-fade")?e.one(s.support.transition.end,t).emulateTransitionEnd(200):t()},s.plugin("alert",o),n(document).on("click.alert.amui.data-api","[data-am-alert]",function(t){var e=n(t.target);e.is(".am-close")&&n(this).alert("close")}),t.exports=o},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){this.$element=n(t),this.options=n.extend({},o.DEFAULTS,e),this.isLoading=!1,this.hasSpinner=!1};o.DEFAULTS={loadingText:"loading...",disabledClassName:"am-disabled",activeClassName:"am-active",spinner:void 0},o.prototype.setState=function(t,e){var i=this.$element,o="disabled",a=i.data(),r=this.options,l=i.is("input")?"val":"html",c="am-btn-"+t+" "+r.disabledClassName;t+="Text",r.resetText||(r.resetText=i[l]()),s.support.animation&&r.spinner&&"html"===l&&!this.hasSpinner&&(r.loadingText='<span class="am-icon-'+r.spinner+' am-icon-spin"></span>'+r.loadingText,this.hasSpinner=!0),e=e||(void 0===a[t]?r[t]:a[t]),i[l](e),setTimeout(n.proxy(function(){"loadingText"===t?(i.addClass(c).attr(o,o),this.isLoading=!0):this.isLoading&&(i.removeClass(c).removeAttr(o),this.isLoading=!1)},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element,i=this.$element.parent('[class*="am-btn-group"]'),n=o.DEFAULTS.activeClassName;if(i.length){var s=this.$element.find("input");"radio"==s.prop("type")&&(s.prop("checked")&&e.hasClass(n)?t=!1:i.find("."+n).removeClass(n)),t&&s.prop("checked",!e.hasClass(n)).trigger("change")}t&&(e.toggleClass(n),e.hasClass(n)||e.blur())},s.plugin("button",o,{dataOptions:"data-am-loading",methodCall:function(t,e){"toggle"===t[0]?e.toggle():"string"==typeof t[0]&&e.setState.apply(e,t)}}),n(document).on("click.button.amui.data-api","[data-am-button]",function(t){t.preventDefault();var e=n(t.target);e.hasClass("am-btn")||(e=e.closest(".am-btn")),e.button("toggle")}),s.ready(function(t){n("[data-am-loading]",t).button(),n("[data-am-button]",t).find("input:checked").each(function(){n(this).parent("label").addClass(o.DEFAULTS.activeClassName)})}),t.exports=s.button=o},function(t,e,i){"use strict";function n(t){return this.each(function(){var e=s(this),i=e.data("amui.collapse"),n=s.extend({},a.DEFAULTS,o.utils.options(e.attr("data-am-collapse")),"object"==typeof t&&t);!i&&n.toggle&&"open"===t&&(t=!t),i||e.data("amui.collapse",i=new a(this,n)),"string"==typeof t&&i[t]()})}var s=i(1),o=i(2),a=function(t,e){this.$element=s(t),this.options=s.extend({},a.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=s(this.options.parent)),this.options.toggle&&this.toggle()};a.DEFAULTS={toggle:!0},a.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("am-in")){var t=s.Event("open.collapse.amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .am-panel > .am-in");if(e&&e.length){var i=e.data("amui.collapse");if(i&&i.transitioning)return;n.call(e,"close"),i||e.data("amui.collapse",null)}this.$element.removeClass("am-collapse").addClass("am-collapsing").height(0),this.transitioning=1;var a=function(){this.$element.removeClass("am-collapsing").addClass("am-collapse am-in").height("").trigger("opened.collapse.amui"),this.transitioning=0};if(!o.support.transition)return a.call(this);var r=this.$element[0].scrollHeight;this.$element.one(o.support.transition.end,s.proxy(a,this)).emulateTransitionEnd(300).css({height:r})}}},a.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("am-in")){var t=s.Event("close.collapse.amui");if(this.$element.trigger(t),!t.isDefaultPrevented()){this.$element.height(this.$element.height()).redraw(),this.$element.addClass("am-collapsing").removeClass("am-collapse am-in"),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.trigger("closed.collapse.amui").removeClass("am-collapsing").addClass("am-collapse")};return o.support.transition?void this.$element.height(0).one(o.support.transition.end,s.proxy(e,this)).emulateTransitionEnd(300):e.call(this)}}},a.prototype.toggle=function(){this[this.$element.hasClass("am-in")?"close":"open"]()},s.fn.collapse=n,s(document).on("click.collapse.amui.data-api","[data-am-collapse]",function(t){var e,i=s(this),a=o.utils.options(i.attr("data-am-collapse")),r=a.target||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),l=s(r),c=l.data("amui.collapse"),u=c?"toggle":a,h=a.parent,d=h&&s(h);c&&c.transitioning||(d&&d.find("[data-am-collapse]").not(i).addClass("am-collapsed"),i[l.hasClass("am-in")?"addClass":"removeClass"]("am-collapsed")),n.call(l,u)}),t.exports=o.collapse=a},function(t,e,i){"use strict";var n=i(1),s=i(2),o=n(document),a=function(t,e){if(this.$element=n(t),this.options=n.extend({},a.DEFAULTS,e),this.format=r.parseFormat(this.options.format),this.$element.data("date",this.options.date),this.language=this.getLocale(this.options.locale),this.theme=this.options.theme,this.$picker=n(r.template).appendTo("body").on({click:n.proxy(this.click,this)}),this.isInput=this.$element.is("input"),this.component=!!this.$element.is(".am-datepicker-date")&&this.$element.find(".am-datepicker-add-on"),this.isInput?this.$element.on({"click.datepicker.amui":n.proxy(this.open,this),"keyup.datepicker.amui":n.proxy(this.update,this)}):this.component?this.component.on("click.datepicker.amui",n.proxy(this.open,this)):this.$element.on("click.datepicker.amui",n.proxy(this.open,this)),this.minViewMode=this.options.minViewMode,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=this.options.viewMode,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=(this.options.weekStart||a.locales[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.onRender=this.options.onRender,this.setTheme(),this.fillDow(),this.fillMonths(),this.update(),this.showMode()};a.DEFAULTS={locale:"zh_CN",format:"yyyy-mm-dd",weekStart:void 0,viewMode:0,minViewMode:0,date:"",theme:"",autoClose:1,onRender:function(t){return""}},a.prototype.open=function(t){this.$picker.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),n(window).on("resize.datepicker.amui",n.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault());var e=this;o.on("mousedown.datapicker.amui touchstart.datepicker.amui",function(t){0===n(t.target).closest(".am-datepicker").length&&e.close()}),this.$element.trigger({type:"open.datepicker.amui",date:this.date})},a.prototype.close=function(){this.$picker.hide(),n(window).off("resize.datepicker.amui",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||n(document).off("mousedown.datapicker.amui touchstart.datepicker.amui",this.close),this.$element.trigger({type:"close.datepicker.amui",date:this.date})},a.prototype.set=function(){var t,e=r.formatDate(this.date,this.format);this.isInput?t=this.$element.attr("value",e):(this.component&&(t=this.$element.find("input").attr("value",e)),this.$element.data("date",e)),t&&t.trigger("change")},a.prototype.setValue=function(t){"string"==typeof t?this.date=r.parseDate(t,this.format):this.date=new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},a.prototype.place=function(){var t=this.component?this.component.offset():this.$element.offset(),e=this.component?this.component.width():this.$element.width(),i=t.top+this.height,n=t.left,s=o.width()-t.left-e,a=this.isOutView();if(this.$picker.removeClass("am-datepicker-right"),this.$picker.removeClass("am-datepicker-up"),o.width()>640){if(a.outRight)return this.$picker.addClass("am-datepicker-right"),void this.$picker.css({top:i,left:"auto",right:s});a.outBottom&&(this.$picker.addClass("am-datepicker-up"),i=t.top-this.$picker.outerHeight(!0))}else n=0;this.$picker.css({top:i,left:n})},a.prototype.update=function(t){this.date=r.parseDate("string"==typeof t?t:this.isInput?this.$element.prop("value"):this.$element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},a.prototype.fillDow=function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="am-datepicker-dow">'+a.locales[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.$picker.find(".am-datepicker-days thead").append(e)},a.prototype.fillMonths=function(){for(var t="",e=0;e<12;)t+='<span class="am-datepicker-month">'+a.locales[this.language].monthsShort[e++]+"</span>";this.$picker.find(".am-datepicker-months td").append(t)},a.prototype.fill=function(){var t=new Date(this.viewDate),e=t.getFullYear(),i=t.getMonth(),n=this.date.valueOf(),s=new Date(e,i-1,28,0,0,0,0),o=r.getDaysInMonth(s.getFullYear(),s.getMonth()),l=this.$picker.find(".am-datepicker-days .am-datepicker-select");"zh_CN"===this.language?l.text(e+a.locales[this.language].year[0]+" "+a.locales[this.language].months[i]):l.text(a.locales[this.language].months[i]+" "+e),s.setDate(o),s.setDate(o-(s.getDay()-this.weekStart+7)%7);var c=new Date(s);c.setDate(c.getDate()+42),c=c.valueOf();for(var u,h,d,p=[];s.valueOf()<c;)s.getDay()===this.weekStart&&p.push("<tr>"),u=this.onRender(s,0),h=s.getFullYear(),d=s.getMonth(),d<i&&h===e||h<e?u+=" am-datepicker-old":(d>i&&h===e||h>e)&&(u+=" am-datepicker-new"),s.valueOf()===n&&(u+=" am-active"),p.push('<td class="am-datepicker-day '+u+'">'+s.getDate()+"</td>"),s.getDay()===this.weekEnd&&p.push("</tr>"),s.setDate(s.getDate()+1);this.$picker.find(".am-datepicker-days tbody").empty().append(p.join(""));var m=this.date.getFullYear(),f=this.$picker.find(".am-datepicker-months").find(".am-datepicker-select").text(e);f=f.end().find("span").removeClass("am-active").removeClass("am-disabled");for(var v=0;v<12;)this.onRender(t.setFullYear(e,v),1)&&f.eq(v).addClass("am-disabled"),v++;m===e&&f.eq(this.date.getMonth()).removeClass("am-disabled").addClass("am-active"),p="",e=10*parseInt(e/10,10);var g,y=this.$picker.find(".am-datepicker-years").find(".am-datepicker-select").text(e+"-"+(e+9)).end().find("td"),w=new Date(this.viewDate);e-=1;for(var b=-1;b<11;b++)g=this.onRender(w.setFullYear(e),2),p+='<span class="'+g+(b===-1||10===b?" am-datepicker-old":"")+(m===e?" am-active":"")+'">'+e+"</span>",e+=1;y.html(p)},a.prototype.click=function(t){t.stopPropagation(),t.preventDefault();var e,i,s=this.$picker.find(".am-datepicker-days").find(".am-active"),o=this.$picker.find(".am-datepicker-months"),a=o.find(".am-active").index(),l=n(t.target).closest("span, td, th");if(1===l.length)switch(l[0].nodeName.toLowerCase()){case"th":switch(l[0].className){case"am-datepicker-switch":this.showMode(1);break;case"am-datepicker-prev":case"am-datepicker-next":this.viewDate["set"+r.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+r.modes[this.viewMode].navFnc].call(this.viewDate)+r.modes[this.viewMode].navStep*("am-datepicker-prev"===l[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(l.is(".am-disabled"))return;l.is(".am-datepicker-month")?(e=l.parent().find("span").index(l),l.is(".am-active")?this.viewDate.setMonth(e,s.text()):this.viewDate.setMonth(e)):(i=parseInt(l.text(),10)||0,l.is(".am-active")?this.viewDate.setFullYear(i,a,s.text()):this.viewDate.setFullYear(i)),0!==this.viewMode&&(this.date=new Date(this.viewDate),this.$element.trigger({type:"changeDate.datepicker.amui",date:this.date,viewMode:r.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(l.is(".am-datepicker-day")&&!l.is(".am-disabled")){var c=parseInt(l.text(),10)||1;e=this.viewDate.getMonth(),l.is(".am-datepicker-old")?e-=1:l.is(".am-datepicker-new")&&(e+=1),i=this.viewDate.getFullYear(),this.date=new Date(i,e,c,0,0,0,0),this.viewDate=new Date(i,e,Math.min(28,c),0,0,0,0),this.fill(),this.set(),this.$element.trigger({type:"changeDate.datepicker.amui",date:this.date,viewMode:r.modes[this.viewMode].clsName}),this.options.autoClose&&this.close()}}},a.prototype.mousedown=function(t){t.stopPropagation(),t.preventDefault()},a.prototype.showMode=function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.$picker.find(">div").hide().filter(".am-datepicker-"+r.modes[this.viewMode].clsName).show()},a.prototype.isOutView=function(){var t=this.component?this.component.offset():this.$element.offset(),e={outRight:!1,outBottom:!1},i=this.$picker,n=t.left+i.outerWidth(!0),s=t.top+i.outerHeight(!0)+this.$element.innerHeight();return n>o.width()&&(e.outRight=!0),s>o.height()&&(e.outBottom=!0),e},a.prototype.getLocale=function(t){return t||(t=navigator.language&&navigator.language.split("-"),t[1]=t[1].toUpperCase(),t=t.join("_")),a.locales[t]||(t="en_US"),t},a.prototype.setTheme=function(){this.theme&&this.$picker.addClass("am-datepicker-"+this.theme)},a.locales={en_US:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStart:0},zh_CN:{days:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],daysShort:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],daysMin:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthsShort:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],weekStart:1,year:["\u5e74"]}};var r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,r.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,n=t.split(e.separator);if(t=new Date,t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),n.length===e.parts.length){for(var s=t.getFullYear(),o=t.getDate(),a=t.getMonth(),r=0,l=e.parts.length;r<l;r++)switch(i=parseInt(n[r],10)||1,e.parts[r]){case"dd":case"d":o=i,t.setDate(i);break;case"mm":case"m":a=i-1,t.setMonth(i-1);break;case"yy":s=2e3+i,t.setFullYear(2e3+i);break;case"yyyy":s=i,t.setFullYear(i)}t=new Date(s,a,o,0,0,0)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()},n=[];i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;for(var s=0,o=e.parts.length;s<o;s++)n.push(i[e.parts[s]]);return n.join(e.separator)},headTemplate:'<thead><tr class="am-datepicker-header"><th class="am-datepicker-prev"><i class="am-datepicker-prev-icon"></i></th><th colspan="5" class="am-datepicker-switch"><div class="am-datepicker-select"></div></th><th class="am-datepicker-next"><i class="am-datepicker-next-icon"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};r.template='<div class="am-datepicker am-datepicker-dropdown"><div class="am-datepicker-caret"></div><div class="am-datepicker-days"><table class="am-datepicker-table">'+r.headTemplate+'<tbody></tbody></table></div><div class="am-datepicker-months"><table class="am-datepicker-table">'+r.headTemplate+r.contTemplate+'</table></div><div class="am-datepicker-years"><table class="am-datepicker-table">'+r.headTemplate+r.contTemplate+"</table></div></div>",s.plugin("datepicker",a),s.ready(function(t){n("[data-am-datepicker]").datepicker()}),t.exports=s.datepicker=a},function(t,e,i){"use strict";var n=i(1),s=i(2),o=n(document),a=s.support.transition,r=function(){this.id=s.utils.generateGUID("am-dimmer"),this.$element=n(r.DEFAULTS.tpl,{id:this.id}),this.inited=!1,this.scrollbarWidth=0,this.$used=n([])};r.DEFAULTS={tpl:'<div class="am-dimmer" data-am-dimmer></div>'},r.prototype.init=function(){return this.inited||(n(document.body).append(this.$element),this.inited=!0,o.trigger("init.dimmer.amui"),this.$element.on("touchmove.dimmer.amui",function(t){t.preventDefault()})),this},r.prototype.open=function(t){this.inited||this.init();var e=this.$element;return t&&(this.$used=this.$used.add(n(t))),this.checkScrollbar().setScrollbar(),e.show().trigger("open.dimmer.amui"),a&&e.off(a.end),setTimeout(function(){e.addClass("am-active")},0),this},r.prototype.close=function(t,e){function i(){s.hide(),this.resetScrollbar()}if(this.$used=this.$used.not(n(t)),!e&&this.$used.length)return this;var s=this.$element;return s.removeClass("am-active").trigger("close.dimmer.amui"),i.call(this),this},r.prototype.checkScrollbar=function(){return this.scrollbarWidth=s.utils.measureScrollbar(),this},r.prototype.setScrollbar=function(){var t=n(document.body),e=parseInt(t.css("padding-right")||0,10);return this.scrollbarWidth&&t.css("padding-right",e+this.scrollbarWidth),t.addClass("am-dimmer-active"),this},r.prototype.resetScrollbar=function(){return n(document.body).css("padding-right","").removeClass("am-dimmer-active"),this},t.exports=s.dimmer=new r},function(t,e,i){"use strict";var n=i(1),s=i(2),o=s.support.animation,a=function(t,e){this.options=n.extend({},a.DEFAULTS,e),e=this.options,this.$element=n(t),this.$toggle=this.$element.find(e.selector.toggle),this.$dropdown=this.$element.find(e.selector.dropdown),this.$boundary=e.boundary===window?n(window):this.$element.closest(e.boundary),this.$justify=e.justify&&n(e.justify).length&&n(e.justify)||void 0,!this.$boundary.length&&(this.$boundary=n(window)),this.active=!!this.$element.hasClass("am-active"),this.animating=null,this.events()};a.DEFAULTS={animation:"am-animation-slide-top-fixed",boundary:window,justify:void 0,selector:{dropdown:".am-dropdown-content",toggle:".am-dropdown-toggle"},trigger:"click"},a.prototype.toggle=function(){this.clear(),this.animating||this[this.active?"close":"open"]()},a.prototype.open=function(t){var e=this.$toggle,i=this.$element,s=this.$dropdown;if(!e.is(".am-disabled, :disabled")&&!this.active){i.trigger("open.dropdown.amui").addClass("am-active"),e.trigger("focus"),this.checkDimensions(t);var a=n.proxy(function(){i.trigger("opened.dropdown.amui"),this.active=!0,this.animating=0},this);o?(this.animating=1,s.addClass(this.options.animation).on(o.end+".open.dropdown.amui",n.proxy(function(){a(),s.removeClass(this.options.animation)},this))):a()}},a.prototype.close=function(){if(this.active){var t="am-dropdown-animation",e=this.$element,i=this.$dropdown;e.trigger("close.dropdown.amui");var s=n.proxy(function(){e.removeClass("am-active").trigger("closed.dropdown.amui"),this.active=!1,this.animating=0,this.$toggle.blur()},this);o?(i.removeClass(this.options.animation),i.addClass(t),this.animating=1,i.one(o.end+".close.dropdown.amui",function(){i.removeClass(t),s()})):s()}},a.prototype.enable=function(){this.$toggle.prop("disabled",!1)},a.prototype.disable=function(){this.$toggle.prop("disabled",!0)},a.prototype.checkDimensions=function(t){if(this.$dropdown.length){var e=this.$dropdown;t&&t.offset&&e.offset(t.offset);var i=e.offset(),s=e.outerWidth(),o=this.$boundary.width(),a=n.isWindow(this.boundary)&&this.$boundary.offset()?this.$boundary.offset().left:0;this.$justify&&e.css({"min-width":this.$justify.css("width")}),s+(i.left-a)>o&&this.$element.addClass("am-dropdown-flip")}},a.prototype.clear=function(){n("[data-am-dropdown]").not(this.$element).each(function(){var t=n(this).data("amui.dropdown");t&&t.close()})},a.prototype.events=function(){var t="dropdown.amui",e=this.$toggle;e.on("click."+t,n.proxy(function(t){t.preventDefault(),this.toggle()},this)),n(document).on("keydown.dropdown.amui",n.proxy(function(t){27===t.keyCode&&this.active&&this.close()},this)).on("click.outer.dropdown.amui",n.proxy(function(t){!this.active||this.$element[0]!==t.target&&this.$element.find(t.target).length||this.close()},this))},s.plugin("dropdown",a),s.ready(function(t){n("[data-am-dropdown]",t).dropdown()}),n(document).on("click.dropdown.amui.data-api",".am-dropdown form",function(t){
t.stopPropagation()}),t.exports=s.dropdown=a},function(t,e,i){(function(e){var n=i(1),s=i(2),o=!0;n.flexslider=function(t,i){var s=n(t);s.vars=n.extend({},n.flexslider.defaults,i);var a,r=s.vars.namespace,l=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,c=("ontouchstart"in window||l||window.DocumentTouch&&document instanceof DocumentTouch)&&s.vars.touch,u="click touchend MSPointerUp keyup",h="",d="vertical"===s.vars.direction,p=s.vars.reverse,m=s.vars.itemWidth>0,f="fade"===s.vars.animation,v=""!==s.vars.asNavFor,g={};n.data(t,"flexslider",s),g={init:function(){s.animating=!1,s.currentSlide=parseInt(s.vars.startAt?s.vars.startAt:0,10),isNaN(s.currentSlide)&&(s.currentSlide=0),s.animatingTo=s.currentSlide,s.atEnd=0===s.currentSlide||s.currentSlide===s.last,s.containerSelector=s.vars.selector.substr(0,s.vars.selector.search(" ")),s.slides=n(s.vars.selector,s),s.container=n(s.containerSelector,s),s.count=s.slides.length,s.syncExists=n(s.vars.sync).length>0,"slide"===s.vars.animation&&(s.vars.animation="swing"),s.prop=d?"top":"marginLeft",s.args={},s.manualPause=!1,s.stopped=!1,s.started=!1,s.startTimeout=null,s.transitions=!s.vars.video&&!f&&s.vars.useCSS&&function(){var t=document.createElement("div"),e=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in e)if(void 0!==t.style[e[i]])return s.pfx=e[i].replace("Perspective","").toLowerCase(),s.prop="-"+s.pfx+"-transform",!0;return!1}(),s.ensureAnimationEnd="",""!==s.vars.controlsContainer&&(s.controlsContainer=n(s.vars.controlsContainer).length>0&&n(s.vars.controlsContainer)),""!==s.vars.manualControls&&(s.manualControls=n(s.vars.manualControls).length>0&&n(s.vars.manualControls)),""!==s.vars.customDirectionNav&&(s.customDirectionNav=2===n(s.vars.customDirectionNav).length&&n(s.vars.customDirectionNav)),s.vars.randomize&&(s.slides.sort(function(){return Math.round(Math.random())-.5}),s.container.empty().append(s.slides)),s.doMath(),s.setup("init"),s.vars.controlNav&&g.controlNav.setup(),s.vars.directionNav&&g.directionNav.setup(),s.vars.keyboard&&(1===n(s.containerSelector).length||s.vars.multipleKeyboard)&&n(document).bind("keyup",function(t){var e=t.keyCode;if(!s.animating&&(39===e||37===e)){var i=39===e?s.getTarget("next"):37===e&&s.getTarget("prev");s.flexAnimate(i,s.vars.pauseOnAction)}}),s.vars.mousewheel&&s.bind("mousewheel",function(t,e,i,n){t.preventDefault();var o=e<0?s.getTarget("next"):s.getTarget("prev");s.flexAnimate(o,s.vars.pauseOnAction)}),s.vars.pausePlay&&g.pausePlay.setup(),s.vars.slideshow&&s.vars.pauseInvisible&&g.pauseInvisible.init(),s.vars.slideshow&&(s.vars.pauseOnHover&&s.hover(function(){s.manualPlay||s.manualPause||s.pause()},function(){s.manualPause||s.manualPlay||s.stopped||s.play()}),s.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(s.vars.initDelay>0?s.startTimeout=setTimeout(s.play,s.vars.initDelay):s.play())),v&&g.asNav.setup(),c&&s.vars.touch&&g.touch(),(!f||f&&s.vars.smoothHeight)&&n(window).bind("resize orientationchange focus",g.resize),s.find("img").attr("draggable","false"),setTimeout(function(){s.vars.start(s)},200)},asNav:{setup:function(){s.asNav=!0,s.animatingTo=Math.floor(s.currentSlide/s.move),s.currentItem=s.currentSlide,s.slides.removeClass(r+"active-slide").eq(s.currentItem).addClass(r+"active-slide"),l?(t._slider=s,s.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(t){t.preventDefault(),t.currentTarget._gesture&&t.currentTarget._gesture.addPointer(t.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var e=n(this),i=e.index();n(s.vars.asNavFor).data("flexslider").animating||e.hasClass("active")||(s.direction=s.currentItem<i?"next":"prev",s.flexAnimate(i,s.vars.pauseOnAction,!1,!0,!0))})})):s.slides.on(u,function(t){t.preventDefault();var e=n(this),i=e.index(),o=e.offset().left-n(s).scrollLeft();o<=0&&e.hasClass(r+"active-slide")?s.flexAnimate(s.getTarget("prev"),!0):n(s.vars.asNavFor).data("flexslider").animating||e.hasClass(r+"active-slide")||(s.direction=s.currentItem<i?"next":"prev",s.flexAnimate(i,s.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){s.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,e,i="thumbnails"===s.vars.controlNav?"control-thumbs":"control-paging",o=1;if(s.controlNavScaffold=n('<ol class="'+r+"control-nav "+r+i+'"></ol>'),s.pagingCount>1)for(var a=0;a<s.pagingCount;a++){e=s.slides.eq(a),void 0===e.attr("data-thumb-alt")&&e.attr("data-thumb-alt","");var l=""!==e.attr("data-thumb-alt")?l=' alt="'+e.attr("data-thumb-alt")+'"':"";if(t="thumbnails"===s.vars.controlNav?'<img src="'+e.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+o+"</a>","thumbnails"===s.vars.controlNav&&!0===s.vars.thumbCaptions){var c=e.attr("data-thumbcaption");""!==c&&void 0!==c&&(t+='<span class="'+r+'caption">'+c+"</span>")}s.controlNavScaffold.append("<li>"+t+"<i></i></li>"),o++}s.controlsContainer?n(s.controlsContainer).append(s.controlNavScaffold):s.append(s.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),s.controlNavScaffold.delegate("a, img",u,function(t){if(t.preventDefault(),""===h||h===t.type){var e=n(this),i=s.controlNav.index(e);e.hasClass(r+"active")||(s.direction=i>s.currentSlide?"next":"prev",s.flexAnimate(i,s.vars.pauseOnAction))}""===h&&(h=t.type),g.setToClearWatchedEvent()})},setupManual:function(){s.controlNav=s.manualControls,g.controlNav.active(),s.controlNav.bind(u,function(t){if(t.preventDefault(),""===h||h===t.type){var e=n(this),i=s.controlNav.index(e);e.hasClass(r+"active")||(i>s.currentSlide?s.direction="next":s.direction="prev",s.flexAnimate(i,s.vars.pauseOnAction))}""===h&&(h=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===s.vars.controlNav?"img":"a";s.controlNav=n("."+r+"control-nav li "+t,s.controlsContainer?s.controlsContainer:s)},active:function(){s.controlNav.removeClass(r+"active").eq(s.animatingTo).addClass(r+"active")},update:function(t,e){s.pagingCount>1&&"add"===t?s.controlNavScaffold.append(n('<li><a href="#">'+s.count+"</a></li>")):1===s.pagingCount?s.controlNavScaffold.find("li").remove():s.controlNav.eq(e).closest("li").remove(),g.controlNav.set(),s.pagingCount>1&&s.pagingCount!==s.controlNav.length?s.update(e,t):g.controlNav.active()}},directionNav:{setup:function(){var t=n('<ul class="'+r+'direction-nav"><li class="'+r+'nav-prev"><a class="'+r+'prev" href="#">'+s.vars.prevText+'</a></li><li class="'+r+'nav-next"><a class="'+r+'next" href="#">'+s.vars.nextText+"</a></li></ul>");s.customDirectionNav?s.directionNav=s.customDirectionNav:s.controlsContainer?(n(s.controlsContainer).append(t),s.directionNav=n("."+r+"direction-nav li a",s.controlsContainer)):(s.append(t),s.directionNav=n("."+r+"direction-nav li a",s)),g.directionNav.update(),s.directionNav.bind(u,function(t){t.preventDefault();var e;""!==h&&h!==t.type||(e=n(this).hasClass(r+"next")?s.getTarget("next"):s.getTarget("prev"),s.flexAnimate(e,s.vars.pauseOnAction)),""===h&&(h=t.type),g.setToClearWatchedEvent()})},update:function(){var t=r+"disabled";1===s.pagingCount?s.directionNav.addClass(t).attr("tabindex","-1"):s.vars.animationLoop?s.directionNav.removeClass(t).removeAttr("tabindex"):0===s.animatingTo?s.directionNav.removeClass(t).filter("."+r+"prev").addClass(t).attr("tabindex","-1"):s.animatingTo===s.last?s.directionNav.removeClass(t).filter("."+r+"next").addClass(t).attr("tabindex","-1"):s.directionNav.removeClass(t).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=n('<div class="'+r+'pauseplay"><a href="#"></a></div>');s.controlsContainer?(s.controlsContainer.append(t),s.pausePlay=n("."+r+"pauseplay a",s.controlsContainer)):(s.append(t),s.pausePlay=n("."+r+"pauseplay a",s)),g.pausePlay.update(s.vars.slideshow?r+"pause":r+"play"),s.pausePlay.bind(u,function(t){t.preventDefault(),""!==h&&h!==t.type||(n(this).hasClass(r+"pause")?(s.manualPause=!0,s.manualPlay=!1,s.pause()):(s.manualPause=!1,s.manualPlay=!0,s.play())),""===h&&(h=t.type),g.setToClearWatchedEvent()})},update:function(t){"play"===t?s.pausePlay.removeClass(r+"pause").addClass(r+"play").html(s.vars.playText):s.pausePlay.removeClass(r+"play").addClass(r+"pause").html(s.vars.pauseText)}},touch:function(){function i(e){e.stopPropagation(),s.animating?e.preventDefault():(s.pause(),t._gesture.addPointer(e.pointerId),C=0,u=d?s.h:s.w,v=Number(new Date),c=m&&p&&s.animatingTo===s.last?0:m&&p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:m&&s.currentSlide===s.last?s.limit:m?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:p?(s.last-s.currentSlide+s.cloneOffset)*u:(s.currentSlide+s.cloneOffset)*u)}function n(i){i.stopPropagation();var n=i.target._slider;if(n){var s=-i.translationX,o=-i.translationY;return C+=d?o:s,h=C,b=d?Math.abs(C)<Math.abs(-s):Math.abs(C)<Math.abs(-o),i.detail===i.MSGESTURE_FLAG_INERTIA?void e(function(){t._gesture.stop()}):void((!b||Number(new Date)-v>500)&&(i.preventDefault(),!f&&n.transitions&&(n.vars.animationLoop||(h=C/(0===n.currentSlide&&C<0||n.currentSlide===n.last&&C>0?Math.abs(C)/u+2:1)),n.setProps(c+h,"setTouch"))))}}function o(t){t.stopPropagation();var e=t.target._slider;if(e){if(e.animatingTo===e.currentSlide&&!b&&null!==h){var i=p?-h:h,n=i>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(n)&&(Number(new Date)-v<550&&Math.abs(i)>50||Math.abs(i)>u/2)?e.flexAnimate(n,e.vars.pauseOnAction):f||e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}a=null,r=null,h=null,c=null,C=0}}var a,r,c,u,h,v,g,y,w,b=!1,T=0,x=0,C=0;l?(t.style.msTouchAction="none",t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",i,!1),t._slider=s,t.addEventListener("MSGestureChange",n,!1),t.addEventListener("MSGestureEnd",o,!1)):(g=function(e){s.animating?e.preventDefault():(window.navigator.msPointerEnabled||1===e.touches.length)&&(s.pause(),u=d?s.h:s.w,v=Number(new Date),T=e.touches[0].pageX,x=e.touches[0].pageY,c=m&&p&&s.animatingTo===s.last?0:m&&p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:m&&s.currentSlide===s.last?s.limit:m?(s.itemW+s.vars.itemMargin)*s.move*s.currentSlide:p?(s.last-s.currentSlide+s.cloneOffset)*u:(s.currentSlide+s.cloneOffset)*u,a=d?x:T,r=d?T:x,t.addEventListener("touchmove",y,!1),t.addEventListener("touchend",w,!1))},y=function(t){T=t.touches[0].pageX,x=t.touches[0].pageY,h=d?a-x:a-T,b=d?Math.abs(h)<Math.abs(T-r):Math.abs(h)<Math.abs(x-r);var e=500;(!b||Number(new Date)-v>e)&&(t.preventDefault(),!f&&s.transitions&&(s.vars.animationLoop||(h/=0===s.currentSlide&&h<0||s.currentSlide===s.last&&h>0?Math.abs(h)/u+2:1),s.setProps(c+h,"setTouch")))},w=function(e){if(t.removeEventListener("touchmove",y,!1),s.animatingTo===s.currentSlide&&!b&&null!==h){var i=p?-h:h,n=i>0?s.getTarget("next"):s.getTarget("prev");s.canAdvance(n)&&(Number(new Date)-v<550&&Math.abs(i)>50||Math.abs(i)>u/2)?s.flexAnimate(n,s.vars.pauseOnAction):f||s.flexAnimate(s.currentSlide,s.vars.pauseOnAction,!0)}t.removeEventListener("touchend",w,!1),a=null,r=null,h=null,c=null},t.addEventListener("touchstart",g,!1))},resize:function(){!s.animating&&s.is(":visible")&&(m||s.doMath(),f?g.smoothHeight():m?(s.slides.width(s.computedW),s.update(s.pagingCount),s.setProps()):d?(s.viewport.height(s.h),s.setProps(s.h,"setTotal")):(s.vars.smoothHeight&&g.smoothHeight(),s.newSlides.width(s.computedW),s.setProps(s.computedW,"setTotal")))},smoothHeight:function(t){if(!d||f){var e=f?s:s.viewport;t?e.animate({height:s.slides.eq(s.animatingTo).innerHeight()},t):e.innerHeight(s.slides.eq(s.animatingTo).innerHeight())}},sync:function(t){var e=n(s.vars.sync).data("flexslider"),i=s.animatingTo;switch(t){case"animate":e.flexAnimate(i,s.vars.pauseOnAction,!1,!0);break;case"play":e.playing||e.asNav||e.play();break;case"pause":e.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=n(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var t=g.pauseInvisible.getHiddenProp();if(t){var e=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(e,function(){g.pauseInvisible.isHidden()?s.startTimeout?clearTimeout(s.startTimeout):s.pause():s.started?s.play():s.vars.initDelay>0?setTimeout(s.play,s.vars.initDelay):s.play()})}},isHidden:function(){var t=g.pauseInvisible.getHiddenProp();return!!t&&document[t]},getHiddenProp:function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(a),a=setTimeout(function(){h=""},3e3)}},s.flexAnimate=function(t,e,i,o,a){if(s.vars.animationLoop||t===s.currentSlide||(s.direction=t>s.currentSlide?"next":"prev"),v&&1===s.pagingCount&&(s.direction=s.currentItem<t?"next":"prev"),!s.animating&&(s.canAdvance(t,a)||i)&&s.is(":visible")){if(v&&o){var l=n(s.vars.asNavFor).data("flexslider");if(s.atEnd=0===t||t===s.count-1,l.flexAnimate(t,!0,!1,!0,a),s.direction=s.currentItem<t?"next":"prev",l.direction=s.direction,Math.ceil((t+1)/s.visible)-1===s.currentSlide||0===t)return s.currentItem=t,s.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),!1;s.currentItem=t,s.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),t=Math.floor(t/s.visible)}if(s.animating=!0,s.animatingTo=t,e&&s.pause(),s.vars.before(s),s.syncExists&&!a&&g.sync("animate"),s.vars.controlNav&&g.controlNav.active(),m||s.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),s.atEnd=0===t||t===s.last,s.vars.directionNav&&g.directionNav.update(),t===s.last&&(s.vars.end(s),s.vars.animationLoop||s.pause()),f)c?(s.slides.eq(s.currentSlide).css({opacity:0,zIndex:1}),s.slides.eq(t).css({opacity:1,zIndex:2}),s.wrapup(w)):(s.slides.eq(s.currentSlide).css({zIndex:1}).animate({opacity:0},s.vars.animationSpeed,s.vars.easing),s.slides.eq(t).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing,s.wrapup));else{var u,h,y,w=d?s.slides.filter(":first").height():s.computedW;m?(u=s.vars.itemMargin,y=(s.itemW+u)*s.move*s.animatingTo,h=y>s.limit&&1!==s.visible?s.limit:y):h=0===s.currentSlide&&t===s.count-1&&s.vars.animationLoop&&"next"!==s.direction?p?(s.count+s.cloneOffset)*w:0:s.currentSlide===s.last&&0===t&&s.vars.animationLoop&&"prev"!==s.direction?p?0:(s.count+1)*w:p?(s.count-1-t+s.cloneOffset)*w:(t+s.cloneOffset)*w,s.setProps(h,"",s.vars.animationSpeed),s.transitions?(s.vars.animationLoop&&s.atEnd||(s.animating=!1,s.currentSlide=s.animatingTo),s.container.unbind("webkitTransitionEnd transitionend"),s.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(s.ensureAnimationEnd),s.wrapup(w)}),clearTimeout(s.ensureAnimationEnd),s.ensureAnimationEnd=setTimeout(function(){s.wrapup(w)},s.vars.animationSpeed+100)):s.container.animate(s.args,s.vars.animationSpeed,s.vars.easing,function(){s.wrapup(w)})}s.vars.smoothHeight&&g.smoothHeight(s.vars.animationSpeed)}},s.wrapup=function(t){f||m||(0===s.currentSlide&&s.animatingTo===s.last&&s.vars.animationLoop?s.setProps(t,"jumpEnd"):s.currentSlide===s.last&&0===s.animatingTo&&s.vars.animationLoop&&s.setProps(t,"jumpStart")),s.animating=!1,s.currentSlide=s.animatingTo,s.vars.after(s)},s.animateSlides=function(){!s.animating&&o&&s.flexAnimate(s.getTarget("next"))},s.pause=function(){clearInterval(s.animatedSlides),s.animatedSlides=null,s.playing=!1,s.vars.pausePlay&&g.pausePlay.update("play"),s.syncExists&&g.sync("pause")},s.play=function(){s.playing&&clearInterval(s.animatedSlides),s.animatedSlides=s.animatedSlides||setInterval(s.animateSlides,s.vars.slideshowSpeed),s.started=s.playing=!0,s.vars.pausePlay&&g.pausePlay.update("pause"),s.syncExists&&g.sync("play")},s.stop=function(){s.pause(),s.stopped=!0},s.canAdvance=function(t,e){var i=v?s.pagingCount-1:s.last;return!!e||(!(!v||s.currentItem!==s.count-1||0!==t||"prev"!==s.direction)||(!v||0!==s.currentItem||t!==s.pagingCount-1||"next"===s.direction)&&(!(t===s.currentSlide&&!v)&&(!!s.vars.animationLoop||(!s.atEnd||0!==s.currentSlide||t!==i||"next"===s.direction)&&(!s.atEnd||s.currentSlide!==i||0!==t||"next"!==s.direction))))},s.getTarget=function(t){return s.direction=t,"next"===t?s.currentSlide===s.last?0:s.currentSlide+1:0===s.currentSlide?s.last:s.currentSlide-1},s.setProps=function(t,e,i){var n=function(){var i=t?t:(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo,n=function(){if(m)return"setTouch"===e?t:p&&s.animatingTo===s.last?0:p?s.limit-(s.itemW+s.vars.itemMargin)*s.move*s.animatingTo:s.animatingTo===s.last?s.limit:i;switch(e){case"setTotal":return p?(s.count-1-s.currentSlide+s.cloneOffset)*t:(s.currentSlide+s.cloneOffset)*t;case"setTouch":return p?t:t;case"jumpEnd":return p?t:s.count*t;case"jumpStart":return p?s.count*t:t;default:return t}}();return n*-1+"px"}();s.transitions&&(n=d?"translate3d(0,"+n+",0)":"translate3d("+n+",0,0)",i=void 0!==i?i/1e3+"s":"0s",s.container.css("-"+s.pfx+"-transition-duration",i),s.container.css("transition-duration",i)),s.args[s.prop]=n,(s.transitions||void 0===i)&&s.container.css(s.args),s.container.css("transform",n)},s.setup=function(t){if(f)s.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===t&&(c?s.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+s.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(s.currentSlide).css({opacity:1,zIndex:2}):0==s.vars.fadeFirstSlide?s.slides.css({opacity:0,display:"block",zIndex:1}).eq(s.currentSlide).css({zIndex:2}).css({opacity:1}):s.slides.css({opacity:0,display:"block",zIndex:1}).eq(s.currentSlide).css({zIndex:2}).animate({opacity:1},s.vars.animationSpeed,s.vars.easing)),s.vars.smoothHeight&&g.smoothHeight();else{var e,i;"init"===t&&(s.viewport=n('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(s).append(s.container),s.cloneCount=0,s.cloneOffset=0,p&&(i=n.makeArray(s.slides).reverse(),s.slides=n(i),s.container.empty().append(s.slides))),s.vars.animationLoop&&!m&&(s.cloneCount=2,s.cloneOffset=1,"init"!==t&&s.container.find(".clone").remove(),s.container.append(g.uniqueID(s.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(s.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),s.newSlides=n(s.vars.selector,s),e=p?s.count-1-s.currentSlide+s.cloneOffset:s.currentSlide+s.cloneOffset,d&&!m?(s.container.height(200*(s.count+s.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){s.newSlides.css({display:"block"}),s.doMath(),s.viewport.height(s.h),s.setProps(e*s.h,"init")},"init"===t?100:0)):(s.container.width(200*(s.count+s.cloneCount)+"%"),s.setProps(e*s.computedW,"init"),setTimeout(function(){s.doMath(),s.newSlides.css({width:s.computedW,marginRight:s.computedM,"float":"left",display:"block"}),s.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0))}m||s.slides.removeClass(r+"active-slide").eq(s.currentSlide).addClass(r+"active-slide"),s.vars.init(s)},s.doMath=function(){var t=s.slides.first(),e=s.vars.itemMargin,i=s.vars.minItems,n=s.vars.maxItems;s.w=void 0===s.viewport?s.width():s.viewport.width(),s.h=t.height(),s.boxPadding=t.outerWidth()-t.width(),m?(s.itemT=s.vars.itemWidth+e,s.itemM=e,s.minW=i?i*s.itemT:s.w,s.maxW=n?n*s.itemT-e:s.w,s.itemW=s.minW>s.w?(s.w-e*(i-1))/i:s.maxW<s.w?(s.w-e*(n-1))/n:s.vars.itemWidth>s.w?s.w:s.vars.itemWidth,s.visible=Math.floor(s.w/s.itemW),s.move=s.vars.move>0&&s.vars.move<s.visible?s.vars.move:s.visible,s.pagingCount=Math.ceil((s.count-s.visible)/s.move+1),s.last=s.pagingCount-1,s.limit=1===s.pagingCount?0:s.vars.itemWidth>s.w?s.itemW*(s.count-1)+e*(s.count-1):(s.itemW+e)*s.count-s.w-e):(s.itemW=s.w,s.itemM=e,s.pagingCount=s.count,s.last=s.count-1),s.computedW=s.itemW-s.boxPadding,s.computedM=s.itemM},s.update=function(t,e){s.doMath(),m||(t<s.currentSlide?s.currentSlide+=1:t<=s.currentSlide&&0!==t&&(s.currentSlide-=1),s.animatingTo=s.currentSlide),s.vars.controlNav&&!s.manualControls&&("add"===e&&!m||s.pagingCount>s.controlNav.length?g.controlNav.update("add"):("remove"===e&&!m||s.pagingCount<s.controlNav.length)&&(m&&s.currentSlide>s.last&&(s.currentSlide-=1,s.animatingTo-=1),g.controlNav.update("remove",s.last))),s.vars.directionNav&&g.directionNav.update()},s.addSlide=function(t,e){var i=n(t);s.count+=1,s.last=s.count-1,d&&p?void 0!==e?s.slides.eq(s.count-e).after(i):s.container.prepend(i):void 0!==e?s.slides.eq(e).before(i):s.container.append(i),s.update(e,"add"),s.slides=n(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.added(s)},s.removeSlide=function(t){var e=isNaN(t)?s.slides.index(n(t)):t;s.count-=1,s.last=s.count-1,isNaN(t)?n(t,s.slides).remove():d&&p?s.slides.eq(s.last).remove():s.slides.eq(t).remove(),s.doMath(),s.update(e,"remove"),s.slides=n(s.vars.selector+":not(.clone)",s),s.setup(),s.vars.removed(s)},g.init()},n(window).blur(function(t){o=!1}).focus(function(t){o=!0}),n.flexslider.defaults={namespace:"am-",selector:".am-slides > li",animation:"slide",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:" ",nextText:" ",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},n.fn.flexslider=function(t){var e=Array.prototype.slice.call(arguments,1);if(void 0===t&&(t={}),"object"==typeof t)return this.each(function(){var e=n(this),i=t.selector?t.selector:".am-slides > li",s=e.find(i);1===s.length&&t.allowOneSlide===!1||0===s.length?(s.fadeIn(400),t.start&&t.start(e)):void 0===e.data("flexslider")&&new n.flexslider(this,t)});var i,s=n(this).data("flexslider");switch(t){case"next":s.flexAnimate(s.getTarget("next"),!0);break;case"prev":case"previous":s.flexAnimate(s.getTarget("prev"),!0);break;default:"number"==typeof t?s.flexAnimate(t,!0):"string"==typeof t&&(i="function"==typeof s[t]?s[t].apply(s,e):s[t])}return void 0===i?this:i},s.ready(function(t){n("[data-am-flexslider]",t).each(function(t,e){var i=n(e),o=s.utils.parseOptions(i.data("amFlexslider"));o.before=function(t){t._pausedTimer&&(window.clearTimeout(t._pausedTimer),t._pausedTimer=null)},o.after=function(t){var e=t.vars.playAfterPaused;!e||isNaN(e)||t.playing||t.manualPause||t.manualPlay||t.stopped||(t._pausedTimer=window.setTimeout(function(){t.play()},e))},i.flexslider(o)})}),t.exports=n.flexslider}).call(e,i(12).setImmediate)},function(t,e,i){(function(t,n){function s(t,e){this._id=t,this._clearFn=e}var o=i(13).nextTick,a=Function.prototype.apply,r=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new s(a.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new s(a.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var i=c++,n=!(arguments.length<2)&&r.call(arguments,1);return l[i]=!0,o(function(){l[i]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(i))}),i},e.clearImmediate="function"==typeof n?n:function(t){delete l[t]}}).call(e,i(12).setImmediate,i(12).clearImmediate)},function(t,e){function i(t){if(l===setTimeout)return setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function n(t){if(c===clearTimeout)return clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function s(){p&&h&&(p=!1,h.length?d=h.concat(d):m=-1,d.length&&o())}function o(){if(!p){var t=i(s);p=!0;for(var e=d.length;e;){for(h=d,d=[];++m<e;)h&&h[m].run();m=-1,e=d.length}h=null,p=!1,n(t)}}function a(t,e){this.fun=t,this.array=e}function r(){}var l,c,u=t.exports={};!function(){try{l=setTimeout}catch(t){l=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(t){c=function(){throw new Error("clearTimeout is not defined")}}}();var h,d=[],p=!1,m=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new a(t,e)),1!==d.length||p||i(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=r,u.addListener=r,u.once=r,u.off=r,u.removeListener=r,u.removeAllListeners=r,u.emit=r,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,i){"use strict";function n(t,e){this.wrapper="string"==typeof t?document.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof window.onmousedown};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var s=i(2),o=s.utils.rAF,a=function(){function t(t){return n!==!1&&(""===n?t:n+t.charAt(0).toUpperCase()+t.substr(1))}var e={},i=document.createElement("div").style,n=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,s=e.length;n<s;n++)if(t=e[n]+"ransform",t in i)return e[n].substr(0,e[n].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(t,e){for(var i in e)t[i]=e[i]},e.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},e.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},e.prefixPointerEvent=function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},e.momentum=function(t,e,i,n,s,o){var a,r,l=t-e,c=Math.abs(l)/i;return o=void 0===o?6e-4:o,a=t+c*c/(2*o)*(l<0?-1:1),r=c/o,a<n?(a=s?n-s/2.5*(c/8):n,l=Math.abs(a-t),r=l/c):a>0&&(a=s?s/2.5*(c/8):0,l=Math.abs(t)+a,r=l/c),{destination:Math.round(a),duration:r}};var s=t("transform");return e.extend(e,{hasTransform:s!==!1,hasPerspective:t("perspective")in i,hasTouch:"ontouchstart"in window,hasPointer:!(!window.PointerEvent&&!window.MSPointerEvent),hasTransition:t("transition")in i}),e.isBadAndroid=function(){var t=window.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var e=t.match(/Safari\/(\d+.\d)/);return!(e&&"object"==typeof e&&e.length>=2)||parseFloat(e[1])<535.19}return!1}(),e.extend(e.style={},{transform:s,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),e.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},e.addClass=function(t,i){if(!e.hasClass(t,i)){var n=t.className.split(" ");n.push(i),t.className=n.join(" ")}},e.removeClass=function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(n," ")}},e.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},e.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*Math.pow(2,-10*t)*Math.sin((t-e/4)*(2*Math.PI)/e)+1}}}),e.tap=function(t,e){var i=document.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},e.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=document.createEvent(window.MouseEvent?"MouseEvents":"Event"),e.initEvent("click",!0,!0),e.view=t.view||window,e.detail=1,e.screenX=i.screenX||0,e.screenY=i.screenY||0,e.clientX=i.clientX||0,e.clientY=i.clientY||0,e.ctrlKey=!!t.ctrlKey,e.altKey=!!t.altKey,e.shiftKey=!!t.shiftKey,e.metaKey=!!t.metaKey,e.button=0,e.relatedTarget=null,e._constructed=!0,i.dispatchEvent(e))},e}();n.prototype={version:"5.2.0",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=a.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,n=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(Math.round(i.x),Math.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,
this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,s,o=t.touches?t.touches[0]:t,r=o.pageX-this.pointX,l=o.pageY-this.pointY,c=a.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=r,this.distY+=l,n=Math.abs(this.distX),s=Math.abs(this.distY),!(c-this.endTime>300&&n<10&&s<10)){if(this.directionLocked||this.options.freeScroll||(n>s+this.options.directionLockThreshold?this.directionLocked="h":s>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}r=this.hasHorizontalScroll?r:0,l=this.hasVerticalScroll?l:0,e=this.x+r,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+r/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=r>0?-1:r<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),s=Math.round(this.x),o=Math.round(this.y),r=Math.abs(s-this.startX),l=Math.abs(o-this.startY),c=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(s,o),this.moved?this._events.flick&&n<200&&r<100&&l<100?void this._execEvent("flick"):(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?a.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},s=e.destination,o=i.destination,c=Math.max(e.duration,i.duration),this.isInTransition=1),s!=this.x||o!=this.y?((s>0||s<this.maxScrollX||o>0||o<this.maxScrollY)&&(u=a.ease.quadratic),void this.scrollTo(s,o,c,u)):void this._execEvent("scrollEnd")):(this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel"))}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var s=this.options.useTransition&&n.style;!i||s?(s&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=a.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,i===!0&&(i=Math.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=Math.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=i||0,o.top-=n||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?Math.max(Math.abs(this.x-o.left),Math.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,s)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=a.style.transitionDuration;if(e&&(this.scrollerStyle[e]=t+"ms",!t&&a.isBadAndroid)){this.scrollerStyle[e]="0.0001ms";var i=this;o(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}}},_transitionTimingFunction:function(t){this.scrollerStyle[a.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=Math.round(t),e=Math.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(t){var e=t?a.removeEvent:a.addEvent,i=this.options.bindToWrapper?this.wrapper:window;e(window,"orientationchange",this),e(window,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,a.prefixPointerEvent("pointerdown"),this),e(i,a.prefixPointerEvent("pointermove"),this),e(i,a.prefixPointerEvent("pointercancel"),this),e(i,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=window.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[a.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_animate:function(t,e,i,n){function s(){var d,p,m,f=a.getTime();return f>=h?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"))):(f=(f-u)/i,m=n(f),d=(t-l)*m+l,p=(e-c)*m+c,r._translate(d,p),void(r.isAnimating&&o(s)))}var r=this,l=this.x,c=this.y,u=a.getTime(),h=u+i;this.isAnimating=!0,s()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},n.utils=a,t.exports=s.iScroll=n},function(t,e,i){"use strict";function n(t,e){return this.each(function(){var i=s(this),n=i.data("amui.modal"),o="object"==typeof t&&t;n||i.data("amui.modal",n=new c(this,o)),"string"==typeof t?n[t]&&n[t](e):n.toggle(t&&t.relatedTarget||void 0)})}var s=i(1),o=i(2),a=i(9),r=s(document),l=o.support.transition,c=function(t,e){this.options=s.extend({},c.DEFAULTS,e||{}),this.$element=s(t),this.$dialog=this.$element.find(".am-modal-dialog"),this.$element.attr("id")||this.$element.attr("id",o.utils.generateGUID("am-modal")),this.isPopup=this.$element.hasClass("am-popup"),this.isActions=this.$element.hasClass("am-modal-actions"),this.isPrompt=this.$element.hasClass("am-modal-prompt"),this.isLoading=this.$element.hasClass("am-modal-loading"),this.active=this.transitioning=this.relatedTarget=null,this.dimmer=this.options.dimmer?a:{open:function(){},close:function(){}},this.events()};c.DEFAULTS={className:{active:"am-modal-active",out:"am-modal-out"},selector:{modal:".am-modal",active:".am-modal-active"},closeViaDimmer:!0,cancelable:!0,onConfirm:function(){},onCancel:function(){},closeOnCancel:!0,closeOnConfirm:!0,dimmer:!0,height:void 0,width:void 0,duration:300,transitionEnd:l&&l.end+".modal.amui"},c.prototype.toggle=function(t){return this.active?this.close():this.open(t)},c.prototype.open=function(t){var e=this.$element,i=this.options,n=this.isPopup,o=i.width,a=i.height,r={};if(!this.active&&this.$element.length){t&&(this.relatedTarget=t),this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd)),n&&this.$element.show(),this.active=!0,e.trigger(s.Event("open.modal.amui",{relatedTarget:t})),this.dimmer.open(e),e.show().redraw(),n||this.isActions||(o&&(r.width=parseInt(o,10)+"px"),a&&(r.height=parseInt(a,10)+"px"),this.$dialog.css(r)),e.removeClass(i.className.out).addClass(i.className.active),this.transitioning=1;var c=function(){e.trigger(s.Event("opened.modal.amui",{relatedTarget:t})),this.transitioning=0,this.isPrompt&&this.$dialog.find("input").eq(0).focus()};return l?void e.one(i.transitionEnd,s.proxy(c,this)).emulateTransitionEnd(i.duration):c.call(this)}},c.prototype.close=function(t){if(this.active){var e=this.$element,i=this.options,n=this.isPopup;this.transitioning&&(clearTimeout(e.transitionEndTimmer),e.transitionEndTimmer=null,e.trigger(i.transitionEnd).off(i.transitionEnd),this.dimmer.close(e,!0)),this.$element.trigger(s.Event("close.modal.amui",{relatedTarget:t})),this.transitioning=1;var o=function(){e.trigger("closed.modal.amui"),n&&e.removeClass(i.className.out),e.hide(),this.transitioning=0,this.dimmer.close(e,!1),this.active=!1};return e.removeClass(i.className.active).addClass(i.className.out),l?void e.one(i.transitionEnd,s.proxy(o,this)).emulateTransitionEnd(i.duration):o.call(this)}},c.prototype.events=function(){var t=this,e=this.options,i=this.$element,n=this.dimmer.$element,o=i.find(".am-modal-prompt-input"),a=i.find("[data-am-modal-confirm]"),r=i.find("[data-am-modal-cancel]"),l=function(){var t=[];return o.each(function(){t.push(s(this).val())}),0===t.length?void 0:1===t.length?t[0]:t};this.options.cancelable&&i.on("keyup.modal.amui",function(e){t.active&&27===e.which&&(i.trigger("cancel.modal.amui"),t.close())}),this.options.dimmer&&this.options.closeViaDimmer&&!this.isLoading&&n.on("click.dimmer.modal.amui",function(){t.close()}),i.on("click.close.modal.amui","[data-am-modal-close], .am-modal-btn",function(i){i.preventDefault();var n=s(this);n.is(a)?e.closeOnConfirm&&t.close():n.is(r)?e.closeOnCancel&&t.close():t.close()}).on("click",function(t){s(t.target).is(i)&&n.trigger("click.dimmer.modal.amui")}),a.on("click.confirm.modal.amui",function(){i.trigger(s.Event("confirm.modal.amui",{trigger:this}))}),r.on("click.cancel.modal.amui",function(){i.trigger(s.Event("cancel.modal.amui",{trigger:this}))}),i.on("confirm.modal.amui",function(e){e.data=l(),t.options.onConfirm.call(t,e)}).on("cancel.modal.amui",function(e){e.data=l(),t.options.onCancel.call(t,e)})},s.fn.modal=n,r.on("click.modal.amui.data-api","[data-am-modal]",function(){var t=s(this),e=o.utils.parseOptions(t.attr("data-am-modal")),i=s(e.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("amui.modal")?"toggle":e;n.call(i,a,this)}),t.exports=o.modal=c},function(t,e,i){"use strict";function n(t,e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=s(this),o=n.data("amui.offcanvas"),a=s.extend({},"object"==typeof t&&t);o||(n.data("amui.offcanvas",o=new c(this,a)),(!t||"object"==typeof t)&&o.open(e)),"string"==typeof t&&o[t]&&o[t].apply(o,i)})}var s=i(1),o=i(2);i(3);var a,r=s(window),l=s(document),c=function(t,e){this.$element=s(t),this.options=s.extend({},c.DEFAULTS,e),this.active=null,this.bindEvents()};c.DEFAULTS={duration:300,effect:"overlay"},c.prototype.open=function(t){var e=this,i=this.$element;if(i.length&&!i.hasClass("am-active")){var n=this.options.effect,o=s("html"),l=s("body"),c=i.find(".am-offcanvas-bar").first(),u=c.hasClass("am-offcanvas-bar-flip")?-1:1;c.addClass("am-offcanvas-bar-"+n),a={x:window.scrollX,y:window.scrollY},i.addClass("am-active"),l.css({width:window.innerWidth,height:r.height()}).addClass("am-offcanvas-page"),"overlay"!==n&&l.css({"margin-left":c.outerWidth()*u}).width(),o.css("margin-top",a.y*-1),setTimeout(function(){c.addClass("am-offcanvas-bar-active").width()},0),i.trigger("open.offcanvas.amui"),this.active=1,i.on("click.offcanvas.amui",function(t){var i=s(t.target);i.hasClass("am-offcanvas-bar")||i.parents(".am-offcanvas-bar").first().length||(t.stopImmediatePropagation(),e.close())}),o.on("keydown.offcanvas.amui",function(t){27===t.keyCode&&e.close()})}},c.prototype.close=function(t){function e(){r.removeClass("am-offcanvas-page").css({width:"",height:"","margin-left":"","margin-right":""}),l.removeClass("am-active"),c.removeClass("am-offcanvas-bar-active"),n.css("margin-top",""),window.scrollTo(a.x,a.y),l.trigger("closed.offcanvas.amui"),i.active=0}var i=this,n=s("html"),r=s("body"),l=this.$element,c=l.find(".am-offcanvas-bar").first();l.length&&this.active&&l.hasClass("am-active")&&(l.trigger("close.offcanvas.amui"),o.support.transition?(setTimeout(function(){c.removeClass("am-offcanvas-bar-active")},0),r.css("margin-left","").one(o.support.transition.end,function(){e()}).emulateTransitionEnd(this.options.duration)):e(),l.off("click.offcanvas.amui"),n.off(".offcanvas.amui"))},c.prototype.bindEvents=function(){var t=this;return l.on("click.offcanvas.amui",'[data-am-dismiss="offcanvas"]',function(e){e.preventDefault(),t.close()}),r.on("resize.offcanvas.amui orientationchange.offcanvas.amui",function(){t.active&&t.close()}),this.$element.hammer().on("swipeleft swipeleft",function(e){e.preventDefault(),t.close()}),this},s.fn.offCanvas=n,l.on("click.offcanvas.amui","[data-am-offcanvas]",function(t){t.preventDefault();var e=s(this),i=o.utils.parseOptions(e.data("amOffcanvas")),a=s(i.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("amui.offcanvas")?"open":i;n.call(a,r,this)}),t.exports=o.offcanvas=c},function(t,e,i){"use strict";var n=i(1),s=i(2),o=s.utils.rAF,a=function(t){var e=function(e,i){this.el=t(e),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=t.extend({},this.defaults,i),this.setupMarkup(),this.bindEvents(),this.update(),this.enable()},i=function(t,e){return t+e},n=function(t,e){return t>e-.01&&t<e+.01};e.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,maxZoom:4,minZoom:.5,lockDragAxis:!1,use2d:!0,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(t){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(t)},handleDrag:function(t){if(this.zoomFactor>1){var e=this.getTouches(t)[0];this.drag(e,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=e}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(t){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(t,e){var i=this.getTouchCenter(this.getTouches(t)),n=e/this.lastScale;this.lastScale=e,this.nthZoom+=1,this.nthZoom>3&&(this.scale(n,i),this.drag(i,this.lastZoomCenter)),this.lastZoomCenter=i},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(t){var e=this.getTouches(t)[0],i=this.zoomFactor>1?1:this.options.tapZoomFactor,n=this.zoomFactor,s=function(t){this.scaleTo(n+t*(i-n),e)}.bind(this);this.hasInteraction||(n>i&&(e=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,s,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(t){var e=(this.zoomFactor-1)*this.getContainerX(),i=(this.zoomFactor-1)*this.getContainerY(),n=Math.max(e,0),s=Math.max(i,0),o=Math.min(e,0),a=Math.min(i,0);return{x:Math.min(Math.max(t.x,o),n),y:Math.min(Math.max(t.y,a),s)}},scaleTo:function(t,e){this.scale(t/this.zoomFactor,e)},scale:function(t,e){t=this.scaleZoomFactor(t),this.addOffset({x:(t-1)*(e.x+this.offset.x),y:(t-1)*(e.y+this.offset.y)})},scaleZoomFactor:function(t){var e=this.zoomFactor;return this.zoomFactor*=t,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/e},drag:function(t,e){e&&(this.options.lockDragAxis?Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?this.addOffset({x:-(t.x-e.x),y:0}):this.addOffset({y:-(t.y-e.y),x:0}):this.addOffset({y:-(t.y-e.y),x:-(t.x-e.x)}))},getTouchCenter:function(t){return this.getVectorAvg(t)},getVectorAvg:function(t){return{x:t.map(function(t){return t.x}).reduce(i)/t.length,y:t.map(function(t){return t.y}).reduce(i)/t.length}},addOffset:function(t){this.offset={x:this.offset.x+t.x,y:this.offset.y+t.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(t){var e=this.sanitizeOffset(t);return e.x!==t.x||e.y!==t.y},sanitizeOffsetAnimation:function(){var t=this.sanitizeOffset(this.offset),e={x:this.offset.x,y:this.offset.y},i=function(i){this.offset.x=e.x+i*(t.x-e.x),this.offset.y=e.y+i*(t.y-e.y),this.update()}.bind(this);this.animate(this.options.animationDuration,i,this.swing)},zoomOutAnimation:function(){var t=this.zoomFactor,e=1,i=this.getCurrentZoomCenter(),n=function(n){this.scaleTo(t+n*(e-t),i)}.bind(this);this.animate(this.options.animationDuration,n,this.swing)},updateAspectRatio:function(){this.setContainerY(this.getContainerX()/this.getAspectRatio())},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var t=this.container[0].offsetWidth*this.zoomFactor,e=this.offset.x,i=t-e-this.container[0].offsetWidth,n=e/i,s=n*this.container[0].offsetWidth/(n+1),o=this.container[0].offsetHeight*this.zoomFactor,a=this.offset.y,r=o-a-this.container[0].offsetHeight,l=a/r,c=l*this.container[0].offsetHeight/(l+1);return 0===i&&(s=this.container[0].offsetWidth),0===r&&(c=this.container[0].offsetHeight),{x:s,y:c}},canDrag:function(){return!n(this.zoomFactor,1)},getTouches:function(t){var e=this.container.offset();return Array.prototype.slice.call(t.touches).map(function(t){return{x:t.pageX-e.left,y:t.pageY-e.top}})},animate:function(t,e,i,n){var s=(new Date).getTime(),a=function(){if(this.inAnimation){var r=(new Date).getTime()-s,l=r/t;r>=t?(e(1),n&&n(),this.update(),this.stopAnimation(),this.update()):(i&&(l=i(l)),e(l),this.update(),o(a))}}.bind(this);this.inAnimation=!0,o(a)},stopAnimation:function(){this.inAnimation=!1},swing:function(t){return-Math.cos(t*Math.PI)/2+.5},getContainerX:function(){return this.container[0].offsetWidth},getContainerY:function(){return this.container[0].offsetHeight},setContainerY:function(t){return this.container.height(t)},setupMarkup:function(){this.container=t('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){s(this.container.get(0),this),t(window).on("resize",this.update.bind(this)),t(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var t=this.getInitialZoomFactor()*this.zoomFactor,e=-this.offset.x/t,i=-this.offset.y/t,n="scale3d("+t+", "+t+",1) translate3d("+e+"px,"+i+"px,0px)",s="scale("+t+", "+t+") translate("+e+"px,"+i+"px)",o=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,o(),this.el.css({"-webkit-transform":n,"-o-transform":s,"-ms-transform":s,"-moz-transform":s,transform:n})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(o,200)),this.el.css({"-webkit-transform":s,"-o-transform":s,"-ms-transform":s,"-moz-transform":s,transform:s}),this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var s=function(t,e){var i=null,n=0,s=null,o=null,a=function(t,n){if(i!==t){if(i&&!t)switch(i){case"zoom":e.handleZoomEnd(n);break;case"drag":e.handleDragEnd(n)}switch(t){case"zoom":e.handleZoomStart(n);break;case"drag":e.handleDragStart(n)}}i=t},r=function(t){2===n?a("zoom"):1===n&&e.canDrag()?a("drag",t):a(null,t)},l=function(t){return Array.prototype.slice.call(t).map(function(t){return{x:t.pageX,y:t.pageY}})},c=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(i*i+n*n)},u=function(t,e){var i=c(t[0],t[1]),n=c(e[0],e[1]);return n/i},h=function(t){t.stopPropagation(),t.preventDefault()},d=function(t){var o=(new Date).getTime();if(n>1&&(s=null),o-s<300)switch(h(t),e.handleDoubleTap(t),i){case"zoom":e.handleZoomEnd(t);break;case"drag":e.handleDragEnd(t)}1===n&&(s=o)},p=!0;t.addEventListener("touchstart",function(t){e.enabled&&(p=!0,n=t.touches.length,d(t))}),t.addEventListener("touchmove",function(t){if(e.enabled){if(p)r(t),i&&h(t),o=l(t.touches);else{switch(i){case"zoom":e.handleZoom(t,u(o,l(t.touches)));break;case"drag":e.handleDrag(t)}i&&(h(t),e.update())}p=!1}}),t.addEventListener("touchend",function(t){e.enabled&&(n=t.touches.length,r(t))})};return e};t.exports=s.pichzoom=a(n)},function(t,e,i){"use strict";var n=i(1),s=i(2),o=n(window),a=function(t,e){this.options=n.extend({},a.DEFAULTS,e),this.$element=n(t),this.active=null,this.$popover=this.options.target&&n(this.options.target)||null,this.init(),this._bindEvents()};a.DEFAULTS={theme:null,trigger:"click",content:"",open:!1,target:null,tpl:'<div class="am-popover"><div class="am-popover-inner"></div><div class="am-popover-caret"></div></div>'},a.prototype.init=function(){function t(){i.sizePopover()}var e,i=this,o=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),e=this.$popover,e.appendTo(n("body")),this.sizePopover(),o.on("open.popover.amui",function(){n(window).on("resize.popover.amui",s.utils.debounce(t,50))}),o.on("close.popover.amui",function(){n(window).off("resize.popover.amui",t)}),this.options.open&&this.open()},a.prototype.sizePopover=function(){var t=this.$element,e=this.$popover;if(e&&e.length){var i=e.outerWidth(),n=e.outerHeight(),s=e.find(".am-popover-caret"),a=s.outerWidth()/2||8,r=n+8,l=t.outerWidth(),c=t.outerHeight(),u=t.offset(),h=t[0].getBoundingClientRect(),d=o.height(),p=o.width(),m=0,f=0,v=0,g=2,y="top";e.css({left:"",top:""}).removeClass("am-popover-left am-popover-right am-popover-top am-popover-bottom"),r-g<h.top+g?m=u.top-r-g:r<d-h.top-h.height?(y="bottom",m=u.top+c+a+g):(y="middle",m=c/2+u.top-n/2),"top"===y||"bottom"===y?(f=l/2+u.left-i/2,v=f,f<5&&(f=5),f+i>p&&(f=p-i-20),"top"===y&&e.addClass("am-popover-top"),"bottom"===y&&e.addClass("am-popover-bottom"),v-=f):"middle"===y&&(f=u.left-i-a,e.addClass("am-popover-left"),f<5&&(f=u.left+l+a,e.removeClass("am-popover-left").addClass("am-popover-right")),f+i>p&&(f=p-i-5,e.removeClass("am-popover-left").addClass("am-popover-right"))),e.css({top:m+"px",left:f+"px"})}},a.prototype.toggle=function(){return this[this.active?"close":"open"]()},a.prototype.open=function(){var t=this.$popover;this.$element.trigger("open.popover.amui"),this.sizePopover(),t.show().addClass("am-active"),this.active=!0},a.prototype.close=function(){var t=this.$popover;this.$element.trigger("close.popover.amui"),t.removeClass("am-active").trigger("closed.popover.amui").hide(),this.active=!1},a.prototype.getPopover=function(){var t=s.utils.generateGUID("am-popover"),e=[];return this.options.theme&&n.each(this.options.theme.split(" "),function(t,i){e.push("am-popover-"+n.trim(i))}),n(this.options.tpl).attr("id",t).addClass(e.join(" "))},a.prototype.setContent=function(t){t=t||this.options.content,this.$popover&&this.$popover.find(".am-popover-inner").empty().html(t)},a.prototype._bindEvents=function(){for(var t="popover.amui",e=this.options.trigger.split(" "),i=e.length;i--;){var s=e[i];if("click"===s)this.$element.on("click."+t,n.proxy(this.toggle,this));else{var o="hover"==s?"mouseenter":"focusin",a="hover"==s?"mouseleave":"focusout";this.$element.on(o+"."+t,n.proxy(this.open,this)),this.$element.on(a+"."+t,n.proxy(this.close,this))}}},a.prototype.destroy=function(){this.$element.off(".popover.amui").removeData("amui.popover"),this.$popover.remove()},s.plugin("popover",a),s.ready(function(t){n("[data-am-popover]",t).popover()}),t.exports=a},function(t,e,i){"use strict";var n=i(2),s=function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t){return 100*(-1+t)}function i(t,i,n){var s;return s="translate3d"===c.positionUsing?{transform:"translate3d("+e(t)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(t)+"%,0)"}:{"margin-left":e(t)+"%"},s.transition="all "+i+"ms "+n,s}function n(t,e){var i="string"==typeof t?t:a(t);return i.indexOf(" "+e+" ")>=0}function s(t,e){var i=a(t),s=i+e;n(i,e)||(t.className=s.substring(1))}function o(t,e){var i,s=a(t);n(t,e)&&(i=s.replace(" "+e+" "," "),t.className=i.substring(1,i.length-1))}function a(t){return(" "+(t.className||"")+" ").replace(/\s+/gi," ")}function r(t){t&&t.parentNode&&t.parentNode.removeChild(t)}var l={};l.version="0.2.0";var c=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};l.configure=function(t){var e,i;for(e in t)i=t[e],void 0!==i&&t.hasOwnProperty(e)&&(c[e]=i);return this},l.status=null,l.set=function(e){var n=l.isStarted();e=t(e,c.minimum,1),l.status=1===e?null:e;var s=l.render(!n),o=s.querySelector(c.barSelector),a=c.speed,r=c.easing;return s.offsetWidth,u(function(t){""===c.positionUsing&&(c.positionUsing=l.getPositioningCSS()),h(o,i(e,a,r)),1===e?(h(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout(function(){h(s,{transition:"all "+a+"ms linear",opacity:0}),setTimeout(function(){l.remove(),t()},a)},a)):setTimeout(t,a)}),this},l.isStarted=function(){return"number"==typeof l.status},l.start=function(){l.status||l.set(0);var t=function(){setTimeout(function(){l.status&&(l.trickle(),t())},c.trickleSpeed)};return c.trickle&&t(),this},l.done=function(t){return t||l.status?l.inc(.3+.5*Math.random()).set(1):this},l.inc=function(e){var i=l.status;return i?("number"!=typeof e&&(e=(1-i)*t(Math.random()*i,.1,.95)),i=t(i+e,0,.994),l.set(i)):l.start()},l.trickle=function(){return l.inc(Math.random()*c.trickleRate)},function(){var t=0,e=0;l.promise=function(i){return i&&"resolved"!==i.state()?(0===e&&l.start(),t++,e++,i.always(function(){e--,0===e?(t=0,l.done()):l.set((t-e)/t)}),this):this}}(),l.render=function(t){if(l.isRendered())return document.getElementById("nprogress");s(document.documentElement,"nprogress-busy");var i=document.createElement("div");i.id="nprogress",i.innerHTML=c.template;var n,o=i.querySelector(c.barSelector),a=t?"-100":e(l.status||0),u=document.querySelector(c.parent);return h(o,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"}),c.showSpinner||(n=i.querySelector(c.spinnerSelector),n&&r(n)),u!=document.body&&s(u,"nprogress-custom-parent"),u.appendChild(i),i},l.remove=function(){o(document.documentElement,"nprogress-busy"),o(document.querySelector(c.parent),"nprogress-custom-parent");var t=document.getElementById("nprogress");t&&r(t)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var t=document.body.style,e="WebkitTransform"in t?"Webkit":"MozTransform"in t?"Moz":"msTransform"in t?"ms":"OTransform"in t?"O":"";return e+"Perspective"in t?"translate3d":e+"Transform"in t?"translate":"margin"};var u=function(){function t(){var i=e.shift();i&&i(t)}var e=[];return function(i){e.push(i),1==e.length&&t()}}(),h=function(){function t(t){return t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})}function e(t){var e=document.body.style;if(t in e)return t;for(var i,n=s.length,o=t.charAt(0).toUpperCase()+t.slice(1);n--;)if(i=s[n]+o,i in e)return i;return t}function i(i){return i=t(i),o[i]||(o[i]=e(i))}function n(t,e,n){e=i(e),t.style[e]=n}var s=["Webkit","O","Moz","ms"],o={};return function(t,e){var i,s,o=arguments;if(2==o.length)for(i in e)s=e[i],void 0!==s&&e.hasOwnProperty(i)&&n(t,i,s);else n(t,o[1],o[2])}}();return l}();t.exports=n.progress=s},function(t,e,i){"use strict";var n=i(1),s=i(2),o=i(17),a=i(3),r=s.support.animation,l=s.support.transition,c=function(t,e){this.$element=n(t),this.$body=n(document.body),this.options=n.extend({},c.DEFAULTS,e),this.$pureview=n(this.options.tpl).attr("id",s.utils.generateGUID("am-pureview")),this.$slides=null,this.transitioning=null,this.scrollbarWidth=0,this.init()};c.DEFAULTS={tpl:'<div class="am-pureview am-pureview-bar-active"><ul class="am-pureview-slider"></ul><ul class="am-pureview-direction"><li class="am-pureview-prev"><a href=""></a></li><li class="am-pureview-next"><a href=""></a></li></ul><ol class="am-pureview-nav"></ol><div class="am-pureview-bar am-active"><span class="am-pureview-title"></span><div class="am-pureview-counter"><span class="am-pureview-current"></span> / <span class="am-pureview-total"></span></div></div><div class="am-pureview-actions am-active"><a href="javascript: void(0)" class="am-icon-chevron-left" data-am-close="pureview"></a></div></div>',className:{prevSlide:"am-pureview-slide-prev",nextSlide:"am-pureview-slide-next",onlyOne:"am-pureview-only",active:"am-active",barActive:"am-pureview-bar-active",activeBody:"am-pureview-active"},selector:{slider:".am-pureview-slider",close:'[data-am-close="pureview"]',total:".am-pureview-total",current:".am-pureview-current",title:".am-pureview-title",actions:".am-pureview-actions",
bar:".am-pureview-bar",pinchZoom:".am-pinch-zoom",nav:".am-pureview-nav"},shareBtn:!1,toggleToolbar:!0,target:"img",weChatImagePreview:!0},c.prototype.init=function(){var t=this,e=this.options,i=this.$element,s=this.$pureview;this.refreshSlides(),n("body").append(s),this.$title=s.find(e.selector.title),this.$current=s.find(e.selector.current),this.$bar=s.find(e.selector.bar),this.$actions=s.find(e.selector.actions),e.shareBtn&&this.$actions.append('<a href="javascript: void(0)" class="am-icon-share-square-o" data-am-toggle="share"></a>'),this.$element.on("click.pureview.amui",e.target,function(i){i.preventDefault();var n=t.$images.index(this);e.weChatImagePreview&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("imagePreview",{current:t.imgUrls[n],urls:t.imgUrls}):t.open(n)}),s.find(".am-pureview-direction").on("click.direction.pureview.amui","li",function(e){e.preventDefault(),n(this).is(".am-pureview-prev")?t.prevSlide():t.nextSlide()}),s.find(e.selector.nav).on("click.nav.pureview.amui","li",function(){var e=t.$navItems.index(n(this));t.activate(t.$slides.eq(e))}),s.find(e.selector.close).on("click.close.pureview.amui",function(e){e.preventDefault(),t.close()}),this.$slider.hammer().on("swipeleft.pureview.amui",function(e){e.preventDefault(),t.nextSlide()}).on("swiperight.pureview.amui",function(e){e.preventDefault(),t.prevSlide()}).on("press.pureview.amui",function(i){i.preventDefault(),e.toggleToolbar&&t.toggleToolBar()}),this.$slider.data("hammer").get("swipe").set({direction:a.DIRECTION_HORIZONTAL,velocity:.35}),i.DOMObserve({childList:!0,subtree:!0},function(t,e){}),i.on("changed.dom.amui",function(e){e.stopPropagation(),t.refreshSlides()}),n(document).on("keydown.pureview.amui",n.proxy(function(t){var e=t.keyCode;37==e?this.prevSlide():39==e?this.nextSlide():27==e&&this.close()},this))},c.prototype.refreshSlides=function(){this.$images=this.$element.find(this.options.target);var t=this,e=this.options,i=this.$pureview,o=n([]),a=n([]),r=this.$images,l=r.length;this.$slider=i.find(e.selector.slider),this.$nav=i.find(e.selector.nav);var c="data-am-pureviewed";this.imgUrls=this.imgUrls||[],l&&(1===l&&i.addClass(e.className.onlyOne),r.not("["+c+"]").each(function(e,i){var r,l;"A"===i.nodeName?(r=i.href,l=i.title||""):(r=n(i).data("rel")||i.src,r=s.utils.getAbsoluteUrl(r),l=n(i).attr("alt")||""),i.setAttribute(c,"1"),t.imgUrls.push(r),o=o.add(n('<li data-src="'+r+'" data-title="'+l+'"></li>')),a=a.add(n("<li>"+(e+1)+"</li>"))}),i.find(e.selector.total).text(l),this.$slider.append(o),this.$nav.append(a),this.$navItems=this.$nav.find("li"),this.$slides=this.$slider.find("li"))},c.prototype.loadImage=function(t,e){var i="image-appended";if(!t.data(i)){var s=n("<img>",{src:t.data("src"),alt:t.data("title")});t.html(s).wrapInner('<div class="am-pinch-zoom"></div>').redraw();var a=t.find(this.options.selector.pinchZoom);a.data("amui.pinchzoom",new o(a[0],{})),t.data("image-appended",!0)}e&&e.call(this)},c.prototype.activate=function(t){var e=this.options,i=this.$slides,o=i.index(t),a=t.data("title")||"",r=e.className.active;i.find("."+r).is(t)||this.transitioning||(this.loadImage(t,function(){s.utils.imageLoader(t.find("img"),function(e){t.find(".am-pinch-zoom").addClass("am-pureview-loaded"),n(e).addClass("am-img-loaded")})}),this.transitioning=1,this.$title.text(a),this.$current.text(o+1),i.removeClass(),t.addClass(r),i.eq(o-1).addClass(e.className.prevSlide),i.eq(o+1).addClass(e.className.nextSlide),this.$navItems.removeClass().eq(o).addClass(e.className.active),l?t.one(l.end,n.proxy(function(){this.transitioning=0},this)).emulateTransitionEnd(300):this.transitioning=0)},c.prototype.nextSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=t.index(e),n="am-animation-right-spring";i+1>=t.length?r&&e.addClass(n).on(r.end,function(){e.removeClass(n)}):this.activate(t.eq(i+1))}},c.prototype.prevSlide=function(){if(1!==this.$slides.length){var t=this.$slides,e=t.filter(".am-active"),i=this.$slides.index(e),n="am-animation-left-spring";0===i?r&&e.addClass(n).on(r.end,function(){e.removeClass(n)}):this.activate(t.eq(i-1))}},c.prototype.toggleToolBar=function(){this.$pureview.toggleClass(this.options.className.barActive)},c.prototype.open=function(t){var e=t||0;this.checkScrollbar(),this.setScrollbar(),this.activate(this.$slides.eq(e)),this.$pureview.show().redraw().addClass(this.options.className.active),this.$body.addClass(this.options.className.activeBody)},c.prototype.close=function(){function t(){this.$pureview.hide(),this.$body.removeClass(e.className.activeBody),this.resetScrollbar()}var e=this.options;this.$pureview.removeClass(e.className.active),this.$slides.removeClass(),l?this.$pureview.one(l.end,n.proxy(t,this)).emulateTransitionEnd(300):t.call(this)},c.prototype.checkScrollbar=function(){this.scrollbarWidth=s.utils.measureScrollbar()},c.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},s.plugin("pureview",c),s.ready(function(t){n("[data-am-pureview]",t).pureview()}),t.exports=c},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){if(s.support.animation){this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t);var i=function(){s.utils.rAF.call(window,n.proxy(this.checkView,this))}.bind(this);this.$window=n(window).on("scroll.scrollspy.amui",i).on("resize.scrollspy.amui orientationchange.scrollspy.amui",s.utils.debounce(i,50)),this.timer=this.inViewState=this.initInView=null,i()}};o.DEFAULTS={animation:"fade",className:{inView:"am-scrollspy-inview",init:"am-scrollspy-init"},repeat:!0,delay:0,topOffset:0,leftOffset:0},o.prototype.checkView=function(){var t=this.$element,e=this.options,i=s.utils.isInView(t,e),n=e.animation?" am-animation-"+e.animation:"";i&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(t.addClass(e.className.init),this.offset=t.offset(),this.initInView=!0,t.trigger("init.scrollspy.amui")),this.timer=setTimeout(function(){i&&t.addClass(e.className.inView+n).width()},e.delay),this.inViewState=!0,t.trigger("inview.scrollspy.amui")),!i&&this.inViewState&&e.repeat&&(t.removeClass(e.className.inView+n),this.inViewState=!1,t.trigger("outview.scrollspy.amui"))},o.prototype.check=function(){s.utils.rAF.call(window,n.proxy(this.checkView,this))},s.plugin("scrollspy",o),s.ready(function(t){n("[data-am-scrollspy]",t).scrollspy()}),t.exports=o},function(t,e,i){"use strict";var n=i(1),s=i(2);i(23);var o=function(t,e){this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t),this.anchors=[],this.$links=this.$element.find('a[href^="#"]').each(function(t,e){this.anchors.push(n(e).attr("href"))}.bind(this)),this.$targets=n(this.anchors.join(", "));var i=function(){s.utils.rAF.call(window,n.proxy(this.process,this))}.bind(this);this.$window=n(window).on("scroll.scrollspynav.amui",i).on("resize.scrollspynav.amui orientationchange.scrollspynav.amui",s.utils.debounce(i,50)),i(),this.scrollProcess()};o.DEFAULTS={className:{active:"am-active"},closest:!1,smooth:!0,offsetTop:0},o.prototype.process=function(){var t=this.$window.scrollTop(),e=this.options,i=[],o=this.$links,a=this.$targets;if(a.each(function(t,n){s.utils.isInView(n,e)&&i.push(n)}),i.length){var r;if(n.each(i,function(e,i){if(n(i).offset().top>=t)return r=n(i),!1}),!r)return;e.closest?(o.closest(e.closest).removeClass(e.className.active),o.filter('a[href="#'+r.attr("id")+'"]').closest(e.closest).addClass(e.className.active)):o.removeClass(e.className.active).filter('a[href="#'+r.attr("id")+'"]').addClass(e.className.active)}},o.prototype.scrollProcess=function(){var t=this.$links,e=this.options;e.smooth&&n.fn.smoothScroll&&t.on("click",function(t){t.preventDefault();var i=n(this),s=n(i.attr("href"));if(s){var o=e.offsetTop&&!isNaN(parseInt(e.offsetTop))&&parseInt(e.offsetTop)||0;n(window).smoothScroll({position:s.offset().top-o})}})},s.plugin("scrollspynav",o),s.ready(function(t){n("[data-am-scrollspynav]",t).scrollspynav()}),t.exports=o},function(t,e,i){"use strict";var n=i(1),s=i(2),o=s.utils.rAF,a=s.utils.cancelAF,r=!1,l=function(t,e){function i(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)}function s(){p.off("touchstart.smoothscroll.amui",w),r=!1}function c(t){r&&(u||(u=t),h=Math.min(1,Math.max((t-u)/y,0)),d=Math.round(f+g*i(h)),g>0&&d>m&&(d=m),g<0&&d<m&&(d=m),v!=d&&p.scrollTop(d),v=d,d!==m?(a(b),b=o(c)):(a(b),s()))}e=e||{};var u,h,d,p=n(t),m=parseInt(e.position)||l.DEFAULTS.position,f=p.scrollTop(),v=f,g=m-f,y=e.speed||Math.min(750,Math.min(1500,Math.abs(f-m))),w=function(){s()};if(!r&&0!==g){p.on("touchstart.smoothscroll.amui",w),r=!0;var b=o(c)}};l.DEFAULTS={position:0},n.fn.smoothScroll=function(t){return this.each(function(){new l(this,t)})},n(document).on("click.smoothScroll.amui.data-api","[data-am-smooth-scroll]",function(t){t.preventDefault();var e=s.utils.parseOptions(n(this).data("amSmoothScroll"));n(window).smoothScroll(e)}),t.exports=l},function(t,e,i){"use strict";var n=i(1),s=i(2);n.expr[":"].containsNC=function(t,e,i,n){return(t.textContent||t.innerText||"").toLowerCase().indexOf((i[3]||"").toLowerCase())>=0};var o=function(t,e){this.$element=n(t),this.options=n.extend({},o.DEFAULTS,{placeholder:t.getAttribute("placeholder")||o.DEFAULTS.placeholder},e),this.$originalOptions=this.$element.find("option"),this.multiple=t.multiple,this.$selector=null,this.initialized=!1,this.init()};o.DEFAULTS={btnWidth:null,btnSize:null,btnStyle:"default",dropUp:0,maxHeight:null,maxChecked:null,placeholder:"\u70b9\u51fb\u9009\u62e9...",selectedClass:"am-checked",disabledClass:"am-disabled",searchBox:!1,tpl:'<div class="am-selected am-dropdown <%= dropUp ? \'am-dropdown-up\': \'\' %>" id="<%= id %>" data-am-dropdown>  <button type="button" class="am-selected-btn am-btn am-dropdown-toggle">    <span class="am-selected-status am-fl"></span>    <i class="am-selected-icon am-icon-caret-<%= dropUp ? \'up\' : \'down\' %>"></i>  </button>  <div class="am-selected-content am-dropdown-content">    <h2 class="am-selected-header"><span class="am-icon-chevron-left">\u8fd4\u56de</span></h2>   <% if (searchBox) { %>   <div class="am-selected-search">     <input autocomplete="off" class="am-form-field am-input-sm" />   </div>   <% } %>    <ul class="am-selected-list">      <% for (var i = 0; i < options.length; i++) { %>       <% var option = options[i] %>       <% if (option.header) { %>  <li data-group="<%= option.group %>" class="am-selected-list-header">       <%= option.text %></li>       <% } else { %>       <li class="<%= option.classNames%>"          data-index="<%= option.index %>"          data-group="<%= option.group || 0 %>"          data-value="<%= option.value %>" >         <span class="am-selected-text"><%= option.text %></span>         <i class="am-icon-check"></i></li>      <% } %>      <% } %>    </ul>    <div class="am-selected-hint"></div>  </div></div>',listTpl:'<% for (var i = 0; i < options.length; i++) { %>       <% var option = options[i] %>       <% if (option.header) { %>  <li data-group="<%= option.group %>" class="am-selected-list-header">       <%= option.text %></li>       <% } else { %>       <li class="<%= option.classNames %>"          data-index="<%= option.index %>"          data-group="<%= option.group || 0 %>"          data-value="<%= option.value %>" >         <span class="am-selected-text"><%= option.text %></span>         <i class="am-icon-check"></i></li>      <% } %>      <% } %>'},o.prototype.init=function(){var t=this,e=this.$element,i=this.options;e.hide();var o={id:s.utils.generateGUID("am-selected"),multiple:this.multiple,options:[],searchBox:i.searchBox,dropUp:i.dropUp,placeholder:i.placeholder};this.$selector=n(s.template(this.options.tpl,o)),this.$selector.css({width:this.options.btnWidth}),this.$list=this.$selector.find(".am-selected-list"),this.$searchField=this.$selector.find(".am-selected-search input"),this.$hint=this.$selector.find(".am-selected-hint");var a=this.$selector.find(".am-selected-btn"),r=[];i.btnSize&&r.push("am-btn-"+i.btnSize),i.btnStyle&&r.push("am-btn-"+i.btnStyle),a.addClass(r.join(" ")),this.$selector.dropdown({justify:a}),e[0].disabled&&this.disable(),i.maxHeight&&this.$selector.find(".am-selected-list").css({"max-height":i.maxHeight,"overflow-y":"scroll"});var l=[],c=e.attr("minchecked"),u=e.attr("maxchecked")||i.maxChecked;this.maxChecked=u||1/0,e[0].required&&l.push("\u5fc5\u9009"),(c||u)&&(c&&l.push("\u81f3\u5c11\u9009\u62e9 "+c+" \u9879"),u&&l.push("\u81f3\u591a\u9009\u62e9 "+u+" \u9879")),this.$hint.text(l.join("\uff0c")),this.renderOptions(),this.$element.after(this.$selector),this.dropdown=this.$selector.data("amui.dropdown"),this.$status=this.$selector.find(".am-selected-status"),setTimeout(function(){t.syncData(),t.initialized=!0},0),this.bindEvents()},o.prototype.renderOptions=function(){function t(t,e,s){if(""===e.value)return!0;var o="";e.disabled&&(o+=i.disabledClass),!e.disabled&&e.selected&&(o+=i.selectedClass),n.push({group:s,index:t,classNames:o,text:e.text,value:e.value})}var e=this.$element,i=this.options,n=[],o=e.find("optgroup");this.$originalOptions=this.$element.find("option"),this.multiple||null!==e.val()||this.$originalOptions.length&&(this.$originalOptions.get(0).selected=!0),o.length?o.each(function(e){n.push({header:!0,group:e+1,text:this.label}),o.eq(e).find("option").each(function(i,n){t(i,n,e)})}):this.$originalOptions.each(function(e,i){t(e,i,null)}),this.$list.html(s.template(i.listTpl,{options:n})),this.$shadowOptions=this.$list.find("> li").not(".am-selected-list-header")},o.prototype.setChecked=function(t){var e=this.options,i=n(t),s=i.hasClass(e.selectedClass);if(this.multiple){var o=this.$list.find("."+e.selectedClass).length;if(!s&&this.maxChecked<=o)return this.$element.trigger("checkedOverflow.selected.amui",{selected:this}),!1}else{if(this.dropdown.close(),s)return!1;this.$shadowOptions.not(i).removeClass(e.selectedClass)}i.toggleClass(e.selectedClass),this.syncData(t)},o.prototype.syncData=function(t){var e=this,i=this.options,s=[],o=n([]);if(this.$shadowOptions.filter("."+i.selectedClass).each(function(){var i=n(this);s.push(i.find(".am-selected-text").text()),t||(o=o.add(e.$originalOptions.filter('[value="'+i.data("value")+'"]').prop("selected",!0)))}),t){var a=n(t);this.$originalOptions.filter('[value="'+a.data("value")+'"]').prop("selected",a.hasClass(i.selectedClass))}else this.$originalOptions.not(o).prop("selected",!1);this.$element.val()||(s=[i.placeholder]),this.$status.text(s.join(", ")),this.initialized&&this.$element.trigger("change")},o.prototype.bindEvents=function(){var t=this,e="am-selected-list-header",i=s.utils.debounce(function(i){t.$shadowOptions.not("."+e).hide().filter(':containsNC("'+i.target.value+'")').show()},100);this.$list.on("click","> li",function(i){var s=n(this);!s.hasClass(t.options.disabledClass)&&!s.hasClass(e)&&t.setChecked(this)}),this.$searchField.on("keyup.selected.amui",i),this.$selector.on("closed.dropdown.amui",function(){t.$searchField.val(""),t.$shadowOptions.css({display:""})}),this.$element.on("validated.field.validator.amui",function(e){if(e.validity){var i=e.validity.valid,n="am-invalid";t.$selector[(i?"remove":"add")+"Class"](n)}}),s.support.mutationobserver&&(this.observer=new s.support.mutationobserver(function(){t.$element.trigger("changed.selected.amui")}),this.observer.observe(this.$element[0],{childList:!0,subtree:!0,characterData:!0})),this.$element.on("changed.selected.amui",function(){t.renderOptions(),t.syncData()})},o.prototype.select=function(t){var e;e="number"==typeof t?this.$list.find("> li").not(".am-selected-list-header").eq(t):"string"==typeof t?this.$list.find(t):n(t),e.trigger("click")},o.prototype.enable=function(){this.$element.prop("disable",!1),this.$selector.dropdown("enable")},o.prototype.disable=function(){this.$element.prop("disable",!0),this.$selector.dropdown("disable")},o.prototype.destroy=function(){this.$element.removeData("amui.selected").show(),this.$selector.remove()},s.plugin("selected",o),s.ready(function(t){n("[data-am-selected]",t).selected()}),t.exports=o},function(t,e,i){"use strict";i(15);var n=i(1),s=i(2),o=i(26),a=document,r=n(a),l=function(t){this.options=n.extend({},l.DEFAULTS,t||{}),this.$element=null,this.$wechatQr=null,this.pics=null,this.inited=!1,this.active=!1};l.DEFAULTS={sns:["weibo","qq","qzone","tqq","wechat","renren"],title:"\u5206\u4eab\u5230",cancel:"\u53d6\u6d88",closeOnShare:!0,id:s.utils.generateGUID("am-share"),desc:"Hi\uff0c\u5b64\u591c\u89c2\u5929\u8c61\uff0c\u53d1\u73b0\u4e00\u4e2a\u4e0d\u9519\u7684\u897f\u897f\uff0c\u5206\u4eab\u4e00\u4e0b\u4e0b ;-)",via:"Amaze UI",tpl:'<div class="am-share am-modal-actions" id="<%= id %>"><h3 class="am-share-title"><%= title %></h3><ul class="am-share-sns am-avg-sm-3"><% for(var i = 0; i < sns.length; i++) {%><li><a href="<%= sns[i].shareUrl %>" data-am-share-to="<%= sns[i].id %>" ><i class="am-icon-<%= sns[i].icon %>"></i><span><%= sns[i].title %></span></a></li><% } %></ul><div class="am-share-footer"><button class="am-btn am-btn-default am-btn-block" data-am-share-close><%= cancel %></button></div></div>'},l.SNS={weibo:{title:"\u65b0\u6d6a\u5fae\u535a",url:"http://service.weibo.com/share/share.php",width:620,height:450,icon:"weibo"},qq:{title:"QQ \u597d\u53cb",url:"http://connect.qq.com/widget/shareqq/index.html",icon:"qq"},qzone:{title:"QQ \u7a7a\u95f4",url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",icon:"star"},tqq:{title:"\u817e\u8baf\u5fae\u535a",url:"http://v.t.qq.com/share/share.php",icon:"tencent-weibo"},wechat:{title:"\u5fae\u4fe1",url:"[qrcode]",icon:"wechat"},renren:{title:"\u4eba\u4eba\u7f51",url:"http://widget.renren.com/dialog/share",icon:"renren"},douban:{title:"\u8c46\u74e3",url:"http://www.douban.com/recommend/",icon:"share-alt"},mail:{title:"\u90ae\u4ef6\u5206\u4eab",url:"mailto:",icon:"envelope-o"},sms:{title:"\u77ed\u4fe1\u5206\u4eab",url:"sms:",icon:"comment"}},l.prototype.render=function(){var t=this.options,e=[],i=encodeURIComponent(a.title),o=encodeURIComponent(a.location),r="?body="+i+o;return t.sns.forEach(function(n,s){if(l.SNS[n]){var a,c=l.SNS[n];c.id=n,a="mail"===n?r+"&subject="+t.desc:"sms"===n?r:"?url="+o+"&title="+i,c.shareUrl=c.url+a,e.push(c)}}),s.template(t.tpl,n.extend({},t,{sns:e}))},l.prototype.init=function(){if(!this.inited){var t=this,e="[data-am-share-to]";r.ready(n.proxy(function(){n("body").append(this.render()),this.$element=n("#"+this.options.id),this.$element.find("[data-am-share-close]").on("click.share.amui",function(){t.close()})},this)),r.on("click.share.amui",e,n.proxy(function(t){var i=n(t.target),s=i.is(e)&&i||i.parent(e),o=s.attr("data-am-share-to");"mail"!==o&&"sms"!==o&&(t.preventDefault(),this.shareTo(o,this.setData(o))),this.close()},this)),this.inited=!0}},l.prototype.open=function(){!this.inited&&this.init(),this.$element&&this.$element.modal("open"),this.$element.trigger("open.share.amui"),this.active=!0},l.prototype.close=function(){this.$element&&this.$element.modal("close"),this.$element.trigger("close.share.amui"),this.active=!1},l.prototype.toggle=function(){this.active?this.close():this.open()},l.prototype.setData=function(t){if(t){var e={url:a.location,title:a.title},i=this.options.desc,n=this.pics||[],s=/^(qzone|qq|tqq)$/;if(s.test(t)&&!n.length){for(var o=a.images,r=0;r<o.length&&r<10;r++)!!o[r].src&&n.push(encodeURIComponent(o[r].src));this.pics=n}switch(t){case"qzone":e.desc=i,e.site=this.options.via,e.pics=n.join("|");break;case"qq":e.desc=i,e.site=this.options.via,e.pics=n[0];break;case"tqq":e.pic=n.join("|")}return e}},l.prototype.shareTo=function(t,e){var i=l.SNS[t];if(i){if("wechat"===t||"weixin"===t)return this.wechatQr();var n=[];for(var s in e)e[s]&&n.push(s.toString()+"="+("pic"===s||"pics"===s?e[s]:encodeURIComponent(e[s])));window.open(i.url+"?"+n.join("&"))}},l.prototype.wechatQr=function(){if(!this.$wechatQr){var t=s.utils.generateGUID("am-share-wechat"),e=n('<div class="am-modal am-modal-no-btn am-share-wechat-qr"><div class="am-modal-dialog"><div class="am-modal-hd">\u5206\u4eab\u5230\u5fae\u4fe1 <a href="" class="am-close am-close-spin" data-am-modal-close>&times;</a> </div><div class="am-modal-bd"><div class="am-share-wx-qr"></div><div class="am-share-wechat-tip">\u6253\u5f00\u5fae\u4fe1\uff0c\u70b9\u51fb\u5e95\u90e8\u7684<em>\u53d1\u73b0</em>\uff0c<br/> \u4f7f\u7528<em>\u626b\u4e00\u626b</em>\u5c06\u7f51\u9875\u5206\u4eab\u81f3\u670b\u53cb\u5708</div></div></div></div>');e.attr("id",t);var i=new o({render:"canvas",correctLevel:0,text:a.location.href,width:180,height:180,background:"#fff",foreground:"#000"});e.find(".am-share-wx-qr").html(i),e.appendTo(n("body")),this.$wechatQr=n("#"+t)}this.$wechatQr.modal("open")};var c=new l;r.on("click.share.amui.data-api",'[data-am-toggle="share"]',function(t){t.preventDefault(),c.toggle()}),t.exports=s.share=c},function(t,e,i){function n(t){return t<128?[t]:t<2048?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function s(t){for(var e=[],i=0;i<t.length;i++)for(var s=t.charCodeAt(i),o=n(s),a=0;a<o.length;a++)e.push(o[a]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=s(t),this.make()}function a(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function r(){this.buffer=new Array,this.length=0}function n(t){return t<128?[t]:t<2048?(c0=192+(t>>6),c1=128+(63&t),[c0,c1]):(c0=224+(t>>12),c1=128+(t>>6&63),c2=128+(63&t),[c0,c1,c2])}function s(t){for(var e=[],i=0;i<t.length;i++)for(var s=t.charCodeAt(i),o=n(s),a=0;a<o.length;a++)e.push(o[a]);return e}function o(t,e){this.typeNumber=-1,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=t,this.utf8bytes=s(t),this.make()}function a(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}function r(){this.buffer=new Array,this.length=0}var c=i(1),u=i(2),h=[],d=function(t){"string"==typeof t&&(t={text:t}),this.options=c.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},t);for(var e=null,i=0,n=h.length;i<n;i++)if(h[i].text==this.options.text&&h[i].text.correctLevel==this.options.correctLevel){e=h[i].obj;break}if(i==n&&(e=new o(this.options.text,this.options.correctLevel),h.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};d.prototype.createDefault=function(t){var e=document.createElement("canvas");return e.getContext?this.createCanvas(t):document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(t):this.createTable(t)},d.prototype.createCanvas=function(t){var e=document.createElement("canvas");e.width=this.options.width,e.height=this.options.height;for(var i=e.getContext("2d"),n=(this.options.width/t.getModuleCount()).toPrecision(4),s=this.options.height/t.getModuleCount().toPrecision(4),o=0;o<t.getModuleCount();o++)for(var a=0;a<t.getModuleCount();a++){i.fillStyle=t.modules[o][a]?this.options.foreground:this.options.background;var r=Math.ceil((a+1)*n)-Math.floor(a*n),l=Math.ceil((o+1)*n)-Math.floor(o*n);i.fillRect(Math.round(a*n),Math.round(o*s),r,l)}return e},d.prototype.createTable=function(t){var e=[];e.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var i=-1,n=-1,s=-1,o=-1;i=s=Math.floor(this.options.width/t.getModuleCount()),n=o=Math.floor(this.options.height/t.getModuleCount()),s<=0&&(i=t.getModuleCount()<80?2:1),o<=0&&(n=t.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+i+"px; background-color: "+this.options.background+'"></td>',l=t.getModuleCount();for(var a=0;a<l;a++){e.push('<tr style="border:0px; margin:0px; padding:0px; height: '+n+'px">');for(var r=0;r<l;r++)e.push(t.modules[a][r]?foreTd:backTd);e.push("</tr>")}e.push("</table>");var c=document.createElement("span");return c.innerHTML=e.join(""),c.firstChild},d.prototype.createSVG=function(t){for(var e,i,n,s,o=t.getModuleCount(),a=this.options.height/this.options.width,r='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*o+" "+10*o*a+'">',l="<path ",u=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',h=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',d=0;d<o;d++)for(var p=0;p<o;p++)e=10*p,n=10*d*a,i=10*(p+1),s=10*(d+1)*a,r+=l+'d="M '+e+","+n+" L "+i+","+n+" L "+i+","+s+" L "+e+","+s+' Z"',r+=t.modules[d][p]?u:h;return r+="</svg>",c(r)[0]},o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4?this.modules[t+i][e+n]=!0:this.modules[t+i][e+n]=!1)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;n<8;n++){this.makeImpl(n);var s=f.getLostPoint(this);(0==n||t>s)&&(t=s,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],s=t[i];if(null==this.modules[n][s])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)o==-2||2==o||a==-2||2==a||0==o&&0==a?this.modules[n+o][s+a]=!0:this.modules[n+o][s+a]=!1}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=p[this.errorCorrectLevel]<<3|e,n=f.getBCHTypeInfo(i),s=0;s<15;s++){var o=!t&&1==(n>>s&1);s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o;var o=!t&&1==(n>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new r,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;i<n;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,s=this.rsBlock.length/3,o=new Array,r=0;r<s;r++)for(var l=this.rsBlock[3*r+0],c=this.rsBlock[3*r+1],u=this.rsBlock[3*r+2],h=0;h<l;h++)o.push([u,c]);for(var d=new Array(o.length),p=new Array(o.length),m=0;m<o.length;m++){var v=o[m][0],g=o[m][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[m]=new Array(v);for(var r=0;r<d[m].length;r++)d[m][r]=255&t.buffer[r+e];e+=v;var y=f.getErrorCorrectPolynomial(g),w=new a(d[m],y.getLength()-1),b=w.mod(y);p[m]=new Array(y.getLength()-1);for(var r=0;r<p[m].length;r++){var T=r+b.getLength()-p[m].length;p[m][r]=T>=0?b.get(T):0}}for(var x=new Array(this.totalDataCount),C=0,r=0;r<i;r++)for(var m=0;m<o.length;m++)r<d[m].length&&(x[C++]=d[m][r]);for(var r=0;r<n;r++)for(var m=0;m<o.length;m++)r<p[m].length&&(x[C++]=p[m][r]);return x},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,s=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var r=0;r<2;r++)if(null==this.modules[n][a-r]){var l=!1;o<t.length&&(l=1==(t[o]>>>s&1));var c=f.getMask(e,n,a-r);c&&(l=!l),this.modules[n][a-r]=l,s--,s==-1&&(o++,s=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17;for(var p=[1,0,3,2],m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case m.PATTERN000:return(e+i)%2==0;case m.PATTERN001:return e%2==0;case m.PATTERN010:return i%3==0;case m.PATTERN011:return(e+i)%3==0;case m.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case m.PATTERN101:return e*i%2+e*i%3==0;case m.PATTERN110:return(e*i%2+e*i%3)%2==0;case m.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),i=0;i<t;i++)e=e.multiply(new a([1,v.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,s=0;s<e;s++)for(var o=0,a=t.modules[s][0],r=0;r<e;r++){var l=t.modules[s][r];if(r<e-6&&l&&!t.modules[s][r+1]&&t.modules[s][r+2]&&t.modules[s][r+3]&&t.modules[s][r+4]&&!t.modules[s][r+5]&&t.modules[s][r+6]&&(r<e-10?t.modules[s][r+7]&&t.modules[s][r+8]&&t.modules[s][r+9]&&t.modules[s][r+10]&&(i+=40):r>3&&t.modules[s][r-1]&&t.modules[s][r-2]&&t.modules[s][r-3]&&t.modules[s][r-4]&&(i+=40)),s<e-1&&r<e-1){var c=0;l&&c++,t.modules[s+1][r]&&c++,t.modules[s][r+1]&&c++,t.modules[s+1][r+1]&&c++,0!=c&&4!=c||(i+=3)}a^l?o++:(a=l,o>=5&&(i+=3+o-5),o=1),l&&n++}for(var r=0;r<e;r++)for(var o=0,a=t.modules[0][r],s=0;s<e;s++){var l=t.modules[s][r];s<e-6&&l&&!t.modules[s+1][r]&&t.modules[s+2][r]&&t.modules[s+3][r]&&t.modules[s+4][r]&&!t.modules[s+5][r]&&t.modules[s+6][r]&&(s<e-10?t.modules[s+7][r]&&t.modules[s+8][r]&&t.modules[s+9][r]&&t.modules[s+10][r]&&(i+=40):s>3&&t.modules[s-1][r]&&t.modules[s-2][r]&&t.modules[s-3][r]&&t.modules[s-4][r]&&(i+=40)),
a^l?o++:(a=l,o>=5&&(i+=3+o-5),o=1)}var u=Math.abs(100*n/e/e-50)/5;return i+=10*u}},v={glog:function(t){if(t<1)throw new Error("glog("+t+")");return v.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return v.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)v.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)v.EXP_TABLE[g]=v.EXP_TABLE[g-4]^v.EXP_TABLE[g-5]^v.EXP_TABLE[g-6]^v.EXP_TABLE[g-8];for(var g=0;g<255;g++)v.LOG_TABLE[v.EXP_TABLE[g]]=g;a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=v.gexp(v.glog(this.get(i))+v.glog(t.get(n)));return new a(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(e-i<0)return this;for(var n=new Array(e),s=0;s<e;s++)n[s]=this.get(s);for(;n.length>=i;){for(var o=v.glog(n[0])-v.glog(t.get(0)),s=0;s<t.getLength();s++)n[s]^=v.gexp(v.glog(t.get(s))+o);for(;0==n[0];)n.shift()}return new a(n,0)}};var y=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];o.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=y[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,s=0;s<i;s++){var o=e[3*s+0],a=e[3*s+2];n+=a*o}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},r.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;i<e;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},o.prototype={constructor:o,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[e]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,t),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4?this.modules[t+i][e+n]=!0:this.modules[t+i][e+n]=!1)},createQrcode:function(){for(var t=0,e=0,i=null,n=0;n<8;n++){this.makeImpl(n);var s=f.getLostPoint(this);(0==n||t>s)&&(t=s,e=n,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,e),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0,null==this.modules[6][t]&&(this.modules[6][t]=t%2==0))},setupPositionAdjustPattern:function(){for(var t=f.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],s=t[i];if(null==this.modules[n][s])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)o==-2||2==o||a==-2||2==a||0==o&&0==a?this.modules[n+o][s+a]=!0:this.modules[n+o][s+a]=!1}},setupTypeNumber:function(t){for(var e=f.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}},setupTypeInfo:function(t,e){for(var i=p[this.errorCorrectLevel]<<3|e,n=f.getBCHTypeInfo(i),s=0;s<15;s++){var o=!t&&1==(n>>s&1);s<6?this.modules[s][8]=o:s<8?this.modules[s+1][8]=o:this.modules[this.moduleCount-15+s][8]=o;var o=!t&&1==(n>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!t},createData:function(){var t=new r,e=this.typeNumber>9?16:8;t.put(4,4),t.put(this.utf8bytes.length,e);for(var i=0,n=this.utf8bytes.length;i<n;i++)t.put(this.utf8bytes[i],8);for(t.length+4<=8*this.totalDataCount&&t.put(0,4);t.length%8!=0;)t.putBit(!1);for(;;){if(t.length>=8*this.totalDataCount)break;if(t.put(o.PAD0,8),t.length>=8*this.totalDataCount)break;t.put(o.PAD1,8)}return this.createBytes(t)},createBytes:function(t){for(var e=0,i=0,n=0,s=this.rsBlock.length/3,o=new Array,r=0;r<s;r++)for(var l=this.rsBlock[3*r+0],c=this.rsBlock[3*r+1],u=this.rsBlock[3*r+2],h=0;h<l;h++)o.push([u,c]);for(var d=new Array(o.length),p=new Array(o.length),m=0;m<o.length;m++){var v=o[m][0],g=o[m][1]-v;i=Math.max(i,v),n=Math.max(n,g),d[m]=new Array(v);for(var r=0;r<d[m].length;r++)d[m][r]=255&t.buffer[r+e];e+=v;var y=f.getErrorCorrectPolynomial(g),w=new a(d[m],y.getLength()-1),b=w.mod(y);p[m]=new Array(y.getLength()-1);for(var r=0;r<p[m].length;r++){var T=r+b.getLength()-p[m].length;p[m][r]=T>=0?b.get(T):0}}for(var x=new Array(this.totalDataCount),C=0,r=0;r<i;r++)for(var m=0;m<o.length;m++)r<d[m].length&&(x[C++]=d[m][r]);for(var r=0;r<n;r++)for(var m=0;m<o.length;m++)r<p[m].length&&(x[C++]=p[m][r]);return x},mapData:function(t,e){for(var i=-1,n=this.moduleCount-1,s=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var r=0;r<2;r++)if(null==this.modules[n][a-r]){var l=!1;o<t.length&&(l=1==(t[o]>>>s&1));var c=f.getMask(e,n,a-r);c&&(l=!l),this.modules[n][a-r]=l,s--,s==-1&&(o++,s=7)}if(n+=i,n<0||this.moduleCount<=n){n-=i,i=-i;break}}}},o.PAD0=236,o.PAD1=17;for(var p=[1,0,3,2],m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;f.getBCHDigit(e)-f.getBCHDigit(f.G15)>=0;)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;f.getBCHDigit(e)-f.getBCHDigit(f.G18)>=0;)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return f.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,i){switch(t){case m.PATTERN000:return(e+i)%2==0;case m.PATTERN001:return e%2==0;case m.PATTERN010:return i%3==0;case m.PATTERN011:return(e+i)%3==0;case m.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case m.PATTERN101:return e*i%2+e*i%3==0;case m.PATTERN110:return(e*i%2+e*i%3)%2==0;case m.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new a([1],0),i=0;i<t;i++)e=e.multiply(new a([1,v.gexp(i)],0));return e},getLostPoint:function(t){for(var e=t.getModuleCount(),i=0,n=0,s=0;s<e;s++)for(var o=0,a=t.modules[s][0],r=0;r<e;r++){var l=t.modules[s][r];if(r<e-6&&l&&!t.modules[s][r+1]&&t.modules[s][r+2]&&t.modules[s][r+3]&&t.modules[s][r+4]&&!t.modules[s][r+5]&&t.modules[s][r+6]&&(r<e-10?t.modules[s][r+7]&&t.modules[s][r+8]&&t.modules[s][r+9]&&t.modules[s][r+10]&&(i+=40):r>3&&t.modules[s][r-1]&&t.modules[s][r-2]&&t.modules[s][r-3]&&t.modules[s][r-4]&&(i+=40)),s<e-1&&r<e-1){var c=0;l&&c++,t.modules[s+1][r]&&c++,t.modules[s][r+1]&&c++,t.modules[s+1][r+1]&&c++,0!=c&&4!=c||(i+=3)}a^l?o++:(a=l,o>=5&&(i+=3+o-5),o=1),l&&n++}for(var r=0;r<e;r++)for(var o=0,a=t.modules[0][r],s=0;s<e;s++){var l=t.modules[s][r];s<e-6&&l&&!t.modules[s+1][r]&&t.modules[s+2][r]&&t.modules[s+3][r]&&t.modules[s+4][r]&&!t.modules[s+5][r]&&t.modules[s+6][r]&&(s<e-10?t.modules[s+7][r]&&t.modules[s+8][r]&&t.modules[s+9][r]&&t.modules[s+10][r]&&(i+=40):s>3&&t.modules[s-1][r]&&t.modules[s-2][r]&&t.modules[s-3][r]&&t.modules[s-4][r]&&(i+=40)),a^l?o++:(a=l,o>=5&&(i+=3+o-5),o=1)}var u=Math.abs(100*n/e/e-50)/5;return i+=10*u}},v={glog:function(t){if(t<1)throw new Error("glog("+t+")");return v.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return v.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)v.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)v.EXP_TABLE[g]=v.EXP_TABLE[g-4]^v.EXP_TABLE[g-5]^v.EXP_TABLE[g-6]^v.EXP_TABLE[g-8];for(var g=0;g<255;g++)v.LOG_TABLE[v.EXP_TABLE[g]]=g;a.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=v.gexp(v.glog(this.get(i))+v.glog(t.get(n)));return new a(e,0)},mod:function(t){var e=this.getLength(),i=t.getLength();if(e-i<0)return this;for(var n=new Array(e),s=0;s<e;s++)n[s]=this.get(s);for(;n.length>=i;){for(var o=v.glog(n[0])-v.glog(t.get(0)),s=0;s<t.getLength();s++)n[s]^=v.gexp(v.glog(t.get(s))+o);for(;0==n[0];)n.shift()}return new a(n,0)}},y=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.prototype.getRightType=function(){for(var t=1;t<41;t++){var e=y[4*(t-1)+this.errorCorrectLevel];if(void 0==e)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=e.length/3,n=0,s=0;s<i;s++){var o=e[3*s+0],a=e[3*s+2];n+=a*o}var r=t>9?2:1;if(this.utf8bytes.length+r<n||40==t){this.typeNumber=t,this.rsBlock=e,this.totalDataCount=n;break}}},r.prototype={get:function(t){var e=Math.floor(t/8);return this.buffer[e]>>>7-t%8&1},put:function(t,e){for(var i=0;i<e;i++)this.putBit(t>>>e-i-1&1)},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},c.fn.qrcode=function(t){return this.each(function(){c(this).append(new d(t))})},t.exports=u.qrcode=d},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){var i=this;this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t),this.sticked=null,this.inited=null,this.$holder=void 0,this.$window=n(window).on("scroll.sticky.amui",s.utils.debounce(n.proxy(this.checkPosition,this),10)).on("resize.sticky.amui orientationchange.sticky.amui",s.utils.debounce(function(){i.reset(!0,function(){i.checkPosition()})},50)).on("load.sticky.amui",n.proxy(this.checkPosition,this)),this.offset=this.$element.offset(),this.init()};o.DEFAULTS={top:0,bottom:0,animation:"",className:{sticky:"am-sticky",resetting:"am-sticky-resetting",stickyBtm:"am-sticky-bottom",animationRev:"am-animation-reverse"}},o.prototype.init=function(){var t=this.check();if(!t)return!1;var e=this.$element,i="";n.each(e.css(["marginTop","marginRight","marginBottom","marginLeft"]),function(t,e){return i+=" "+e});var s=n('<div class="am-sticky-placeholder"></div>').css({height:"absolute"!==e.css("position")?e.outerHeight():"","float":"none"!=e.css("float")?e.css("float"):"",margin:i});return this.$holder=e.css("margin",0).wrap(s).parent(),this.inited=1,!0},o.prototype.reset=function(t,e){var i=this.options,n=this.$element,o=i.animation?" am-animation-"+i.animation:"",a=function(){n.css({position:"",top:"",width:"",left:"",margin:0}),n.removeClass([o,i.className.animationRev,i.className.sticky,i.className.resetting].join(" ")),this.animating=!1,this.sticked=!1,this.offset=n.offset(),e&&e()}.bind(this);n.addClass(i.className.resetting),!t&&i.animation&&s.support.animation?(this.animating=!0,n.removeClass(o).one(s.support.animation.end,function(){a()}).width(),n.addClass(o+" "+i.className.animationRev)):a()},o.prototype.check=function(){if(!this.$element.is(":visible"))return!1;var t=this.options.media;if(t)switch(typeof t){case"number":if(window.innerWidth<t)return!1;break;case"string":if(window.matchMedia&&!window.matchMedia(t).matches)return!1}return!0},o.prototype.checkPosition=function(){if(!this.inited){var t=this.init();if(!t)return}var e=this.options,i=this.$window.scrollTop(),n=e.top,s=e.bottom,o=this.$element,a=e.animation?" am-animation-"+e.animation:"",r=[e.className.sticky,a].join(" ");"function"==typeof s&&(s=s(this.$element));var l=i>this.$holder.offset().top;!this.sticked&&l?o.addClass(r):this.sticked&&!l&&this.reset(),this.$holder.css({height:o.is(":visible")&&"absolute"!==o.css("position")?o.outerHeight():""}),l&&o.css({top:n,left:this.$holder.offset().left,width:this.$holder.width()}),this.sticked=l},s.plugin("sticky",o),n(window).on("load",function(){n("[data-am-sticky]").sticky()}),t.exports=o},function(t,e,i){"use strict";function n(t){var e,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=s(this),a=n.is(".am-tabs")&&n||n.closest(".am-tabs"),r=a.data("amui.tabs"),l=s.extend({},o.utils.parseOptions(n.data("amTabs")),s.isPlainObject(t)&&t);r||a.data("amui.tabs",r=new c(a[0],l)),"string"==typeof t&&("open"===t&&n.is(".am-tabs-nav a")?r.open(n):e="function"==typeof r[t]?r[t].apply(r,i):r[t])}),void 0===e?this:e}var s=i(1),o=i(2),a=i(3),r=o.support.transition,l=o.support.animation,c=function(t,e){this.$element=s(t),this.options=s.extend({},c.DEFAULTS,e||{}),this.transitioning=this.activeIndex=null,this.refresh(),this.init()};c.DEFAULTS={selector:{nav:"> .am-tabs-nav",content:"> .am-tabs-bd",panel:"> .am-tab-panel"},activeClass:"am-active"},c.prototype.refresh=function(){var t=this.options.selector;this.$tabNav=this.$element.find(t.nav),this.$navs=this.$tabNav.find("a"),this.$content=this.$element.find(t.content),this.$tabPanels=this.$content.find(t.panel);var e=this.$tabNav.find("> ."+this.options.activeClass);1!==e.length?this.open(0):this.activeIndex=this.$navs.index(e.children("a"))},c.prototype.init=function(){var t=this,e=this.options;if(this.$element.on("click.tabs.amui",e.selector.nav+" a",function(e){e.preventDefault(),t.open(s(this))}),!e.noSwipe){if(!this.$content.length)return this;var i=new a.Manager(this.$content[0]),n=new a.Swipe({direction:a.DIRECTION_HORIZONTAL});i.add(n),i.on("swipeleft",o.utils.debounce(function(e){e.preventDefault(),t.goTo("next")},100)),i.on("swiperight",o.utils.debounce(function(e){e.preventDefault(),t.goTo("prev")},100)),this._hammer=i}},c.prototype.open=function(t){var e=this.options.activeClass,i="number"==typeof t?t:this.$navs.index(s(t));if(t="number"==typeof t?this.$navs.eq(i):s(t),t&&t.length&&!this.transitioning&&!t.parent("li").hasClass(e)){var n=this.$tabNav,o=t.attr("href"),a=/^#.+$/,r=a.test(o)&&this.$content.find(o)||this.$tabPanels.eq(i),l=n.find("."+e+" a")[0],c=s.Event("open.tabs.amui",{relatedTarget:l});t.trigger(c),c.isDefaultPrevented()||(this.activate(t.closest("li"),n),this.activate(r,this.$content,function(){t.trigger({type:"opened.tabs.amui",relatedTarget:l})}),this.activeIndex=i)}},c.prototype.activate=function(t,e,i){this.transitioning=!0;var n=this.options.activeClass,o=e.find("> ."+n),a=i&&r&&!!o.length;o.removeClass(n+" am-in"),t.addClass(n),a?(t.redraw(),t.addClass("am-in")):t.removeClass("am-fade");var l=s.proxy(function(){i&&i(),this.transitioning=!1},this);a&&!this.$content.is(".am-tabs-bd-ofv")?o.one(r.end,l):l()},c.prototype.goTo=function(t){var e=this.activeIndex,i="next"===t,n=i?"am-animation-right-spring":"am-animation-left-spring";if(i&&e+1>=this.$navs.length||!i&&0===e){var s=this.$tabPanels.eq(e);l&&s.addClass(n).on(l.end,function(){s.removeClass(n)})}else this.open(i?e+1:e-1)},c.prototype.destroy=function(){this.$element.off(".tabs.amui"),a.off(this.$content[0],"swipeleft swiperight"),this._hammer&&this._hammer.destroy(),s.removeData(this.$element,"amui.tabs")},s.fn.tabs=n,o.ready(function(t){s("[data-am-tabs]",t).tabs()}),s(document).on("click.tabs.amui.data-api","[data-am-tabs] .am-tabs-nav a",function(t){t.preventDefault(),n.call(s(this),"open")}),t.exports=o.tabs=c},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){this.options=n.extend({},o.DEFAULTS,e),this.$element=n(t),this.init()};o.DEFAULTS={checkboxClass:"am-ucheck-checkbox",radioClass:"am-ucheck-radio",checkboxTpl:'<span class="am-ucheck-icons"><i class="am-icon-unchecked"></i><i class="am-icon-checked"></i></span>',radioTpl:'<span class="am-ucheck-icons"><i class="am-icon-unchecked"></i><i class="am-icon-checked"></i></span>'},o.prototype.init=function(){var t=this.$element,e=t[0],i=this.options;"checkbox"===e.type?t.addClass(i.checkboxClass).after(i.checkboxTpl):"radio"===e.type&&t.addClass(i.radioClass).after(i.radioTpl)},o.prototype.check=function(){this.$element.prop("checked",!0).trigger("change.ucheck.amui").trigger("checked.ucheck.amui")},o.prototype.uncheck=function(){this.$element.prop("checked",!1).trigger("change").trigger("unchecked.ucheck.amui")},o.prototype.toggle=function(){this.$element.prop("checked",function(t,e){return!e}).trigger("change.ucheck.amui").trigger("toggled.ucheck.amui")},o.prototype.disable=function(){this.$element.prop("disabled",!0).trigger("change.ucheck.amui").trigger("disabled.ucheck.amui")},o.prototype.enable=function(){this.$element.prop("disabled",!1),this.$element.trigger("change.ucheck.amui").trigger("enabled.ucheck.amui")},o.prototype.destroy=function(){this.$element.removeData("amui.ucheck").removeClass(this.options.checkboxClass+" "+this.options.radioClass).next(".am-ucheck-icons").remove().end().trigger("destroyed.ucheck.amui")},s.plugin("uCheck",o,{after:function(){s.support.touch&&this.parent().hover(function(){n(this).addClass("am-nohover")},function(){n(this).removeClass("am-nohover")})}}),s.ready(function(t){n("[data-am-ucheck]",t).uCheck()}),t.exports=o},function(t,e,i){"use strict";var n=i(1),s=i(2),o=function(t,e){this.options=n.extend({},o.DEFAULTS,e),this.options.patterns=n.extend({},o.patterns,this.options.patterns);var i=this.options.locales;!o.validationMessages[i]&&(this.options.locales="zh_CN"),this.$element=n(t),this.init()};o.DEFAULTS={debug:!1,locales:"zh_CN",H5validation:!1,H5inputType:["email","url","number"],patterns:{},patternClassPrefix:"js-pattern-",activeClass:"am-active",inValidClass:"am-field-error",validClass:"am-field-valid",validateOnSubmit:!0,alwaysRevalidate:!1,allFields:":input:not(:submit, :button, :disabled, .am-novalidate)",ignore:":hidden:not([data-am-selected], .am-validate)",customEvents:"validate",keyboardFields:":input:not(:submit, :button, :disabled, .am-novalidate)",keyboardEvents:"focusout, change",activeKeyup:!1,textareaMaxlenthKeyup:!0,pointerFields:'input[type="range"]:not(:disabled, .am-novalidate), input[type="radio"]:not(:disabled, .am-novalidate), input[type="checkbox"]:not(:disabled, .am-novalidate), select:not(:disabled, .am-novalidate), option:not(:disabled, .am-novalidate)',pointerEvents:"click",onValid:function(t){},onInValid:function(t){},markValid:function(t){var e=this.options,i=n(t.field),s=i.closest(".am-form-group");i.addClass(e.validClass).removeClass(e.inValidClass),s.addClass("am-form-success").removeClass("am-form-error"),e.onValid.call(this,t)},markInValid:function(t){var e=this.options,i=n(t.field),s=i.closest(".am-form-group");i.addClass(e.inValidClass+" "+e.activeClass).removeClass(e.validClass),s.addClass("am-form-error").removeClass("am-form-success"),e.onInValid.call(this,t)},validate:function(t){},submit:null},o.VERSION="2.7.2",o.patterns={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/,url:/^(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,integer:/^-?\d+$/},o.validationMessages={zh_CN:{valueMissing:"\u8bf7\u586b\u5199\uff08\u9009\u62e9\uff09\u6b64\u5b57\u6bb5",customError:{tooShort:"\u81f3\u5c11\u586b\u5199 %s \u4e2a\u5b57\u7b26",checkedOverflow:"\u81f3\u591a\u9009\u62e9 %s \u9879",checkedUnderflow:"\u81f3\u5c11\u9009\u62e9 %s \u9879"},patternMismatch:"\u8bf7\u6309\u7167\u8981\u6c42\u7684\u683c\u5f0f\u586b\u5199",rangeOverflow:"\u8bf7\u586b\u5199\u5c0f\u4e8e\u7b49\u4e8e %s \u7684\u503c",rangeUnderflow:"\u8bf7\u586b\u5199\u5927\u4e8e\u7b49\u4e8e %s \u7684\u503c",stepMismatch:"",tooLong:"\u81f3\u591a\u586b\u5199 %s \u4e2a\u5b57\u7b26",typeMismatch:"\u8bf7\u6309\u7167\u8981\u6c42\u7684\u7c7b\u578b\u586b\u5199"}},o.ERROR_MAP={tooShort:"minlength",checkedOverflow:"maxchecked",checkedUnderflow:"minchecked",rangeOverflow:"max",rangeUnderflow:"min",tooLong:"maxlength"},o.prototype.init=function(){function t(t){var e=t.toString();return e.substring(1,e.length-1)}function e(t,e,a){var r=e.split(","),l=function(t){i.validate(this)};a&&(l=s.utils.debounce(l,a)),n.each(r,function(e,i){o.on(i+".validator.amui",t,l)})}var i=this,o=this.$element,a=this.options;return(!a.H5validation||!s.support.formValidation)&&(o.attr("novalidate","novalidate"),n.each(a.H5inputType,function(e,i){var n=o.find("input[type="+i+"]");n.attr("pattern")||n.is("[class*="+a.patternClassPrefix+"]")||n.attr("pattern",t(a.patterns[i]))}),n.each(a.patterns,function(e,i){var n=o.find("."+a.patternClassPrefix+e);!n.attr("pattern")&&n.attr("pattern",t(i))}),o.on("submit.validator.amui",function(t){if("function"==typeof a.submit)return a.submit.call(i,t);if(a.validateOnSubmit){var e=i.isFormValid();return"boolean"===n.type(e)?e:!!o.data("amui.checked")||(n.when(e).then(function(){o.data("amui.checked",!0).submit()},function(){o.data("amui.checked",!1).find("."+a.inValidClass).eq(0).focus()}),!1)}}),e(":input",a.customEvents),e(a.keyboardFields,a.keyboardEvents),e(a.pointerFields,a.pointerEvents),a.textareaMaxlenthKeyup&&e("textarea[maxlength]","keyup",50),void(a.activeKeyup&&e(".am-active","keyup",50)))},o.prototype.isValid=function(t){var e=n(t),i=this.options;return(void 0===e.data("validity")||i.alwaysRevalidate)&&this.validate(t),e.data("validity")&&e.data("validity").valid},o.prototype.validate=function(t){var e=this,i=this.$element,s=this.options,o=n(t),a=o.data("equalTo");a&&o.attr("pattern","^"+i.find(a).val()+"$");var r=o.attr("pattern")||!1,l=new RegExp(r),c=null,u=null,h=o.is("[type=checkbox]")?(u=i.find('input[name="'+t.name+'"]')).filter(":checked").length:o.is("[type=radio]")?(c=this.$element.find('input[name="'+t.name+'"]')).filter(":checked").length>0:o.val();o=u&&u.length?u.first():o;var d=void 0!==o.attr("required")&&"false"!==o.attr("required"),p=parseInt(o.attr("maxlength"),10),m=parseInt(o.attr("minlength"),10),f=Number(o.attr("min")),v=Number(o.attr("max")),g=this.createValidity({field:o[0],valid:!0});if(s.debug&&window.console&&(console.log("Validate: value -> ["+h+", regex -> ["+l+"], required -> "+d),console.log("Regex test: "+l.test(h)+", Pattern: "+r)),!isNaN(p)&&h.length>p&&(g.valid=!1,g.tooLong=!0),!isNaN(m)&&h.length<m&&(g.valid=!1,g.customError="tooShort"),!isNaN(f)&&Number(h)<f&&(g.valid=!1,g.rangeUnderflow=!0),!isNaN(v)&&Number(h)>v&&(g.valid=!1,g.rangeOverflow=!0),d&&!h)g.valid=!1,g.valueMissing=!0;else if((u||o.is('select[multiple="multiple"]'))&&h){h=u?h:h.length;var y=parseInt(o.attr("minchecked"),10),w=parseInt(o.attr("maxchecked"),10);!isNaN(y)&&h<y&&(g.valid=!1,g.customError="checkedUnderflow"),!isNaN(w)&&h>w&&(g.valid=!1,g.customError="checkedOverflow")}else r&&!l.test(h)&&h&&(g.valid=!1,g.patternMismatch=!0);var b,T=function(t){this.markField(t);var i=n.Event("validated.field.validator.amui");i.validity=t,o.trigger(i).data("validity",t);var s=c||u;return s&&s.not(o).data("validity",t).each(function(){t.field=this,e.markField(t)}),t};if("function"==typeof s.validate&&(b=s.validate.call(this,g)),b){var x=new n.Deferred;return o.data("amui.dfdValidity",x.promise()),n.when(b).always(function(t){x[t.valid?"resolve":"reject"](t),T.call(e,t)})}T.call(this,g)},o.prototype.markField=function(t){var e=this.options,i="mark"+(t.valid?"":"In")+"Valid";e[i]&&e[i].call(this,t)},o.prototype.validateForm=function(){var t=this,e=this.$element,i=this.options,s=e.find(i.allFields).not(i.ignore),o=[],a=!0,r=[],l=n([]),c=[],u=!1;e.trigger("validate.form.validator.amui");var h=s.filter(function(t){var e;if("INPUT"===this.tagName&&"radio"===this.type){if(e=this.name,o[e]===!0)return!1;o[e]=!0;
}return!0});h.each(function(){var i=n(this),s=t.isValid(this),o=i.data("validity");a=!!s&&a,r.push(o),s||(l=l.add(n(this),e));var h=i.data("amui.dfdValidity");if(h)c.push(h),u=!0;else{var d=new n.Deferred;c.push(d.promise()),d[s?"resolve":"reject"](o)}});var d={valid:a,$invalidFields:l,validity:r,promises:c,async:u};return e.trigger("validated.form.validator.amui",d),d},o.prototype.isFormValid=function(){var t=this,e=this.validateForm(),i=function(e){t.$element.trigger(e+".validator.amui")};if(e.async){var s=new n.Deferred;return n.when.apply(null,e.promises).then(function(){s.resolve(),i("valid")},function(){s.reject(),i("invalid")}),s.promise()}if(!e.valid){var o=e.$invalidFields.first();return o.is("[data-am-selected]")&&(o=o.next(".am-selected").find(".am-selected-btn")),o.focus(),i("invalid"),!1}return i("valid"),!0},o.prototype.createValidity=function(t){return n.extend({customError:t.customError||!1,patternMismatch:t.patternMismatch||!1,rangeOverflow:t.rangeOverflow||!1,rangeUnderflow:t.rangeUnderflow||!1,stepMismatch:t.stepMismatch||!1,tooLong:t.tooLong||!1,typeMismatch:t.typeMismatch||!1,valid:t.valid||!0,valueMissing:t.valueMissing||!1},t)},o.prototype.getValidationMessage=function(t){var e,i,s=o.validationMessages[this.options.locales],a="%s",r=n(t.field);return(r.is('[type="checkbox"]')||r.is('[type="radio"]'))&&(r=this.$element.find("[name="+r.attr("name")+"]").first()),n.each(t,function(t,i){return"field"===t||"valid"===t?t:"customError"===t&&i?(e=i,s=s.customError,!1):i===!0?(e=t,!1):void 0}),i=s[e]||void 0,i&&o.ERROR_MAP[e]&&(i=i.replace(a,r.attr(o.ERROR_MAP[e])||"\u89c4\u5b9a\u7684")),i},o.prototype.removeMark=function(){this.$element.find(".am-form-success, .am-form-error, ."+this.options.inValidClass+", ."+this.options.validClass).removeClass(["am-form-success","am-form-error",this.options.inValidClass,this.options.validClass].join(" "))},o.prototype.destroy=function(){this.removeMark(),this.$element.removeData("amui.validator amui.checked").off(".validator.amui").find(this.options.allFields).removeData("validity amui.dfdValidity")},s.plugin("validator",o),s.ready(function(t){n("[data-am-validator]",t).validator()}),t.exports=o},function(t,e,i){"use strict";var n=i(2),s={get:function(t){var e,i=encodeURIComponent(t)+"=",n=document.cookie.indexOf(i),s=null;return n>-1&&(e=document.cookie.indexOf(";",n),e==-1&&(e=document.cookie.length),s=decodeURIComponent(document.cookie.substring(n+i.length,e))),s},set:function(t,e,i,n,s,o){var a=encodeURIComponent(t)+"="+encodeURIComponent(e);i instanceof Date&&(a+="; expires="+i.toUTCString()),n&&(a+="; path="+n),s&&(a+="; domain="+s),o&&(a+="; secure"),document.cookie=a},unset:function(t,e,i,n){this.set(t,"",new Date(0),e,i,n)}};n.utils=n.utils||{},t.exports=n.utils.cookie=s},function(t,e,i){"use strict";var n=i(2),s=function(){var t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var t,e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,s=i.length,o={};n<s;n++)if(t=i[n],t&&t[1]in document){for(n=0,e=t.length;n<e;n++)o[i[0][n]]=t[n];return o}return!1}(),i={request:function(i){var n=e.requestFullscreen;i=i||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?i[n]():i[n](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[e.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},raw:e};return!!e&&(Object.defineProperties(i,{isFullscreen:{get:function(){return!!document[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[e.fullscreenEnabled]}}}),i.VERSION="3.0.0",i)}();t.exports=n.fullscreen=s},function(t,e,i){"use strict";var n=i(1),s=i(2);s.support.geolocation=window.navigator&&window.navigator.geolocation;var o=s.support.geolocation,a=function(t){this.options=t||{}};a.MESSAGES={unsupportedBrowser:"Browser does not support location services",permissionDenied:"You have rejected access to your location",positionUnavailable:"Unable to determine your location",timeout:"Service timeout has been reached"},a.ERROR_CODE={0:"unsupportedBrowser",1:"permissionDenied",2:"positionUnavailable",3:"timeout"},a.prototype.get=function(t){var e=this;t=n.extend({},this.options,t);var i=new n.Deferred;return o?this.watchID=o.getCurrentPosition(function(t){i.resolve.call(e,t)},function(t){i.reject(a.MESSAGES[a.ERROR_CODE[t.code]])},t):i.reject(a.MESSAGES.unsupportedBrowser),i.promise()},a.prototype.watch=function(t){if(o&&(t=n.extend({},this.options,t),n.isFunction(t.done))){this.clearWatch();var e=n.isFunction(t.fail)?t.fail:null;return this.watchID=o.watchPosition(t.done,e,t),this.watchID}},a.prototype.clearWatch=function(){o&&this.watchID&&(o.clearWatch(this.watchID),this.watchID=null)},t.exports=s.Geolocation=a},function(t,e,i){(function(e){"use strict";function n(){try{return l in r&&r[l]}catch(t){return!1}}var s,o=i(2),a={},r="undefined"!=typeof window?window:e,l="localStorage";a.disabled=!1,a.version="1.3.20",a.set=function(t,e){},a.get=function(t,e){},a.has=function(t){return void 0!==a.get(t)},a.remove=function(t){},a.clear=function(){},a.transact=function(t,e,i){null==i&&(i=e,e=null),null==e&&(e={});var n=a.get(t,e);i(n),a.set(t,n)},a.getAll=function(){},a.forEach=function(){},a.serialize=function(t){return JSON.stringify(t)},a.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},n()&&(s=r[l],a.set=function(t,e){return void 0===e?a.remove(t):(s.setItem(t,a.serialize(e)),e)},a.get=function(t,e){var i=a.deserialize(s.getItem(t));return void 0===i?e:i},a.remove=function(t){s.removeItem(t)},a.clear=function(){s.clear()},a.getAll=function(){var t={};return a.forEach(function(e,i){t[e]=i}),t},a.forEach=function(t){for(var e=0;e<s.length;e++){var i=s.key(e);t(i,a.get(i))}});try{var c="__storejs__";a.set(c,c),a.get(c)!=c&&(a.disabled=!0),a.remove(c)}catch(u){a.disabled=!0}a.enabled=!a.disabled,t.exports=o.store=a}).call(e,function(){return this}())},function(t,e,i){"use strict";function n(){var t=s('[data-am-widget="accordion"]'),e={item:".am-accordion-item",title:".am-accordion-title",body:".am-accordion-bd",disabled:".am-disabled"};t.each(function(t,i){var n=o.utils.parseOptions(s(i).attr("data-am-accordion")),a=s(i).find(e.title);a.on("click.accordion.amui",function(){var t=s(this).next(e.body),o=s(this).parent(e.item),a=t.data("amui.collapse");o.is(e.disabled)||(o.toggleClass("am-active"),a?t.collapse("toggle"):t.collapse(),!n.multiple&&s(i).children(".am-active").not(o).not(e.disabled).removeClass("am-active").find(e.body+".am-in").collapse("close"))})})}var s=i(1),o=i(2);i(7),s(n),t.exports=o.accordion={VERSION:"2.1.0",init:n}},function(t,e){"use strict";t.exports={VERSION:"2.0.1"}},function(t,e,i){"use strict";function n(){var t=s(".ds-thread"),e=t.parent('[data-am-widget="duoshuo"]').attr("data-ds-short-name"),i=("https:"==document.location.protocol?"https:":"http:")+"//static.duoshuo.com/embed.js";if(t.length&&e&&(window.duoshuoQuery={short_name:e},!s('script[src="'+i+'"]').length)){var n=s("<script>",{async:!0,type:"text/javascript",src:i,charset:"utf-8"});s("body").append(n)}}var s=i(1),o=i(2);s(window).on("load",n),t.exports=o.duoshuo={VERSION:"2.0.1",init:n}},function(t,e,i){"use strict";function n(){s(".am-figure").each(function(t,e){var i,n=o.utils.parseOptions(s(e).attr("data-am-figure")),a=s(e);if(n.pureview)if("auto"===n.pureview){var r=s.isImgZoomAble(a.find("img")[0]);r&&a.pureview()}else a.addClass("am-figure-zoomable").pureview();i=a.data("amui.pureview"),i&&a.on("click",":not(img)",function(){i.open(0)})})}var s=i(1),o=i(2);i(20),s.isImgZoomAble=function(t){var e=new Image;e.src=t.src;var i=s(t).width()<e.width;return i&&s(t).closest(".am-figure").addClass("am-figure-zoomable"),i},s(window).on("load",n),t.exports=o.figure={VERSION:"2.0.3",init:n}},function(t,e,i){"use strict";function n(){s(".am-footer-ysp").on("click",function(){s("#am-footer-modal").modal()});var t=o.utils.parseOptions(s(".am-footer").data("amFooter"));t.addToHS&&a(),s('[data-rel="desktop"]').on("click",function(t){t.preventDefault(),window.AMPlatform?window.AMPlatform.util.goDesktop():(r.set("allmobilize","desktop","","/"),window.location=window.location)})}var s=i(1),o=i(2);i(15);var a=i(4),r=i(31);s(n),t.exports=o.footer={VERSION:"3.1.2",init:n}},function(t,e,i){"use strict";function n(){var t=s('[data-am-widget="gallery"]');t.each(function(){var t=o.utils.parseOptions(s(this).attr("data-am-gallery"));t.pureview&&("object"==typeof t.pureview?s(this).pureview(t.pureview):s(this).pureview())})}var s=i(1),o=i(2);i(20),s(n),t.exports=o.gallery={VERSION:"3.0.0",init:n}},function(t,e,i){"use strict";function n(){function t(){i[(n.scrollTop()>50?"add":"remove")+"Class"]("am-active")}var e=s('[data-am-widget="gotop"]'),i=e.filter(".am-gotop-fixed"),n=s(window);e.data("init")||(e.find("a").on("click",function(t){t.preventDefault(),n.smoothScroll()}),t(),n.on("scroll.gotop.amui",o.utils.debounce(t,100)),e.data("init",!0))}var s=i(1),o=i(2);i(23),s(n),t.exports=o.gotop={VERSION:"4.0.2",init:n}},function(t,e,i){"use strict";function n(){s('[data-am-widget="header"]').each(function(){if(s(this).hasClass("am-header-fixed"))return s("body").addClass("am-with-fixed-header"),!1})}var s=i(1),o=i(2);s(n),t.exports=o.header={VERSION:"2.0.0",init:n}},function(t,e,i){"use strict";var n=i(2);t.exports=n.intro={VERSION:"4.0.2",init:function(){}}},function(t,e,i){"use strict";var n=i(2);t.exports=n.listNews={VERSION:"4.0.0",init:function(){}}},function(t,e,i){function n(t){var e=o("<script />",{id:"am-map-api-0"});o("body").append(e),e.on("load",function(){console.log("load");var e=o("<script/>",{id:"am-map-api-1"});o("body").append(e),e.on("load",function(){var e=document.createElement("script");e.textContent="("+t.toString()+")();",o("body")[0].appendChild(e)}).attr("src","http://api.map.baidu.com/getscript?type=quick&file=feature&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002")}).attr("src","http://api.map.baidu.com/getscript?type=quick&file=api&ak=WVAXZ05oyNRXS5egLImmentg&t=20140109092002")}function s(){var t=document.querySelector(".am-map"),e=116.331398,i=39.897445,n=t.getAttribute("data-name"),s=t.getAttribute("data-address"),o=t.getAttribute("data-longitude")||e,a=t.getAttribute("data-latitude")||i,r=t.getAttribute("data-setZoom")||17,l=t.getAttribute("data-icon"),c=new BMap.Map("bd-map"),u=new BMap.Point(o,a);c.centerAndZoom(u,r),t.getAttribute("data-zoomControl")&&c.addControl(new BMap.ZoomControl),t.getAttribute("data-scaleControl")&&c.addControl(new BMap.ScaleControl);var h=new BMap.Marker(u);l&&h.setIcon(new BMap.Icon(l,new BMap.Size(40,40)));var d={width:200,title:n},p=new BMap.InfoWindow("\u5730\u5740\uff1a"+s,d),m=new BMap.Geocoder;o==e&&a==i?m.getPoint(s,function(t){t&&(c.centerAndZoom(t,r),h.setPosition(t),c.addOverlay(h),c.openInfoWindow(p,t))},""):m.getLocation(u,function(t){c.centerAndZoom(u,r),h.setPosition(u),c.addOverlay(h),s?c.openInfoWindow(p,u):c.openInfoWindow(new BMap.InfoWindow(s,d),u)})}var o=i(1),a=i(2),r=function(){o(".am-map").length&&n(s)};o(r),t.exports=a.map={VERSION:"2.0.2",init:r}},function(t,e,i){"use strict";function n(){if(s("#mechat").length){var t=s('[data-am-widget="mechat"]'),e=t.data("am-mechat-unitid"),i=s("<script>",{charset:"utf-8",src:"http://mechatim.com/js/unit/button.js?id="+e});s("body").append(i)}}var s=i(1),o=i(2);s(window).on("load",n),t.exports=o.mechat={VERSION:"2.0.1",init:n}},function(t,e,i){"use strict";var n=i(1),s=i(2),o=i(14);i(16),i(7);var a=function(){var t=n('[data-am-widget="menu"]');t.find(".am-menu-nav .am-parent > a").on("click",function(t){t.preventDefault();var e=n(this),i=e.parent(),s=e.next(".am-menu-sub");i.toggleClass("am-open"),s.collapse("toggle"),i.siblings(".am-parent").removeClass("am-open").children(".am-menu-sub.am-in").collapse("close")}),t.filter("[data-am-menu-collapse]").find("> .am-menu-toggle").on("click",function(t){t.preventDefault();var e=n(this),i=e.next(".am-menu-nav");e.toggleClass("am-active"),i.collapse("toggle")}),t.filter("[data-am-menu-offcanvas]").find("> .am-menu-toggle").on("click",function(t){t.preventDefault();var e=n(this),i=e.next(".am-offcanvas");e.toggleClass("am-active"),i.offCanvas("open")});var e='.am-offcanvas[data-dismiss-on="click"]',i=n(e);i.find("a").not(".am-parent>a").on("click",function(t){n(this).parents(e).offCanvas("close")}),t.filter(".am-menu-one").each(function(t){var e,i=n(this),s=n('<div class="am-menu-nav-sub-wrap"></div>'),a=0,r=i.find(".am-menu-nav"),l=r.children("li");l.filter(".am-parent").each(function(t){n(this).attr("data-rel","#am-menu-sub-"+t),n(this).find(".am-menu-sub").attr("id","am-menu-sub-"+t).appendTo(s)}),i.append(s),r.wrap('<div class="am-menu-nav-wrap" id="am-menu-'+t+'">'),l.each(function(t){a+=parseFloat(n(this).css("width"))}),r.width(a);var c=new o("#am-menu-"+t,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});l.on("click",function(){var t=n(this);t.addClass("am-active").siblings().removeClass("am-active"),s.find(".am-menu-sub.am-in").collapse("close"),t.is(".am-parent")?!t.hasClass(".am-open")&&s.find(t.attr("data-rel")).collapse("open"):t.siblings().removeClass("am-open"),void 0===e&&(e=n(this).index()?0:1);var o,a=n(this).index()>e,l=n(this)[a?"next":"prev"](),u=l.offset()||n(this).offset(),h=i.offset(),d=parseInt(i.css("padding-left"));(a?u.left+u.width>h.left+h.width:u.left<h.left)&&(o=r.offset(),c.scrollTo(a?h.width-u.left+o.left-u.width-d:o.left-u.left,0,400)),e=n(this).index()}),i.on("touchmove",function(t){t.preventDefault()})})};n(a),t.exports=s.menu={VERSION:"4.0.3",init:a}},function(t,e,i){"use strict";function n(){function t(){u.append(b),u.find("li").not(".am-navbar-more").slice(i()-1).appendTo(w),n.append(w)}function e(){return i()>=d?(b.hide(),void w.find("li").insertBefore(b)):(!n.find(".am-navbar-actions").length&&t(),b.show(),void(u.find("li").length<i()?w.find("li").slice(0,i()-u.find("li").length).insertBefore(b):u.find("li").length>i()&&(w.find("li").length?u.find("li").not(b).slice(i()-1).insertBefore(w.find("li").first()):u.find("li").not(b).slice(i()-1).appendTo(w))))}function i(){return Math.floor((l.width()-f)/m)}var n=s('[data-am-widget="navbar"]');if(n.length){var l=s(window),c=s("body"),u=n.find(".am-navbar-nav"),h=n.find("li"),d=h.length,p=u.attr("class")&&parseInt(u.attr("class").match(/am-avg-sm-(\d+)/)[1])||3,m=60,f=16,v=h.filter("[data-am-navbar-share]"),g=h.filter("[data-am-navbar-qrcode]"),y="am-active",w=s('<ul class="am-navbar-actions"></ul>',{id:o.utils.generateGUID("am-navbar-actions")}),b=s('<li class="am-navbar-labels am-navbar-more"><a href="javascript: void(0);"><span class="am-icon-angle-up"></span><span class="am-navbar-label">\u66f4\u591a</span></a></li>');if("fixed"==n.css("position")&&c.addClass("am-with-fixed-navbar"),g.length){var T="am-navbar-qrcode";if(C=s("#"+T),!C.length){var x=g.attr("data-am-navbar-qrcode"),C=s('<div class="am-modal am-modal-no-btn" id=""><div class="am-modal-dialog"><div class="am-modal-bd"></div></div></div>',{id:T}),E=C.find(".am-modal-bd");if(x)E.html('<img src="'+x+'"/>');else{var S=new r({render:"canvas",correctLevel:0,text:window.location.href,width:200,height:200,background:"#fff",foreground:"#000"});E.html(S)}c.append(C)}g.on("click",function(t){t.preventDefault(),C.modal()})}d>p&&d>i()&&t(),n.on("click.navbar.amui",".am-navbar-more",function(t){t.preventDefault(),b[w.hasClass(y)?"removeClass":"addClass"](y),w.toggleClass(y)}),v.length&&v.on("click.navbar.amui",function(t){t.preventDefault(),a.toggle()}),l.on("resize.navbar.amui orientationchange.navbar.amui",o.utils.debounce(e,150))}}var s=i(1),o=i(2),a=i(25),r=i(26);i(15),s(n),t.exports=o.navbar={VERSION:"2.0.2",init:n}},function(t,e,i){"use strict";var n=i(2);t.exports=n.pagination={VERSION:"3.0.1"}},function(t,e,i){"use strict";function n(){var t=s('[data-am-widget="paragraph"]');t.each(function(t){var e=s(this),i=o.utils.parseOptions(e.attr("data-am-paragraph")),n=t;i.pureview&&e.pureview(),i.tableScrollable&&e.find("table").each(function(t){s(this).width()>s(window).width()&&s(this).scrollTable(n+"-"+t)})})}var s=i(1),o=i(2),a=i(14);i(20),s.fn.scrollTable=function(t){var e,i=s(this);i.wrap('<div class="am-paragraph-table-container" id="am-paragraph-table-'+t+'"><div class="am-paragraph-table-scroller"></div></div>'),e=i.parent(),e.width(i.width()),e.height(i.height()),new a("#am-paragraph-table-"+t,{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1})},s(window).on("load",n),t.exports=o.paragraph={VERSION:"2.0.1",init:n}},function(t,e,i){"use strict";function n(){var t=s('[data-am-widget="slider"]');t.not(".am-slider-manual").each(function(t,e){var i=o.utils.parseOptions(s(e).attr("data-am-slider"));s(e).flexslider(i)})}var s=i(1),o=i(2);i(11),s(n),t.exports=o.slider={VERSION:"3.0.1",init:n}},function(t,e,i){"use strict";function n(){s('[data-am-widget="tabs"]').each(function(){var t=s(this).data("amTabsNoswipe")?{noSwipe:1}:{};s(this).tabs(t)})}var s=i(1),o=i(2);i(28),s(n),t.exports=o.tab={VERSION:"4.0.1",init:n}},function(t,e,i){"use strict";var n=i(2);t.exports=n.titlebar={VERSION:"4.0.1"}},function(t,e,i){"use strict";function n(){var t=s('[data-am-widget="wechatpay"]');return a?void t.on("click",".am-wechatpay-btn",function(t){t.preventDefault();var e=o.utils.parseOptions(s(this).parent().data("wechatPay"));return window.wx?void wx.checkJsApi({jsApiList:["chooseWXPay"],success:function(t){t.checkResult.chooseWXPay?wx.chooseWXPay(e):alert("\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u652f\u4ed8\u63a5\u53e3\u6216\u6ca1\u6709\u5f00\u542f\uff01")},fail:function(){alert("\u8c03\u7528 checkJsApi \u63a5\u53e3\u65f6\u53d1\u751f\u9519\u8bef!")}}):void alert("\u6ca1\u6709\u5fae\u4fe1 JS SDK")}):(t.hide(),!1)}var s=i(1),o=i(2),a=window.navigator.userAgent.indexOf("MicroMessenger")>-1,r=n;s(r),t.exports=o.pay={VERSION:"1.0.0",init:r}}])});
},{"jquery":15}],9:[function(require,module,exports){
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a,b){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c="0.11.1",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]}function d(a){return function(c){return c=b.isArray(c)?c:[].slice.call(arguments,0),function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key],this.size--),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];return b?(this.list.moveToFront(b),b.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function c(a,c){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix)),this.ls=c||h,!this.ls&&this._noop()}function d(){return(new Date).getTime()}function e(a){return JSON.stringify(b.isUndefined(a)?null:a)}function f(b){return a.parseJSON(b)}function g(a){var b,c,d=[],e=h.length;for(b=0;e>b;b++)(c=h.key(b)).match(a)&&d.push(c.replace(a,""));return d}var h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(i){h=null}return b.mixin(c.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(c){"QuotaExceededError"===c.name&&(this.clear(),this._noop())}},get:function(a){return this.isExpired(a)&&this.remove(a),f(this.ls.getItem(this._prefix(a)))},set:function(a,c,f){return b.isNumber(f)?this._safeSet(this._ttlKey(a),e(d()+f)):this.ls.removeItem(this._ttlKey(a)),this._safeSet(this._prefix(a),e(c))},remove:function(a){return this.ls.removeItem(this._ttlKey(a)),this.ls.removeItem(this._prefix(a)),this},clear:function(){var a,b=g(this.keyMatcher);for(a=b.length;a--;)this.remove(b[a]);return this},isExpired:function(a){var c=f(this.ls.getItem(this._ttlKey(a)));return b.isNumber(c)&&d()>c?!0:!1}}),c}(),g=function(){"use strict";function c(a){a=a||{},this.cancelled=!1,this.lastReq=null,this._send=a.transport,this._get=a.limiter?a.limiter(this._get):this._get,this._cache=a.cache===!1?new e(0):h}var d=0,f={},g=6,h=new e(10);return c.setMaxPendingRequests=function(a){g=a},c.resetCache=function(){h.reset()},b.mixin(c.prototype,{_fingerprint:function(b){return b=b||{},b.url+b.type+a.param(b.data||{})},_get:function(a,b){function c(a){b(null,a),k._cache.set(i,a)}function e(){b(!0)}function h(){d--,delete f[i],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var i,j,k=this;i=this._fingerprint(a),this.cancelled||i!==this.lastReq||((j=f[i])?j.done(c).fail(e):g>d?(d++,f[i]=this._send(a).done(c).fail(e).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,d){var e,f;d=d||a.noop,c=b.isString(c)?{url:c}:c||{},f=this._fingerprint(c),this.cancelled=!1,this.lastReq=f,(e=this._cache.get(f))?d(null,e):this._get(c,d)},cancel:function(){this.cancelled=!0}}),c}(),h=window.SearchIndex=function(){"use strict";function c(c){c=c||{},c.datumTokenizer&&c.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.identify=c.identify||b.stringify,this.datumTokenizer=c.datumTokenizer,this.queryTokenizer=c.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){var a={};return a[i]=[],a[h]={},a}function f(a){for(var b={},c=[],d=0,e=a.length;e>d;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){var c=0,d=0,e=[];a=a.sort(),b=b.sort();for(var f=a.length,g=b.length;f>c&&g>d;)a[c]<b[d]?c++:a[c]>b[d]?d++:(e.push(a[c]),c++,d++);return e}var h="c",i="i";return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;c.datums[f=c.identify(a)]=a,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b[h][g]||(b[h][g]=e()),b[i].push(f)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},search:function(a){var c,e,j=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=j.trie,c=a.split("");b&&(d=c.shift());)b=b[h][d];return b&&0===c.length?(f=b[i].slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return j.datums[a]}):[]},all:function(){var a=[];for(var b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={},this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function a(a){this.url=a.url,this.ttl=a.ttl,this.cache=a.cache,this.prepare=a.prepare,this.transform=a.transform,this.transport=a.transport,this.thumbprint=a.thumbprint,this.storage=new f(a.cacheKey)}var c;return c={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set(c.data,a,this.ttl),this.storage.set(c.protocol,location.protocol,this.ttl),this.storage.set(c.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var a,b={};return this.cache?(b.data=this.storage.get(c.data),b.protocol=this.storage.get(c.protocol),b.thumbprint=this.storage.get(c.thumbprint),a=b.thumbprint!==this.thumbprint||b.protocol!==location.protocol,b.data&&!a?b.data:null):null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,e.transform(b))}var d,e=this;a&&(d=this.prepare(this._settings()),this.transport(d).fail(b).done(c))},clear:function(){return this.storage.clear(),this}}),a}(),j=function(){"use strict";function a(a){this.url=a.url,this.prepare=a.prepare,this.transform=a.transform,this.transport=new g({cache:a.cache,limiter:a.limiter,transport:a.transport})}return b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(a,b){function c(a,c){b(a?[]:e.transform(c))}var d,e=this;if(b)return a=a||"",d=this.prepare(a,this._settings()),this.transport.get(d,c)},cancelLastRequest:function(){this.transport.cancel()}}),a}(),k=function(){"use strict";function d(d){var e;return d?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},d=b.isString(d)?{url:d}:d,d=b.mixin(e,d),!d.url&&a.error("prefetch requires url to be set"),d.transform=d.filter||d.transform,d.cacheKey=d.cacheKey||d.url,d.thumbprint=c+d.thumbprint,d.transport=d.transport?h(d.transport):a.ajax,d):null}function e(c){var d;if(c)return d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},c=b.isString(c)?{url:c}:c,c=b.mixin(d,c),!c.url&&a.error("remote requires url to be set"),c.transform=c.filter||c.transform,c.prepare=f(c),c.limiter=g(c),c.transport=c.transport?h(c.transport):a.ajax,delete c.replace,delete c.wildcard,delete c.rateLimitBy,delete c.rateLimitWait,c}function f(a){function b(a,b){return b.url=f(b.url,a),b}function c(a,b){return b.url=b.url.replace(g,encodeURIComponent(a)),b}function d(a,b){return b}var e,f,g;return e=a.prepare,f=a.replace,g=a.wildcard,e?e:e=f?b:a.wildcard?c:d}function g(a){function c(a){return function(c){return b.debounce(c,a)}}function d(a){return function(c){return b.throttle(c,a)}}var e,f,g;return e=a.limiter,f=a.rateLimitBy,g=a.rateLimitWait,e||(e=/^throttle$/i.test(f)?d(g):c(g)),e}function h(c){return function(d){function e(a){b.defer(function(){g.resolve(a)})}function f(a){b.defer(function(){g.reject(a)})}var g=a.Deferred();return c(d,e,f),g}}return function(c){var f,g;return f={initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},c=b.mixin(f,c||{}),!c.datumTokenizer&&a.error("datumTokenizer is required"),!c.queryTokenizer&&a.error("queryTokenizer is required"),g=c.sorter,c.sorter=g?function(a){return a.sort(g)}:b.identity,c.local=b.isFunction(c.local)?c.local():c.local,c.prefetch=d(c.prefetch),c.remote=e(c.remote),c}}(),l=function(){"use strict";function c(a){a=k(a),this.sorter=a.sorter,this.identify=a.identify,this.sufficient=a.sufficient,this.local=a.local,this.remote=a.remote?new j(a.remote):null,this.prefetch=a.prefetch?new i(a.prefetch):null,this.index=new h({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer}),a.initialize!==!1&&this.initialize()}var e;return e=window&&window.Bloodhound,c.noConflict=function(){return window&&(window.Bloodhound=e),c},c.tokenizers=d,b.mixin(c.prototype,{__ttAdapter:function(){function a(a,b,d){return c.search(a,b,d)}function b(a,b){return c.search(a,b)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,b){return a?c.reject():(e.add(b),e.prefetch.store(e.index.serialize()),void c.resolve())}var c,d,e=this;return c=a.Deferred(),this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),c.resolve()):this.prefetch.fromNetwork(b):c.resolve(),c.promise()},_initialize:function(){function a(){b.add(b.local)}var b=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(a),this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){return this.index.add(a),this},get:function(a){return a=b.isArray(a)?a:[].slice.call(arguments),this.index.get(a)},search:function(a,c,d){function e(a){var c=[];b.each(a,function(a){!b.some(f,function(b){return g.identify(a)===g.identify(b)})&&c.push(a)}),d&&d(c)}var f,g=this;return f=this.sorter(this.index.search(a)),c(this.remote?f.slice():f),this.remote&&f.length<this.sufficient?this.remote.get(a,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return g.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),c}();return l});
},{"jquery":15}],10:[function(require,module,exports){
(function (global){
; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
/*!
 * clipboard.js v1.5.12
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT © Zeno Rocha
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){var t,e,n;return function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){var o=t("matches-selector");e.exports=function(t,e,n){for(var i=n?t:t.parentNode;i&&i!==document;){if(o(i,e))return i;i=i.parentNode}}},{"matches-selector":5}],2:[function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e,!0),n.delegateTarget&&o.call(t,n)}}var r=t("closest");e.exports=o},{closest:1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return i(t,e,n);if(c.nodeList(t))return r(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function r(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return s(document.body,t,e,n)}var c=t("./is"),s=t("delegate");e.exports=o},{"./is":3,delegate:2}],5:[function(t,e,n){function o(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),o=0;o<n.length;++o)if(n[o]==t)return!0;return!1}var i=Element.prototype,r=i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=o},{}],6:[function(t,e,n){function o(t){var e;if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(t),n.removeAllRanges(),n.addRange(o),e=n.toString()}return e}e.exports=o},{}],7:[function(t,e,n){function o(){}o.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){i.off(t,o),e.apply(n,arguments)}var i=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,i=n.length;for(o;i>o;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],i=[];if(o&&e)for(var r=0,a=o.length;a>r;r++)o[r].fn!==e&&o[r].fn._!==e&&i.push(o[r]);return i.length?n[t]=i:delete n[t],this}},e.exports=o},{}],8:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","select"],r);else if("undefined"!=typeof o)r(n,e("select"));else{var a={exports:{}};r(a,i.select),i.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=function(){function t(e){o(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},t.prototype.initSelection=function t(){this.text?this.selectFake():this.target&&this.selectTarget()},t.prototype.selectFake=function t(){var e=this,n="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[n?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},t.prototype.removeFake=function t(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function t(){this.selectedText=(0,i.default)(this.target),this.copyText()},t.prototype.copyText=function t(){var e=void 0;try{e=document.execCommand(this.action)}catch(n){e=!1}this.handleResult(e)},t.prototype.handleResult=function t(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function t(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function t(){this.removeFake()},a(t,[{key:"action",set:function t(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function t(){return this._action}},{key:"target",set:function t(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function t(){return this._target}}]),t}();t.exports=c})},{select:6}],9:[function(e,n,o){!function(i,r){if("function"==typeof t&&t.amd)t(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(n,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=a.exports}}(this,function(t,e,n,o){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=i(e),u=i(n),f=i(o),d=function(t){function e(n,o){r(this,e);var i=a(this,t.call(this));return i.resolveOptions(o),i.listenClick(n),i}return c(e,t),e.prototype.resolveOptions=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},e.prototype.listenClick=function t(e){var n=this;this.listener=(0,f.default)(e,"click",function(t){return n.onClick(t)})},e.prototype.onClick=function t(e){var n=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(n),target:this.target(n),text:this.text(n),trigger:n,emitter:this})},e.prototype.defaultAction=function t(e){return s("action",e)},e.prototype.defaultTarget=function t(e){var n=s("target",e);return n?document.querySelector(n):void 0},e.prototype.defaultText=function t(e){return s("text",e)},e.prototype.destroy=function t(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(u.default);t.exports=d})},{"./clipboard-action":8,"good-listener":4,"tiny-emitter":7}]},{},[9])(9)});
; browserify_shim__define__module__export__(typeof clipboard != "undefined" ? clipboard : window.clipboard);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],11:[function(require,module,exports){
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD
		define(['jquery'], factory);
	} else if (typeof exports === 'object') {
		// CommonJS
		factory(require('jquery'));
	} else {
		// Browser globals
		factory(jQuery);
	}
}(function ($) {

	var pluses = /\+/g;

	function encode(s) {
		return config.raw ? s : encodeURIComponent(s);
	}

	function decode(s) {
		return config.raw ? s : decodeURIComponent(s);
	}

	function stringifyCookieValue(value) {
		return encode(config.json ? JSON.stringify(value) : String(value));
	}

	function parseCookieValue(s) {
		if (s.indexOf('"') === 0) {
			// This is a quoted cookie as according to RFC2068, unescape...
			s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
		}

		try {
			// Replace server-side written pluses with spaces.
			// If we can't decode the cookie, ignore it, it's unusable.
			// If we can't parse the cookie, ignore it, it's unusable.
			s = decodeURIComponent(s.replace(pluses, ' '));
			return config.json ? JSON.parse(s) : s;
		} catch(e) {}
	}

	function read(s, converter) {
		var value = config.raw ? s : parseCookieValue(s);
		return $.isFunction(converter) ? converter(value) : value;
	}

	var config = $.cookie = function (key, value, options) {

		// Write

		if (value !== undefined && !$.isFunction(value)) {
			options = $.extend({}, config.defaults, options);

			if (typeof options.expires === 'number') {
				var days = options.expires, t = options.expires = new Date();
				t.setTime(+t + days * 864e+5);
			}

			return (document.cookie = [
				encode(key), '=', stringifyCookieValue(value),
				options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
				options.path    ? '; path=' + options.path : '',
				options.domain  ? '; domain=' + options.domain : '',
				options.secure  ? '; secure' : ''
			].join(''));
		}

		// Read

		var result = key ? undefined : {};

		// To prevent the for loop in the first place assign an empty array
		// in case there are no cookies at all. Also prevents odd result when
		// calling $.cookie().
		var cookies = document.cookie ? document.cookie.split('; ') : [];

		for (var i = 0, l = cookies.length; i < l; i++) {
			var parts = cookies[i].split('=');
			var name = decode(parts.shift());
			var cookie = parts.join('=');

			if (key && key === name) {
				// If second argument (value) is a function it's a converter...
				result = read(cookie, value);
				break;
			}

			// Prevent storing a cookie that we couldn't decode.
			if (!key && (cookie = read(cookie)) !== undefined) {
				result[name] = cookie;
			}
		}

		return result;
	};

	config.defaults = {};

	$.removeCookie = function (key, options) {
		if ($.cookie(key) === undefined) {
			return false;
		}

		// Must not alter options, thus extending a fresh object...
		$.cookie(key, '', $.extend({}, options, { expires: -1 }));
		return !$.cookie(key);
	};

}));

},{"jquery":15}],12:[function(require,module,exports){
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("undefined"!=typeof jQuery?jQuery:window.Zepto)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n={};n.fileapi=void 0!==e("<input type='file'/>").get(0).files,n.formdata=void 0!==window.FormData;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function r(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;o>a;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function o(a){for(var n=new FormData,i=0;i<a.length;i++)n.append(a[i].name,a[i].value);if(t.extraData){var o=r(t.extraData);for(i=0;i<o.length;i++)o[i]&&n.append(o[i][0],o[i][1])}t.data=null;var s=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:u||"POST"});t.uploadProgress&&(s.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),s.data=null;var c=s.beforeSend;return s.beforeSend=function(e,r){t.formData?r.data=t.formData:r.data=n,c&&c.call(this,e,r)},e.ajax(s)}function s(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(r){a("cannot get iframe.contentWindow document: "+r)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function o(){function t(){try{var e=n(g).readyState;a("state = "+e),e&&"uninitialized"==e.toLowerCase()&&setTimeout(t,50)}catch(r){a("Server abort: ",r," (",r.name,")"),s(k),j&&clearTimeout(j),j=void 0}}var r=f.attr2("target"),i=f.attr2("action"),o="multipart/form-data",c=f.attr("enctype")||f.attr("encoding")||o;w.setAttribute("target",p),(!u||/post/i.test(u))&&w.setAttribute("method","POST"),i!=m.url&&w.setAttribute("action",m.url),m.skipEncodingOverride||u&&!/post/i.test(u)||f.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),m.timeout&&(j=setTimeout(function(){T=!0,s(D)},m.timeout));var l=[];try{if(m.extraData)for(var d in m.extraData)m.extraData.hasOwnProperty(d)&&(e.isPlainObject(m.extraData[d])&&m.extraData[d].hasOwnProperty("name")&&m.extraData[d].hasOwnProperty("value")?l.push(e('<input type="hidden" name="'+m.extraData[d].name+'">').val(m.extraData[d].value).appendTo(w)[0]):l.push(e('<input type="hidden" name="'+d+'">').val(m.extraData[d]).appendTo(w)[0]));m.iframeTarget||v.appendTo("body"),g.attachEvent?g.attachEvent("onload",s):g.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(h){var x=document.createElement("form").submit;x.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",c),r?w.setAttribute("target",r):f.removeAttr("target"),e(l).remove()}}function s(t){if(!x.aborted&&!F){if(M=n(g),M||(a("cannot access response document"),t=k),t===D&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t==k&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(M&&M.location.href!=m.iframeSrc||T){g.detachEvent?g.detachEvent("onload",s):g.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"==m.dataType||M.XMLDocument||e.isXMLDoc(M);if(a("isXml="+o),!o&&window.opera&&(null===M.body||!M.body.innerHTML)&&--O)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=M.XMLDocument?M.XMLDocument:M,o&&(m.dataType="xml"),x.getResponseHeader=function(e){var t={"content-type":m.dataType};return t[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(m.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||m.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)x.responseText=f.value,x.status=Number(f.getAttribute("status"))||x.status,x.statusText=f.getAttribute("statusText")||x.statusText;else if(l){var p=M.getElementsByTagName("pre")[0],h=M.getElementsByTagName("body")[0];p?x.responseText=p.textContent?p.textContent:p.innerText:h&&(x.responseText=h.textContent?h.textContent:h.innerText)}}else"xml"==c&&!x.responseXML&&x.responseText&&(x.responseXML=X(x.responseText));try{E=_(x,c,m)}catch(y){i="parsererror",x.error=r=y||i}}catch(y){a("error caught: ",y),i="error",x.error=r=y||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(m.success&&m.success.call(m.context,E,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,m])):i&&(void 0===r&&(r=x.statusText),m.error&&m.error.call(m.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,m,r])),d&&e.event.trigger("ajaxComplete",[x,m]),d&&!--e.active&&e.event.trigger("ajaxStop"),m.complete&&m.complete.call(m.context,x,i),F=!0,m.timeout&&clearTimeout(j),setTimeout(function(){m.iframeTarget?v.attr("src",m.iframeSrc):v.remove(),x.responseXML=null},100)}}}var c,l,m,d,p,v,g,x,y,b,T,j,w=f[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(l=0;l<h.length;l++)c=e(h[l]),i?c.prop("disabled",!1):c.removeAttr("disabled");if(m=e.extend(!0,{},e.ajaxSettings,t),m.context=m.context||m,p="jqFormIO"+(new Date).getTime(),m.iframeTarget?(v=e(m.iframeTarget),b=v.attr2("name"),b?p=b:v.attr2("name",p)):(v=e('<iframe name="'+p+'" src="'+m.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=v[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{g.contentWindow.document.execCommand&&g.contentWindow.document.execCommand("Stop")}catch(n){}v.attr("src",m.iframeSrc),x.error=r,m.error&&m.error.call(m.context,x,r,t),d&&e.event.trigger("ajaxError",[x,m,r]),m.complete&&m.complete.call(m.context,x,r)}},d=m.global,d&&0===e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,m]),m.beforeSend&&m.beforeSend.call(m.context,x,m)===!1)return m.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(m.extraData=m.extraData||{},m.extraData[b]=y.value,"image"==y.type&&(m.extraData[b+".x"]=w.clk_x,m.extraData[b+".y"]=w.clk_y)));var D=1,k=2,A=e("meta[name=csrf-token]").attr("content"),L=e("meta[name=csrf-param]").attr("content");L&&A&&(m.extraData=m.extraData||{},m.extraData[L]=A),m.forceSync?o():setTimeout(o,10);var E,M,F,O=50,X=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=e.parseJSON||function(e){return window.eval("("+e+")")},_=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=C(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var u,c,l,f=this;"function"==typeof t?t={success:t}:void 0===t&&(t={}),u=t.type||this.attr2("method"),c=t.url||this.attr2("action"),l="string"==typeof c?e.trim(c):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:u||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&t.beforeSerialize(this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var p,h=[],v=this.formToArray(t.semantic,h);if(t.data&&(t.extraData=t.data,p=e.param(t.data,d)),t.beforeSubmit&&t.beforeSubmit(v,this,t)===!1)return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[v,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var g=e.param(v,d);p&&(g=g?g+"&"+p:p),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+g,t.data=null):t.data=g;var x=[];if(t.resetForm&&x.push(function(){f.resetForm()}),t.clearForm&&x.push(function(){f.clearForm(t.includeHidden)}),!t.dataType&&t.target){var y=t.success||function(){};x.push(function(r){var a=t.replaceTarget?"replaceWith":"html";e(t.target)[a](r).each(y,arguments)})}else t.success&&x.push(t.success);if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=x.length;o>i;i++)x[i].apply(n,[e,r,a||f,f])},t.error){var b=t.error;t.error=function(e,r,a){var n=t.context||this;b.apply(n,[e,r,a,f])}}if(t.complete){var T=t.complete;t.complete=function(e,r){var a=t.context||this;T.apply(a,[e,r,f])}}var j=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}),w=j.length>0,S="multipart/form-data",D=f.attr("enctype")==S||f.attr("encoding")==S,k=n.fileapi&&n.formdata;a("fileAPI :"+k);var A,L=(w||D)&&!k;t.iframe!==!1&&(t.iframe||L)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){A=s(v)}):A=s(v):A=(w||D)&&k?o(v):e.ajax(t),f.removeData("jqxhr").data("jqxhr",A);for(var E=0;E<h.length;E++)h[E]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var i={s:this.selector,c:this.context};return!e.isReady&&i.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(i.s,i.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,t).bind("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r){var a=[];if(0===this.length)return a;var i,o=this[0],s=this.attr("id"),u=t?o.getElementsByTagName("*"):o.elements;if(u&&!/MSIE [678]/.test(navigator.userAgent)&&(u=e(u).get()),s&&(i=e(':input[form="'+s+'"]').get(),i.length&&(u=(u||[]).concat(i))),!u||!u.length)return a;var c,l,f,m,d,p,h;for(c=0,p=u.length;p>c;c++)if(d=u[c],f=d.name,f&&!d.disabled)if(t&&o.clk&&"image"==d.type)o.clk==d&&(a.push({name:f,value:e(d).val(),type:d.type}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}));else if(m=e.fieldValue(d,!0),m&&m.constructor==Array)for(r&&r.push(d),l=0,h=m.length;h>l;l++)a.push({name:f,value:m[l]});else if(n.fileapi&&"file"==d.type){r&&r.push(d);var v=d.files;if(v.length)for(l=0;l<v.length;l++)a.push({name:f,value:v[l],type:d.type});else a.push({name:f,value:"",type:d.type})}else null!==m&&"undefined"!=typeof m&&(r&&r.push(d),a.push({name:f,value:m,type:d.type,required:d.required}));if(!t&&o.clk){var g=e(o.clk),x=g[0];f=x.name,f&&!x.disabled&&"image"==x.type&&(a.push({name:f,value:g.val()}),a.push({name:f+".x",value:o.clk_x},{name:f+".y",value:o.clk_y}))}return a},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],u=t.options,c="select-one"==n,l=c?o+1:u.length,f=c?o:0;l>f;f++){var m=u[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),c)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"==n?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==n?this.selectedIndex=-1:"file"==a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(t===!0&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});
},{}],13:[function(require,module,exports){
/*!
   --------------------------------
   Infinite Scroll
   --------------------------------
   + https://github.com/paulirish/infinite-scroll
   + version 2.1.0
   + Copyright 2011/12 Paul Irish & Luke Shumard
   + Licensed under the MIT license

   + Documentation: http://infinite-scroll.com/
*/
;(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e,t){"use strict";e.infinitescroll=function(n,r,i){this.element=e(i);if(!this._create(n,r)){this.failed=true}};e.infinitescroll.defaults={loading:{finished:t,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,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",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:t},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,isBeyondMaxPage:false,currPage:1},debug:false,behavior:t,binder:e(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:t,dataType:"html",appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:t,path:t,prefill:false,maxPage:t};e.infinitescroll.prototype={_binding:function(n){var r=this,i=r.options;i.v="2.0b2.120520";if(!!i.behavior&&this["_binding_"+i.behavior]!==t){this["_binding_"+i.behavior].call(this);return}if(n!=="bind"&&n!=="unbind"){this._debug("Binding value  "+n+" not valid");return false}if(n==="unbind"){this.options.binder.unbind("smartscroll.infscr."+r.options.infid)}else{this.options.binder[n]("smartscroll.infscr."+r.options.infid,function(){r.scroll()})}this._debug("Binding",n)},_create:function(r,i){var s=e.extend(true,{},e.infinitescroll.defaults,r);this.options=s;var o=e(window);var u=this;if(!u._validate(r)){return false}var a=e(s.nextSelector).attr("href");if(!a){this._debug("Navigation selector not found");return false}s.path=s.path||this._determinepath(a);s.contentSelector=s.contentSelector||this.element;s.loading.selector=s.loading.selector||s.contentSelector;s.loading.msg=s.loading.msg||e('<div id="infscr-loading"><img alt="Loading..." src="'+s.loading.img+'" /><div>'+s.loading.msgText+"</div></div>");(new Image).src=s.loading.img;if(s.pixelsFromNavToBottom===t){s.pixelsFromNavToBottom=e(document).height()-e(s.navSelector).offset().top;this._debug("pixelsFromNavToBottom: "+s.pixelsFromNavToBottom)}var f=this;s.loading.start=s.loading.start||function(){e(s.navSelector).hide();s.loading.msg.appendTo(s.loading.selector).show(s.loading.speed,e.proxy(function(){this.beginAjax(s)},f))};s.loading.finished=s.loading.finished||function(){if(!s.state.isBeyondMaxPage)s.loading.msg.fadeOut(s.loading.speed)};s.callback=function(n,r,u){if(!!s.behavior&&n["_callback_"+s.behavior]!==t){n["_callback_"+s.behavior].call(e(s.contentSelector)[0],r,u)}if(i){i.call(e(s.contentSelector)[0],r,s,u)}if(s.prefill){o.bind("resize.infinite-scroll",n._prefill)}};if(r.debug){if(Function.prototype.bind&&(typeof console==="object"||typeof console==="function")&&typeof console.log==="object"){["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind)}}this._setup();if(s.prefill){this._prefill()}return true},_prefill:function(){function i(){return e(n.options.contentSelector).height()<=r.height()}var n=this;var r=e(window);this._prefill=function(){if(i()){n.scroll()}r.bind("resize.infinite-scroll",function(){if(i()){r.unbind("resize.infinite-scroll");n.scroll()}})};this._prefill()},_debug:function(){if(true!==this.options.debug){return}if(typeof console!=="undefined"&&typeof console.log==="function"){if(Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]==="string"){console.log(Array.prototype.slice.call(arguments).toString())}else{console.log(Array.prototype.slice.call(arguments))}}else if(!Function.prototype.bind&&typeof console!=="undefined"&&typeof console.log==="object"){Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))}},_determinepath:function(n){var r=this.options;if(!!r.behavior&&this["_determinepath_"+r.behavior]!==t){return this["_determinepath_"+r.behavior].call(this,n)}if(!!r.pathParse){this._debug("pathParse manual");return r.pathParse(n,this.options.state.currPage+1)}else if(n.match(/^(.*?)\b2\b(.*?$)/)){n=n.match(/^(.*?)\b2\b(.*?$)/).slice(1)}else if(n.match(/^(.*?)2(.*?$)/)){if(n.match(/^(.*?page=)2(\/.*|$)/)){n=n.match(/^(.*?page=)2(\/.*|$)/).slice(1);return n}n=n.match(/^(.*?)2(.*?$)/).slice(1)}else{if(n.match(/^(.*?page=)1(\/.*|$)/)){n=n.match(/^(.*?page=)1(\/.*|$)/).slice(1);return n}else{this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.");r.state.isInvalidPage=true}}this._debug("determinePath",n);return n},_error:function(n){var r=this.options;if(!!r.behavior&&this["_error_"+r.behavior]!==t){this["_error_"+r.behavior].call(this,n);return}if(n!=="destroy"&&n!=="end"){n="unknown"}this._debug("Error",n);if(n==="end"||r.state.isBeyondMaxPage){this._showdonemsg()}r.state.isDone=true;r.state.currPage=1;r.state.isPaused=false;r.state.isBeyondMaxPage=false;this._binding("unbind")},_loadcallback:function(r,i,s){var o=this.options,u=this.options.callback,a=o.state.isDone?"done":!o.appendCallback?"no-append":"append",f;if(!!o.behavior&&this["_loadcallback_"+o.behavior]!==t){this["_loadcallback_"+o.behavior].call(this,r,i);return}switch(a){case"done":this._showdonemsg();return false;case"no-append":if(o.dataType==="html"){i="<div>"+i+"</div>";i=e(i).find(o.itemSelector)}if(i.length===0){return this._error("end")}break;case"append":var l=r.children();if(l.length===0){return this._error("end")}f=document.createDocumentFragment();while(r[0].firstChild){f.appendChild(r[0].firstChild)}this._debug("contentSelector",e(o.contentSelector)[0]);e(o.contentSelector)[0].appendChild(f);i=l.get();break}o.loading.finished.call(e(o.contentSelector)[0],o);if(o.animate){var c=e(window).scrollTop()+e(o.loading.msg).height()+o.extraScrollPx+"px";e("html,body").animate({scrollTop:c},800,function(){o.state.isDuringAjax=false})}if(!o.animate){o.state.isDuringAjax=false}u(this,i,s);if(o.prefill){this._prefill()}},_nearbottom:function(){var r=this.options,i=0+e(document).height()-r.binder.scrollTop()-e(window).height();if(!!r.behavior&&this["_nearbottom_"+r.behavior]!==t){return this["_nearbottom_"+r.behavior].call(this)}this._debug("math:",i,r.pixelsFromNavToBottom);return i-r.bufferPx<r.pixelsFromNavToBottom},_pausing:function(n){var r=this.options;if(!!r.behavior&&this["_pausing_"+r.behavior]!==t){this["_pausing_"+r.behavior].call(this,n);return}if(n!=="pause"&&n!=="resume"&&n!==null){this._debug("Invalid argument. Toggling pause value instead")}n=n&&(n==="pause"||n==="resume")?n:"toggle";switch(n){case"pause":r.state.isPaused=true;break;case"resume":r.state.isPaused=false;break;case"toggle":r.state.isPaused=!r.state.isPaused;break}this._debug("Paused",r.state.isPaused);return false},_setup:function(){var n=this.options;if(!!n.behavior&&this["_setup_"+n.behavior]!==t){this["_setup_"+n.behavior].call(this);return}this._binding("bind");return false},_showdonemsg:function(){var r=this.options;if(!!r.behavior&&this["_showdonemsg_"+r.behavior]!==t){this["_showdonemsg_"+r.behavior].call(this);return}r.loading.msg.find("img").hide().parent().find("div").html(r.loading.finishedMsg).animate({opacity:1},2e3,function(){e(this).parent().fadeOut(r.loading.speed)});r.errorCallback.call(e(r.contentSelector)[0],"done")},_validate:function(n){for(var r in n){if(r.indexOf&&r.indexOf("Selector")>-1&&e(n[r]).length===0){this._debug("Your "+r+" found no elements.");return false}}return true},bind:function(){this._binding("bind")},destroy:function(){this.options.state.isDestroyed=true;this.options.loading.finished();return this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(r){var i=this,s=r.path,o,u,a,f;r.state.currPage++;if(r.maxPage!==t&&r.state.currPage>r.maxPage){r.state.isBeyondMaxPage=true;this.destroy();return}o=e(r.contentSelector).is("table, tbody")?e("<tbody/>"):e("<div/>");u=typeof s==="function"?s(r.state.currPage):s.join(r.state.currPage);i._debug("heading into ajax",u);a=r.dataType==="html"||r.dataType==="json"?r.dataType:"html+callback";if(r.appendCallback&&r.dataType==="html"){a+="+callback"}switch(a){case"html+callback":i._debug("Using HTML via .load() method");o.load(u+" "+r.itemSelector,t,function(t){i._loadcallback(o,t,u)});break;case"html":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");e.ajax({url:u,dataType:r.dataType,complete:function(t,n){f=typeof t.isResolved!=="undefined"?t.isResolved():n==="success"||n==="notmodified";if(f){i._loadcallback(o,t.responseText,u)}else{i._error("end")}}});break;case"json":i._debug("Using "+a.toUpperCase()+" via $.ajax() method");e.ajax({dataType:"json",type:"GET",url:u,success:function(e,n,s){f=typeof s.isResolved!=="undefined"?s.isResolved():n==="success"||n==="notmodified";if(r.appendCallback){if(r.template!==t){var a=r.template(e);o.append(a);if(f){i._loadcallback(o,a)}else{i._error("end")}}else{i._debug("template must be defined.");i._error("end")}}else{if(f){i._loadcallback(o,e,u)}else{i._error("end")}}},error:function(){i._debug("JSON ajax request failed.");i._error("end")}});break}},retrieve:function(r){r=r||null;var i=this,s=i.options;if(!!s.behavior&&this["retrieve_"+s.behavior]!==t){this["retrieve_"+s.behavior].call(this,r);return}if(s.state.isDestroyed){this._debug("Instance is destroyed");return false}s.state.isDuringAjax=true;s.loading.start.call(e(s.contentSelector)[0],s)},scroll:function(){var n=this.options,r=n.state;if(!!n.behavior&&this["scroll_"+n.behavior]!==t){this["scroll_"+n.behavior].call(this);return}if(r.isDuringAjax||r.isInvalidPage||r.isDone||r.isDestroyed||r.isPaused){return}if(!this._nearbottom()){return}this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(n){if(e.isPlainObject(n)){this.options=e.extend(true,this.options,n)}}};e.fn.infinitescroll=function(n,r){var i=typeof n;switch(i){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var t=e.data(this,"infinitescroll");if(!t){return false}if(!e.isFunction(t[n])||n.charAt(0)==="_"){return false}t[n].apply(t,s)});break;case"object":this.each(function(){var t=e.data(this,"infinitescroll");if(t){t.update(n)}else{t=new e.infinitescroll(n,r,this);if(!t.failed){e.data(this,"infinitescroll",t)}}});break}return this};var n=e.event,r;n.special.smartscroll={setup:function(){e(this).bind("scroll",n.special.smartscroll.handler)},teardown:function(){e(this).unbind("scroll",n.special.smartscroll.handler)},handler:function(t,n){var i=this,s=arguments;t.type="smartscroll";if(r){clearTimeout(r)}r=setTimeout(function(){e(i).trigger("smartscroll",s)},n==="execAsap"?0:100)}};e.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}});

},{}],14:[function(require,module,exports){
/*!
 * An jQuery | zepto plugin for lazy loading images.
 * author -> jieyou
 * see https://github.com/jieyou/lazyload
 * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)
 * use component's throttle https://github.com/component/throttle (MIT)
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery||window.Zepto)}(function(a){function g(){}function h(a,b){var e;return e=b._$container==d?("innerHeight"in c?c.innerHeight:d.height())+d.scrollTop():b._$container.offset().top+b._$container.height(),e<=a.offset().top-b.threshold}function i(b,e){var f;return f=e._$container==d?d.width()+(a.fn.scrollLeft?d.scrollLeft():c.pageXOffset):e._$container.offset().left+e._$container.width(),f<=b.offset().left-e.threshold}function j(a,b){var c;return c=b._$container==d?d.scrollTop():b._$container.offset().top,c>=a.offset().top+b.threshold+a.height()}function k(b,e){var f;return f=e._$container==d?a.fn.scrollLeft?d.scrollLeft():c.pageXOffset:e._$container.offset().left,f>=b.offset().left+e.threshold+b.width()}function l(a,b){var c=0;a.each(function(d){function g(){f.trigger("_lazyload_appear"),c=0}var f=a.eq(d);if(!(f.width()<=0&&f.height()<=0||"none"===f.css("display")))if(b.vertical_only)if(j(f,b));else if(h(f,b)){if(++c>b.failure_limit)return!1}else g();else if(j(f,b)||k(f,b));else if(h(f,b)||i(f,b)){if(++c>b.failure_limit)return!1}else g()})}function m(a){return a.filter(function(b){return!a.eq(b)._lazyload_loadStarted})}function n(a,b){function h(){f=0,g=+new Date,e=a.apply(c,d),c=null,d=null}var c,d,e,f,g=0;return function(){c=this,d=arguments;var a=new Date-g;return f||(a>=b?h():f=setTimeout(h,b-a)),e}}var f,c=window,d=a(c),e={threshold:0,failure_limit:0,event:"scroll",effect:"show",effect_params:null,container:c,data_attribute:"original",data_srcset_attribute:"original-srcset",skip_invisible:!0,appear:g,load:g,vertical_only:!1,check_appear_throttle_time:300,url_rewriter_fn:g,no_fake_img_loader:!1,placeholder_data_img:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC",placeholder_real_img:"http://ditu.baidu.cn/yyfm/lazyload/0.0.1/img/placeholder.png"};f=function(){var a=Object.prototype.toString;return function(b){return a.call(b).replace("[object ","").replace("]","")}}(),a.fn.hasOwnProperty("lazyload")||(a.fn.lazyload=function(b){var i,j,k,h=this;return a.isPlainObject(b)||(b={}),a.each(e,function(g,h){var i=f(b[g]);-1!=a.inArray(g,["threshold","failure_limit","check_appear_throttle_time"])?"String"==i?b[g]=parseInt(b[g],10):"Number"!=i&&(b[g]=h):"container"==g?(b._$container=b.hasOwnProperty(g)?b[g]==c||b[g]==document?d:a(b[g]):d,delete b.container):!e.hasOwnProperty(g)||b.hasOwnProperty(g)&&i==f(e[g])||(b[g]=h)}),i="scroll"==b.event,k=0==b.check_appear_throttle_time?l:n(l,b.check_appear_throttle_time),j=i||"scrollstart"==b.event||"scrollstop"==b.event,h.each(function(c){var e=this,f=h.eq(c),i=f.attr("src"),k=f.attr("data-"+b.data_attribute),l=b.url_rewriter_fn==g?k:b.url_rewriter_fn.call(e,f,k),n=f.attr("data-"+b.data_srcset_attribute),o=f.is("img");return 1==f._lazyload_loadStarted||i==l?(f._lazyload_loadStarted=!0,h=m(h),void 0):(f._lazyload_loadStarted=!1,o&&!i&&f.one("error",function(){f.attr("src",b.placeholder_real_img)}).attr("src",b.placeholder_data_img),f.one("_lazyload_appear",function(){function i(){d&&f.hide(),o?(n&&f.attr("srcset",n),l&&f.attr("src",l)):f.css("background-image",'url("'+l+'")'),d&&f[b.effect].apply(f,c?b.effect_params:[]),h=m(h)}var d,c=a.isArray(b.effect_params);f._lazyload_loadStarted||(d="show"!=b.effect&&a.fn[b.effect]&&(!b.effect_params||c&&0==b.effect_params.length),b.appear!=g&&b.appear.call(e,f,h.length,b),f._lazyload_loadStarted=!0,b.no_fake_img_loader||n?(b.load!=g&&f.one("load",function(){b.load.call(e,f,h.length,b)}),i()):a("<img />").one("load",function(){i(),b.load!=g&&b.load.call(e,f,h.length,b)}).attr("src",l))}),j||f.on(b.event,function(){f._lazyload_loadStarted||f.trigger("_lazyload_appear")}),void 0)}),j&&b._$container.on(b.event,function(){k(h,b)}),d.on("resize load",function(){k(h,b)}),a(function(){k(h,b)}),this})});
},{}],15:[function(require,module,exports){
(function (global){
; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
/*! jQuery v2.2.0 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!k.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=R.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c);
}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return this;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.rnamespace||a.rnamespace.test(g.namespace))&&(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ca(b),i="border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Fa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Ba.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+Oa(b,c,e||(i?"border":"content"),f,h)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b];
},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(void 0===a||"boolean"===c)&&(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){return n.trim(a.value)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var hb=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!hb.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,hb.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var ib=a.location,jb=n.now(),kb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+b),c};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb={},sb={},tb="*/".concat("*"),ub=d.createElement("a");ub.href=ib.href;function vb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function wb(a,b,c,d){var e={},f=a===sb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function xb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function yb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function zb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ib.href,type:"GET",isLocal:ob.test(ib.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xb(xb(a,n.ajaxSettings),b):xb(n.ajaxSettings,a)},ajaxPrefilter:vb(rb),ajaxTransport:vb(sb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=nb.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||ib.href)+"").replace(lb,"").replace(qb,ib.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=ub.protocol+"//"+ub.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),wb(rb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(kb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=mb.test(f)?f.replace(mb,"$1_="+jb++):f+(kb.test(f)?"&":"?")+"_="+jb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=wb(sb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=yb(m,x,d)),u=zb(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,(b||!y)&&(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Ab=/%20/g,Bb=/\[\]$/,Cb=/\r?\n/g,Db=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;function Fb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Bb.test(a)?d(a,e):Fb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Fb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Fb(c,a[c],b,e);return d.join("&").replace(Ab,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Eb.test(this.nodeName)&&!Db.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Cb,"\r\n")}}):{name:b.name,value:c.replace(Cb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Gb={0:200,1223:204},Hb=n.ajaxSettings.xhr();l.cors=!!Hb&&"withCredentials"in Hb,l.ajax=Hb=!!Hb,n.ajaxTransport(function(b){var c,d;return l.cors||Hb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Gb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Ib=[],Jb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ib.pop()||n.expando+"_"+jb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Jb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Jb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Ib.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),l.createHTMLDocument=function(){var a=d.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||(l.createHTMLDocument?d.implementation.createHTMLDocument(""):d);var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Kb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Lb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Lb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0)-a.scrollTop(),d.left+=n.css(a[0],"borderLeftWidth",!0)-a.scrollLeft()),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Lb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Mb=a.jQuery,Nb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Nb),b&&a.jQuery===n&&(a.jQuery=Mb),n},b||(a.jQuery=a.$=n),n});

; browserify_shim__define__module__export__(typeof $ != "undefined" ? $ : window.$);

}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],16:[function(require,module,exports){
/*! jQuery Validation Plugin - v1.13.1 - 10/14/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 Jörn Zaefferer; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d,e;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),e=c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),void 0!==e?e:!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c;return a(this[0]).is("form")?b=this.validate().form():(b=!0,c=a(this[0].form).validate(),this.each(function(){b=c.element(this)&&b})),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d,e,f,g,h,i,j=this[0];if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(b,c){i[c]=f[c],delete f[c],"required"===c&&a(j).removeAttr("aria-required")}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g),a(j).attr("aria-required","true")),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,""),e=c.settings;e[d]&&!this.is(e.ignore)&&e[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){d[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",b).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c=this.clean(b),d=this.validationTargetFor(c),e=!0;return this.lastElement=d,void 0===d?delete this.invalid[c.name]:(this.prepareElement(d),this.currentElements=a(d),e=this.check(d)!==!1,e?delete this.invalid[d.name]:this.invalid[d.name]=!0),a(b).attr("aria-invalid",!e),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d=a(b),e=b.type;return"radio"===e||"checkbox"===e?a("input[name='"+b.name+"']:checked").val():"number"===e&&"undefined"!=typeof b.validity?b.validity.badInput?!1:d.val():(c=d.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f=a(b).rules(),g=a.map(f,function(a,b){return b}).length,h=!1,i=this.elementValue(b);for(d in f){e={method:d,parameters:f[d]};try{if(c=a.validator.methods[d].call(this,i,b,e.parameters),"dependency-mismatch"===c&&1===g){h=!0;continue}if(h=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(j){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+e.method+"' method.",j),j}}if(!h)return this.objectLength(f)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b,method:c.method}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g=this.errorsFor(b),h=this.idOrName(b),i=a(b).attr("aria-describedby");g.length?(g.removeClass(this.settings.validClass).addClass(this.settings.errorClass),g.html(c)):(g=a("<"+this.settings.errorElement+">").attr("id",h+"-error").addClass(this.settings.errorClass).html(c||""),d=g,this.settings.wrapper&&(d=g.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b),g.is("label")?g.attr("for",h):0===g.parents("label[for='"+h+"']").length&&(f=g.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),i?i.match(new RegExp("\\b"+f+"\\b"))||(i+=" "+f):i=f,a(b).attr("aria-describedby",i),e=this.groups[b.name],e&&a.each(this.groups,function(b,c){c===e&&a("[name='"+b+"']",this.currentForm).attr("aria-describedby",g.attr("id"))}))),!c&&this.settings.success&&(g.text(""),"string"==typeof this.settings.success?g.addClass(this.settings.success):this.settings.success(g,b)),this.toShow=this.toShow.add(g)},errorsFor:function(b){var c=this.idOrName(b),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+d.replace(/\s+/g,", #")),this.errors().filter(e)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),/min|max/.test(c)&&(null===g||/number|range|text/.test(g))&&(d=Number(d)),d||0===d?e[c]=d:g===c&&"range"!==g&&(e[c]=!0);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c,d,e=0,f=0,g=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(c=a.length-1;c>=0;c--)d=a.charAt(c),f=parseInt(d,10),g&&(f*=2)>9&&(f-=9),e+=f,g=!g;return e%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e,f,g=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),g.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=g.message,d="string"==typeof d&&{url:d}||d,g.old===b?g.valid:(g.old=b,e=this,this.startRequest(c),f={},f[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,context:e.currentForm,success:function(d){var f,h,i,j=d===!0||"true"===d;e.settings.messages[c.name].remote=g.originalMessage,j?(i=e.formSubmitted,e.prepareElement(c),e.formSubmitted=i,e.successList.push(c),delete e.invalid[c.name],e.showErrors()):(f={},h=d||e.defaultMessage(c,"remote"),f[c.name]=g.message=a.isFunction(h)?h(b):h,e.invalid[c.name]=!0,e.showErrors(f)),g.valid=j,e.stopRequest(c,j)}},d)),"pending")}}}),a.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var b,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})});
},{}],17:[function(require,module,exports){
require('jquery');
require('amazeui');
require('jquery-validate');
require('jquery-lazyload');
require('jquery-cookie');
require('jquery-form');
require('jquery-infinitescroll');
require('clipboard');
require('typeahead');
require('bloodhound');
require('photoswipe');
require('photoswipe-ui');
},{"amazeui":8,"bloodhound":9,"clipboard":10,"jquery":15,"jquery-cookie":11,"jquery-form":12,"jquery-infinitescroll":13,"jquery-lazyload":14,"jquery-validate":16,"photoswipe":19,"photoswipe-ui":18,"typeahead":20}],18:[function(require,module,exports){
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipeUI_Default=b()}(this,function(){"use strict";var a=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=this,w=!1,x=!0,y=!0,z={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(a,b){return a.title?(b.children[0].innerHTML=a.title,!0):(b.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return a.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return a.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},A=function(a){if(r)return!0;a=a||window.event,q.timeToIdle&&q.mouseUsed&&!k&&K();for(var c,d,e=a.target||a.srcElement,f=e.getAttribute("class")||"",g=0;g<S.length;g++)c=S[g],c.onTap&&f.indexOf("pswp__"+c.name)>-1&&(c.onTap(),d=!0);if(d){a.stopPropagation&&a.stopPropagation(),r=!0;var h=b.features.isOldAndroid?600:30;s=setTimeout(function(){r=!1},h)}},B=function(){return!a.likelyTouchDevice||q.mouseUsed||screen.width>q.fitControlsWidth},C=function(a,c,d){b[(d?"add":"remove")+"Class"](a,"pswp__"+c)},D=function(){var a=1===q.getNumItemsFn();a!==p&&(C(d,"ui--one-slide",a),p=a)},E=function(){C(i,"share-modal--hidden",y)},F=function(){return y=!y,y?(b.removeClass(i,"pswp__share-modal--fade-in"),setTimeout(function(){y&&E()},300)):(E(),setTimeout(function(){y||b.addClass(i,"pswp__share-modal--fade-in")},30)),y||H(),!1},G=function(b){b=b||window.event;var c=b.target||b.srcElement;return a.shout("shareLinkClick",b,c),c.href?c.hasAttribute("download")?!0:(window.open(c.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),y||F(),!1):!1},H=function(){for(var a,b,c,d,e,f="",g=0;g<q.shareButtons.length;g++)a=q.shareButtons[g],c=q.getImageURLForShare(a),d=q.getPageURLForShare(a),e=q.getTextForShare(a),b=a.url.replace("{{url}}",encodeURIComponent(d)).replace("{{image_url}}",encodeURIComponent(c)).replace("{{raw_image_url}}",c).replace("{{text}}",encodeURIComponent(e)),f+='<a href="'+b+'" target="_blank" class="pswp__share--'+a.id+'"'+(a.download?"download":"")+">"+a.label+"</a>",q.parseShareButtonOut&&(f=q.parseShareButtonOut(a,f));i.children[0].innerHTML=f,i.children[0].onclick=G},I=function(a){for(var c=0;c<q.closeElClasses.length;c++)if(b.hasClass(a,"pswp__"+q.closeElClasses[c]))return!0},J=0,K=function(){clearTimeout(u),J=0,k&&v.setIdle(!1)},L=function(a){a=a?a:window.event;var b=a.relatedTarget||a.toElement;b&&"HTML"!==b.nodeName||(clearTimeout(u),u=setTimeout(function(){v.setIdle(!0)},q.timeToIdleOutside))},M=function(){q.fullscreenEl&&!b.features.isOldAndroid&&(c||(c=v.getFullscreenAPI()),c?(b.bind(document,c.eventK,v.updateFullscreen),v.updateFullscreen(),b.addClass(a.template,"pswp--supports-fs")):b.removeClass(a.template,"pswp--supports-fs"))},N=function(){q.preloaderEl&&(O(!0),l("beforeChange",function(){clearTimeout(o),o=setTimeout(function(){a.currItem&&a.currItem.loading?(!a.allowProgressiveImg()||a.currItem.img&&!a.currItem.img.naturalWidth)&&O(!1):O(!0)},q.loadingIndicatorDelay)}),l("imageLoadComplete",function(b,c){a.currItem===c&&O(!0)}))},O=function(a){n!==a&&(C(m,"preloader--active",!a),n=a)},P=function(a){var c=a.vGap;if(B()){var g=q.barsSize;if(q.captionEl&&"auto"===g.bottom)if(f||(f=b.createEl("pswp__caption pswp__caption--fake"),f.appendChild(b.createEl("pswp__caption__center")),d.insertBefore(f,e),b.addClass(d,"pswp__ui--fit")),q.addCaptionHTMLFn(a,f,!0)){var h=f.clientHeight;c.bottom=parseInt(h,10)||44}else c.bottom=g.top;else c.bottom="auto"===g.bottom?0:g.bottom;c.top=g.top}else c.top=c.bottom=0},Q=function(){q.timeToIdle&&l("mouseUsed",function(){b.bind(document,"mousemove",K),b.bind(document,"mouseout",L),t=setInterval(function(){J++,2===J&&v.setIdle(!0)},q.timeToIdle/2)})},R=function(){l("onVerticalDrag",function(a){x&&.95>a?v.hideControls():!x&&a>=.95&&v.showControls()});var a;l("onPinchClose",function(b){x&&.9>b?(v.hideControls(),a=!0):a&&!x&&b>.9&&v.showControls()}),l("zoomGestureEnded",function(){a=!1,a&&!x&&v.showControls()})},S=[{name:"caption",option:"captionEl",onInit:function(a){e=a}},{name:"share-modal",option:"shareEl",onInit:function(a){i=a},onTap:function(){F()}},{name:"button--share",option:"shareEl",onInit:function(a){h=a},onTap:function(){F()}},{name:"button--zoom",option:"zoomEl",onTap:a.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(a){g=a}},{name:"button--close",option:"closeEl",onTap:a.close},{name:"button--arrow--left",option:"arrowEl",onTap:a.prev},{name:"button--arrow--right",option:"arrowEl",onTap:a.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){c.isFullscreen()?c.exit():c.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(a){m=a}}],T=function(){var a,c,e,f=function(d){if(d)for(var f=d.length,g=0;f>g;g++){a=d[g],c=a.className;for(var h=0;h<S.length;h++)e=S[h],c.indexOf("pswp__"+e.name)>-1&&(q[e.option]?(b.removeClass(a,"pswp__element--disabled"),e.onInit&&e.onInit(a)):b.addClass(a,"pswp__element--disabled"))}};f(d.children);var g=b.getChildByClass(d,"pswp__top-bar");g&&f(g.children)};v.init=function(){b.extend(a.options,z,!0),q=a.options,d=b.getChildByClass(a.scrollWrap,"pswp__ui"),l=a.listen,R(),l("beforeChange",v.update),l("doubleTap",function(b){var c=a.currItem.initialZoomLevel;a.getZoomLevel()!==c?a.zoomTo(c,b,333):a.zoomTo(q.getDoubleTapZoom(!1,a.currItem),b,333)}),l("preventDragEvent",function(a,b,c){var d=a.target||a.srcElement;d&&d.getAttribute("class")&&a.type.indexOf("mouse")>-1&&(d.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(d.tagName))&&(c.prevent=!1)}),l("bindEvents",function(){b.bind(d,"pswpTap click",A),b.bind(a.scrollWrap,"pswpTap",v.onGlobalTap),a.likelyTouchDevice||b.bind(a.scrollWrap,"mouseover",v.onMouseOver)}),l("unbindEvents",function(){y||F(),t&&clearInterval(t),b.unbind(document,"mouseout",L),b.unbind(document,"mousemove",K),b.unbind(d,"pswpTap click",A),b.unbind(a.scrollWrap,"pswpTap",v.onGlobalTap),b.unbind(a.scrollWrap,"mouseover",v.onMouseOver),c&&(b.unbind(document,c.eventK,v.updateFullscreen),c.isFullscreen()&&(q.hideAnimationDuration=0,c.exit()),c=null)}),l("destroy",function(){q.captionEl&&(f&&d.removeChild(f),b.removeClass(e,"pswp__caption--empty")),i&&(i.children[0].onclick=null),b.removeClass(d,"pswp__ui--over-close"),b.addClass(d,"pswp__ui--hidden"),v.setIdle(!1)}),q.showAnimationDuration||b.removeClass(d,"pswp__ui--hidden"),l("initialZoomIn",function(){q.showAnimationDuration&&b.removeClass(d,"pswp__ui--hidden")}),l("initialZoomOut",function(){b.addClass(d,"pswp__ui--hidden")}),l("parseVerticalMargin",P),T(),q.shareEl&&h&&i&&(y=!0),D(),Q(),M(),N()},v.setIdle=function(a){k=a,C(d,"ui--idle",a)},v.update=function(){x&&a.currItem?(v.updateIndexIndicator(),q.captionEl&&(q.addCaptionHTMLFn(a.currItem,e),C(e,"caption--empty",!a.currItem.title)),w=!0):w=!1,y||F(),D()},v.updateFullscreen=function(d){d&&setTimeout(function(){a.setScrollOffset(0,b.getScrollY())},50),b[(c.isFullscreen()?"add":"remove")+"Class"](a.template,"pswp--fs")},v.updateIndexIndicator=function(){q.counterEl&&(g.innerHTML=a.getCurrentIndex()+1+q.indexIndicatorSep+q.getNumItemsFn())},v.onGlobalTap=function(c){c=c||window.event;var d=c.target||c.srcElement;if(!r)if(c.detail&&"mouse"===c.detail.pointerType){if(I(d))return void a.close();b.hasClass(d,"pswp__img")&&(1===a.getZoomLevel()&&a.getZoomLevel()<=a.currItem.fitRatio?q.clickToCloseNonZoomable&&a.close():a.toggleDesktopZoom(c.detail.releasePoint))}else if(q.tapToToggleControls&&(x?v.hideControls():v.showControls()),q.tapToClose&&(b.hasClass(d,"pswp__img")||I(d)))return void a.close()},v.onMouseOver=function(a){a=a||window.event;var b=a.target||a.srcElement;C(d,"ui--over-close",I(b))},v.hideControls=function(){b.addClass(d,"pswp__ui--hidden"),x=!1},v.showControls=function(){x=!0,w||v.update(),b.removeClass(d,"pswp__ui--hidden")},v.supportsFullscreen=function(){var a=document;return!!(a.exitFullscreen||a.mozCancelFullScreen||a.webkitExitFullscreen||a.msExitFullscreen)},v.getFullscreenAPI=function(){var b,c=document.documentElement,d="fullscreenchange";return c.requestFullscreen?b={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:d}:c.mozRequestFullScreen?b={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+d}:c.webkitRequestFullscreen?b={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+d}:c.msRequestFullscreen&&(b={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),b&&(b.enter=function(){return j=q.closeOnScroll,q.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?a.template[this.enterK]():void a.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},b.exit=function(){return q.closeOnScroll=j,document[this.exitK]()},b.isFullscreen=function(){return document[this.elementK]}),b}};return a});
},{}],19:[function(require,module,exports){
/*! PhotoSwipe - v4.1.1 - 2015-12-24
* http://photoswipe.com
* Copyright (c) 2015 Dmitry Semenov; */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.PhotoSwipe=b()}(this,function(){"use strict";var a=function(a,b,c,d){var e={features:null,bind:function(a,b,c,d){var e=(d?"remove":"add")+"EventListener";b=b.split(" ");for(var f=0;f<b.length;f++)b[f]&&a[e](b[f],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==a?a:document.documentElement.scrollTop},unbind:function(a,b,c){e.bind(a,b,c,!0)},removeClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className=a.className.replace(c," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){e.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(e.hasClass(c,b))return c;c=c.nextSibling}},arraySearch:function(a,b,c){for(var d=a.length;d--;)if(a[d][c]===b)return d;return-1},extend:function(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&a.hasOwnProperty(d))continue;a[d]=b[d]}},easing:{sine:{out:function(a){return Math.sin(a*(Math.PI/2))},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(e.features)return e.features;var a=e.createEl(),b=a.style,c="",d={};if(d.oldIE=document.all&&!document.addEventListener,d.touch="ontouchstart"in window,window.requestAnimationFrame&&(d.raf=window.requestAnimationFrame,d.caf=window.cancelAnimationFrame),d.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!d.pointerEvent){var f=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&g.length>0&&(g=parseInt(g[1],10),g>=1&&8>g&&(d.isOldIOSPhone=!0))}var h=f.match(/Android\s([0-9\.]*)/),i=h?h[1]:0;i=parseFloat(i),i>=1&&(4.4>i&&(d.isOldAndroid=!0),d.androidVersion=i),d.isMobileOpera=/opera mini|opera mobi/i.test(f)}for(var j,k,l=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],n=0;4>n;n++){c=m[n];for(var o=0;3>o;o++)j=l[o],k=c+(c?j.charAt(0).toUpperCase()+j.slice(1):j),!d[j]&&k in b&&(d[j]=k);c&&!d.raf&&(c=c.toLowerCase(),d.raf=window[c+"RequestAnimationFrame"],d.raf&&(d.caf=window[c+"CancelAnimationFrame"]||window[c+"CancelRequestAnimationFrame"]))}if(!d.raf){var p=0;d.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-p)),d=window.setTimeout(function(){a(b+c)},c);return p=b+c,d},d.caf=function(a){clearTimeout(a)}}return d.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,e.features=d,d}};e.detectFeatures(),e.features.oldIE&&(e.bind=function(a,b,c,d){b=b.split(" ");for(var e,f=(d?"detach":"attach")+"Event",g=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(e=b[h])if("object"==typeof c&&c.handleEvent){if(d){if(!c["oldIE"+e])return!1}else c["oldIE"+e]=g;a[f]("on"+e,c["oldIE"+e])}else a[f]("on"+e,c)});var f=this,g=25,h=3,i={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:b.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};e.extend(i,d);var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=function(){return{x:0,y:0}},ma=la(),na=la(),oa=la(),pa={},qa=0,ra={},sa=la(),ta=0,ua=!0,va=[],wa={},xa=!1,ya=function(a,b){e.extend(f,b.publicMethods),va.push(a)},za=function(a){var b=_b();return a>b-1?a-b:0>a?b+a:a},Aa={},Ba=function(a,b){return Aa[a]||(Aa[a]=[]),Aa[a].push(b)},Ca=function(a){var b=Aa[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var d=0;d<b.length;d++)b[d].apply(f,c)}},Da=function(){return(new Date).getTime()},Ea=function(a){ia=a,f.bg.style.opacity=a*i.bgOpacity},Fa=function(a,b,c,d,e){(!xa||e&&e!==f.currItem)&&(d/=e?e.fitRatio:f.currItem.fitRatio),a[E]=u+b+"px, "+c+"px"+v+" scale("+d+")"},Ga=function(a){da&&(a&&(s>f.currItem.fitRatio?xa||(lc(f.currItem,!1,!0),xa=!0):xa&&(lc(f.currItem),xa=!1)),Fa(da,oa.x,oa.y,s))},Ha=function(a){a.container&&Fa(a.container.style,a.initialPosition.x,a.initialPosition.y,a.initialZoomLevel,a)},Ia=function(a,b){b[E]=u+a+"px, 0px"+v},Ja=function(a,b){if(!i.loop&&b){var c=m+(sa.x*qa-a)/sa.x,d=Math.round(a-sb.x);(0>c&&d>0||c>=_b()-1&&0>d)&&(a=sb.x+d*i.mainScrollEndFriction)}sb.x=a,Ia(a,n)},Ka=function(a,b){var c=tb[a]-ra[a];return na[a]+ma[a]+c-c*(b/t)},La=function(a,b){a.x=b.x,a.y=b.y,b.id&&(a.id=b.id)},Ma=function(a){a.x=Math.round(a.x),a.y=Math.round(a.y)},Na=null,Oa=function(){Na&&(e.unbind(document,"mousemove",Oa),e.addClass(a,"pswp--has_mouse"),i.mouseUsed=!0,Ca("mouseUsed")),Na=setTimeout(function(){Na=null},100)},Pa=function(){e.bind(document,"keydown",f),N.transform&&e.bind(f.scrollWrap,"click",f),i.mouseUsed||e.bind(document,"mousemove",Oa),e.bind(window,"resize scroll",f),Ca("bindEvents")},Qa=function(){e.unbind(window,"resize",f),e.unbind(window,"scroll",r.scroll),e.unbind(document,"keydown",f),e.unbind(document,"mousemove",Oa),N.transform&&e.unbind(f.scrollWrap,"click",f),U&&e.unbind(window,p,f),Ca("unbindEvents")},Ra=function(a,b){var c=hc(f.currItem,pa,a);return b&&(ca=c),c},Sa=function(a){return a||(a=f.currItem),a.initialZoomLevel},Ta=function(a){return a||(a=f.currItem),a.w>0?i.maxSpreadZoom:1},Ua=function(a,b,c,d){return d===f.currItem.initialZoomLevel?(c[a]=f.currItem.initialPosition[a],!0):(c[a]=Ka(a,d),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},Va=function(){if(E){var b=N.perspective&&!G;return u="translate"+(b?"3d(":"("),void(v=N.perspective?", 0px)":")")}E="left",e.addClass(a,"pswp--ie"),Ia=function(a,b){b.left=a+"px"},Ha=function(a){var b=a.fitRatio>1?1:a.fitRatio,c=a.container.style,d=b*a.w,e=b*a.h;c.width=d+"px",c.height=e+"px",c.left=a.initialPosition.x+"px",c.top=a.initialPosition.y+"px"},Ga=function(){if(da){var a=da,b=f.currItem,c=b.fitRatio>1?1:b.fitRatio,d=c*b.w,e=c*b.h;a.width=d+"px",a.height=e+"px",a.left=oa.x+"px",a.top=oa.y+"px"}}},Wa=function(a){var b="";i.escKey&&27===a.keyCode?b="close":i.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next")),b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,f[b]()))},Xa=function(a){a&&(X||W||ea||S)&&(a.preventDefault(),a.stopPropagation())},Ya=function(){f.setScrollOffset(0,e.getScrollY())},Za={},$a=0,_a=function(a){Za[a]&&(Za[a].raf&&I(Za[a].raf),$a--,delete Za[a])},ab=function(a){Za[a]&&_a(a),Za[a]||($a++,Za[a]={})},bb=function(){for(var a in Za)Za.hasOwnProperty(a)&&_a(a)},cb=function(a,b,c,d,e,f,g){var h,i=Da();ab(a);var j=function(){if(Za[a]){if(h=Da()-i,h>=d)return _a(a),f(c),void(g&&g());f((c-b)*e(h/d)+b),Za[a].raf=H(j)}};j()},db={shout:Ca,listen:Ba,viewportSize:pa,options:i,isMainScrollAnimating:function(){return ea},getZoomLevel:function(){return s},getCurrentIndex:function(){return m},isDragging:function(){return U},isZooming:function(){return _},setScrollOffset:function(a,b){ra.x=a,M=ra.y=b,Ca("updateScrollOffset",ra)},applyZoomPan:function(a,b,c,d){oa.x=b,oa.y=c,s=a,Ga(d)},init:function(){if(!j&&!k){var c;f.framework=e,f.template=a,f.bg=e.getChildByClass(a,"pswp__bg"),J=a.className,j=!0,N=e.detectFeatures(),H=N.raf,I=N.caf,E=N.transform,L=N.oldIE,f.scrollWrap=e.getChildByClass(a,"pswp__scroll-wrap"),f.container=e.getChildByClass(f.scrollWrap,"pswp__container"),n=f.container.style,f.itemHolders=y=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],y[0].el.style.display=y[2].el.style.display="none",Va(),r={resize:f.updateSize,scroll:Ya,keydown:Wa,click:Xa};var d=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!d||(i.showAnimationDuration=i.hideAnimationDuration=0),c=0;c<va.length;c++)f["init"+va[c]]();if(b){var g=f.ui=new b(f,e);g.init()}Ca("firstUpdate"),m=m||i.index||0,(isNaN(m)||0>m||m>=_b())&&(m=0),f.currItem=$b(m),(N.isOldIOSPhone||N.isOldAndroid)&&(ua=!1),a.setAttribute("aria-hidden","false"),i.modal&&(ua?a.style.position="fixed":(a.style.position="absolute",a.style.top=e.getScrollY()+"px")),void 0===M&&(Ca("initialLayout"),M=K=e.getScrollY());var l="pswp--open ";for(i.mainClass&&(l+=i.mainClass+" "),i.showHideOpacity&&(l+="pswp--animate_opacity "),l+=G?"pswp--touch":"pswp--notouch",l+=N.animationName?" pswp--css_animation":"",l+=N.svg?" pswp--svg":"",e.addClass(a,l),f.updateSize(),o=-1,ta=null,c=0;h>c;c++)Ia((c+o)*sa.x,y[c].el.style);L||e.bind(f.scrollWrap,q,f),Ba("initialZoomInEnd",function(){f.setContent(y[0],m-1),f.setContent(y[2],m+1),y[0].el.style.display=y[2].el.style.display="block",i.focus&&a.focus(),Pa()}),f.setContent(y[1],m),f.updateCurrItem(),Ca("afterInit"),ua||(w=setInterval(function(){$a||U||_||s!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),e.addClass(a,"pswp--visible")}},close:function(){j&&(j=!1,k=!0,Ca("close"),Qa(),bc(f.currItem,null,!0,f.destroy))},destroy:function(){Ca("destroy"),Wb&&clearTimeout(Wb),a.setAttribute("aria-hidden","true"),a.className=J,w&&clearInterval(w),e.unbind(f.scrollWrap,q,f),e.unbind(window,"scroll",f),yb(),bb(),Aa=null},panTo:function(a,b,c){c||(a>ca.min.x?a=ca.min.x:a<ca.max.x&&(a=ca.max.x),b>ca.min.y?b=ca.min.y:b<ca.max.y&&(b=ca.max.y)),oa.x=a,oa.y=b,Ga()},handleEvent:function(a){a=a||window.event,r[a.type]&&r[a.type](a)},goTo:function(a){a=za(a);var b=a-m;ta=b,m=a,f.currItem=$b(m),qa-=b,Ja(sa.x*qa),bb(),ea=!1,f.updateCurrItem()},next:function(){f.goTo(m+1)},prev:function(){f.goTo(m-1)},updateCurrZoomItem:function(a){if(a&&Ca("beforeChange",0),y[1].el.children.length){var b=y[1].el.children[0];da=e.hasClass(b,"pswp__zoom-wrap")?b.style:null}else da=null;ca=f.currItem.bounds,t=s=f.currItem.initialZoomLevel,oa.x=ca.center.x,oa.y=ca.center.y,a&&Ca("afterChange")},invalidateCurrItems:function(){x=!0;for(var a=0;h>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==ta){var b,c=Math.abs(ta);if(!(a&&2>c)){f.currItem=$b(m),xa=!1,Ca("beforeChange",ta),c>=h&&(o+=ta+(ta>0?-h:h),c=h);for(var d=0;c>d;d++)ta>0?(b=y.shift(),y[h-1]=b,o++,Ia((o+2)*sa.x,b.el.style),f.setContent(b,m-c+d+1+1)):(b=y.pop(),y.unshift(b),o--,Ia(o*sa.x,b.el.style),f.setContent(b,m+c-d-1-1));if(da&&1===Math.abs(ta)){var e=$b(z);e.initialZoomLevel!==s&&(hc(e,pa),lc(e),Ha(e))}ta=0,f.updateCurrZoomItem(),z=m,Ca("afterChange")}}},updateSize:function(b){if(!ua&&i.modal){var c=e.getScrollY();if(M!==c&&(a.style.top=c+"px",M=c),!b&&wa.x===window.innerWidth&&wa.y===window.innerHeight)return;wa.x=window.innerWidth,wa.y=window.innerHeight,a.style.height=wa.y+"px"}if(pa.x=f.scrollWrap.clientWidth,pa.y=f.scrollWrap.clientHeight,Ya(),sa.x=pa.x+Math.round(pa.x*i.spacing),sa.y=pa.y,Ja(sa.x*qa),Ca("beforeResize"),void 0!==o){for(var d,g,j,k=0;h>k;k++)d=y[k],Ia((k+o)*sa.x,d.el.style),j=m+k-1,i.loop&&_b()>2&&(j=za(j)),g=$b(j),g&&(x||g.needsUpdate||!g.bounds)?(f.cleanSlide(g),f.setContent(d,j),1===k&&(f.currItem=g,f.updateCurrZoomItem(!0)),g.needsUpdate=!1):-1===d.index&&j>=0&&f.setContent(d,j),g&&g.container&&(hc(g,pa),lc(g),Ha(g));x=!1}t=s=f.currItem.initialZoomLevel,ca=f.currItem.bounds,ca&&(oa.x=ca.center.x,oa.y=ca.center.y,Ga(!0)),Ca("resize")},zoomTo:function(a,b,c,d,f){b&&(t=s,tb.x=Math.abs(b.x)-oa.x,tb.y=Math.abs(b.y)-oa.y,La(na,oa));var g=Ra(a,!1),h={};Ua("x",g,h,a),Ua("y",g,h,a);var i=s,j={x:oa.x,y:oa.y};Ma(h);var k=function(b){1===b?(s=a,oa.x=h.x,oa.y=h.y):(s=(a-i)*b+i,oa.x=(h.x-j.x)*b+j.x,oa.y=(h.y-j.y)*b+j.y),f&&f(b),Ga(1===b)};c?cb("customZoomTo",0,1,c,d||e.easing.sine.inOut,k):k(1)}},eb=30,fb=10,gb={},hb={},ib={},jb={},kb={},lb=[],mb={},nb=[],ob={},pb=0,qb=la(),rb=0,sb=la(),tb=la(),ub=la(),vb=function(a,b){return a.x===b.x&&a.y===b.y},wb=function(a,b){return Math.abs(a.x-b.x)<g&&Math.abs(a.y-b.y)<g},xb=function(a,b){return ob.x=Math.abs(a.x-b.x),ob.y=Math.abs(a.y-b.y),Math.sqrt(ob.x*ob.x+ob.y*ob.y)},yb=function(){Y&&(I(Y),Y=null)},zb=function(){U&&(Y=H(zb),Pb())},Ab=function(){return!("fit"===i.scaleMode&&s===f.currItem.initialZoomLevel)},Bb=function(a,b){return a&&a!==document?a.getAttribute("class")&&a.getAttribute("class").indexOf("pswp__scroll-wrap")>-1?!1:b(a)?a:Bb(a.parentNode,b):!1},Cb={},Db=function(a,b){return Cb.prevent=!Bb(a.target,i.isClickableElement),Ca("preventDragEvent",a,b,Cb),Cb.prevent},Eb=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},Fb=function(a,b,c){c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y)},Gb=function(a,b,c){if(a-P>50){var d=nb.length>2?nb.shift():{};d.x=b,d.y=c,nb.push(d),P=a}},Hb=function(){var a=oa.y-f.currItem.initialPosition.y;return 1-Math.abs(a/(pa.y/2))},Ib={},Jb={},Kb=[],Lb=function(a){for(;Kb.length>0;)Kb.pop();return F?(ka=0,lb.forEach(function(a){0===ka?Kb[0]=a:1===ka&&(Kb[1]=a),ka++})):a.type.indexOf("touch")>-1?a.touches&&a.touches.length>0&&(Kb[0]=Eb(a.touches[0],Ib),a.touches.length>1&&(Kb[1]=Eb(a.touches[1],Jb))):(Ib.x=a.pageX,Ib.y=a.pageY,Ib.id="",Kb[0]=Ib),Kb},Mb=function(a,b){var c,d,e,g,h=0,j=oa[a]+b[a],k=b[a]>0,l=sb.x+b.x,m=sb.x-mb.x;return c=j>ca.min[a]||j<ca.max[a]?i.panEndFriction:1,j=oa[a]+b[a]*c,!i.allowPanToNext&&s!==f.currItem.initialZoomLevel||(da?"h"!==fa||"x"!==a||W||(k?(j>ca.min[a]&&(c=i.panEndFriction,h=ca.min[a]-j,d=ca.min[a]-na[a]),(0>=d||0>m)&&_b()>1?(g=l,0>m&&l>mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j)):(j<ca.max[a]&&(c=i.panEndFriction,h=j-ca.max[a],d=na[a]-ca.max[a]),(0>=d||m>0)&&_b()>1?(g=l,m>0&&l<mb.x&&(g=mb.x)):ca.min.x!==ca.max.x&&(e=j))):g=l,"x"!==a)?void(ea||Z||s>f.currItem.fitRatio&&(oa[a]+=b[a]*c)):(void 0!==g&&(Ja(g,!0),Z=g===mb.x?!1:!0),ca.min.x!==ca.max.x&&(void 0!==e?oa.x=e:Z||(oa.x+=b.x*c)),void 0!==g)},Nb=function(a){if(!("mousedown"===a.type&&a.button>0)){if(Zb)return void a.preventDefault();if(!T||"mousedown"!==a.type){if(Db(a,!0)&&a.preventDefault(),Ca("pointerDown"),F){var b=e.arraySearch(lb,a.pointerId,"id");0>b&&(b=lb.length),lb[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}var c=Lb(a),d=c.length;$=null,bb(),U&&1!==d||(U=ga=!0,e.bind(window,p,f),R=ja=ha=S=Z=X=V=W=!1,fa=null,Ca("firstTouchStart",c),La(na,oa),ma.x=ma.y=0,La(jb,c[0]),La(kb,jb),mb.x=sa.x*qa,nb=[{x:jb.x,y:jb.y}],P=O=Da(),Ra(s,!0),yb(),zb()),!_&&d>1&&!ea&&!Z&&(t=s,W=!1,_=V=!0,ma.y=ma.x=0,La(na,oa),La(gb,c[0]),La(hb,c[1]),Fb(gb,hb,ub),tb.x=Math.abs(ub.x)-oa.x,tb.y=Math.abs(ub.y)-oa.y,aa=ba=xb(gb,hb))}}},Ob=function(a){if(a.preventDefault(),F){var b=e.arraySearch(lb,a.pointerId,"id");if(b>-1){var c=lb[b];c.x=a.pageX,c.y=a.pageY}}if(U){var d=Lb(a);if(fa||X||_)$=d;else if(sb.x!==sa.x*qa)fa="h";else{var f=Math.abs(d[0].x-jb.x)-Math.abs(d[0].y-jb.y);Math.abs(f)>=fb&&(fa=f>0?"h":"v",$=d)}}},Pb=function(){if($){var a=$.length;if(0!==a)if(La(gb,$[0]),ib.x=gb.x-jb.x,ib.y=gb.y-jb.y,_&&a>1){if(jb.x=gb.x,jb.y=gb.y,!ib.x&&!ib.y&&vb($[1],hb))return;La(hb,$[1]),W||(W=!0,Ca("zoomGestureStarted"));var b=xb(gb,hb),c=Ub(b);c>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(ja=!0);var d=1,e=Sa(),g=Ta();if(e>c)if(i.pinchToClose&&!ja&&t<=f.currItem.initialZoomLevel){var h=e-c,j=1-h/(e/1.2);Ea(j),Ca("onPinchClose",j),ha=!0}else d=(e-c)/e,d>1&&(d=1),c=e-d*(e/3);else c>g&&(d=(c-g)/(6*e),d>1&&(d=1),c=g+d*e);0>d&&(d=0),aa=b,Fb(gb,hb,qb),ma.x+=qb.x-ub.x,ma.y+=qb.y-ub.y,La(ub,qb),oa.x=Ka("x",c),oa.y=Ka("y",c),R=c>s,s=c,Ga()}else{if(!fa)return;if(ga&&(ga=!1,Math.abs(ib.x)>=fb&&(ib.x-=$[0].x-kb.x),Math.abs(ib.y)>=fb&&(ib.y-=$[0].y-kb.y)),jb.x=gb.x,jb.y=gb.y,0===ib.x&&0===ib.y)return;if("v"===fa&&i.closeOnVerticalDrag&&!Ab()){ma.y+=ib.y,oa.y+=ib.y;var k=Hb();return S=!0,Ca("onVerticalDrag",k),Ea(k),void Ga()}Gb(Da(),gb.x,gb.y),X=!0,ca=f.currItem.bounds;var l=Mb("x",ib);l||(Mb("y",ib),Ma(oa),Ga())}}},Qb=function(a){if(N.isOldAndroid){if(T&&"mouseup"===a.type)return;a.type.indexOf("touch")>-1&&(clearTimeout(T),T=setTimeout(function(){T=0},600))}Ca("pointerUp"),Db(a,!1)&&a.preventDefault();var b;if(F){var c=e.arraySearch(lb,a.pointerId,"id");if(c>-1)if(b=lb.splice(c,1)[0],navigator.pointerEnabled)b.type=a.pointerType||"mouse";else{var d={4:"mouse",2:"touch",3:"pen"};b.type=d[a.pointerType],b.type||(b.type=a.pointerType||"mouse")}}var g,h=Lb(a),j=h.length;if("mouseup"===a.type&&(j=0),2===j)return $=null,!0;1===j&&La(kb,h[0]),0!==j||fa||ea||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),Ca("touchRelease",a,b));var k=-1;if(0===j&&(U=!1,e.unbind(window,p,f),yb(),_?k=0:-1!==rb&&(k=Da()-rb)),rb=1===j?Da():-1,g=-1!==k&&150>k?"zoom":"swipe",_&&2>j&&(_=!1,1===j&&(g="zoomPointerUp"),Ca("zoomGestureEnded")),$=null,X||W||ea||S)if(bb(),Q||(Q=Rb()),Q.calculateSwipeSpeed("x"),S){var l=Hb();if(l<i.verticalDragRange)f.close();else{var m=oa.y,n=ia;cb("verticalDrag",0,1,300,e.easing.cubic.out,function(a){oa.y=(f.currItem.initialPosition.y-m)*a+m,Ea((1-n)*a+n),Ga()}),Ca("onVerticalDrag",1)}}else{if((Z||ea)&&0===j){var o=Tb(g,Q);if(o)return;g="zoomPointerUp"}if(!ea)return"swipe"!==g?void Vb():void(!Z&&s>f.currItem.fitRatio&&Sb(Q))}},Rb=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(d){nb.length>1?(a=Da()-P+50,b=nb[nb.length-2][d]):(a=Da()-O,b=kb[d]),c.lastFlickOffset[d]=jb[d]-b,c.lastFlickDist[d]=Math.abs(c.lastFlickOffset[d]),c.lastFlickDist[d]>20?c.lastFlickSpeed[d]=c.lastFlickOffset[d]/a:c.lastFlickSpeed[d]=0,Math.abs(c.lastFlickSpeed[d])<.1&&(c.lastFlickSpeed[d]=0),c.slowDownRatio[d]=.95,c.slowDownRatioReverse[d]=1-c.slowDownRatio[d],c.speedDecelerationRatio[d]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(oa[a]>ca.min[a]?c.backAnimDestination[a]=ca.min[a]:oa[a]<ca.max[a]&&(c.backAnimDestination[a]=ca.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],c.speedDecelerationRatioAbs[a]<.05&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,cb("bounceZoomPan"+a,oa[a],c.backAnimDestination[a],b||300,e.easing.sine.out,function(b){oa[a]=b,Ga()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]=c.speedDecelerationRatio[a]*(c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10),c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*c.timeDiff,oa[a]+=c.distanceOffset[a])},panAnimLoop:function(){return Za.zoomPan&&(Za.zoomPan.raf=H(c.panAnimLoop),c.now=Da(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),Ga(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),c.speedDecelerationRatioAbs.x<.05&&c.speedDecelerationRatioAbs.y<.05)?(oa.x=Math.round(oa.x),oa.y=Math.round(oa.y),Ga(),void _a("zoomPan")):void 0}};return c},Sb=function(a){return a.calculateSwipeSpeed("y"),ca=f.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},Math.abs(a.lastFlickSpeed.x)<=.05&&Math.abs(a.lastFlickSpeed.y)<=.05?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(ab("zoomPan"),a.lastNow=Da(),void a.panAnimLoop())},Tb=function(a,b){var c;ea||(pb=m);var d;if("swipe"===a){var g=jb.x-kb.x,h=b.lastFlickDist.x<10;g>eb&&(h||b.lastFlickOffset.x>20)?d=-1:-eb>g&&(h||b.lastFlickOffset.x<-20)&&(d=1)}var j;d&&(m+=d,0>m?(m=i.loop?_b()-1:0,j=!0):m>=_b()&&(m=i.loop?0:_b()-1,j=!0),(!j||i.loop)&&(ta+=d,qa-=d,c=!0));var k,l=sa.x*qa,n=Math.abs(l-sb.x);return c||l>sb.x==b.lastFlickSpeed.x>0?(k=Math.abs(b.lastFlickSpeed.x)>0?n/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,pb===m&&(c=!1),ea=!0,Ca("mainScrollAnimStart"),cb("mainScroll",sb.x,l,k,e.easing.cubic.out,Ja,function(){bb(),ea=!1,pb=-1,(c||pb!==m)&&f.updateCurrItem(),Ca("mainScrollAnimComplete")}),c&&f.updateCurrItem(!0),c},Ub=function(a){return 1/ba*a*t},Vb=function(){var a=s,b=Sa(),c=Ta();b>s?a=b:s>c&&(a=c);var d,g=1,h=ia;return ha&&!R&&!ja&&b>s?(f.close(),!0):(ha&&(d=function(a){Ea((g-h)*a+h)}),f.zoomTo(a,0,200,e.easing.cubic.out,d),!0)};ya("Gestures",{publicMethods:{initGestures:function(){var a=function(a,b,c,d,e){A=a+b,B=a+c,C=a+d,D=e?a+e:""};F=N.pointerEvent,F&&N.touch&&(N.touch=!1),F?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):N.touch?(a("touch","start","move","end","cancel"),G=!0):a("mouse","down","move","up"),p=B+" "+C+" "+D,q=A,F&&!G&&(G=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),f.likelyTouchDevice=G,r[A]=Nb,r[B]=Ob,r[C]=Qb,D&&(r[D]=r[C]),N.touch&&(q+=" mousedown",p+=" mousemove mouseup",r.mousedown=r[A],r.mousemove=r[B],r.mouseup=r[C]),G||(i.allowPanToNext=!1)}}});var Wb,Xb,Yb,Zb,$b,_b,ac,bc=function(b,c,d,g){Wb&&clearTimeout(Wb),Zb=!0,Yb=!0;var h;b.initialLayout?(h=b.initialLayout,b.initialLayout=null):h=i.getThumbBoundsFn&&i.getThumbBoundsFn(m);var j=d?i.hideAnimationDuration:i.showAnimationDuration,k=function(){_a("initialZoom"),d?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Ea(1),c&&(c.style.display="block"),e.addClass(a,"pswp--animated-in"),Ca("initialZoom"+(d?"OutEnd":"InEnd"))),g&&g(),Zb=!1};if(!j||!h||void 0===h.x)return Ca("initialZoom"+(d?"Out":"In")),s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),a.style.opacity=d?0:1,Ea(1),void(j?setTimeout(function(){k()},j):k());var n=function(){var c=l,g=!f.currItem.src||f.currItem.loadError||i.showHideOpacity;b.miniImg&&(b.miniImg.style.webkitBackfaceVisibility="hidden"),d||(s=h.w/b.w,oa.x=h.x,oa.y=h.y-K,f[g?"template":"bg"].style.opacity=.001,Ga()),ab("initialZoom"),d&&!c&&e.removeClass(a,"pswp--animated-in"),g&&(d?e[(c?"remove":"add")+"Class"](a,"pswp--animate_opacity"):setTimeout(function(){e.addClass(a,"pswp--animate_opacity")},30)),Wb=setTimeout(function(){if(Ca("initialZoom"+(d?"Out":"In")),d){var f=h.w/b.w,i={x:oa.x,y:oa.y},l=s,m=ia,n=function(b){1===b?(s=f,oa.x=h.x,oa.y=h.y-M):(s=(f-l)*b+l,oa.x=(h.x-i.x)*b+i.x,oa.y=(h.y-M-i.y)*b+i.y),Ga(),g?a.style.opacity=1-b:Ea(m-b*m)};c?cb("initialZoom",0,1,j,e.easing.cubic.out,n,k):(n(1),Wb=setTimeout(k,j+20))}else s=b.initialZoomLevel,La(oa,b.initialPosition),Ga(),Ea(1),g?a.style.opacity=1:Ea(1),Wb=setTimeout(k,j+20)},d?25:90)};n()},cc={},dc=[],ec={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Xb.length}},fc=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},gc=function(a,b,c){var d=a.bounds;d.center.x=Math.round((cc.x-b)/2),d.center.y=Math.round((cc.y-c)/2)+a.vGap.top,d.max.x=b>cc.x?Math.round(cc.x-b):d.center.x,d.max.y=c>cc.y?Math.round(cc.y-c)+a.vGap.top:d.center.y,d.min.x=b>cc.x?0:d.center.x,d.min.y=c>cc.y?a.vGap.top:d.center.y},hc=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),Ca("parseVerticalMargin",a)),cc.x=b.x,cc.y=b.y-a.vGap.top-a.vGap.bottom,d){var e=cc.x/a.w,f=cc.y/a.h;a.fitRatio=f>e?e:f;var g=i.scaleMode;"orig"===g?c=1:"fit"===g&&(c=a.fitRatio),c>1&&(c=1),a.initialZoomLevel=c,a.bounds||(a.bounds=fc())}if(!c)return;return gc(a,a.w*c,a.h*c),d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=fc(),a.initialPosition=a.bounds.center,a.bounds},ic=function(a,b,c,d,e,g){b.loadError||d&&(b.imageAppended=!0,lc(b,d,b===f.currItem&&xa),c.appendChild(d),g&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500))},jc=function(a){a.loading=!0,a.loaded=!1;var b=a.img=e.createEl("pswp__img","img"),c=function(){a.loading=!1,a.loaded=!0,a.loadComplete?a.loadComplete(a):a.img=null,b.onload=b.onerror=null,b=null};return b.onload=c,b.onerror=function(){a.loadError=!0,c()},b.src=a.src,b},kc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=""),a.container.innerHTML=i.errorMsg.replace("%url%",a.src),!0):void 0},lc=function(a,b,c){if(a.src){b||(b=a.container.lastChild);var d=c?a.w:Math.round(a.w*a.fitRatio),e=c?a.h:Math.round(a.h*a.fitRatio);a.placeholder&&!a.loaded&&(a.placeholder.style.width=d+"px",a.placeholder.style.height=e+"px"),b.style.width=d+"px",b.style.height=e+"px"}},mc=function(){if(dc.length){for(var a,b=0;b<dc.length;b++)a=dc[b],a.holder.index===a.index&&ic(a.index,a.item,a.baseDiv,a.img,!1,a.clearPlaceholder);dc=[]}};ya("Controller",{publicMethods:{lazyLoadItem:function(a){a=za(a);var b=$b(a);b&&(!b.loaded&&!b.loading||x)&&(Ca("gettingData",a,b),b.src&&jc(b))},initController:function(){e.extend(i,ec,!0),f.items=Xb=c,$b=f.getItemAt,_b=i.getNumItemsFn,ac=i.loop,_b()<3&&(i.loop=!1),Ba("beforeChange",function(a){var b,c=i.preload,d=null===a?!0:a>=0,e=Math.min(c[0],_b()),g=Math.min(c[1],_b());for(b=1;(d?g:e)>=b;b++)f.lazyLoadItem(m+b);for(b=1;(d?e:g)>=b;b++)f.lazyLoadItem(m-b)}),Ba("initialLayout",function(){f.currItem.initialLayout=i.getThumbBoundsFn&&i.getThumbBoundsFn(m)}),Ba("mainScrollAnimComplete",mc),Ba("initialZoomInEnd",mc),Ba("destroy",function(){for(var a,b=0;b<Xb.length;b++)a=Xb[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=a.loadError=!1);dc=null})},getItemAt:function(a){return a>=0&&void 0!==Xb[a]?Xb[a]:!1},allowProgressiveImg:function(){return i.forceProgressiveLoading||!G||i.mouseUsed||screen.width>1200},setContent:function(a,b){i.loop&&(b=za(b));var c=f.getItemAt(a.index);c&&(c.container=null);var d,g=f.getItemAt(b);if(!g)return void(a.el.innerHTML="");Ca("gettingData",b,g),a.index=b,a.item=g;var h=g.container=e.createEl("pswp__zoom-wrap");if(!g.src&&g.html&&(g.html.tagName?h.appendChild(g.html):h.innerHTML=g.html),kc(g),hc(g,pa),!g.src||g.loadError||g.loaded)g.src&&!g.loadError&&(d=e.createEl("pswp__img","img"),d.style.opacity=1,d.src=g.src,lc(g,d),ic(b,g,h,d,!0));else{if(g.loadComplete=function(c){if(j){if(a&&a.index===b){if(kc(c,!0))return c.loadComplete=c.img=null,hc(c,pa),Ha(c),void(a.index===m&&f.updateCurrZoomItem());c.imageAppended?!Zb&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):N.transform&&(ea||Zb)?dc.push({item:c,baseDiv:h,img:c.img,index:b,holder:a,clearPlaceholder:!0}):ic(b,c,h,c.img,ea||Zb,!0)}c.loadComplete=null,c.img=null,Ca("imageLoadComplete",b,c)}},e.features.transform){var k="pswp__img pswp__img--placeholder";k+=g.msrc?"":" pswp__img--placeholder--blank";var l=e.createEl(k,g.msrc?"img":"");g.msrc&&(l.src=g.msrc),lc(g,l),h.appendChild(l),g.placeholder=l}g.loading||jc(g),f.allowProgressiveImg()&&(!Yb&&N.transform?dc.push({item:g,baseDiv:h,img:g.img,index:b,holder:a}):ic(b,g,h,g.img,!0,!0))}Yb||b!==m?Ha(g):(da=h.style,bc(g,d||g.img)),a.el.innerHTML="",a.el.appendChild(h)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null),a.loaded=a.loading=a.img=a.imageAppended=!1}}});var nc,oc={},pc=function(a,b,c){var d=document.createEvent("CustomEvent"),e={origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"};d.initCustomEvent("pswpTap",!0,!0,e),a.target.dispatchEvent(d)};ya("Tap",{publicMethods:{initTap:function(){Ba("firstTouchStart",f.onTapStart),Ba("touchRelease",f.onTapRelease),Ba("destroy",function(){oc={},nc=null})},onTapStart:function(a){a.length>1&&(clearTimeout(nc),nc=null)},onTapRelease:function(a,b){if(b&&!X&&!V&&!$a){var c=b;if(nc&&(clearTimeout(nc),nc=null,wb(c,oc)))return void Ca("doubleTap",c);if("mouse"===b.type)return void pc(a,b,"mouse");var d=a.target.tagName.toUpperCase();if("BUTTON"===d||e.hasClass(a.target,"pswp__single-tap"))return void pc(a,b);La(oc,c),nc=setTimeout(function(){pc(a,b),nc=null},300)}}}});var qc;ya("DesktopZoom",{publicMethods:{initDesktopZoom:function(){L||(G?Ba("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(b){qc={};var c="wheel mousewheel DOMMouseScroll";Ba("bindEvents",function(){e.bind(a,c,f.handleMouseWheel)}),Ba("unbindEvents",function(){qc&&e.unbind(a,c,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var d,g=function(){f.mouseZoomedIn&&(e.removeClass(a,"pswp--zoomed-in"),f.mouseZoomedIn=!1),1>s?e.addClass(a,"pswp--zoom-allowed"):e.removeClass(a,"pswp--zoom-allowed"),h()},h=function(){d&&(e.removeClass(a,"pswp--dragging"),d=!1)};Ba("resize",g),Ba("afterChange",g),Ba("pointerDown",function(){f.mouseZoomedIn&&(d=!0,e.addClass(a,"pswp--dragging"))}),Ba("pointerUp",h),b||g()},handleMouseWheel:function(a){if(s<=f.currItem.fitRatio)return i.modal&&(!i.closeOnScroll||$a||U?a.preventDefault():E&&Math.abs(a.deltaY)>2&&(l=!0,f.close())),!0;if(a.stopPropagation(),qc.x=0,"deltaX"in a)1===a.deltaMode?(qc.x=18*a.deltaX,qc.y=18*a.deltaY):(qc.x=a.deltaX,qc.y=a.deltaY);else if("wheelDelta"in a)a.wheelDeltaX&&(qc.x=-.16*a.wheelDeltaX),a.wheelDeltaY?qc.y=-.16*a.wheelDeltaY:qc.y=-.16*a.wheelDelta;else{if(!("detail"in a))return;qc.y=a.detail}Ra(s,!0);var b=oa.x-qc.x,c=oa.y-qc.y;(i.modal||b<=ca.min.x&&b>=ca.max.x&&c<=ca.min.y&&c>=ca.max.y)&&a.preventDefault(),f.panTo(b,c)},toggleDesktopZoom:function(b){b=b||{x:pa.x/2+ra.x,y:pa.y/2+ra.y};var c=i.getDoubleTapZoom(!0,f.currItem),d=s===c;f.mouseZoomedIn=!d,f.zoomTo(d?f.currItem.initialZoomLevel:c,b,333),e[(d?"remove":"add")+"Class"](a,"pswp--zoomed-in")}}});var rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc={history:!0,galleryUID:1},Ec=function(){return Bc.hash.substring(1)},Fc=function(){rc&&clearTimeout(rc),tc&&clearTimeout(tc)},Gc=function(){var a=Ec(),b={};if(a.length<5)return b;var c,d=a.split("&");for(c=0;c<d.length;c++)if(d[c]){var e=d[c].split("=");e.length<2||(b[e[0]]=e[1])}if(i.galleryPIDs){var f=b.pid;for(b.pid=0,c=0;c<Xb.length;c++)if(Xb[c].pid===f){b.pid=c;break}}else b.pid=parseInt(b.pid,10)-1;return b.pid<0&&(b.pid=0),b},Hc=function(){if(tc&&clearTimeout(tc),$a||U)return void(tc=setTimeout(Hc,500));uc?clearTimeout(sc):uc=!0;var a=m+1,b=$b(m);b.hasOwnProperty("pid")&&(a=b.pid);var c=xc+"&gid="+i.galleryUID+"&pid="+a;yc||-1===Bc.hash.indexOf(c)&&(Ac=!0);var d=Bc.href.split("#")[0]+"#"+c;Cc?"#"+c!==window.location.hash&&history[yc?"replaceState":"pushState"]("",document.title,d):yc?Bc.replace(d):Bc.hash=c,yc=!0,sc=setTimeout(function(){uc=!1},60)};ya("History",{publicMethods:{initHistory:function(){if(e.extend(i,Dc,!0),i.history){Bc=window.location,Ac=!1,zc=!1,yc=!1,xc=Ec(),Cc="pushState"in history,xc.indexOf("gid=")>-1&&(xc=xc.split("&gid=")[0],xc=xc.split("?gid=")[0]),Ba("afterChange",f.updateURL),Ba("unbindEvents",function(){e.unbind(window,"hashchange",f.onHashChange)});var a=function(){wc=!0,zc||(Ac?history.back():xc?Bc.hash=xc:Cc?history.pushState("",document.title,Bc.pathname+Bc.search):Bc.hash=""),Fc()};Ba("unbindEvents",function(){l&&a()}),Ba("destroy",function(){wc||a()}),Ba("firstUpdate",function(){m=Gc().pid});var b=xc.indexOf("pid=");b>-1&&(xc=xc.substring(0,b),"&"===xc.slice(-1)&&(xc=xc.slice(0,-1))),setTimeout(function(){j&&e.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){return Ec()===xc?(zc=!0,void f.close()):void(uc||(vc=!0,f.goTo(Gc().pid),vc=!1))},updateURL:function(){Fc(),vc||(yc?rc=setTimeout(Hc,800):Hc())}}}),e.extend(f,db)};return a});
},{}],20:[function(require,module,exports){
/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */

!function(a,b){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?void 0:!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){return(d=c.call(null,e,a,b))?!1:void 0}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c=function(){"use strict";function a(a){var g,h;return h=b.mixin({},f,a),g={css:e(),classes:h,html:c(h),selectors:d(h)},{css:g.css,html:g.html,classes:g.classes,selectors:g.selectors,mixin:function(a){b.mixin(a,g)}}}function c(a){return{wrapper:'<span class="'+a.wrapper+'"></span>',menu:'<div class="'+a.menu+'"></div>'}}function d(a){var c={};return b.each(a,function(a,b){c[b]="."+a}),c}function e(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),a}var f={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return a}(),d=function(){"use strict";function c(b){b&&b.el||a.error("EventBus initialized without el"),this.$el=a(b.el)}var d,e;return d="typeahead:",e={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},b.mixin(c.prototype,{_trigger:function(b,c){var e;return e=a.Event(d+b),(c=c||[]).unshift(e),this.$el.trigger.apply(this.$el,c),e},before:function(a){var b,c;return b=[].slice.call(arguments,1),c=this._trigger("before"+a,b),c.isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1)),(b=e[a])&&this._trigger(b,[].slice.call(arguments,1))}}),c}(),e=function(){"use strict";function a(a,b,c,d){var e;if(!c)return this;for(b=b.split(i),c=d?h(c,d):c,this._callbacks=this._callbacks||{};e=b.shift();)this._callbacks[e]=this._callbacks[e]||{sync:[],async:[]},this._callbacks[e][a].push(c);return this}function b(b,c,d){return a.call(this,"async",b,c,d)}function c(b,c,d){return a.call(this,"sync",b,c,d)}function d(a){var b;if(!this._callbacks)return this;for(a=a.split(i);b=a.shift();)delete this._callbacks[b];return this}function e(a){var b,c,d,e,g;if(!this._callbacks)return this;for(a=a.split(i),d=[].slice.call(arguments,1);(b=a.shift())&&(c=this._callbacks[b]);)e=f(c.sync,this,[b].concat(d)),g=f(c.async,this,[b].concat(d)),e()&&j(g);return this}function f(a,b,c){function d(){for(var d,e=0,f=a.length;!d&&f>e;e+=1)d=a[e].apply(b,c)===!1;return!d}return d}function g(){var a;return a=window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}function h(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var i=/\s+/,j=g();return{onSync:c,onAsync:b,off:d,trigger:e}}(),f=function(a){"use strict";function c(a,c,d){for(var e,f=[],g=0,h=a.length;h>g;g++)f.push(b.escapeRegExChars(a[g]));return e=d?"\\b("+f.join("|")+")\\b":"("+f.join("|")+")",c?new RegExp(e):new RegExp(e,"i")}var d={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(e){function f(b){var c,d,f;return(c=h.exec(b.data))&&(f=a.createElement(e.tagName),e.className&&(f.className=e.className),d=b.splitText(c.index),d.splitText(c[0].length),f.appendChild(d.cloneNode(!0)),b.parentNode.replaceChild(f,d)),!!c}function g(a,b){for(var c,d=3,e=0;e<a.childNodes.length;e++)c=a.childNodes[e],c.nodeType===d?e+=b(c)?1:0:g(c,b)}var h;e=b.mixin({},d,e),e.node&&e.pattern&&(e.pattern=b.isArray(e.pattern)?e.pattern:[e.pattern],h=c(e.pattern,e.caseSensitive,e.wordsOnly),g(e.node,f))}}(window.document),g=function(){"use strict";function c(c,e){c=c||{},c.input||a.error("input is missing"),e.mixin(this),this.$hint=a(c.hint),this.$input=a(c.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=d(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop)}function d(b){return a('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:b.css("font-family"),fontSize:b.css("font-size"),fontStyle:b.css("font-style"),fontVariant:b.css("font-variant"),fontWeight:b.css("font-weight"),wordSpacing:b.css("word-spacing"),letterSpacing:b.css("letter-spacing"),textIndent:b.css("text-indent"),textRendering:b.css("text-rendering"),textTransform:b.css("text-transform")}).insertAfter(b)}function f(a,b){return c.normalizeQuery(a)===c.normalizeQuery(b)}function g(a){return a.altKey||a.ctrlKey||a.metaKey||a.shiftKey}var h;return h={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},c.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},b.mixin(c.prototype,e,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(a){var b=h[a.which||a.keyCode];this._managePreventDefault(b,a),b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case"up":case"down":c=!g(b);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case"tab":c=!g(b);break;default:c=!0}return c},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var c,d;c=f(a,this.query),d=c?this.query.length!==a.length:!1,this.query=a,b||c?!b&&d&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var a,c,d,e,f=this;return a=b.bind(this._onBlur,this),c=b.bind(this._onFocus,this),d=b.bind(this._onKeydown,this),e=b.bind(this._onInput,this),this.$input.on("blur.tt",a).on("focus.tt",c).on("keydown.tt",d),!b.isMsie()||b.isMsie()>9?this.$input.on("input.tt",e):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(a){h[a.which||a.keyCode]||b.defer(b.bind(f._onInput,f,a))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a),this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b,c,d;a=this.getInputValue(),b=this.getHint(),c=a!==b&&0===b.indexOf(a),d=""!==a&&c&&!this.hasOverflow(),!d&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c,d;return a=this.$input.val().length,c=this.$input[0].selectionStart,b.isNumber(c)?c===a:document.selection?(d=document.selection.createRange(),d.moveStart("character",-a),a===d.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=a("<div>")}}),c}(),h=function(){"use strict";function c(c,e){c=c||{},c.templates=c.templates||{},c.templates.notFound=c.templates.notFound||c.templates.empty,c.source||a.error("missing source"),c.node||a.error("missing node"),c.name&&!h(c.name)&&a.error("invalid dataset name: "+c.name),e.mixin(this),this.highlight=!!c.highlight,this.name=c.name||j(),this.limit=c.limit||5,this.displayFn=d(c.display||c.displayKey),this.templates=g(c.templates,this.displayFn),this.source=c.source.__ttAdapter?c.source.__ttAdapter():c.source,this.async=b.isUndefined(c.async)?this.source.length>2:!!c.async,this._resetLastSuggestion(),this.$el=a(c.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function d(a){function c(b){return b[a]}return a=a||b.stringify,b.isFunction(a)?a:c}function g(c,d){function e(b){return a("<div>").text(d(b))}return{notFound:c.notFound&&b.templatify(c.notFound),pending:c.pending&&b.templatify(c.pending),header:c.header&&b.templatify(c.header),footer:c.footer&&b.templatify(c.footer),suggestion:c.suggestion||e}}function h(a){return/^[_a-zA-Z0-9-]+$/.test(a)}var i,j;return i={val:"tt-selectable-display",obj:"tt-selectable-object"},j=b.getIdGenerator(),c.extractData=function(b){var c=a(b);return c.data(i.obj)?{val:c.data(i.val)||"",obj:c.data(i.obj)||null}:null},b.mixin(c.prototype,e,{_overwrite:function(a,b){b=b||[],b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty(),this.trigger("rendered",this.name,b,!1)},_append:function(a,b){b=b||[],b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a),this.trigger("rendered",this.name,b,!0)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b),this.$lastSuggestion=c.children().last(),this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,d;c=this._getSuggestionsFragment(a,b),d=c.children().last(),this.$lastSuggestion.after(c),this.$lastSuggestion=d},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion(),b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(c,d){var e,g=this;return e=document.createDocumentFragment(),b.each(d,function(b){var d,f;f=g._injectQuery(c,b),d=a(g.templates.suggestion(f)).data(i.obj,b).data(i.val,g.displayFn(b)).addClass(g.classes.suggestion+" "+g.classes.selectable),e.appendChild(d[0])}),this.highlight&&f({className:this.classes.highlight,node:e,pattern:c}),a(e)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){g||(g=!0,a=(a||[]).slice(0,e.limit),h=a.length,e._overwrite(b,a),h<e.limit&&e.async&&e.trigger("asyncRequested",b))}function d(c){c=c||[],!f&&h<e.limit&&(e.cancel=a.noop,h+=c.length,e._append(b,c.slice(0,e.limit-h)),e.async&&e.trigger("asyncReceived",b))}var e=this,f=!1,g=!1,h=0;this.cancel(),this.cancel=function(){f=!0,e.cancel=a.noop,e.async&&e.trigger("asyncCanceled",b)},this.source(b,c,d),!g&&c([])},cancel:a.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("<div>")}}),c}(),i=function(){"use strict";function c(c,d){function e(b){var c=f.$node.find(b.node).first();return b.node=c.length?c:a("<div>").appendTo(f.$node),new h(b,d)}var f=this;c=c||{},c.node||a.error("node is required"),d.mixin(this),this.$node=a(c.node),this.query=null,this.datasets=b.map(c.datasets,e)}return b.mixin(c.prototype,e,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",b,c,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function a(a){return a.isEmpty()}return b.every(this.datasets,a)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,d,e;b=a.position().top,c=b+a.outerHeight(!0),d=this.$node.scrollTop(),e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>b?this.$node.scrollTop(d+b):c>e&&this.$node.scrollTop(d+(c-e))},bind:function(){var a,c=this;return a=b.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,a),b.each(this.datasets,function(a){a.onSync("asyncRequested",c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,c,d,e;return c=this.getActiveSelectable(),b=this._getSelectables(),d=c?b.index(c):-1,e=d+a,e=(e+1)%(b.length+1)-1,e=-1>e?b.length-1:e,-1===e?null:b.eq(e)},setCursor:function(a){this._removeCursor(),(a=a&&a.first())&&(a.addClass(this.classes.cursor),this._ensureVisible(a))},getSelectableData:function(a){return a&&a.length?h.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();return a.length?a:null},update:function(a){function c(b){b.update(a)}var d=a!==this.query;return d&&(this.query=a,b.each(this.datasets,c)),d},empty:function(){function a(a){a.clear()}b.each(this.datasets,a),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function c(a){a.destroy()}this.$node.off(".tt"),this.$node=a("<div>"),b.each(this.datasets,c)}}),c}(),j=function(){"use strict";function a(){i.apply(this,[].slice.call(arguments,0))}var c=i.prototype;return b.mixin(a.prototype,i.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),c.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){return this.$node.css("ltr"===a?this.css.ltr:this.css.rtl),c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),a}(),k=function(){"use strict";function c(c,e){var f,g,h,i,j,k,l,m,n,o,p;c=c||{},c.input||a.error("missing input"),c.menu||a.error("missing menu"),c.eventBus||a.error("missing event bus"),e.mixin(this),this.eventBus=c.eventBus,this.minLength=b.isNumber(c.minLength)?c.minLength:1,this.input=c.input,this.menu=c.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),f=d(this,"activate","open","_onFocused"),g=d(this,"deactivate","_onBlurred"),h=d(this,"isActive","isOpen","_onEnterKeyed"),i=d(this,"isActive","isOpen","_onTabKeyed"),j=d(this,"isActive","_onEscKeyed"),k=d(this,"isActive","open","_onUpKeyed"),l=d(this,"isActive","open","_onDownKeyed"),m=d(this,"isActive","isOpen","_onLeftKeyed"),n=d(this,"isActive","isOpen","_onRightKeyed"),o=d(this,"_openIfActive","_onQueryChanged"),p=d(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",f,this).onSync("blurred",g,this).onSync("enterKeyed",h,this).onSync("tabKeyed",i,this).onSync("escKeyed",j,this).onSync("upKeyed",k,this).onSync("downKeyed",l,this).onSync("leftKeyed",m,this).onSync("rightKeyed",n,this).onSync("queryChanged",o,this).onSync("whitespaceChanged",p,this).onSync("langDirChanged",this._onLangDirChanged,this)}function d(a){var c=[].slice.call(arguments,1);return function(){var d=[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,d)})}}return b.mixin(c.prototype,{_hacks:function(){var c,d;c=this.input.$input||a("<div>"),d=this.menu.$node||a("<div>"),c.on("blur.tt",function(a){var e,f,g;e=document.activeElement,f=d.is(e),g=d.has(e).length>0,b.isMsie()&&(f||g)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()}))}),d.on("mousedown.tt",function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,d){this._updateHint(),this.eventBus.trigger("render",c,d,b)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())&&this.select(c)&&b.preventDefault()},_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){return a=b.isString(a)?a:this.input.getQuery()||"",a.length>=this.minLength},_updateHint:function(){var a,c,d,e,f,h,i;a=this.menu.getTopSelectable(),c=this.menu.getSelectableData(a),d=this.input.getInputValue(),!c||b.isBlankString(d)||this.input.hasOverflow()?this.input.clearHint():(e=g.normalizeQuery(d),f=b.escapeRegExChars(e),h=new RegExp("^(?:"+f+")(.+$)","i"),i=h.exec(c.val),i&&this.input.setHint(d+i[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){var b=this.menu.getSelectableData(a);return b&&!this.eventBus.before("select",b.obj)?(this.input.setQuery(b.val,!0),this.eventBus.trigger("select",b.obj),this.close(),!0):!1},autocomplete:function(a){var b,c,d;return b=this.input.getQuery(),c=this.menu.getSelectableData(a),d=c&&b!==c.val,d&&!this.eventBus.before("autocomplete",c.obj)?(this.input.setQuery(c.val),this.eventBus.trigger("autocomplete",c.obj),!0):!1},moveCursor:function(a){var b,c,d,e,f;return b=this.input.getQuery(),c=this.menu.selectableRelativeToCursor(a),d=this.menu.getSelectableData(c),e=d?d.obj:null,f=this._minLengthMet()&&this.menu.update(b),f||this.eventBus.before("cursorchange",e)?!1:(this.menu.setCursor(c),d?this.input.setInputValue(d.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",e),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),c}();!function(){"use strict";function e(b,c){b.each(function(){var b,d=a(this);(b=d.data(p.typeahead))&&c(b,d)})}function f(a,b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(l(a)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function h(a,b){a.data(p.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")}),a.addClass(b.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a}function l(a){return{backgroundAttachment:a.css("background-attachment"),backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function m(a){var c,d;c=a.data(p.www),d=a.parent().filter(c.selectors.wrapper),b.each(a.data(p.attrs),function(c,d){b.isUndefined(c)?a.removeAttr(d):a.attr(d,c)}),a.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(c.classes.input),d.length&&(a.detach().insertAfter(d),d.remove())}function n(c){var d,e;return d=b.isJQuery(c)||b.isElement(c),e=d?a(c).first():[],e.length?e:null}var o,p,q;o=a.fn.typeahead,p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},q={initialize:function(e,l){function m(){var c,m,q,r,s,t,u,v,w,x,y;b.each(l,function(a){a.highlight=!!e.highlight}),c=a(this),m=a(o.html.wrapper),q=n(e.hint),r=n(e.menu),s=e.hint!==!1&&!q,t=e.menu!==!1&&!r,s&&(q=f(c,o)),t&&(r=a(o.html.menu).css(o.css.menu)),q&&q.val(""),c=h(c,o),(s||t)&&(m.css(o.css.wrapper),c.css(s?o.css.input:o.css.inputWithNoHint),c.wrap(m).parent().prepend(s?q:null).append(t?r:null)),y=t?j:i,u=new d({el:c}),v=new g({hint:q,input:c},o),w=new y({node:r,datasets:l},o),x=new k({input:v,menu:w,eventBus:u,minLength:e.minLength},o),c.data(p.www,o),c.data(p.typeahead,x)}var o;return l=b.isArray(l)?l:[].slice.call(arguments,1),e=e||{},o=c(e.classNames),this.each(m)},isEnabled:function(){var a;return e(this.first(),function(b){a=b.isEnabled()}),a},enable:function(){return e(this,function(a){a.enable()}),this},disable:function(){return e(this,function(a){a.disable()}),this},isActive:function(){var a;return e(this.first(),function(b){a=b.isActive()}),a},activate:function(){return e(this,function(a){a.activate()}),this},deactivate:function(){return e(this,function(a){a.deactivate()}),this},isOpen:function(){var a;return e(this.first(),function(b){a=b.isOpen()}),a},open:function(){return e(this,function(a){a.open()}),this},close:function(){return e(this,function(a){a.close()}),this},select:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.select(d)}),c},autocomplete:function(b){var c=!1,d=a(b);return e(this.first(),function(a){c=a.autocomplete(d)}),c},moveCursor:function(a){var b=!1;return e(this.first(),function(c){b=c.moveCursor(a)}),b},val:function(a){var b;return arguments.length?(e(this,function(b){b.setVal(a)}),this):(e(this.first(),function(a){b=a.getVal()}),b)},destroy:function(){return e(this,function(a,b){m(b),a.destroy()}),this}},a.fn.typeahead=function(a){return q[a]?q[a].apply(this,[].slice.call(arguments,1)):q.initialize.apply(this,arguments)},a.fn.typeahead.noConflict=function(){return a.fn.typeahead=o,this}}()});
},{"jquery":15}],"article":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;
var utils = require('../common/utils');

module.exports = {

    indexFun: function indexFun() {
        //删除product
        {
            var alert = $('#modal-alert');
            $('.remove-article').click(function () {
                $('#confirm-remove-article').modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm() {
                        var _this = this;

                        var target = $(this.relatedTarget);
                        var articleId = target.attr('data-id');
                        $.ajax({
                            type: 'post',
                            url: '/admin/article/remove/' + articleId
                        }).then(function () {
                            alert.modal({
                                relatedTarget: _this,
                                onConfirm: function onConfirm() {
                                    var target = $(_this.relatedTarget);
                                    target.parents('tr').detach();
                                }
                            }).find('.am-modal-bd').text('删除文章成功!');
                        });
                    },
                    onCancel: function onCancel() {
                        return false;
                    }
                });

                return false;
            });
        }
    },

    //上传主展示图片callback
    uploadFileSuccess: function uploadFileSuccess(data) {
        var imageView = $('.image-list');
        $.each(data, function (i, n) {
            imageView.append('<li data-id="' + n.id + '" class="am-cf"><div class="am-fl"><input type="checkbox" /></div><div class="am-fr"><p><a class="img-link" href="' + n.url + '" target="_blank"><img src="' + n.url + '?imageMogr2/thumbnail/100"/></a></p><p><a class="move" href="javascript:;">\u524D\u79FB</a> | <span class="copy"><a class="copy-url" href="javascript:;">\u590D\u5236</a></span> | <a class="remove" href="javascript:;">\u5220\u9664</a></p></div></li>');
        });
        this.updateImage();
    },

    //更新image list
    updateImage: function updateImage() {

        var image = $('#image');
        var imageView = $('.image-list');
        var value = {};

        imageView.find('input[type=checkbox]').each(function () {
            var content = $(this).parents('li');
            console.log(content);
            console.log(content.find('.img-link').attr('href'));
            value = content.find('.img-link').attr('href');
        });
        image.val(value);
    },

    //上传主展示图片callback
    uploadVideoFileSuccess: function uploadVideoFileSuccess(data) {
        var videoFile = $('#video-link');
        console.log(data);
        $.each(data, function (i, n) {
            videoFile.val(n.url);
        });
    }

};

},{"../common/utils":6}],"book-oils":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;
var utils = require('../common/utils');

module.exports = {
    indexFun: function indexFun() {
        $('h4').each(function (i, n) {
            var text = $(n).text();
            text = text.replace('**小提示:** 由于此类产品出货量较大，时有出现缺货的情况，如暂无现货，建议亲可以选择同类具有相同作用的产品替代，也会有同样的反馈哦，详情可询问暮雪的心愿城客服为您推荐:)', '');
            text = text.replace('**[暮雪的心愿城英译]:**', '');
            text = text.replace('**[暮雪的心愿城原文翻译]:**', '');
            $(n).text(text);
        });
    }
};

},{"../common/utils":6}],"course-template":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {

        //删除course
        var removeLink = $('.remove-course-template');
        var modal = $('#confirm-remove-course-template');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var courseTemplateId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/course-template/remove/' + courseTemplateId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除课程模板成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }
};

},{}],"course-user":[function(require,module,exports){
"use strict";

},{}],"course":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {

        //删除course
        var removeLink = $('.remove-course');
        var modal = $('#confirm-remove-course');
        var alert = $('#modal-alert');
        var courseTemplate = $("#course-template");

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var courseId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/course/remove/' + courseId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除课程成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
        courseTemplate.change(function () {
            var templateValue = courseTemplate.find("option:selected").attr("data-info");
            console.log(templateValue.defaultContent);
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }
};

},{}],"import-order":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;
var utils = require('../common/utils');
var async = require('async');

module.exports = {
    indexFun: function indexFun() {
        var _this2 = this;

        var _this = this;
        this.modalOrderSearch = $('#modal-order-search');
        this.modalOrderSearchContent = this.modalOrderSearch.find('.am-table tbody');
        this.countLen = this.modalOrderSearch.find('.count-len');
        this.btnImportOrder = this.modalOrderSearch.find('.btn-import-order');

        this.setWisdomOrderSite();
        this.setLuckymojoOrderSite();
        this.setProductOrderSite();

        //正在导入标记
        this.isImporting = false;

        this.btnImportOrder.click(function () {

            var arr = [];
            _this2.modalOrderSearchContent.find('tr').each(function (i, n) {
                if ($(n).attr('data-product-id')) {
                    arr.push({
                        productId: $(n).data('product-id'),
                        reserve: $(n).data('reserve'),
                        newReserve: $(n).data('count')
                    });
                }
            });

            if (confirm('确定进行批量设置?')) {
                _this.isImporting = true;
                $(_this.btnImportOrder).attr('disabled', 'disabled');
                async.forEachSeries(arr, function (item, callback) {
                    $.ajax({
                        url: '/admin/import-order/save-data',
                        type: 'post',
                        data: {
                            productId: item.productId,
                            reserve: item.reserve,
                            newReserve: item.newReserve
                        }
                    }).then(function () {
                        var tr = _this.modalOrderSearchContent.find('tr[data-product-id=' + item.productId + ']');
                        tr.find('.import-check-true').removeClass('import-check-true').addClass('import-check-success');
                        tr.find('.update-reserve').addClass('on');
                        callback();
                    });
                }, function (err) {
                    if (err) {
                        alert(arr);
                        return false;
                    }
                    setTimeout(function () {
                        _this.isImporting = false;
                        alert('批量更新完成!');
                    }, 1000);
                });
            }
        });

        this.modalOrderSearch.on('open.modal.amui', function () {
            $(_this.btnImportOrder).attr('disabled', 'disabled');
        });

        $('.btn-save-text').click(function () {
            var content = $(this).parents('.content');
            var text = $.trim(content.find('textarea').val());
            //   text = text.replace(/\t/g,' ');
            //  text = text.replace(/\s+/g,' ');
            $.cookie(content.find('textarea').attr('class'), text, { expires: new Date(new Date().getTime() + 1000 * 60 * 60 * 24 * 30), path: '/', domain: location.host });
            setTimeout(function () {
                location.reload();
            }, 500);
        });
    },
    setWisdomOrderSite: function setWisdomOrderSite() {

        var _this = this;
        var inputWisdomOrder = $('.input-wisdom-order');
        $('.btn-import-wisdom-order').click(function () {

            if (_this.isImporting) {
                alert('正在导入中，请稍后...');
                return false;
            }

            _this.isImporting = true;
            _this.modalOrderSearch.modal();
            _this.modalOrderSearchContent.empty();
            $(_this.btnImportOrder).attr('disabled', 'disabled');
            _this.countLen.text('');
            var arrWisdomData = [];
            var arrValue = $.trim(inputWisdomOrder.val()).split('\n');
            $.each(arrValue, function (i, n) {
                n = n.replace(/\t/g, ' ');
                n = n.replace(/\s+/g, ' ');
                var name = /([^\$]+)\$/.exec(n)[1];
                name = name.replace(/\d\/\d.*/, '');
                name = $.trim(name);
                arrWisdomData.push({
                    name: name,
                    count: /\$[^\s]+\s(\d+)/.exec(n)[1]
                });
            });

            var countLen = 0;
            _this.countLen.text(countLen + '/' + arrWisdomData.length);
            async.forEachSeries(arrWisdomData, function (item, callback) {
                $.ajax({
                    url: '/admin/import-order/data',
                    type: 'post',
                    data: { 'import-data': JSON.stringify([item]) }
                }).then(function (data) {
                    if (countLen < arrWisdomData.length) {
                        countLen++;
                    }
                    if (countLen === arrWisdomData.length) {
                        $(_this.btnImportOrder).removeAttr('disabled');
                    }
                    _this.appendData(data, countLen, arrWisdomData, callback);
                });
            }, function (err) {
                _this.isImporting = false;
            });
        });

        if ($.cookie('input-wisdom-order')) {
            $('.input-wisdom-order').val($.cookie('input-wisdom-order'));
        }
    },
    setLuckymojoOrderSite: function setLuckymojoOrderSite() {
        var _this = this;
        var inputLuckymojoOrder = $('.input-luckymojo-order');

        $('.btn-import-luckymojo-order').click(function () {

            if (_this.isImporting) {
                alert('正在导入中，请稍后...');
                return false;
            }

            _this.isImporting = true;
            _this.modalOrderSearch.modal();
            _this.modalOrderSearchContent.empty();
            $(_this.btnImportOrder).attr('disabled', 'disabled');
            var arrLuckymojoData = [];
            var arrValue = $.trim(inputLuckymojoOrder.val()).split('\n');
            $.each(arrValue, function (i, n) {
                n = n.replace(/\t/g, ' ');
                n = n.replace(/\s+/g, ' ');
                arrLuckymojoData.push({
                    name: /(\w+\-\w+\-\w+)/.exec(n)[1],
                    count: /(\d+)/.exec(n)[1]
                });
            });
            var countLen = 0;
            _this.countLen.text(countLen + '/' + arrLuckymojoData.length);
            async.forEachSeries(arrLuckymojoData, function (item, callback) {
                $.ajax({
                    url: '/admin/import-order/data',
                    type: 'post',
                    data: { 'import-data': JSON.stringify([item]) }
                }).then(function (data) {
                    if (countLen < arrLuckymojoData.length) {
                        countLen++;
                    }
                    if (countLen === arrLuckymojoData.length) {
                        $(_this.btnImportOrder).removeAttr('disabled');
                    }
                    _this.appendData(data, countLen, arrLuckymojoData, callback);
                });
            }, function (err) {
                _this.isImporting = false;
            });
        });

        if ($.cookie('input-luckymojo-order')) {
            $('.input-luckymojo-order').val($.cookie('input-luckymojo-order'));
        }
    },
    setProductOrderSite: function setProductOrderSite() {

        var _this = this;
        var inputProductOrder = $('.input-product-order');

        $('.btn-import-product-order').click(function () {

            if (_this.isImporting) {
                alert('正在导入中，请稍后...');
                return false;
            }

            _this.isImporting = true;
            _this.modalOrderSearch.modal();
            _this.modalOrderSearchContent.empty();
            $(_this.btnImportOrder).attr('disabled', 'disabled');
            var arrProductData = [];
            var arrValue = $.trim(inputProductOrder.val()).split('\n');
            $.each(arrValue, function (i, n) {
                n = n.replace(/\t/g, ' ');
                n = n.replace(/\s+/g, ' ');
                n = n.toUpperCase();
                arrProductData.push({
                    name: $.trim(/([^\*]+)/.exec(n)[1]),
                    count: /\*\s?(\d+)/.exec(n)[1]
                });
            });
            var countLen = 0;
            _this.countLen.text(countLen + '/' + arrProductData.length);
            async.forEachSeries(arrProductData, function (item, callback) {
                $.ajax({
                    url: '/admin/import-order/data',
                    type: 'post',
                    data: { 'import-data': JSON.stringify([item]) }
                }).then(function (data) {
                    if (countLen < arrProductData.length) {
                        countLen++;
                    }
                    if (countLen === arrProductData.length) {
                        $(_this.btnImportOrder).removeAttr('disabled');
                    }
                    _this.appendData(data, countLen, arrProductData, callback);
                });
            }, function (err) {
                _this.isImporting = false;
            });
        });

        if ($.cookie('input-product-order')) {
            $('.input-product-order').val($.cookie('input-product-order'));
        }
    },
    appendData: function appendData(data, _countLen, arrData, callback) {
        var _this = this;
        _this.countLen.text(_countLen + '/' + arrData.length);
        var mainImage = '//lc-JoaBcRTt.cn-n1.lcfile.com/d4c225054f005a4d7d39.png';
        for (var i in data.result[0].mainImage) {
            if (data.result[0].mainImage[i].isMainImage) {
                mainImage = data.result[0].mainImage[i].url;
            }
        }

        var nameCn = data.result[0].nameCn === '' ? '-' : data.result[0].nameCn;
        var stock = data.result[0].stock === '' ? '-' : data.result[0].stock;
        var reserve = data.result[0].reserve === '' ? '-' : data.result[0].reserve;
        var isImportTrue = data.result[0].isTrue ? '<span class="import-check-true"><i class="am-icon-check"></i></span>' : '<span class="import-check-false"><i class="am-icon-close"></i></span>';

        _this.modalOrderSearchContent.append('<tr data-product-id="' + data.result[0].productId + '" data-reserve="' + reserve + '" data-count="' + data.result[0].count + '">\n                        <td class="t-c"><a target="_blank" href="' + mainImage + '"><img src="' + mainImage + '?imageMogr2/thumbnail/32" alt=""></a></td>\n                        <td>[' + data.result[0].name + ']<br/>' + nameCn + '</td>\n                        <td class="t-c">' + stock + '</td>\n                        <td class="t-c">' + reserve + '</td>\n                        <td class="t-c"><strong>' + data.result[0].count + '</strong></td>\n                        <td class="t-c"><i class="update-reserve">' + (reserve === '-' ? '-' : parseInt(reserve) + parseInt(data.result[0].count)) + '</i></td>\n                        <td class="t-c">' + isImportTrue + '</td>\n                    </tr>');
        callback();
    }
};

},{"../common/utils":6,"async":1}],"product-brand":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {

        //删除productMethod
        var removeLink = $('.remove-product-brand');
        var modal = $('#confirm-remove-product-brand');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var productMethodId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/product-brand/remove/' + productMethodId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除产品类型成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    },
    brandLogoUploadSuccess: function brandLogoUploadSuccess(data) {
        $('#brand-logo-image-view').empty().addClass('on').append('<li><a href="' + data[0].url + '"><img src="' + data[0].url + '"/></a></li>');
        $('#brand-logo-image').val(data[0].url);
    },
    authorUploadSuccess: function authorUploadSuccess(data) {
        $('#author-image-view').empty().addClass('on').append('<li><a href="' + data[0].url + '"><img src="' + data[0].url + '"/></a></li>');
        $('#author-image').val(data[0].url);
    },
    imageUploadSuccess: function imageUploadSuccess(data) {
        var detailText = $('#brand-detail');
        var text = detailText.val();
        text += '\n\n' + data[0].url;
        detailText.val(text);
    }
};

},{}],"product-category":[function(require,module,exports){
'use strict';

module.exports = {

    indexFun: function indexFun() {

        this.container = $('.am-accordion');

        this.selectProductMethod();

        this.addCategory1();
        this.editCategory1();
        this.removeCategory1();
        this.moveCategory1Up();
        this.moveCategory1Down();

        this.addCategory2();
        this.editCategory2();
        this.removeCategory2();
        this.moveCategory2Up();
        this.moveCategory2Down();
    },

    //选择产品类型
    selectProductMethod: function selectProductMethod() {
        var select = $('.select-product-method');

        this.productMethodId = select.val() ? parseInt(select.val()) : 0;

        select.change(function () {
            location.href = '/admin/product-category?product-method-id=' + this.value;
        });
    },


    //添加一级分类
    addCategory1: function addCategory1() {

        var modal = $('#modal-category-1-add');
        var input = $('#input-category-1-add');
        var confirm = $('#modal-category-1-confirm-add');
        var productMethodId = this.productMethodId;

        $('.btn-category-1-add').click(function () {
            input.val('');
            modal.modal({
                relatedTarget: this
            });
        });

        confirm.click(function () {

            if (confirm.data('state')) {
                return false;
            }

            $.AMUI.progress.start();
            confirm.data('state', true);

            $.post({
                url: leanApp.api + 'classes/ProductCategory1',
                headers: leanAppHeader,
                data: JSON.stringify({
                    index: $('.am-accordion-item').length,
                    name: $.trim(input.val()) ? $.trim(input.val()) : '无分类名',
                    productMethodId: productMethodId
                }),
                success: function success() {
                    $.AMUI.progress.done();
                    confirm.data('state', false);
                    modal.modal('close');
                    location.reload();
                }
            });

            return false;
        });
    },

    //编辑一级分类
    editCategory1: function editCategory1() {

        var modal = $('#modal-category-1-edit');
        var input = $('#input-category-1-edit');
        var confirm = $('#modal-category-1-confirm-edit');
        var alert = $('#modal-alert');

        var productMethodId = this.productMethodId;
        var currentId = null;

        $('.edit-category-1').each(function () {
            $(this).click(function () {
                var text = $(this).parents('.am-accordion-title').find('strong').text();
                input.val($.trim(text));
                modal.modal({
                    relatedTarget: this
                });
                currentId = $(this).parents('.am-accordion-item').attr('data-id');
                return false;
            });
        });

        confirm.click(function () {

            if (confirm.data('state')) {
                return false;
            }

            $.AMUI.progress.start();
            confirm.data('state', true);

            $.get({
                url: leanApp.api + 'classes/ProductCategory1',
                headers: leanAppHeader,
                data: 'where={"category1Id":' + currentId + '}'
            }).done(function (data) {
                return $.ajax({
                    type: 'PUT',
                    url: leanApp.api + 'classes/ProductCategory1/' + data.results[0].objectId,
                    headers: leanAppHeader,
                    data: JSON.stringify({
                        name: $.trim(input.val()),
                        productMethodId: productMethodId
                    })
                });
            }).done(function () {
                confirm.data('state', false);
                $.AMUI.progress.done();
                modal.modal('close');
                alert.modal({
                    onConfirm: function onConfirm() {
                        return location.reload();
                    }
                }).find('.am-modal-bd').text('编辑一级分类成功!');
            });

            return false;
        });
    },

    //删除一级分类
    removeCategory1: function removeCategory1() {

        var removeLink = $('.remove-category-1');
        var modal = $('#modal-category-1-remove');
        var alert = $('#modal-alert');
        var productMethodId = this.productMethodId;

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.each(function (i, n) {

            $(n).click(function () {

                var $this = $(this);

                modal.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm() {

                        var item = $(this.relatedTarget);

                        if (item.data('state')) {
                            return false;
                        }

                        item.data('state', true);
                        $.AMUI.progress.start();

                        //删除一级分类需要判断该产品是否已使用该分类,所以不能使用api调用
                        $.get({
                            url: '/admin/product-category/remove-category-1',
                            data: {
                                productMethodId: productMethodId,
                                id: item.parents('.am-accordion-item').attr('data-id')
                            },
                            success: function success(data) {

                                item.data('state', false);
                                $.AMUI.progress.done();
                                modal.modal('close');

                                if (!data.success) {
                                    alert.modal().find('.am-modal-bd').text(data.message);
                                } else {
                                    alert.modal({
                                        onConfirm: function onConfirm() {
                                            return location.reload();
                                        }
                                    }).find('.am-modal-bd').text('删除一级分类成功!');
                                }
                            }
                        });

                        return false;
                    }
                });
                return false;
            });
        });
    },

    //分类1上移
    moveCategory1Up: function moveCategory1Up() {

        var state = false;

        $('.moveup-category-1').each(function () {

            $(this).click(function () {

                var $this = $(this);
                var content = $this.parents('.am-accordion-item');
                var target = content.prev();
                var currentId = content.attr('data-id');
                var targetId = target.attr('data-id');
                var index = content.index();

                if (index === 0) {
                    return false;
                }

                if ($this.data('state')) {
                    return false;
                }

                $this.data('state', true);
                $.AMUI.progress.start();

                $.get({
                    url: '/admin/product-category/move-category-1-up',
                    data: {
                        currentId: currentId,
                        targetId: targetId
                    }
                }).done(function (data) {
                    if (data.success) {
                        content.after(target);
                        $this.data('state', false);
                        $.AMUI.progress.done();
                    }
                });

                return false;
            });
        });
    },

    //分类1下移
    moveCategory1Down: function moveCategory1Down() {

        var list = $('.am-accordion-item');

        $('.movedown-category-1').each(function () {

            $(this).click(function () {

                var $this = $(this);
                var content = $this.parents('.am-accordion-item');
                var target = content.next();
                var currentId = content.attr('data-id');
                var targetId = target.attr('data-id');
                var index = content.index();

                if (index === list.length - 1) {
                    return false;
                }

                if ($this.data('state')) {
                    return false;
                }

                $this.data('state', true);
                $.AMUI.progress.start();

                $.get({
                    url: '/admin/product-category/move-category-1-down',
                    data: {
                        currentId: currentId,
                        targetId: targetId
                    }
                }).done(function (data) {
                    if (data.success) {
                        content.before(target);
                        $this.data('state', false);
                        $.AMUI.progress.done();
                    }
                });

                return false;
            });
        });
    },

    //添加二级分类
    addCategory2: function addCategory2() {

        var modal = $('#modal-category-2-add');
        var input = $('#input-category-2-add');
        var confirm = $('#modal-category-2-confirm-add');
        var content = null;
        var category1Id = null;

        $('.btn-category-2-add').each(function (i, n) {
            $(n).click(function () {
                content = $(this).parents('.am-accordion-item');
                category1Id = parseInt(content.attr('data-id'));
                input.val('');
                modal.modal({
                    relatedTarget: this
                });
            });
        });

        confirm.click(function () {

            if (confirm.data('state')) {
                return false;
            }

            $.AMUI.progress.start();
            confirm.data('state', true);

            var index = content.find('.category-2-list li').length;

            //添加二级分类,此处没用api是因为api save后再get无法获取到具体的category2Id等数据,所以只能通过ajax调用
            $.post({
                url: '/admin/product-category/add-category-2',
                data: {
                    index: index,
                    name: $.trim(input.val()) ? $.trim(input.val()) : '无标题',
                    category1Id: category1Id
                }
            }).done(function (data) {
                $.AMUI.progress.done();
                confirm.data('state', false);
                modal.modal('close');

                var productMethodId = $('.select-product-method').val();
                var category1Id = content.data('id');

                content.find('.category-2-list').append('\n                        <li data-id="' + data.id + '">\n                            <strong>\n                            <a href="/admin/product?product-method-id=' + productMethodId + '&category1-id=' + category1Id + '&category2-id=' + data.id + '" target="_blank">' + data.name + '</a>\n                            </strong>\n                            <span class="options">\n                                <a href="/admin/product/add?product-method-id=' + productMethodId + '&category1-id=' + category1Id + '&category2-id=' + data.id + '" target="_blank">\u65B0\u5EFA</a>\n                                <a class="edit-category-2" href="javascript:;">\u7F16\u8F91</a>\n                                <a class="moveup-category-2" href="javascript:;">\u4E0A\u79FB</a>\n                                <a class="movedown-category-2" href="javascript:;">\u4E0B\u79FB</a>\n                                <a class="remove-category-2" href="javascript:;">\u5220\u9664</a>\n                            </span>\n                        </li>\n                ');
            });

            return false;
        });
    },

    //编辑二级分类
    editCategory2: function editCategory2() {

        var modal = $('#modal-category-2-edit');
        var input = $('#input-category-2-edit');
        var confirm = $('#modal-category-2-confirm-edit');
        var alert = $('#modal-alert');

        var content = null;
        var category2Id = null;

        this.container.on('click', '.edit-category-2', function () {
            content = $(this).parents('li');
            input.val($.trim(content.find('strong').text()));
            category2Id = content.attr('data-id');
            modal.modal({
                relatedTarget: this
            });
            return false;
        });

        confirm.click(function () {

            if (confirm.data('state')) {
                return false;
            }

            $.AMUI.progress.start();
            confirm.data('state', true);

            $.get({
                url: leanApp.api + 'classes/ProductCategory2',
                headers: leanAppHeader,
                data: 'where={"category2Id":' + category2Id + '}'
            }).done(function (data) {
                return $.ajax({
                    type: 'PUT',
                    url: leanApp.api + 'classes/ProductCategory2/' + data.results[0].objectId,
                    headers: leanAppHeader,
                    data: JSON.stringify({
                        name: $.trim(input.val())
                    })
                });
            }).done(function () {
                confirm.data('state', false);
                $.AMUI.progress.done();
                modal.modal('close');
                alert.modal({
                    onConfirm: function onConfirm() {
                        return content.find('strong a').text(input.val());
                    }
                }).find('.am-modal-bd').text('编辑二级分类成功!');
            });

            return false;
        });
    },

    //删除二级分类
    removeCategory2: function removeCategory2() {

        var modal = $('#modal-category-2-remove');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        this.container.on('click', '.remove-category-2', function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var content = item.parents('li');

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    //删除一级分类需要判断该产品是否已使用该分类,所以不能使用api调用
                    $.get({
                        url: '/admin/product-category/remove-category-2',
                        data: {
                            category1Id: content.parents('.am-accordion-item').attr('data-id'),
                            category2Id: content.attr('data-id')
                        },
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return content.detach();
                                    }
                                }).find('.am-modal-bd').text('删除二级分类成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }
                    });

                    return false;
                }
            });
            return false;
        });
    },

    //分类2上移
    moveCategory2Up: function moveCategory2Up() {

        this.container.on('click', '.moveup-category-2', function () {

            var $this = $(this);
            var content = $(this).parents('li');
            var currentId = content.attr('data-id');
            var target = content.prev();
            var targetId = target.attr('data-id');
            var index = content.index();

            if (index === 0) {
                return false;
            }

            if ($this.data('state')) {
                return false;
            }

            $this.data('state', true);
            $.AMUI.progress.start();

            $.get({
                url: '/admin/product-category/move-category-2-up',
                data: {
                    currentId: currentId,
                    targetId: targetId
                }
            }).done(function (data) {
                if (data.success) {
                    content.after(target);
                    $this.data('state', false);
                    $.AMUI.progress.done();
                }
            });

            return false;
        });
    },

    //分类2下移
    moveCategory2Down: function moveCategory2Down() {

        this.container.on('click', '.movedown-category-2', function () {

            var $this = $(this);
            var content = $(this).parents('li');
            var currentId = content.attr('data-id');
            var target = content.next();
            var targetId = target.attr('data-id');
            var index = content.index();

            if (index === content.parent().find('li').length - 1) {
                return false;
            }

            if ($this.data('state')) {
                return false;
            }

            $this.data('state', true);
            $.AMUI.progress.start();

            $.get({
                url: '/admin/product-category/move-category-2-down',
                data: {
                    currentId: currentId,
                    targetId: targetId
                }
            }).done(function (data) {
                if (data.success) {
                    content.before(target);
                    $this.data('state', false);
                    $.AMUI.progress.done();
                }
            });

            return false;
        });
    }

};

},{}],"product-groups-name":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {

        //删除productMethod
        var removeLink = $('.remove-product-group');
        var modal = $('#confirm-remove-product-group');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var productGroupId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/product-group/remove/' + productGroupId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除产品组合类型成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }
};

},{}],"product-groups":[function(require,module,exports){
'use strict';

var autocomplete = require('./product/autocomplete-product-name');
var utils = require('../common/utils');

module.exports = {

    indexFun: function indexFun() {

        var productId = $('#product-id').val();
        var productMethodId = $('#product-method-id').val();
        var category1Id = $('#category1-id').val();
        var category2Id = $('#category2-id').val();

        var formGroups = $('#form-edit-groups');
        var productName = $('.product-name');

        //通过id获取详细产品名,随后加载autocomplete
        {
            productName.each(function (i, n) {
                if (/\d+/.test(n.value)) {
                    autocomplete.getId(n, n.value, function () {
                        autocomplete.getName(n);
                    });
                }
            });
        }

        var gorupHtml = '\n            <div class="am-form-group">\n                <div class="input">\n                    <input class="product-name" type="text" placeholder="\u8F93\u5165\u4EA7\u54C1\u540D\u79F0(\u81EA\u52A8\u586B\u5145)" autocomplete="off">\n                </div>\n                <div class="del">\n                    <a href="javascript:;">- \u5220\u9664</a>\n                </div>\n            </div>\n        ';

        $('.product-group-add').click(function () {
            var group = $(this).parents('.product-group');
            var list = group.find('.list-group-field');
            list.append(gorupHtml);
            autocomplete.getName(group.find('.product-name:last'));
            group.find('.product-name:last')[0].focus();
        });

        formGroups.on('click', '.del a', function () {
            $(this).parent().parent().detach();
        });

        //ajax
        $('#submit').click(function () {

            var $this = $(this);
            var json = [];

            $('.product-group').each(function (i, n) {
                json.push({});
                json[i].productGroupId = $(n).data('group-id');
                json[i].products = [];

                var products = $(n).find('.product-name').filter(function () {
                    return !$(this).attr('readonly');
                });

                products.each(function (j, n) {
                    if (/\{id\:\d+\}/.test(n.value)) {
                        var value = /\{id\:(\d+)\}/.exec(n.value)[1];
                        json[i].products.push(value);
                    }
                });
            });

            $this.prop('disabled', true);
            $.ajax({
                url: '/admin/product/groups/' + productId,
                type: 'post',
                data: {
                    groups: JSON.stringify(json)
                }
            }).then(function (data) {
                if (data.success) {
                    return location.href = '/admin/product?product-method-id=' + productMethodId + '&category1-id=' + category1Id + '&category2-id=' + category2Id;
                }
                $this.prop('disabled', false);
            });

            return false;
        });
    }
};

},{"../common/utils":6,"./product/autocomplete-product-name":7}],"product-method":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {

        //删除productMethod
        var removeLink = $('.remove-product-method');
        var modal = $('#confirm-remove-product-method');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var productMethodId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/product-method/remove/' + productMethodId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除产品类型成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }
};

},{}],"product-preview":[function(require,module,exports){
'use strict';

var utils = require('../common/utils');

//产品预览 function
module.exports = {
    init: function init(settings) {
        this.settings = settings;
        //   this.btnCopy();
        this.updateDom();
        this.waterMark();
        this.screenShot();
        this.screenShotRecommend();
    },
    btnCopy: function btnCopy() {

        var previewContent = $('.preview-content');
        var html = $.trim(previewContent.html());
        var btnCopy = $('.btn-copy');

        var clipboard = new Clipboard(btnCopy[0], {
            text: function text() {
                return html;
            }
        });

        clipboard.on('success', function (data) {
            btnCopy.popover({
                content: '复制成功!'
            });
        });
    },
    updateDom: function updateDom() {

        $('.preview-content').find('em').each(function () {
            if ($.trim($(this).text()) === 'date') {
                $(this).parents('li').detach();
            }
        });
    },
    waterMark: function waterMark() {

        var images = $('.preview-content').find('div img');

        images.each(function () {
            var src = this.src;
            $(this).data('src-source', src.replace(/\?.+/, ''));
            $(this).data('src-target', src);
        });

        $('.disable-watermark').click(function () {
            if (this.checked) {
                images.each(function () {
                    $(this).attr('src', $(this).data('src-source'));
                });
            } else {
                images.each(function () {
                    $(this).attr('src', $(this).data('src-target'));
                });
            }
        });
    },
    screenShot: function screenShot() {

        var previewContent = $('.preview-content');

        var styles = '<style>\n            body { margin:0; width:750px; background: #fff;  font-family:\'Segoe UI\',\'Lucida Grande\',\'Helvetica\',\'Arial\',\'Microsoft YaHei\'; font-size: 20px; line-height: 30px; }\n            section { padding: 0; margin: 0 0 20px 0; }\n            section img { margin:0;}\n            div { padding: 0 15px; margin-bottom: 20px;}\n            ul {margin: 0 0 15px 0;padding: 0 0 0 20px;}\n            img { width: 100%; margin-bottom: 20px; }\n            p { margin: 0 0 15px 0; padding: 0;}\n        </style>';

        var html = previewContent.html();

        var btnShot = $('.btn-shot');

        if (location.href.indexOf('localhost') === -1) {
            btnShot.hide();
            $('.btn-shot-recommend').hide();
        }

        btnShot.button('loading');
        var progress = $.AMUI.progress;

        window.onload = function () {

            btnShot.button('reset');
            btnShot.click(function () {

                progress.start();
                btnShot.button('loading').text('图片生成中...');
                $.ajax({
                    url: '/admin/product/preview/shot',
                    type: 'post',
                    data: {
                        html: styles + html,
                        segmentHeight: 480,
                        htmlHeight: previewContent.height(),
                        name: '产品-' + $('h4').text().replace(/\//g, '')
                    },
                    success: function success() {
                        progress.done();
                        $('#modal-shot-success').modal();
                        btnShot.button('reset').text('生成淘宝详情图片');
                    }
                });
            });
        };
    },
    recommendProducts: function recommendProducts(groups, groupsName) {
        var _this = this;

        var products = [];
        for (var i = 0; i < groups.length; i++) {
            for (var j = 0; j < groups[i].products.length; j++) {
                products.push(groups[i].products[j]);
            }
        }

        $.ajax({
            type: 'get',
            url: '/product/recommend/custom/' + products.join()
        }).then(function (data) {

            for (var _i = 0; _i < groups.length; _i++) {
                for (var _j = 0; _j < groupsName.length; _j++) {
                    if (groups[_i].productGroupId === groupsName[_j].productGroupId) {
                        groups[_i].name = groupsName[_j].productGroupName;
                    }
                }
            }

            for (var _i2 = 0; _i2 < groups.length; _i2++) {
                groups[_i2].html = [];
                for (var _j2 = 0; _j2 < groups[_i2].products.length; _j2++) {
                    for (var k = 0; k < data.items.length; k++) {
                        if (data.items[k].productId === parseInt(groups[_i2].products[_j2])) {
                            groups[_i2].html.push({
                                productId: data.items[k].productId,
                                name: data.items[k].name,
                                image: utils.productMainImageOutput(data.items[k].mainImage),
                                price: data.items[k].price,
                                isHot: data.items[k].isHot,
                                shopLink: data.items[k].shopLink
                            });
                        }
                    }
                }
            }

            groups = groups.filter(function (n) {
                return n.html.length;
            });

            _this.recommendHtml(groups);
        });
    },
    recommendHtml: function recommendHtml(data) {

        var cont = $('.recommend-content');
        var html = '';

        $.each(data, function (i, n) {

            html += '<h3 class="item">' + n.name + ':</h3><div>';

            $.each(n.html, function (i1, n1) {
                var link = n1.shopLink[0] ? '<a target="_blank" href="' + n1.shopLink[0] + '">' : '';
                html += '\n                    <dl class="item">\n                        ' + link + '\n                        <dt><img src="' + n1.image + '?imageMogr2/thumbnail/90"></dt>\n                        <dd>' + n1.name + '</dd>\n                        ' + (link ? '</a>' : '') + '\n                    </dl>\n                ';
            });
            html += '</div>';
        });

        cont.append(html);

        var imgLoad = 0;
        cont.find('img').each(function (i, n) {
            var length = cont.find('img').length;
            this.onload = function () {
                imgLoad++;
                if (imgLoad === length) {
                    $('.btn-shot-recommend').button('reset');
                }
            };
        });
    },
    screenShotRecommend: function screenShotRecommend() {

        var btnShotRecommend = $('.btn-shot-recommend');
        if (!btnShotRecommend.length) {
            return;
        }

        var styles = '<style>\n            body { margin:0; width:750px; background: #fff;  font-family:\'Segoe UI\',\'Lucida Grande\',\'Helvetica\',\'Arial\',\'Microsoft YaHei\'; }  \n            h3 { height:100px; line-height: 100px; margin:0; font-size:24px; padding-left:15px; }\n            dl { margin:0; }\n            dl:before { content: \' \';display: table;}\n            dl:after { content: \' \';display: table; clear: both; }\n            dt { margin:0; float:left; text-align: center; width: 120px; height: 100px;}\n            dd { color:#666; float:left; margin:0; font-size:20px; width: 630px; height: 100px; line-height: 100px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n            dl img { margin-top:5px; width: 90px; height: 90px; border-radius: 5px; }\n            a dd { color:#333;  text-decoration: underline;}\n        </style>';

        var recommendContent = $('.recommend-content');

        btnShotRecommend.button('loading');
        var progress = $.AMUI.progress;

        btnShotRecommend.click(function () {

            progress.start();

            var html = recommendContent.html();
            //.replace(/<h3>[\s\S]*?<\/h3>/gi,'');

            btnShotRecommend.button('loading').text('图片生成中...');
            $.ajax({
                url: '/admin/product/preview/shot',
                type: 'post',
                data: {
                    html: styles + html,
                    htmlHeight: (recommendContent.find('dl').length + recommendContent.find('h3').length) * 100,
                    segmentHeight: 100,
                    name: '推荐-' + $('h4').text().replace(/\//g, '')
                },
                success: function success() {
                    progress.done();
                    $('#modal-shot-success').modal();
                    btnShotRecommend.button('reset').text('生成推荐产品图片');
                }
            });
        });

        //生成转换图片后的推荐代码
        {
            var recommendCode = $('.recommend-code');
            var btnRecommendCodeCopy = $('.btn-recommend-code-copy');
            var recommendCodeHidden = $('.recommend-code-hidden');
            var newHtml = '';

            $('.btn-recommend-code').click(function () {

                newHtml = '';
                recommendCodeHidden.html(recommendCode.val()); //将textarea值转换为html,然后对应替换href

                //检测输入淘宝图片
                if (recommendCodeHidden.find('img').length !== recommendContent.find('.item').length) {
                    alert('图片数量不一致,请重新输入!');
                    return false;
                }

                for (var i = 0; i < recommendCodeHidden.find('img').length; i++) {
                    if (recommendCodeHidden.find('img').eq(i).attr('src').indexOf('alicdn') === -1) {
                        alert('图片地址有误,请重新输入!');
                        return false;
                    }
                }

                $(this).removeClass('am-btn-primary').addClass('am-btn-success');
                btnRecommendCodeCopy.removeClass('am-btn-success').addClass('am-btn-primary');

                newHtml = '<div><img src="https://img.alicdn.com/imgextra/i4/42879206/TB2Dw47p9BjpuFjSsplXXa5MVXa_!!42879206.png"></div>';

                recommendContent.find('.item').each(function (i, n) {
                    var img = '<img src="' + recommendCodeHidden.find('img').eq(i).attr('src') + '"/>';
                    if ($(n).find('a').length) {
                        newHtml += '<a href="' + $(n).find('a').attr('href') + '">' + img + '</a>';
                    } else {
                        newHtml += img;
                    }
                });
                recommendCodeHidden.html(newHtml);
            });

            var clipboard = new Clipboard(btnRecommendCodeCopy[0], {
                text: function text() {
                    return newHtml;
                }
            });

            clipboard.on('success', function (data) {
                btnRecommendCodeCopy.removeClass('am-btn-primary').addClass('am-btn-success');
            });
        }
    }
};

},{"../common/utils":6}],"product-property":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;
var Bloodhound = require('bloodhound');

module.exports = {
    init: function init() {

        //如果是iframe modal,则执行parent window关闭
        //如果返回的product-proerty的Location有viewport=window且没有类似#settings,则说明是返回关闭iframe
        if (location.search.indexOf('viewport=window') > -1 && !location.hash && window.parent.closeViewportModal) {
            window.parent.closeViewportModal();
            return;
        }

        this.setContentDisplay(); //设置区块打开时显示

        //单独区域设置
        this.setPurchaseLinkContent();
        this.setShopLinkContent();
        this.setStockContent();
        this.setSettingsContent();
        this.setContentManage();
        this.setImageSourceLink();

        $('.save-norefresh').click(function () {
            window.parent.gReloadPageVar = false;
        });
    },
    setContentDisplay: function setContentDisplay() {
        if (location.hash) {
            var content = $('#' + location.hash.substring(1));
            if (content.length) {
                content.addClass('am-active');
                content.find('.am-collapse').addClass('am-in');
            }
        }
    },


    //编辑产品链接
    setPurchaseLinkContent: function setPurchaseLinkContent() {
        if (location.hash === '#purchase-link') {
            setTimeout(function () {
                return $('input[name=purchase-link]').get(0).focus();
            }, 0);
        }
    },


    //编辑淘宝店铺链接
    setShopLinkContent: function setShopLinkContent() {
        if (location.hash === '#shop-link') {
            setTimeout(function () {
                return $('input[name=shop-link]').get(0).focus();
            }, 0);
        }
    },


    //库存
    setStockContent: function setStockContent() {
        var content = $('#stock');
        var stock = content.find('select[name=stock]');
        var sales = content.find('[name=sales]');
        var stockMinus = content.find('.stock-minus');
        var stockPlus = content.find('.stock-plus');
        var reset = $('.stock-reset');
        var sold = $('#sold');
        var reserve = $('#reserve');
        var soldPlus = content.find('.sold-plus');
        var soldMinus = content.find('.sold-minus');

        stockMinus.click(function () {
            var stockValue = parseInt(stock.val());
            var salesValue = parseInt(sales.val());
            if (stockValue > 0) {
                stock.find('option[value=' + (stockValue - 1) + ']')[0].selected = true;
                sales.val(salesValue + 1);
            }
            stock.trigger('change');
        });

        stockPlus.click(function () {
            var stockValue = parseInt(stock.val());
            stock.find('option[value=' + (stockValue + 1) + ']')[0].selected = true;
            stock.trigger('change');
        });

        reset.click(function () {
            stock.find('option[value=' + stock.data('stock') + ']')[0].selected = true;
            sales.val(sales.data('sales'));
            reserve.val(reserve.data('reserve'));
            sold.val(sold.data('sold'));
            stock.trigger('change');
        });

        var ckbWarningStockOut = $('.ckb-warning-stock-out');
        var ckbWarningStockIn = $('.ckb-warning-stock-in');
        var nowStock = parseInt(stock.val());

        ckbWarningStockOut.click(function () {
            ckbWarningStockIn.prop('checked', false);
        });

        ckbWarningStockIn.click(function () {
            ckbWarningStockOut.prop('checked', false);
        });

        //库存提醒 n-0 缺货设置 checkbox
        {
            if (nowStock > 0) {
                stock.change(function () {
                    if (parseInt(stock.val()) === 0) {
                        ckbWarningStockOut.prop('checked', true);
                    } else {
                        ckbWarningStockOut.prop('checked', false);
                    }
                });
            }
        }

        //库存提醒 0-n 新到货设置 checkbox
        {
            if (nowStock === 0) {
                stock.change(function () {
                    if (parseInt(stock.val()) > 0) {
                        sold.val(0);
                        ckbWarningStockIn.prop('checked', true);
                    } else {
                        ckbWarningStockIn.prop('checked', false);
                    }
                });
            }
        }

        //普通状态stock change，该表在途input值
        {
            var currentStock = stock.data('stock');
            stock.change(function () {
                /*
                if(parseInt(reserve.val()) > 0) {
                    let stockChanged = this.value - currentStock;
                    reserve.val(parseInt(reserve.val()) - stockChanged );
                    currentStock = this.value;
                }
                */
            });
        }

        //sold加减
        soldPlus.click(function () {
            sold.val(parseInt(sold.val()) + 1);
        });

        soldMinus.click(function () {
            if (parseInt(sold.val()) > 0) {
                sold.val(parseInt(sold.val()) - 1);
            }
        });

        $('.reserve-plus').click(function () {
            reserve.val(parseInt(reserve.val()) + parseInt($(this).data('plus')));
        });
    },


    //设置
    setSettingsContent: function setSettingsContent() {
        if (location.hash === '#settings') {
            setTimeout(function () {
                return $('input[name=price]').get(0).focus();
            }, 0);
        }
    },


    //内容管理
    setContentManage: function setContentManage() {

        //品牌名称查询
        var brandInput = $('#brand-id');
        var brandHiddenInput = $('[name=brand-id]');
        brandInput.typeahead(null, {
            limit: 10,
            display: function display(item) {
                return item.value;
            },
            templates: {
                suggestion: function suggestion(item) {
                    return '<div>' + item.value + '</div>';
                }
            },
            highlight: true,
            source: new Bloodhound({
                datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),
                queryTokenizer: Bloodhound.tokenizers.whitespace,
                remote: {
                    url: '/admin/product-brand/ajax/search',
                    prepare: function prepare(query, settings) {
                        settings.data = {
                            name: brandInput.val()
                        };
                        return settings;
                    }
                }
            })
        });

        brandInput.on({
            'typeahead:select': function typeaheadSelect(event, item) {
                var value = /\{id\:(\d+)\}/.exec(item.value)[1];
                brandHiddenInput.val(value);
            }
        });
    },
    setImageSourceLink: function setImageSourceLink() {
        var imageSourceDownload = $('.image-source-download');
        var links = $('textarea[name=image-source]').val().split('\n');
        var id = $('#product-id').val();
        if (links.length) {
            $.each(links, function (i, n) {
                imageSourceDownload.append('<a href="' + n + '" download="\u4E0B\u8F7D.' + id + '.' + (i + 1) + '">\u4E0B\u8F7D' + (i + 1) + '</a> ');
            });
        }
    }
};

},{"bloodhound":9}],"product-tag":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;

module.exports = {

    indexFun: function indexFun() {
        //删除productMethod
        var removeLink = $('.remove-product-tag');
        var modal = $('#confirm-remove-product-tag');
        var alert = $('#modal-alert');

        //alert 关闭后移除暂存的实例，再次调用时重新初始化,可以解决2次调用同一代码的问题
        alert.on('closed.modal.amui', function () {
            $(this).removeData('amui.modal');
        });

        removeLink.click(function () {

            modal.modal({
                relatedTarget: this,
                onConfirm: function onConfirm() {

                    var item = $(this.relatedTarget);
                    var productTagId = parseInt(item.data('id'));

                    if (item.data('state')) {
                        return false;
                    }

                    item.data('state', true);
                    $.AMUI.progress.start();

                    $.ajax({
                        type: 'post',
                        url: '/admin/product-tag/remove/' + productTagId,
                        success: function success(data) {

                            item.data('state', false);
                            $.AMUI.progress.done();
                            modal.modal('close');

                            if (data.success) {
                                alert.modal({
                                    onConfirm: function onConfirm() {
                                        return location.reload();
                                    }
                                }).find('.am-modal-bd').text('删除标签成功!');
                            } else {
                                alert.modal().find('.am-modal-bd').text(data.message);
                            }
                        }

                    });

                    return false;
                }
            });
        });
    },
    addFun: function addFun() {
        this.submitControl();
    },
    editFun: function editFun() {
        this.submitControl();
    },
    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }
};

},{}],"product":[function(require,module,exports){
'use strict';

var leanAppHeader = window.leanAppHeader;
var utils = require('../common/utils');

module.exports = {

    indexFun: function indexFun() {
        //选择产品分类
        {
            var category1 = $('.select-category-1');
            var category2 = $('.select-category-2');
            var order = $('.select-order');
            var productMethod = $('.select-product-method');
            var onsale = $('input[name=onsale]');

            var category1Val = category1.val();
            var category2Val = category2.val();
            var productMethodVal = productMethod.val();
            var onsaleVal = onsale.val();
            var isShortStock = $('input[name=is-short-stock]').val();
            var updateStockDate = $('input[name=update-stock-date]').val();
            var isUpdateStock = $('input[name=is-update-stock]').val();
            var hot = $('input[name=hot]').val();
            var stock = $('input[name=stock]').val();
            var search = $('input[name=search]').val();
            var isTranslation = $('input[name=is-translation]').val();
            productMethod.change(function () {
                if (this.value) {
                    return location.href = utils.urlParamsComponent('/admin/product', {
                        'product-method-id': this.value,
                        'onsale': onsaleVal,
                        'is-short-stock': isShortStock,
                        'update-stock-date': updateStockDate,
                        'is-update-stock': isUpdateStock,
                        hot: hot,
                        stock: stock,
                        search: search,
                        isTranslation: isTranslation
                    });
                }
                location.href = utils.urlParamsComponent('/admin/product', {
                    'onsale': onsaleVal,
                    'is-short-stock': isShortStock,
                    'update-stock-date': updateStockDate,
                    'is-update-stock': isUpdateStock,
                    hot: hot,
                    stock: stock,
                    search: search,
                    isTranslation: isTranslation
                });
            });

            category1.change(function () {
                if (this.value) {
                    return location.href = utils.urlParamsComponent('/admin/product', {
                        'product-method-id': productMethodVal,
                        'category1-id': this.value,
                        'onsale': onsaleVal,
                        'is-short-stock': isShortStock,
                        'update-stock-date': updateStockDate,
                        'is-update-stock': isUpdateStock,
                        hot: hot,
                        stock: stock,
                        search: search,
                        isTranslation: isTranslation
                    });
                }
                location.href = utils.urlParamsComponent('/admin/product', {
                    'product-method-id': productMethodVal,
                    'onsale': onsaleVal,
                    'is-short-stock': isShortStock,
                    'update-stock-date': updateStockDate,
                    'is-update-stock': isUpdateStock,
                    hot: hot,
                    stock: stock,
                    search: search,
                    isTranslation: isTranslation
                });
            });

            category2.change(function () {
                if (this.value) {
                    return location.href = utils.urlParamsComponent('/admin/product', {
                        'product-method-id': productMethodVal,
                        'category1-id': category1Val,
                        'category2-id': this.value,
                        'onsale': onsaleVal,
                        'is-short-stock': isShortStock,
                        'update-stock-date': updateStockDate,
                        'is-update-stock': isUpdateStock,
                        hot: hot,
                        stock: stock,
                        search: search,
                        isTranslation: isTranslation
                    });
                }
                location.href = utils.urlParamsComponent('/admin/product', {
                    'product-method-id': productMethodVal,
                    'category1-id': category1Val,
                    'onsale': onsaleVal,
                    'is-short-stock': isShortStock,
                    'update-stock-date': updateStockDate,
                    'is-update-stock': isUpdateStock,
                    hot: hot,
                    stock: stock,
                    search: search,
                    isTranslation: isTranslation
                });
            });

            onsale.change(function () {
                location.href = utils.urlParamsComponent('/admin/product', {
                    'product-method-id': productMethodVal,
                    'category1-id': category1Val,
                    'category2-id': category2Val,
                    'onsale': this.value,
                    'is-short-stock': isShortStock,
                    'update-stock-date': updateStockDate,
                    'is-update-stock': isUpdateStock,
                    hot: hot,
                    stock: stock,
                    search: search,
                    isTranslation: isTranslation
                });
            });

            order.change(function () {
                return location.href = utils.urlParamsComponent('/admin/product', {
                    'product-method-id': productMethodVal,
                    'category1-id': category1Val,
                    'category2-id': category2Val,
                    'onsale': onsaleVal,
                    'is-short-stock': isShortStock,
                    'update-stock-date': updateStockDate,
                    'is-update-stock': isUpdateStock,
                    'order': this.value,
                    hot: hot,
                    stock: stock,
                    search: search,
                    isTranslation: isTranslation
                });
            });

            $(function () {
                var productIds = [];
                $('.remove-product').each(function (i) {
                    productIds.push($(this).attr('data-id'));
                });
                $.ajax({
                    type: 'get',
                    url: '/admin/product/get-sales',
                    data: {
                        'product-ids': productIds
                    }
                }).then(function (data) {
                    var rows = $('table tbody tr');
                    var lastMonthFirstDay = new Date();
                    lastMonthFirstDay.setMonth(lastMonthFirstDay.getMonth() - 1);
                    var twoMonthFirstDay = new Date();
                    twoMonthFirstDay.setMonth(twoMonthFirstDay.getMonth() - 2);
                    $.each(data.data, function (i, n) {
                        rows.each(function () {
                            if (n.productId == $(this).attr('data-product-id')) {
                                $(this).find('.title').attr('data-popover-thirty', n.thirty);
                                $(this).find('.title').attr('data-popover-ninety', n.ninety);
                                $(this).find('.title').attr('data-popover-last-month', n.lastMonty);
                                $(this).find('.title').attr('data-popover-two-month', n.twoMonty);
                            }
                        });
                    });
                    rows.each(function () {
                        var title = $(this).find('.title');
                        title.popover({
                            content: '\u539F\u4EF7: ' + title.data('popover-source-price') + ' | \u6210\u672C\u4EF7:\uFFE5' + title.data('popover-cost-price') + ' | \u5B9A\u4EF7: \uFFE5' + title.data('popover-price') + ' <br/>30\u5929\u9500\u91CF: ' + title.data('popover-thirty') + ' | 90\u5929\u9500\u91CF: ' + title.data('popover-ninety') + ' <br/>  ' + (twoMonthFirstDay.getMonth() + 1) + '\u6708\u4EFD\u9500\u91CF: ' + title.data('popover-two-month') + ' | ' + (lastMonthFirstDay.getMonth() + 1) + '\u6708\u4EFD\u9500\u91CF: ' + title.data('popover-last-month') + '  <br/>\u603B\u9500\u91CF: ' + title.data('popover-sales'),
                            trigger: 'hover'
                        });
                    });
                });
            });
        }

        //删除product
        {
            var _alert = $('#modal-alert');
            $('.remove-product').click(function () {
                $('#confirm-remove-product').modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm() {
                        var _this2 = this;

                        var target = $(this.relatedTarget);
                        var productId = target.attr('data-id');

                        $.ajax({
                            type: 'post',
                            url: '/admin/product/remove/' + productId
                        }).then(function () {
                            _alert.modal({
                                relatedTarget: _this2,
                                onConfirm: function onConfirm() {
                                    var target = $(_this2.relatedTarget);
                                    target.parents('tr').detach();
                                }
                            }).find('.am-modal-bd').text('删除产品成功!');
                        });
                    },
                    onCancel: function onCancel() {
                        return false;
                    }
                });

                return false;
            });
        }

        {
            $('.am-table').on('mousedown', '.am-icon-link', function () {
                $(this).addClass('on');
            });
        }

        //编辑定位
        {
            setTimeout(function () {
                if (/product-id=\d+/.test(location.search)) {
                    var editProductId = /product-id=(\d+)/.exec(location.search)[1];
                    var item = $('tr[data-product-id=' + editProductId + ']');
                    item.addClass('on');
                    $('html,body').animate({ 'scrollTop': item.offset().top });
                }
            }, 0);
        }

        //modal viewport iframe
        {
            var modalViewport = $('#modal-viewport');
            var modalViewportContent = modalViewport.find('.am-modal-bd');

            $('.link-modal-viewport').click(function () {
                modalViewportContent.append('<iframe class="iframe-viewport" src="" frameborder="0"></iframe>');
                var iframe = modalViewport.find('iframe');
                var src = $(this).attr('href');
                iframe.attr('src', src);
                modalViewport.modal({
                    width: 800,
                    height: 520
                });
                return false;
            });

            modalViewport.on('close.modal.amui', function () {
                modalViewportContent.empty();
            });
        }

        //copy product content
        {
            var form = $('.form-copy-product-content');
            var modalConfirm = $('#modal-confirm');
            var modalAlert = $('#modal-alert');

            form.find('.am-btn').click(function () {

                var productId = parseInt($(this).parents('tr').data('product-id'));

                if (form.serialize() === '') {
                    modalAlert.modal({
                        relatedTarget: this
                    }).find('.am-modal-bd').text('请选择需要复制的内容');
                    return false;
                }

                var data = [];
                form.find('input[type=checkbox]:checked').each(function () {
                    data.push(this.name);
                });

                modalConfirm.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm() {
                        var _this3 = this;

                        $.ajax({
                            url: '/admin/product/product-copy',
                            type: 'post',
                            data: {
                                productId: productId,
                                field: data
                            }
                        }).then(function (data) {
                            if (data.success) {
                                modalAlert.modal({
                                    relatedTarget: _this3,
                                    onConfirm: function onConfirm() {
                                        location.reload();
                                    }
                                }).find('.am-modal-bd').text('复制成功!');
                            }
                        });
                    }
                });
            });
        }

        //copy etsy
        {

            var modal = $('#modal-copy-etsy');
            var input = $('.input-copy-etsy');
            var modalLoading = $('#modal-loading');

            $('.link-copy-etsy').click(function () {
                var productId = $(this).data('product-id');
                modalLoading.find('.am-modal-hd').text('正在导入...');
                modal.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm(e) {

                        if (!$.trim(input.val()) || $.trim(input.val()).indexOf('etsy.com') === -1) {
                            alert('请输入正确的etsy.com链接');
                            return;
                        }

                        $.ajax({
                            url: '/admin/product/spider-info',
                            data: {
                                'product-id': productId,
                                'url': $.trim(input.val())
                            }
                        }).then(function (result) {
                            if (result.code) {
                                modalLoading.find('.am-modal-hd').text('导入成功!正在更新...');
                                setTimeout(function () {
                                    location.reload();
                                }, 1000);
                            } else {
                                modalLoading.find('.am-modal-hd').text('导入失败,请重试!');
                                setTimeout(function () {
                                    modalLoading.modal('close');
                                }, 1000);
                            }
                        }, function (err) {
                            console.info(err);
                            modalLoading.find('.am-modal-hd').text('导入失败,请重试!');
                            setTimeout(function () {
                                modalLoading.modal('close');
                            }, 1000);
                        });
                        modalLoading.modal();
                    }
                });
                input[0].focus();
                return false;
            });
        }

        //关联分类属性
        {
            var _modal = $('#modal-bind-category');
            var _input = $('.input-bind-category');
            var _modalLoading = $('#modal-loading');

            $('.link-bind-category').click(function () {
                var productId = $(this).data('product-id');
                _modalLoading.find('.am-modal-hd').text('正在修改...');
                _modal.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm(e) {
                        $.ajax({
                            type: 'post',
                            url: '/admin/product/set-parent-product',
                            data: {
                                'productId': productId,
                                'parentProductId': _input.val()
                            }
                        }).then(function (result) {
                            _modalLoading.find('.am-modal-hd').text('关联成功!正在更新...');
                            setTimeout(function () {
                                location.reload();
                            }, 1000);
                        }, function (err) {
                            console.info(err);
                            _modalLoading.find('.am-modal-hd').text('关联失败,请重试!');
                            setTimeout(function () {
                                _modalLoading.modal('close');
                            }, 1000);
                        });
                        _modalLoading.modal();
                    }
                });
                _input[0].focus();
            });
        }

        {
            // 改价
            var _modal2 = $('#modal-change-price');
            var _input2 = $('.input-change-price');
            var _modalLoading2 = $('#modal-loading');

            $('.link-change-price').click(function () {
                var productId = $(this).data('product-id');
                var category2Id = $(this).data('category2-id');
                _modalLoading2.find('.am-modal-hd').text('正在修改...');
                _modal2.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm(e) {

                        if (!$.trim(_input2.val())) {
                            alert('请输入正确的价格');
                            // return;
                        } else {
                            $.ajax({
                                type: 'post',
                                url: '/admin/product/sync-price',
                                data: {
                                    'productId': productId,
                                    'price': $.trim(_input2.val()),
                                    'category2Id': category2Id
                                }
                            }).then(function (result) {
                                _modalLoading2.find('.am-modal-hd').text('修改成功!正在更新...');
                                setTimeout(function () {
                                    location.reload();
                                }, 1000);
                            }, function (err) {
                                console.info(err);
                                _modalLoading2.find('.am-modal-hd').text('修改失败,请重试!');
                                setTimeout(function () {
                                    _modalLoading2.modal('close');
                                }, 1000);
                            });
                            _modalLoading2.modal();
                        }
                    }
                });
                _input2[0].focus();
                return false;
            });
        }

        {
            // 改成本价
            var _modal3 = $('#modal-change-price');
            var _input3 = $('.input-change-price');
            var _modalLoading3 = $('#modal-loading');

            $('.link-change-cost-price').click(function () {
                var productId = $(this).data('product-id');
                var category2Id = $(this).data('category2-id');
                _modalLoading3.find('.am-modal-hd').text('正在修改...');
                // console.info(productId);
                _modal3.modal({
                    relatedTarget: this,
                    onConfirm: function onConfirm(e) {

                        if (!$.trim(_input3.val())) {
                            alert('请输入正确的价格');
                            // return;
                        } else {
                            $.ajax({
                                type: 'post',
                                url: '/admin/product/sync-cost-price',
                                data: {
                                    'productId': productId,
                                    'costPrice': $.trim(_input3.val()),
                                    'category2Id': category2Id
                                }
                            }).then(function (result) {
                                _modalLoading3.find('.am-modal-hd').text('修改成功!正在更新...');
                                setTimeout(function () {
                                    location.reload();
                                }, 1000);
                            }, function (err) {
                                console.info(err);
                                _modalLoading3.find('.am-modal-hd').text('修改失败,请重试!');
                                setTimeout(function () {
                                    _modalLoading3.modal('close');
                                }, 1000);
                            });
                            _modalLoading3.modal();
                        }
                    }
                });
                _input3[0].focus();
                return false;
            });
        }

        //copy title
        {
            $('.copy-product-title').each(function (i, n) {
                var clipboard = new Clipboard(n, {
                    text: function text() {
                        return $(n).data('text') + ' {' + $(n).data('id') + '}';
                    }
                });
                clipboard.on('success', function (data) {
                    $(n).addClass('on');
                });
            });
        }

        {
            $('.image-source-download').click(function () {
                var group = $(this).next();
                var links = group.find('.image-source-value').val().split('\n');
                var id = $(this).data('product-id');
                if (links.length) {
                    $.each(links, function (i, n) {
                        group.append('<a href="' + n + '" download>download</a>');
                    });
                    group.find('a').each(function () {
                        var evObj = document.createEvent('MouseEvents');
                        evObj.initEvent('click', true, false);
                        this.dispatchEvent(evObj);
                    });
                }
            });
        }

        {
            $('.set-onsale').click(function () {
                var _this4 = this;

                var isOnsale = $(this).attr('isonsale') === 'true' ? false : true;
                var productId = $(this).parents('tr').data('product-id');
                var title = $(this).parents('tr').find('.title');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-onsale/' + productId,
                    data: { isOnsale: isOnsale }
                }).then(function (data) {
                    if (data.success) {
                        if (isOnsale) {
                            title.removeClass('product-out');
                            $(_this4).attr('isonsale', 'true');
                        } else {
                            title.addClass('product-out');
                            $(_this4).attr('isonsale', 'false');
                        }
                    }
                });
            });
        }

        {
            $('.set-hot').click(function () {
                var _this5 = this;

                var isHot = $(this).attr('ishot') === 'true' ? false : true;
                var productId = $(this).parents('tr').data('product-id');
                var title = $(this).parents('tr').find('.title');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-hot/' + productId,
                    data: { isHot: isHot }
                }).then(function (data) {
                    if (data.success) {
                        if (isHot) {
                            title.append('<sup class="hot"></sup>');
                            title.addClass('product-hot');
                            $(_this5).attr('ishot', 'true');
                        } else {
                            title.find('sup').detach();
                            title.addClass('product-hot');
                            $(_this5).attr('ishot', 'false');
                        }
                    }
                });
            });
        }

        {
            $('.set-short-stock').click(function () {
                var _this6 = this;

                var isShortStock = $(this).attr('isshortstock') === 'true' ? false : true;
                var productId = $(this).parents('tr').data('product-id');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-short-stock/' + productId,
                    data: { isShortStock: isShortStock }
                }).then(function (data) {
                    if (data.success) {
                        if (isShortStock) {
                            $(_this6).addClass('on');
                            $(_this6).attr('isshortstock', 'true');
                        } else {
                            $(_this6).removeClass('on');
                            $(_this6).attr('isshortstock', 'false');
                        }
                    }
                });
            });
        }

        //重新上架淘宝
        {

            $('.set-update-stock:not(.on)').each(function () {});

            $('.update-totaobao-confirm').click(function () {
                var popover = $(this).parent();
                var updateTotaobaoImage = popover.find('.update-totaobao-image');
                var updateTotaobaoTitle = popover.find('.update-totaobao-title');
                var updateTotaobaoContent = popover.find('.update-totaobao-content');
                var updateTotaobaoPrice = popover.find('.update-totaobao-price');
                var updateTotaobaoCategory = popover.find('.update-totaobao-category');

                var productId = $(this).data('product-id');
                var item = $('tr[data-product-id=' + productId + ']').find('.set-update-stock');

                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-update-stock/' + productId,
                    data: {
                        isUpdateStock: true,
                        updateTotaobaoImage: updateTotaobaoImage.prop('checked'),
                        updateTotaobaoTitle: updateTotaobaoTitle.prop('checked'),
                        updateTotaobaoContent: updateTotaobaoContent.prop('checked'),
                        updateTotaobaoPrice: updateTotaobaoPrice.prop('checked'),
                        updateTotaobaoCategory: updateTotaobaoCategory.prop('checked')
                    }
                }).then(function (data) {
                    if (data.success) {
                        item.addClass('on');
                        item.attr('isupdatestock', 'true');
                    }
                    item.popover('close');
                });
            });

            $('.set-update-stock.on').click(function () {
                var _this7 = this;

                var productId = $(this).parents('tr').data('product-id');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-update-stock/' + productId,
                    data: { isUpdateStock: false }
                }).then(function (data) {
                    if (data.success) {
                        $(_this7).removeClass('on');
                        $(_this7).attr('isupdatestock', 'false');
                    }
                });

                /*
                 let isUpdateStock = $(this).attr('isupdatestock') === 'true' ? false : true;
                 let productId = $(this).parents('tr').data('product-id');
                 $.ajax({
                     type:'post',
                     url:`/admin/product/set-update-stock/${productId}`,
                     data:{isUpdateStock}
                 }).then(data => {
                     if(data.success) {
                         if(isUpdateStock) {
                             $(this).addClass('on');
                             $(this).attr('isupdatestock','true');
                         } else {
                             $(this).removeClass('on');
                             $(this).attr('isupdatestock','false');
                         }
                     }
                 });
                 */
            });
        }

        {
            $('.set-warning-stock.on').click(function () {
                var _this8 = this;

                var productId = $(this).parents('tr').data('product-id');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-update-stock-date/' + productId,
                    data: {
                        updateStockDate: true
                    }
                }).then(function (data) {
                    if (data.success) {
                        $(_this8).removeClass('on');
                    }
                });
            });
        }

        {
            $('.set-product-trans').click(function () {
                var _this9 = this;

                var isTranslation = $(this).attr('istranslationdate') === 'true' ? false : true;

                var productId = $(this).parents('tr').data('product-id');
                $.ajax({
                    type: 'post',
                    url: '/admin/product/set-is-translation/' + productId,
                    data: {
                        isTranslation: isTranslation
                    }
                }).then(function (data) {
                    if (isTranslation) {
                        $(_this9).addClass('on');
                        $(_this9).attr('istranslationdate', 'true');
                    } else {
                        $(_this9).removeClass('on');
                        $(_this9).attr('istranslationdate', 'false');
                    }
                });
            });
        }
        {
            $('.set-product-parent').click(function () {
                window.location.href = '/admin/product?parent-product-id=' + $(this).attr('parentProductId');
            });
        }

        //显示规格
        {

            $('.set-product-parent').each(function () {
                var row = $(this).parents('tr');
                if (row.hasClass('main-product-row')) {
                    return;
                }
                var parentId = parseInt($(this).attr('parentproductid'));
                var parentTargetRow = $('.main-product-row[data-product-id=' + parentId + ']');
                if (parentTargetRow.length) {
                    row.addClass('sub-product-row');
                    parentTargetRow.after(row);
                } else {
                    row.detach();
                }
            });
        }
    },

    addFun: function addFun() {

        this.setCategory();
        this.chooseBanner('add');
        this.submitControl();
        this.setImageList();
        this.setZclip();
        this.saveData();
    },
    editFun: function editFun() {

        this.setCategory();
        this.chooseBanner();
        this.submitControl();
        this.setImageList();
        this.setZclip();
        this.saveData();
    },

    //一级,二级分类选择
    setCategory: function setCategory() {

        var categoryGroup = $('.category-group');
        var $btnAddCategory = $('.btn-add-category');
        var _this = this;

        categoryGroup.on('change', '.select-product-method', function () {

            var $this = $(this);
            var group = $this.parents('.group');
            var $selectCategory1 = group.find('.select-category-1');
            var $selectCategory2 = group.find('.select-category-2');

            if (!this.value) {
                return false;
            }

            if (_this.isSubmitBtn) {
                return false;
            }

            var productMethodId = parseInt(this.value);

            $.get({
                url: leanApp.api + 'classes/ProductCategory1',
                headers: leanAppHeader,
                data: 'where={"productMethodId":' + productMethodId + '}'
            }).done(function (data) {
                $selectCategory1.find('option:not(:first)').detach();
                $selectCategory2.find('option:not(:first)').detach();
                var options = '';
                $.each(data.results, function (i, n) {
                    options += '<option value="' + n.category1Id + '">' + n.name + '</option>';
                });
                $selectCategory1.append(options);
            });
        });

        categoryGroup.on('change', '.select-category-1', function () {

            var group = $(this).parents('.group');
            var $selectCategory2 = group.find('.select-category-2');

            if (!this.value) {
                return false;
            }

            if (_this.isSubmitBtn) {
                return false;
            }

            var category1Id = parseInt(this.value);

            $.get({
                url: leanApp.api + 'classes/ProductCategory2',
                headers: leanAppHeader,
                data: 'where={"category1Id":' + category1Id + '}'
            }).done(function (data) {
                $selectCategory2.find('option:not(:first)').detach();
                var options = '';
                $.each(data.results, function (i, n) {
                    options += '<option value="' + n.category2Id + '">' + n.name + '</option>';
                });
                $selectCategory2.append(options);
            });
        });

        categoryGroup.on('click', '.btn-remove-category', function () {
            $(this).parents('.group').detach();
        });

        //添加新category group并初始化
        $btnAddCategory.click(function () {
            var group = $(this).parents('.group');
            var newGroup = group.clone();
            newGroup.find('.am-selected').detach();
            newGroup.find('select').removeAttr('required');
            newGroup.appendTo(categoryGroup);
            newGroup.find('.select-category-1 option:not(:first)').detach();
            newGroup.find('.select-category-2 option:not(:first)').detach();
            newGroup.find('.btn-add-category').removeClass('btn-add-category').addClass('btn-remove-category').text('删除');
            newGroup.find('label').detach();
        });
    },

    //选择banner
    chooseBanner: function chooseBanner(page) {

        var select = $('#select-banner');
        var bannerView = $('.banner-view');
        var banner = $('#banner');
        var selectBannerRandom = $('.select-banner-random');

        select.on('change', function () {
            var src = select.find('option:selected').attr('data-src');
            bannerView.removeClass('hide');
            bannerView.html('<img width="300" src="' + src + '"/>');
            banner.val(src);
        });

        selectBannerRandom.click(function () {
            var bannerRange = Math.floor(Math.random() * (select.find('option').length - 1));
            select.find('option').get(bannerRange).selected = true;
            select.trigger('change');
        });

        if (page === 'add') {
            setTimeout(function () {
                selectBannerRandom.click();
            }, 1000);
        }
    },
    //设置主图预览
    setImageList: function setImageList() {

        var _this = this;
        var imageView = $('.image-list');
        var detailImage = $('#detail-image');

        imageView.on('click', '.move', function () {
            var content = $(this).parents('li');
            if (content.index() === 0) {
                return false;
            }
            content.after(content.prev());
            _this.updateMainImage();
        });

        imageView.on('click', '.remove', function () {
            var content = $(this).parents('li');

            //自动删除文本框中图片链接
            var imageSrc = content.find('img').attr('src');
            imageSrc = imageSrc.replace('?imageMogr2/thumbnail/100', '');
            imageSrc = '![](' + imageSrc + ')';
            var val = detailImage.val().replace(imageSrc, '');
            detailImage.val($.trim(val));

            content.detach();
            _this.updateMainImage();
        });

        imageView.on('click', 'input[type=checkbox]', function () {
            _this.updateMainImage();
        });
    },

    //提交时状态设置
    submitControl: function submitControl() {

        var _submit = $('#submit');
        var _this = this;
        _this.isSubmitBtn = false;

        $('form :submit').click(function () {

            var $this = $(this);
            _this.isSubmitBtn = true;

            $('form').attr({
                'action': $this.data('action'),
                'target': $this.data('target')
            });

            if (this.id === 'submit') {
                $this.data('state', $this[0].id);
            }

            //由于submit时amazeui的select会触发一次onchange,导致category1和category2会重置,数据丢失
            //还原isSubmitBtn,让select enable
            setTimeout(function () {
                _this.isSubmitBtn = false;
                if (this.id === 'submit') {
                    $this.data('state', false);
                }
            }.bind(this), 1000);
            return true;
        });

        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                if (_submit.data('state') === 'submit') {
                    _submit.attr('disabled', true).addClass('am-disabled');
                }
            }
        });
    },

    //上传主展示图片callback
    uploadFileSuccess: function uploadFileSuccess(data) {
        var imageView = $('.image-list');
        $.each(data, function (i, n) {
            imageView.append('<li data-id="' + n.id + '" class="am-cf"><div class="am-fl"><input type="checkbox" /></div><div class="am-fr"><p><a class="img-link" href="' + n.url + '" target="_blank"><img src="' + n.url + '?imageMogr2/thumbnail/100"/></a></p><p><a class="move" href="javascript:;">\u524D\u79FB</a> | <span class="copy"><a class="copy-url" href="javascript:;">\u590D\u5236</a></span> | <a class="remove" href="javascript:;">\u5220\u9664</a></p></div></li>');
        });
        this.updateMainImage();
    },

    //更新image list
    updateMainImage: function updateMainImage() {

        var image = $('#main-image');
        var imageView = $('.image-list');
        var value = {};

        imageView.find('input[type=checkbox]').each(function () {
            var content = $(this).parents('li');
            value[content.data('id')] = {
                "url": content.find('.img-link').attr('href'),
                "isMainImage": this.checked
            };
        });
        image.val(JSON.stringify(value));

        this.setZclip();
    },

    setZclip: function setZclip() {
        var detailImage = $('#detail-image');
        var imageView = $('.image-list');
        $('.zclip').detach();
        imageView.find('.copy-url').detach();

        imageView.find('.copy').append('<a class="copy-url" href="javascript:;">复制</a>');
        imageView.find('.copy-url').each(function () {
            var _this10 = this;

            var $this = $(this);
            var clipboard = new Clipboard(this, {
                text: function text() {
                    return '![](' + $this.parents('li').find('.img-link').attr('href') + ')';
                }
            });
            clipboard.on('success', function (data) {
                imageView.find('.oncopy').removeClass('oncopy');
                $(_this10).addClass('oncopy');
                var detailText = detailImage.val();
                if (!$.trim(detailText)) {
                    detailImage.val(detailText + data.text);
                } else {
                    detailImage.val(detailText + '\n' + data.text);
                }
            });
        });
    },

    saveData: function saveData() {
        $(document).on('keydown', function (e) {
            if (e.keyCode === 13 && e.ctrlKey) {
                $('#submit').click();
            }
        });
    }

};

},{"../common/utils":6}],"sign":[function(require,module,exports){
'use strict';

require('jquery-validate');

module.exports = {

    loginFun: function loginFun() {
        this.submitControl();
    },

    registerFun: function registerFun() {
        this.submitControl();
    },

    submitControl: function submitControl() {
        var _submit = $('#submit');
        $('.am-form').validator({
            submit: function submit() {
                if (!this.isFormValid()) {
                    return false;
                }
                _submit.attr('disabled', true).addClass('am-disabled');
            }
        });
    }

};

},{"jquery-validate":16}],"upload":[function(require,module,exports){
'use strict';

module.exports = {

    uploadFile: function uploadFile(options) {

        var formUpload = $('#form-upload');
        var file = $('#file');
        var uploadLoading = $('.upload-loading');
        var btn = $('.am-btn');
        var text = $('.text');
        var fileType = options.fileType;
        var callbackName = options.callbackName;
        formUpload.submit(function () {

            uploadLoading.addClass('on');
            btn.removeClass('am-btn-primary').addClass('am-btn-default').prop('disabled', true);
            text.text('正在上传...');
            file.hide();

            $(this).ajaxSubmit({
                data: { fileType: fileType },
                success: function success(result) {

                    file.val('');
                    uploadLoading.removeClass('on');
                    btn.addClass('am-btn-primary').removeClass('am-btn-default').prop('disabled', false);
                    text.text('选择要上传的文件');
                    file.show();

                    if (result.success) {
                        window.parent[callbackName](result.data);
                    } else {
                        alert(result.error);
                    }
                }
            });

            return false;
        });

        file.change(function () {
            if (this.value) {
                formUpload.submit();
            }
        });
    }
};

},{}]},{},[5])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvYXN5bmMvbGliL2FzeW5jLmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXGNvbW1vblxcY29tbW9uLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxcY29tbW9uXFxjb25maWcuanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxjb21tb25cXG1haW4uanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxjb21tb25cXHV0aWxzLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXHByb2R1Y3RcXGF1dG9jb21wbGV0ZS1wcm9kdWN0LW5hbWUuanMiLCJwdWJsaWMvanMvYW1hemV1aS5taW4uanMiLCJwdWJsaWMvanMvYmxvb2Rob3VuZC5taW4uanMiLCJwdWJsaWMvanMvY2xpcGJvYXJkLm1pbi5qcyIsInB1YmxpYy9qcy9qcXVlcnkuY29va2llLmpzIiwicHVibGljL2pzL2pxdWVyeS5mb3JtLm1pbi5qcyIsInB1YmxpYy9qcy9qcXVlcnkuaW5maW5pdGVzY3JvbGwubWluLmpzIiwicHVibGljL2pzL2pxdWVyeS5sYXp5bG9hZC5qcyIsInB1YmxpYy9qcy9qcXVlcnkubWluLmpzIiwicHVibGljL2pzL2pxdWVyeS52YWxpZGF0ZS5taW4uanMiLCJwdWJsaWMvanMvbWFpbi5qcyIsInB1YmxpYy9qcy9waG90b3N3aXBlLXVpLWRlZmF1bHQubWluLmpzIiwicHVibGljL2pzL3Bob3Rvc3dpcGUubWluLmpzIiwicHVibGljL2pzL3R5cGVhaGVhZC5qcXVlcnkubWluLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXGFydGljbGUuanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxwYWdlc1xcYm9vay1vaWxzLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXGNvdXJzZS10ZW1wbGF0ZS5qcyIsInB1YmxpYy9kZXYvanMvYWRtaW4vcGFnZXMvY291cnNlLXVzZXIuanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxwYWdlc1xcY291cnNlLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXGltcG9ydC1vcmRlci5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LWJyYW5kLmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXHByb2R1Y3QtY2F0ZWdvcnkuanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxwYWdlc1xccHJvZHVjdC1ncm91cHMtbmFtZS5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LWdyb3Vwcy5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LW1ldGhvZC5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LXByZXZpZXcuanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxwYWdlc1xccHJvZHVjdC1wcm9wZXJ0eS5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LXRhZy5qcyIsInB1YmxpY1xcZGV2XFxqc1xcYWRtaW5cXHBhZ2VzXFxwcm9kdWN0LmpzIiwicHVibGljXFxkZXZcXGpzXFxhZG1pblxccGFnZXNcXHNpZ24uanMiLCJwdWJsaWNcXGRldlxcanNcXGFkbWluXFxwYWdlc1xcdXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2p2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TEE7O0FBRUEsSUFBSSxPQUFPLFFBQVEsU0FBUixDQUFYOztBQUVBLEVBQUUsWUFBWTs7QUFFVjtBQUNBO0FBQ0ksWUFBSSxNQUFKO0FBQ0EsWUFBSSxPQUFPLFNBQVAsSUFBTyxHQUFZ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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNySEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUUsSUFBRixFQUFRLFVBQVIsQ0FBbUI7QUFDZixzQkFBSyxFQUFDLFVBQVMsUUFBVixFQURVO0FBRWYseUJBQVMsaUJBQVUsTUFBVixFQUFrQjs7QUFFdkIseUJBQUssR0FBTCxDQUFTLEVBQVQ7QUFDQSxrQ0FBYyxXQUFkLENBQTBCLElBQTFCO0FBQ0Esd0JBQUksUUFBSixDQUFhLGdCQUFiLEVBQStCLFdBQS9CLENBQTJDLGdCQUEzQyxFQUE2RCxJQUE3RCxDQUFrRSxVQUFsRSxFQUE2RSxLQUE3RTtBQUNBLHlCQUFLLElBQUwsQ0FBVSxVQUFWO0FBQ0EseUJBQUssSUFBTDs7QUFFQSx3QkFBSSxPQUFPLE9BQVgsRUFBb0I7QUFDaEIsK0JBQU8sTUFBUCxDQUFjLFlBQWQsRUFBNEIsT0FBTyxJQUFuQztBQUNILHFCQUZELE1BRU87QUFDSCw4QkFBTSxPQUFPLEtBQWI7QUFDSDtBQUVKO0FBaEJjLGFBQW5COztBQW1CQSxtQkFBTyxLQUFQO0FBQ0gsU0EzQkQ7O0FBNkJBLGFBQUssTUFBTCxDQUFZLFlBQVk7QUFDcEIsZ0JBQUcsS0FBSyxLQUFSLEVBQWU7QUFDWCwyQkFBVyxNQUFYO0FBQ0g7QUFDSixTQUpEO0FBTUg7QUE5Q1ksQ0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyohXG4gKiBhc3luY1xuICogaHR0cHM6Ly9naXRodWIuY29tL2Nhb2xhbi9hc3luY1xuICpcbiAqIENvcHlyaWdodCAyMDEwLTIwMTQgQ2FvbGFuIE1jTWFob25cbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG4oZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIGFzeW5jID0ge307XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gaWRlbnRpdHkodikge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdG9Cb29sKHYpIHtcbiAgICAgICAgcmV0dXJuICEhdjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm90SWQodikge1xuICAgICAgICByZXR1cm4gIXY7XG4gICAgfVxuXG4gICAgLy8gZ2xvYmFsIG9uIHRoZSBzZXJ2ZXIsIHdpbmRvdyBpbiB0aGUgYnJvd3NlclxuICAgIHZhciBwcmV2aW91c19hc3luYztcblxuICAgIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIChgc2VsZmApIGluIHRoZSBicm93c2VyLCBgZ2xvYmFsYFxuICAgIC8vIG9uIHRoZSBzZXJ2ZXIsIG9yIGB0aGlzYCBpbiBzb21lIHZpcnR1YWwgbWFjaGluZXMuIFdlIHVzZSBgc2VsZmBcbiAgICAvLyBpbnN0ZWFkIG9mIGB3aW5kb3dgIGZvciBgV2ViV29ya2VyYCBzdXBwb3J0LlxuICAgIHZhciByb290ID0gdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZiAmJiBzZWxmIHx8XG4gICAgICAgICAgICB0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwuZ2xvYmFsID09PSBnbG9iYWwgJiYgZ2xvYmFsIHx8XG4gICAgICAgICAgICB0aGlzO1xuXG4gICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICBwcmV2aW91c19hc3luYyA9IHJvb3QuYXN5bmM7XG4gICAgfVxuXG4gICAgYXN5bmMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IHByZXZpb3VzX2FzeW5jO1xuICAgICAgICByZXR1cm4gYXN5bmM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9ubHlfb25jZShmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoZm4gPT09IG51bGwpIHRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIHdhcyBhbHJlYWR5IGNhbGxlZC5cIik7XG4gICAgICAgICAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vbmNlKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChmbiA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGZuID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLy8vIGNyb3NzLWJyb3dzZXIgY29tcGF0aWJsaXR5IGZ1bmN0aW9ucyAvLy8vXG5cbiAgICB2YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuICAgIHZhciBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9O1xuXG4gICAgLy8gUG9ydGVkIGZyb20gdW5kZXJzY29yZS5qcyBpc09iamVjdFxuICAgIHZhciBfaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2lzQXJyYXlMaWtlKGFycikge1xuICAgICAgICByZXR1cm4gX2lzQXJyYXkoYXJyKSB8fCAoXG4gICAgICAgICAgICAvLyBoYXMgYSBwb3NpdGl2ZSBpbnRlZ2VyIGxlbmd0aCBwcm9wZXJ0eVxuICAgICAgICAgICAgdHlwZW9mIGFyci5sZW5ndGggPT09IFwibnVtYmVyXCIgJiZcbiAgICAgICAgICAgIGFyci5sZW5ndGggPj0gMCAmJlxuICAgICAgICAgICAgYXJyLmxlbmd0aCAlIDEgPT09IDBcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXJyYXlFYWNoKGFyciwgaXRlcmF0b3IpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJbaW5kZXhdLCBpbmRleCwgYXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9tYXAoYXJyLCBpdGVyYXRvcikge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGFyci5sZW5ndGgsXG4gICAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0b3IoYXJyW2luZGV4XSwgaW5kZXgsIGFycik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfcmFuZ2UoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIF9tYXAoQXJyYXkoY291bnQpLCBmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gaTsgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlZHVjZShhcnIsIGl0ZXJhdG9yLCBtZW1vKSB7XG4gICAgICAgIF9hcnJheUVhY2goYXJyLCBmdW5jdGlvbiAoeCwgaSwgYSkge1xuICAgICAgICAgICAgbWVtbyA9IGl0ZXJhdG9yKG1lbW8sIHgsIGksIGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2ZvckVhY2hPZihvYmplY3QsIGl0ZXJhdG9yKSB7XG4gICAgICAgIF9hcnJheUVhY2goX2tleXMob2JqZWN0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaXRlcmF0b3Iob2JqZWN0W2tleV0sIGtleSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmRleE9mKGFyciwgaXRlbSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFycltpXSA9PT0gaXRlbSkgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHZhciBfa2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9rZXlJdGVyYXRvcihjb2xsKSB7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHZhciBsZW47XG4gICAgICAgIHZhciBrZXlzO1xuICAgICAgICBpZiAoX2lzQXJyYXlMaWtlKGNvbGwpKSB7XG4gICAgICAgICAgICBsZW4gPSBjb2xsLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gaSA8IGxlbiA/IGkgOiBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleXMgPSBfa2V5cyhjb2xsKTtcbiAgICAgICAgICAgIGxlbiA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIHJldHVybiBpIDwgbGVuID8ga2V5c1tpXSA6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2ltaWxhciB0byBFUzYncyByZXN0IHBhcmFtIChodHRwOi8vYXJpeWEub2ZpbGFicy5jb20vMjAxMy8wMy9lczYtYW5kLXJlc3QtcGFyYW1ldGVyLmh0bWwpXG4gICAgLy8gVGhpcyBhY2N1bXVsYXRlcyB0aGUgYXJndW1lbnRzIHBhc3NlZCBpbnRvIGFuIGFycmF5LCBhZnRlciBhIGdpdmVuIGluZGV4LlxuICAgIC8vIEZyb20gdW5kZXJzY29yZS5qcyAoaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMjE0MCkuXG4gICAgZnVuY3Rpb24gX3Jlc3RQYXJhbShmdW5jLCBzdGFydEluZGV4KSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSBzdGFydEluZGV4ID09IG51bGwgPyBmdW5jLmxlbmd0aCAtIDEgOiArc3RhcnRJbmRleDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KGFyZ3VtZW50cy5sZW5ndGggLSBzdGFydEluZGV4LCAwKTtcbiAgICAgICAgICAgIHZhciByZXN0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICByZXN0W2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCArIHN0YXJ0SW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXMsIHJlc3QpO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0sIHJlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3VycmVudGx5IHVudXNlZCBidXQgaGFuZGxlIGNhc2VzIG91dHNpZGUgb2YgdGhlIHN3aXRjaCBzdGF0ZW1lbnQ6XG4gICAgICAgICAgICAvLyB2YXIgYXJncyA9IEFycmF5KHN0YXJ0SW5kZXggKyAxKTtcbiAgICAgICAgICAgIC8vIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHN0YXJ0SW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIC8vICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAvLyBhcmdzW3N0YXJ0SW5kZXhdID0gcmVzdDtcbiAgICAgICAgICAgIC8vIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IodmFsdWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLy8vIGV4cG9ydGVkIGFzeW5jIG1vZHVsZSBmdW5jdGlvbnMgLy8vL1xuXG4gICAgLy8vLyBuZXh0VGljayBpbXBsZW1lbnRhdGlvbiB3aXRoIGJyb3dzZXItY29tcGF0aWJsZSBmYWxsYmFjayAvLy8vXG5cbiAgICAvLyBjYXB0dXJlIHRoZSBnbG9iYWwgcmVmZXJlbmNlIHRvIGd1YXJkIGFnYWluc3QgZmFrZVRpbWVyIG1vY2tzXG4gICAgdmFyIF9zZXRJbW1lZGlhdGUgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nICYmIHNldEltbWVkaWF0ZTtcblxuICAgIHZhciBfZGVsYXkgPSBfc2V0SW1tZWRpYXRlID8gZnVuY3Rpb24oZm4pIHtcbiAgICAgICAgLy8gbm90IGEgZGlyZWN0IGFsaWFzIGZvciBJRTEwIGNvbXBhdGliaWxpdHlcbiAgICAgICAgX3NldEltbWVkaWF0ZShmbik7XG4gICAgfSA6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZm4sIDApO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLm5leHRUaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFzeW5jLm5leHRUaWNrID0gcHJvY2Vzcy5uZXh0VGljaztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhc3luYy5uZXh0VGljayA9IF9kZWxheTtcbiAgICB9XG4gICAgYXN5bmMuc2V0SW1tZWRpYXRlID0gX3NldEltbWVkaWF0ZSA/IF9kZWxheSA6IGFzeW5jLm5leHRUaWNrO1xuXG5cbiAgICBhc3luYy5mb3JFYWNoID1cbiAgICBhc3luYy5lYWNoID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5lYWNoT2YoYXJyLCBfd2l0aG91dEluZGV4KGl0ZXJhdG9yKSwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5mb3JFYWNoU2VyaWVzID1cbiAgICBhc3luYy5lYWNoU2VyaWVzID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5lYWNoT2ZTZXJpZXMoYXJyLCBfd2l0aG91dEluZGV4KGl0ZXJhdG9yKSwgY2FsbGJhY2spO1xuICAgIH07XG5cblxuICAgIGFzeW5jLmZvckVhY2hMaW1pdCA9XG4gICAgYXN5bmMuZWFjaExpbWl0ID0gZnVuY3Rpb24gKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gX2VhY2hPZkxpbWl0KGxpbWl0KShhcnIsIF93aXRob3V0SW5kZXgoaXRlcmF0b3IpLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmZvckVhY2hPZiA9XG4gICAgYXN5bmMuZWFjaE9mID0gZnVuY3Rpb24gKG9iamVjdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIG9iamVjdCA9IG9iamVjdCB8fCBbXTtcblxuICAgICAgICB2YXIgaXRlciA9IF9rZXlJdGVyYXRvcihvYmplY3QpO1xuICAgICAgICB2YXIga2V5LCBjb21wbGV0ZWQgPSAwO1xuXG4gICAgICAgIHdoaWxlICgoa2V5ID0gaXRlcigpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb21wbGV0ZWQgKz0gMTtcbiAgICAgICAgICAgIGl0ZXJhdG9yKG9iamVjdFtrZXldLCBrZXksIG9ubHlfb25jZShkb25lKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcGxldGVkID09PSAwKSBjYWxsYmFjayhudWxsKTtcblxuICAgICAgICBmdW5jdGlvbiBkb25lKGVycikge1xuICAgICAgICAgICAgY29tcGxldGVkLS07XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIGtleSBpcyBudWxsIGluIGNhc2UgaXRlcmF0b3IgaXNuJ3QgZXhoYXVzdGVkXG4gICAgICAgICAgICAvLyBhbmQgZG9uZSByZXNvbHZlZCBzeW5jaHJvbm91c2x5LlxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBudWxsICYmIGNvbXBsZXRlZCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZm9yRWFjaE9mU2VyaWVzID1cbiAgICBhc3luYy5lYWNoT2ZTZXJpZXMgPSBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgb2JqID0gb2JqIHx8IFtdO1xuICAgICAgICB2YXIgbmV4dEtleSA9IF9rZXlJdGVyYXRvcihvYmopO1xuICAgICAgICB2YXIga2V5ID0gbmV4dEtleSgpO1xuICAgICAgICBmdW5jdGlvbiBpdGVyYXRlKCkge1xuICAgICAgICAgICAgdmFyIHN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZXJhdG9yKG9ialtrZXldLCBrZXksIG9ubHlfb25jZShmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gbmV4dEtleSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShpdGVyYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgc3luYyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZXJhdGUoKTtcbiAgICB9O1xuXG5cblxuICAgIGFzeW5jLmZvckVhY2hPZkxpbWl0ID1cbiAgICBhc3luYy5lYWNoT2ZMaW1pdCA9IGZ1bmN0aW9uIChvYmosIGxpbWl0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgX2VhY2hPZkxpbWl0KGxpbWl0KShvYmosIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9lYWNoT2ZMaW1pdChsaW1pdCkge1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgICAgICBvYmogPSBvYmogfHwgW107XG4gICAgICAgICAgICB2YXIgbmV4dEtleSA9IF9rZXlJdGVyYXRvcihvYmopO1xuICAgICAgICAgICAgaWYgKGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHJ1bm5pbmcgPSAwO1xuICAgICAgICAgICAgdmFyIGVycm9yZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgKGZ1bmN0aW9uIHJlcGxlbmlzaCAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUgJiYgcnVubmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmICFlcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBuZXh0S2V5KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmcgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3Iob2JqW2tleV0sIGtleSwgb25seV9vbmNlKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmcgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGVuaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZG9QYXJhbGxlbChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4oYXN5bmMuZWFjaE9mLCBvYmosIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvUGFyYWxsZWxMaW1pdChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9iaiwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZuKF9lYWNoT2ZMaW1pdChsaW1pdCksIG9iaiwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9TZXJpZXMoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGZuKGFzeW5jLmVhY2hPZlNlcmllcywgb2JqLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hc3luY01hcChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIGFyciA9IGFyciB8fCBbXTtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfaXNBcnJheUxpa2UoYXJyKSA/IFtdIDoge307XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpdGVyYXRvcih2YWx1ZSwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdjtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLm1hcCA9IGRvUGFyYWxsZWwoX2FzeW5jTWFwKTtcbiAgICBhc3luYy5tYXBTZXJpZXMgPSBkb1NlcmllcyhfYXN5bmNNYXApO1xuICAgIGFzeW5jLm1hcExpbWl0ID0gZG9QYXJhbGxlbExpbWl0KF9hc3luY01hcCk7XG5cbiAgICAvLyByZWR1Y2Ugb25seSBoYXMgYSBzZXJpZXMgdmVyc2lvbiwgYXMgZG9pbmcgcmVkdWNlIGluIHBhcmFsbGVsIHdvbid0XG4gICAgLy8gd29yayBpbiBtYW55IHNpdHVhdGlvbnMuXG4gICAgYXN5bmMuaW5qZWN0ID1cbiAgICBhc3luYy5mb2xkbCA9XG4gICAgYXN5bmMucmVkdWNlID0gZnVuY3Rpb24gKGFyciwgbWVtbywgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLmVhY2hPZlNlcmllcyhhcnIsIGZ1bmN0aW9uICh4LCBpLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IobWVtbywgeCwgZnVuY3Rpb24gKGVyciwgdikge1xuICAgICAgICAgICAgICAgIG1lbW8gPSB2O1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBtZW1vKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLmZvbGRyID1cbiAgICBhc3luYy5yZWR1Y2VSaWdodCA9IGZ1bmN0aW9uIChhcnIsIG1lbW8sIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmV2ZXJzZWQgPSBfbWFwKGFyciwgaWRlbnRpdHkpLnJldmVyc2UoKTtcbiAgICAgICAgYXN5bmMucmVkdWNlKHJldmVyc2VkLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy50cmFuc2Zvcm0gPSBmdW5jdGlvbiAoYXJyLCBtZW1vLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gaXRlcmF0b3I7XG4gICAgICAgICAgICBpdGVyYXRvciA9IG1lbW87XG4gICAgICAgICAgICBtZW1vID0gX2lzQXJyYXkoYXJyKSA/IFtdIDoge307XG4gICAgICAgIH1cblxuICAgICAgICBhc3luYy5lYWNoT2YoYXJyLCBmdW5jdGlvbih2LCBrLCBjYikge1xuICAgICAgICAgICAgaXRlcmF0b3IobWVtbywgdiwgaywgY2IpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgbWVtbyk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfZmlsdGVyKGVhY2hmbiwgYXJyLCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZWFjaGZuKGFyciwgZnVuY3Rpb24gKHgsIGluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeCwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goe2luZGV4OiBpbmRleCwgdmFsdWU6IHh9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhfbWFwKHJlc3VsdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcbiAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5zZWxlY3QgPVxuICAgIGFzeW5jLmZpbHRlciA9IGRvUGFyYWxsZWwoX2ZpbHRlcik7XG5cbiAgICBhc3luYy5zZWxlY3RMaW1pdCA9XG4gICAgYXN5bmMuZmlsdGVyTGltaXQgPSBkb1BhcmFsbGVsTGltaXQoX2ZpbHRlcik7XG5cbiAgICBhc3luYy5zZWxlY3RTZXJpZXMgPVxuICAgIGFzeW5jLmZpbHRlclNlcmllcyA9IGRvU2VyaWVzKF9maWx0ZXIpO1xuXG4gICAgZnVuY3Rpb24gX3JlamVjdChlYWNoZm4sIGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9maWx0ZXIoZWFjaGZuLCBhcnIsIGZ1bmN0aW9uKHZhbHVlLCBjYikge1xuICAgICAgICAgICAgaXRlcmF0b3IodmFsdWUsIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgICAgICBjYighdik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBhc3luYy5yZWplY3QgPSBkb1BhcmFsbGVsKF9yZWplY3QpO1xuICAgIGFzeW5jLnJlamVjdExpbWl0ID0gZG9QYXJhbGxlbExpbWl0KF9yZWplY3QpO1xuICAgIGFzeW5jLnJlamVjdFNlcmllcyA9IGRvU2VyaWVzKF9yZWplY3QpO1xuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZVRlc3RlcihlYWNoZm4sIGNoZWNrLCBnZXRSZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyciwgbGltaXQsIGl0ZXJhdG9yLCBjYikge1xuICAgICAgICAgICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2IpIGNiKGdldFJlc3VsdChmYWxzZSwgdm9pZCAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBpdGVyYXRlZSh4LCBfLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICghY2IpIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKHgsIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYiAmJiBjaGVjayh2KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IoZ2V0UmVzdWx0KHRydWUsIHgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiID0gaXRlcmF0b3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAzKSB7XG4gICAgICAgICAgICAgICAgZWFjaGZuKGFyciwgbGltaXQsIGl0ZXJhdGVlLCBkb25lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2IgPSBpdGVyYXRvcjtcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IGxpbWl0O1xuICAgICAgICAgICAgICAgIGVhY2hmbihhcnIsIGl0ZXJhdGVlLCBkb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYy5hbnkgPVxuICAgIGFzeW5jLnNvbWUgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZiwgdG9Cb29sLCBpZGVudGl0eSk7XG5cbiAgICBhc3luYy5zb21lTGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCB0b0Jvb2wsIGlkZW50aXR5KTtcblxuICAgIGFzeW5jLmFsbCA9XG4gICAgYXN5bmMuZXZlcnkgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZiwgbm90SWQsIG5vdElkKTtcblxuICAgIGFzeW5jLmV2ZXJ5TGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCBub3RJZCwgbm90SWQpO1xuXG4gICAgZnVuY3Rpb24gX2ZpbmRHZXRSZXN1bHQodiwgeCkge1xuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgYXN5bmMuZGV0ZWN0ID0gX2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2YsIGlkZW50aXR5LCBfZmluZEdldFJlc3VsdCk7XG4gICAgYXN5bmMuZGV0ZWN0U2VyaWVzID0gX2NyZWF0ZVRlc3Rlcihhc3luYy5lYWNoT2ZTZXJpZXMsIGlkZW50aXR5LCBfZmluZEdldFJlc3VsdCk7XG4gICAgYXN5bmMuZGV0ZWN0TGltaXQgPSBfY3JlYXRlVGVzdGVyKGFzeW5jLmVhY2hPZkxpbWl0LCBpZGVudGl0eSwgX2ZpbmRHZXRSZXN1bHQpO1xuXG4gICAgYXN5bmMuc29ydEJ5ID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIGFzeW5jLm1hcChhcnIsIGZ1bmN0aW9uICh4LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaXRlcmF0b3IoeCwgZnVuY3Rpb24gKGVyciwgY3JpdGVyaWEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7dmFsdWU6IHgsIGNyaXRlcmlhOiBjcml0ZXJpYX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBfbWFwKHJlc3VsdHMuc29ydChjb21wYXJhdG9yKSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgudmFsdWU7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBhcmF0b3IobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYSwgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGFzeW5jLmF1dG8gPSBmdW5jdGlvbiAodGFza3MsIGNvbmN1cnJlbmN5LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gY29uY3VycmVuY3kgaXMgb3B0aW9uYWwsIHNoaWZ0IHRoZSBhcmdzLlxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgICAgIGNvbmN1cnJlbmN5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayA9IF9vbmNlKGNhbGxiYWNrIHx8IG5vb3ApO1xuICAgICAgICB2YXIga2V5cyA9IF9rZXlzKHRhc2tzKTtcbiAgICAgICAgdmFyIHJlbWFpbmluZ1Rhc2tzID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGlmICghcmVtYWluaW5nVGFza3MpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICBjb25jdXJyZW5jeSA9IHJlbWFpbmluZ1Rhc2tzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc3VsdHMgPSB7fTtcbiAgICAgICAgdmFyIHJ1bm5pbmdUYXNrcyA9IDA7XG5cbiAgICAgICAgdmFyIGhhc0Vycm9yID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihmbikge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoZm4pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGZuKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gX2luZGV4T2YobGlzdGVuZXJzLCBmbik7XG4gICAgICAgICAgICBpZiAoaWR4ID49IDApIGxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB0YXNrQ29tcGxldGUoKSB7XG4gICAgICAgICAgICByZW1haW5pbmdUYXNrcy0tO1xuICAgICAgICAgICAgX2FycmF5RWFjaChsaXN0ZW5lcnMuc2xpY2UoMCksIGZ1bmN0aW9uIChmbikge1xuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkZExpc3RlbmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghcmVtYWluaW5nVGFza3MpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX2FycmF5RWFjaChrZXlzLCBmdW5jdGlvbiAoaykge1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSByZXR1cm47XG4gICAgICAgICAgICB2YXIgdGFzayA9IF9pc0FycmF5KHRhc2tzW2tdKSA/IHRhc2tzW2tdOiBbdGFza3Nba11dO1xuICAgICAgICAgICAgdmFyIHRhc2tDYWxsYmFjayA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgcnVubmluZ1Rhc2tzLS07XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNhZmVSZXN1bHRzID0ge307XG4gICAgICAgICAgICAgICAgICAgIF9mb3JFYWNoT2YocmVzdWx0cywgZnVuY3Rpb24odmFsLCBya2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVzdWx0c1tya2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVSZXN1bHRzW2tdID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgc2FmZVJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1trXSA9IGFyZ3M7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZSh0YXNrQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHJlcXVpcmVzID0gdGFzay5zbGljZSgwLCB0YXNrLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgLy8gcHJldmVudCBkZWFkLWxvY2tzXG4gICAgICAgICAgICB2YXIgbGVuID0gcmVxdWlyZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGRlcDtcbiAgICAgICAgICAgIHdoaWxlIChsZW4tLSkge1xuICAgICAgICAgICAgICAgIGlmICghKGRlcCA9IHRhc2tzW3JlcXVpcmVzW2xlbl1dKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hhcyBub25leGlzdGVudCBkZXBlbmRlbmN5IGluICcgKyByZXF1aXJlcy5qb2luKCcsICcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF9pc0FycmF5KGRlcCkgJiYgX2luZGV4T2YoZGVwLCBrKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSGFzIGN5Y2xpYyBkZXBlbmRlbmNpZXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWFkeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZ1Rhc2tzIDwgY29uY3VycmVuY3kgJiYgX3JlZHVjZShyZXF1aXJlcywgZnVuY3Rpb24gKGEsIHgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhICYmIHJlc3VsdHMuaGFzT3duUHJvcGVydHkoeCkpO1xuICAgICAgICAgICAgICAgIH0sIHRydWUpICYmICFyZXN1bHRzLmhhc093blByb3BlcnR5KGspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlYWR5KCkpIHtcbiAgICAgICAgICAgICAgICBydW5uaW5nVGFza3MrKztcbiAgICAgICAgICAgICAgICB0YXNrW3Rhc2subGVuZ3RoIC0gMV0odGFza0NhbGxiYWNrLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdUYXNrcysrO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tbdGFzay5sZW5ndGggLSAxXSh0YXNrQ2FsbGJhY2ssIHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgICBhc3luYy5yZXRyeSA9IGZ1bmN0aW9uKHRpbWVzLCB0YXNrLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgREVGQVVMVF9USU1FUyA9IDU7XG4gICAgICAgIHZhciBERUZBVUxUX0lOVEVSVkFMID0gMDtcblxuICAgICAgICB2YXIgYXR0ZW1wdHMgPSBbXTtcblxuICAgICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAgICAgIHRpbWVzOiBERUZBVUxUX1RJTUVTLFxuICAgICAgICAgICAgaW50ZXJ2YWw6IERFRkFVTFRfSU5URVJWQUxcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBwYXJzZVRpbWVzKGFjYywgdCl7XG4gICAgICAgICAgICBpZih0eXBlb2YgdCA9PT0gJ251bWJlcicpe1xuICAgICAgICAgICAgICAgIGFjYy50aW1lcyA9IHBhcnNlSW50KHQsIDEwKSB8fCBERUZBVUxUX1RJTUVTO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB0ID09PSAnb2JqZWN0Jyl7XG4gICAgICAgICAgICAgICAgYWNjLnRpbWVzID0gcGFyc2VJbnQodC50aW1lcywgMTApIHx8IERFRkFVTFRfVElNRVM7XG4gICAgICAgICAgICAgICAgYWNjLmludGVydmFsID0gcGFyc2VJbnQodC5pbnRlcnZhbCwgMTApIHx8IERFRkFVTFRfSU5URVJWQUw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgYXJndW1lbnQgdHlwZSBmb3IgXFwndGltZXNcXCc6ICcgKyB0eXBlb2YgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8IDEgfHwgbGVuZ3RoID4gMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFyZ3VtZW50cyAtIG11c3QgYmUgZWl0aGVyICh0YXNrKSwgKHRhc2ssIGNhbGxiYWNrKSwgKHRpbWVzLCB0YXNrKSBvciAodGltZXMsIHRhc2ssIGNhbGxiYWNrKScpO1xuICAgICAgICB9IGVsc2UgaWYgKGxlbmd0aCA8PSAyICYmIHR5cGVvZiB0aW1lcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSB0YXNrO1xuICAgICAgICAgICAgdGFzayA9IHRpbWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGltZXMgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHBhcnNlVGltZXMob3B0cywgdGltZXMpO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgb3B0cy50YXNrID0gdGFzaztcblxuICAgICAgICBmdW5jdGlvbiB3cmFwcGVkVGFzayh3cmFwcGVkQ2FsbGJhY2ssIHdyYXBwZWRSZXN1bHRzKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZXRyeUF0dGVtcHQodGFzaywgZmluYWxBdHRlbXB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNlcmllc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2soZnVuY3Rpb24oZXJyLCByZXN1bHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzQ2FsbGJhY2soIWVyciB8fCBmaW5hbEF0dGVtcHQsIHtlcnI6IGVyciwgcmVzdWx0OiByZXN1bHR9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgd3JhcHBlZFJlc3VsdHMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwoaW50ZXJ2YWwpe1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzZXJpZXNDYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllc0NhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKG9wdHMudGltZXMpIHtcblxuICAgICAgICAgICAgICAgIHZhciBmaW5hbEF0dGVtcHQgPSAhKG9wdHMudGltZXMtPTEpO1xuICAgICAgICAgICAgICAgIGF0dGVtcHRzLnB1c2gocmV0cnlBdHRlbXB0KG9wdHMudGFzaywgZmluYWxBdHRlbXB0KSk7XG4gICAgICAgICAgICAgICAgaWYoIWZpbmFsQXR0ZW1wdCAmJiBvcHRzLmludGVydmFsID4gMCl7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRzLnB1c2gocmV0cnlJbnRlcnZhbChvcHRzLmludGVydmFsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYy5zZXJpZXMoYXR0ZW1wdHMsIGZ1bmN0aW9uKGRvbmUsIGRhdGEpe1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgKHdyYXBwZWRDYWxsYmFjayB8fCBvcHRzLmNhbGxiYWNrKShkYXRhLmVyciwgZGF0YS5yZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhIGNhbGxiYWNrIGlzIHBhc3NlZCwgcnVuIHRoaXMgYXMgYSBjb250cm9sbCBmbG93XG4gICAgICAgIHJldHVybiBvcHRzLmNhbGxiYWNrID8gd3JhcHBlZFRhc2soKSA6IHdyYXBwZWRUYXNrO1xuICAgIH07XG5cbiAgICBhc3luYy53YXRlcmZhbGwgPSBmdW5jdGlvbiAodGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gX29uY2UoY2FsbGJhY2sgfHwgbm9vcCk7XG4gICAgICAgIGlmICghX2lzQXJyYXkodGFza3MpKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byB3YXRlcmZhbGwgbXVzdCBiZSBhbiBhcnJheSBvZiBmdW5jdGlvbnMnKTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB3cmFwSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFtlcnJdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh3cmFwSXRlcmF0b3IobmV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbnN1cmVBc3luYyhpdGVyYXRvcikuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcEl0ZXJhdG9yKGFzeW5jLml0ZXJhdG9yKHRhc2tzKSkoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX3BhcmFsbGVsKGVhY2hmbiwgdGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgbm9vcDtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfaXNBcnJheUxpa2UodGFza3MpID8gW10gOiB7fTtcblxuICAgICAgICBlYWNoZm4odGFza3MsIGZ1bmN0aW9uICh0YXNrLCBrZXksIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0YXNrKF9yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgYXJncykge1xuICAgICAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRzW2tleV0gPSBhcmdzO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0cyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jLnBhcmFsbGVsID0gZnVuY3Rpb24gKHRhc2tzLCBjYWxsYmFjaykge1xuICAgICAgICBfcGFyYWxsZWwoYXN5bmMuZWFjaE9mLCB0YXNrcywgY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICBhc3luYy5wYXJhbGxlbExpbWl0ID0gZnVuY3Rpb24odGFza3MsIGxpbWl0LCBjYWxsYmFjaykge1xuICAgICAgICBfcGFyYWxsZWwoX2VhY2hPZkxpbWl0KGxpbWl0KSwgdGFza3MsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuc2VyaWVzID0gZnVuY3Rpb24odGFza3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIF9wYXJhbGxlbChhc3luYy5lYWNoT2ZTZXJpZXMsIHRhc2tzLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLml0ZXJhdG9yID0gZnVuY3Rpb24gKHRhc2tzKSB7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VDYWxsYmFjayhpbmRleCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1tpbmRleF0uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZuLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpbmRleCA8IHRhc2tzLmxlbmd0aCAtIDEpID8gbWFrZUNhbGxiYWNrKGluZGV4ICsgMSk6IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYWtlQ2FsbGJhY2soMCk7XG4gICAgfTtcblxuICAgIGFzeW5jLmFwcGx5ID0gX3Jlc3RQYXJhbShmdW5jdGlvbiAoZm4sIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGNhbGxBcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYXBwbHkoXG4gICAgICAgICAgICAgICAgbnVsbCwgYXJncy5jb25jYXQoY2FsbEFyZ3MpXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIF9jb25jYXQoZWFjaGZuLCBhcnIsIGZuLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGVhY2hmbihhcnIsIGZ1bmN0aW9uICh4LCBpbmRleCwgY2IpIHtcbiAgICAgICAgICAgIGZuKHgsIGZ1bmN0aW9uIChlcnIsIHkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHkgfHwgW10pO1xuICAgICAgICAgICAgICAgIGNiKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMuY29uY2F0ID0gZG9QYXJhbGxlbChfY29uY2F0KTtcbiAgICBhc3luYy5jb25jYXRTZXJpZXMgPSBkb1NlcmllcyhfY29uY2F0KTtcblxuICAgIGFzeW5jLndoaWxzdCA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuICAgICAgICBpZiAodGVzdCgpKSB7XG4gICAgICAgICAgICB2YXIgbmV4dCA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oZXJyLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGVzdC5hcHBseSh0aGlzLCBhcmdzKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRvcihuZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBbbnVsbF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGl0ZXJhdG9yKG5leHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgYXN5bmMuZG9XaGlsc3QgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYWxscyA9IDA7XG4gICAgICAgIHJldHVybiBhc3luYy53aGlsc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKytjYWxscyA8PSAxIHx8IHRlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMudW50aWwgPSBmdW5jdGlvbiAodGVzdCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhc3luYy53aGlsc3QoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gIXRlc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZG9VbnRpbCA9IGZ1bmN0aW9uIChpdGVyYXRvciwgdGVzdCwgY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGFzeW5jLmRvV2hpbHN0KGl0ZXJhdG9yLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhdGVzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLmR1cmluZyA9IGZ1bmN0aW9uICh0ZXN0LCBpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBub29wO1xuXG4gICAgICAgIHZhciBuZXh0ID0gX3Jlc3RQYXJhbShmdW5jdGlvbihlcnIsIGFyZ3MpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goY2hlY2spO1xuICAgICAgICAgICAgICAgIHRlc3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjaGVjayA9IGZ1bmN0aW9uKGVyciwgdHJ1dGgpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0cnV0aCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKG5leHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0ZXN0KGNoZWNrKTtcbiAgICB9O1xuXG4gICAgYXN5bmMuZG9EdXJpbmcgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIHRlc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYWxscyA9IDA7XG4gICAgICAgIGFzeW5jLmR1cmluZyhmdW5jdGlvbihuZXh0KSB7XG4gICAgICAgICAgICBpZiAoY2FsbHMrKyA8IDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0KG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0ZXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF9xdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5LCBwYXlsb2FkKSB7XG4gICAgICAgIGlmIChjb25jdXJyZW5jeSA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZihjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb25jdXJyZW5jeSBtdXN0IG5vdCBiZSB6ZXJvJyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gX2luc2VydChxLCBkYXRhLCBwb3MsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRhc2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghX2lzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gW2RhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZGF0YS5sZW5ndGggPT09IDAgJiYgcS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luYy5zZXRJbW1lZGlhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZHJhaW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9hcnJheUVhY2goZGF0YSwgZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB0YXNrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2sgfHwgbm9vcFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIHEudGFza3MudW5zaGlmdChpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBxLnRhc2tzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoID09PSBxLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHEuc2F0dXJhdGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBfbmV4dChxLCB0YXNrcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICBfYXJyYXlFYWNoKHRhc2tzLCBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICBfYXJyYXlFYWNoKHdvcmtlcnNMaXN0LCBmdW5jdGlvbiAod29ya2VyLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmtlciA9PT0gdGFzayAmJiAhcmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtlcnNMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRhc2suY2FsbGJhY2suYXBwbHkodGFzaywgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3b3JrZXJzID0gMDtcbiAgICAgICAgdmFyIHdvcmtlcnNMaXN0ID0gW107XG4gICAgICAgIHZhciBxID0ge1xuICAgICAgICAgICAgdGFza3M6IFtdLFxuICAgICAgICAgICAgY29uY3VycmVuY3k6IGNvbmN1cnJlbmN5LFxuICAgICAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICAgIHNhdHVyYXRlZDogbm9vcCxcbiAgICAgICAgICAgIGVtcHR5OiBub29wLFxuICAgICAgICAgICAgZHJhaW46IG5vb3AsXG4gICAgICAgICAgICBzdGFydGVkOiBmYWxzZSxcbiAgICAgICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2lsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHEuZHJhaW4gPSBub29wO1xuICAgICAgICAgICAgICAgIHEudGFza3MgPSBbXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBfaW5zZXJ0KHEsIGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm9jZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUoIXEucGF1c2VkICYmIHdvcmtlcnMgPCBxLmNvbmN1cnJlbmN5ICYmIHEudGFza3MubGVuZ3RoKXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFza3MgPSBxLnBheWxvYWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcS50YXNrcy5zcGxpY2UoMCwgcS5wYXlsb2FkKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBxLnRhc2tzLnNwbGljZSgwLCBxLnRhc2tzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBfbWFwKHRhc2tzLCBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2suZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHEudGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXJzTGlzdC5wdXNoKHRhc2tzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNiID0gb25seV9vbmNlKF9uZXh0KHEsIHRhc2tzKSk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtlcihkYXRhLCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxLnRhc2tzLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBydW5uaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtlcnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd29ya2Vyc0xpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ya2Vyc0xpc3Q7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEudGFza3MubGVuZ3RoICsgd29ya2VycyA9PT0gMDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXN1bWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIHEucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VtZUNvdW50ID0gTWF0aC5taW4ocS5jb25jdXJyZW5jeSwgcS50YXNrcy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY2FsbCBxLnByb2Nlc3Mgb25jZSBwZXIgY29uY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gcmVzdW1lQ291bnQ7IHcrKykge1xuICAgICAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cblxuICAgIGFzeW5jLnF1ZXVlID0gZnVuY3Rpb24gKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgdmFyIHEgPSBfcXVldWUoZnVuY3Rpb24gKGl0ZW1zLCBjYikge1xuICAgICAgICAgICAgd29ya2VyKGl0ZW1zWzBdLCBjYik7XG4gICAgICAgIH0sIGNvbmN1cnJlbmN5LCAxKTtcblxuICAgICAgICByZXR1cm4gcTtcbiAgICB9O1xuXG4gICAgYXN5bmMucHJpb3JpdHlRdWV1ZSA9IGZ1bmN0aW9uICh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG5cbiAgICAgICAgZnVuY3Rpb24gX2NvbXBhcmVUYXNrcyhhLCBiKXtcbiAgICAgICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIF9iaW5hcnlTZWFyY2goc2VxdWVuY2UsIGl0ZW0sIGNvbXBhcmUpIHtcbiAgICAgICAgICAgIHZhciBiZWcgPSAtMSxcbiAgICAgICAgICAgICAgICBlbmQgPSBzZXF1ZW5jZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGJlZyA8IGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBtaWQgPSBiZWcgKyAoKGVuZCAtIGJlZyArIDEpID4+PiAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZShpdGVtLCBzZXF1ZW5jZVttaWRdKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZyA9IG1pZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiZWc7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBfaW5zZXJ0KHEsIGRhdGEsIHByaW9yaXR5LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIV9pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IFtkYXRhXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkcmFpbiBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gdGFza3NcbiAgICAgICAgICAgICAgICByZXR1cm4gYXN5bmMuc2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfYXJyYXlFYWNoKGRhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGFzayxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBub29wXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHEudGFza3Muc3BsaWNlKF9iaW5hcnlTZWFyY2gocS50YXNrcywgaXRlbSwgX2NvbXBhcmVUYXNrcykgKyAxLCAwLCBpdGVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChxLnRhc2tzLmxlbmd0aCA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICBxLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUocS5wcm9jZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RhcnQgd2l0aCBhIG5vcm1hbCBxdWV1ZVxuICAgICAgICB2YXIgcSA9IGFzeW5jLnF1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpO1xuXG4gICAgICAgIC8vIE92ZXJyaWRlIHB1c2ggdG8gYWNjZXB0IHNlY29uZCBwYXJhbWV0ZXIgcmVwcmVzZW50aW5nIHByaW9yaXR5XG4gICAgICAgIHEucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBwcmlvcml0eSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQocSwgZGF0YSwgcHJpb3JpdHksIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBSZW1vdmUgdW5zaGlmdCBmdW5jdGlvblxuICAgICAgICBkZWxldGUgcS51bnNoaWZ0O1xuXG4gICAgICAgIHJldHVybiBxO1xuICAgIH07XG5cbiAgICBhc3luYy5jYXJnbyA9IGZ1bmN0aW9uICh3b3JrZXIsIHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIF9xdWV1ZSh3b3JrZXIsIDEsIHBheWxvYWQpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfY29uc29sZV9mbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBfcmVzdFBhcmFtKGZ1bmN0aW9uIChmbiwgYXJncykge1xuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgYXJncykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uc29sZVtuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FycmF5RWFjaChhcmdzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGVbbmFtZV0oeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMubG9nID0gX2NvbnNvbGVfZm4oJ2xvZycpO1xuICAgIGFzeW5jLmRpciA9IF9jb25zb2xlX2ZuKCdkaXInKTtcbiAgICAvKmFzeW5jLmluZm8gPSBfY29uc29sZV9mbignaW5mbycpO1xuICAgIGFzeW5jLndhcm4gPSBfY29uc29sZV9mbignd2FybicpO1xuICAgIGFzeW5jLmVycm9yID0gX2NvbnNvbGVfZm4oJ2Vycm9yJyk7Ki9cblxuICAgIGFzeW5jLm1lbW9pemUgPSBmdW5jdGlvbiAoZm4sIGhhc2hlcikge1xuICAgICAgICB2YXIgbWVtbyA9IHt9O1xuICAgICAgICB2YXIgcXVldWVzID0ge307XG4gICAgICAgIHZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICAgICAgICBoYXNoZXIgPSBoYXNoZXIgfHwgaWRlbnRpdHk7XG4gICAgICAgIHZhciBtZW1vaXplZCA9IF9yZXN0UGFyYW0oZnVuY3Rpb24gbWVtb2l6ZWQoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICBpZiAoaGFzLmNhbGwobWVtbywga2V5KSkgeyAgIFxuICAgICAgICAgICAgICAgIGFzeW5jLnNldEltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIG1lbW9ba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXMuY2FsbChxdWV1ZXMsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZXNba2V5XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHF1ZXVlc1trZXldID0gW2NhbGxiYWNrXTtcbiAgICAgICAgICAgICAgICBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChbX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICBtZW1vW2tleV0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcSA9IHF1ZXVlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcXVldWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHFbaV0uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lbW9pemVkLm1lbW8gPSBtZW1vO1xuICAgICAgICBtZW1vaXplZC51bm1lbW9pemVkID0gZm47XG4gICAgICAgIHJldHVybiBtZW1vaXplZDtcbiAgICB9O1xuXG4gICAgYXN5bmMudW5tZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKGZuLnVubWVtb2l6ZWQgfHwgZm4pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF90aW1lcyhtYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb3VudCwgaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBtYXBwZXIoX3JhbmdlKGNvdW50KSwgaXRlcmF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYy50aW1lcyA9IF90aW1lcyhhc3luYy5tYXApO1xuICAgIGFzeW5jLnRpbWVzU2VyaWVzID0gX3RpbWVzKGFzeW5jLm1hcFNlcmllcyk7XG4gICAgYXN5bmMudGltZXNMaW1pdCA9IGZ1bmN0aW9uIChjb3VudCwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gYXN5bmMubWFwTGltaXQoX3JhbmdlKGNvdW50KSwgbGltaXQsIGl0ZXJhdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIGFzeW5jLnNlcSA9IGZ1bmN0aW9uICgvKiBmdW5jdGlvbnMuLi4gKi8pIHtcbiAgICAgICAgdmFyIGZucyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIF9yZXN0UGFyYW0oZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBub29wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhc3luYy5yZWR1Y2UoZm5zLCBhcmdzLCBmdW5jdGlvbiAobmV3YXJncywgZm4sIGNiKSB7XG4gICAgICAgICAgICAgICAgZm4uYXBwbHkodGhhdCwgbmV3YXJncy5jb25jYXQoW19yZXN0UGFyYW0oZnVuY3Rpb24gKGVyciwgbmV4dGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgY2IoZXJyLCBuZXh0YXJncyk7XG4gICAgICAgICAgICAgICAgfSldKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoYXQsIFtlcnJdLmNvbmNhdChyZXN1bHRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGFzeW5jLmNvbXBvc2UgPSBmdW5jdGlvbiAoLyogZnVuY3Rpb25zLi4uICovKSB7XG4gICAgICAgIHJldHVybiBhc3luYy5zZXEuYXBwbHkobnVsbCwgQXJyYXkucHJvdG90eXBlLnJldmVyc2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG5cbiAgICBmdW5jdGlvbiBfYXBwbHlFYWNoKGVhY2hmbikge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbihmbnMsIGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBnbyA9IF9yZXN0UGFyYW0oZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlYWNoZm4oZm5zLCBmdW5jdGlvbiAoZm4sIF8sIGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZuLmFwcGx5KHRoYXQsIGFyZ3MuY29uY2F0KFtjYl0pKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdvLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5hcHBseUVhY2ggPSBfYXBwbHlFYWNoKGFzeW5jLmVhY2hPZik7XG4gICAgYXN5bmMuYXBwbHlFYWNoU2VyaWVzID0gX2FwcGx5RWFjaChhc3luYy5lYWNoT2ZTZXJpZXMpO1xuXG5cbiAgICBhc3luYy5mb3JldmVyID0gZnVuY3Rpb24gKGZuLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZG9uZSA9IG9ubHlfb25jZShjYWxsYmFjayB8fCBub29wKTtcbiAgICAgICAgdmFyIHRhc2sgPSBlbnN1cmVBc3luYyhmbik7XG4gICAgICAgIGZ1bmN0aW9uIG5leHQoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbmUoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhc2sobmV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBlbnN1cmVBc3luYyhmbikge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIGFyZ3MucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgICAgICAgICBhc3luYy5zZXRJbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgaW5uZXJBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgc3luYyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYy5lbnN1cmVBc3luYyA9IGVuc3VyZUFzeW5jO1xuXG4gICAgYXN5bmMuY29uc3RhbnQgPSBfcmVzdFBhcmFtKGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgICB2YXIgYXJncyA9IFtudWxsXS5jb25jYXQodmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgYXN5bmMud3JhcFN5bmMgPVxuICAgIGFzeW5jLmFzeW5jaWZ5ID0gZnVuY3Rpb24gYXN5bmNpZnkoZnVuYykge1xuICAgICAgICByZXR1cm4gX3Jlc3RQYXJhbShmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgcmVzdWx0IGlzIFByb21pc2Ugb2JqZWN0XG4gICAgICAgICAgICBpZiAoX2lzT2JqZWN0KHJlc3VsdCkgJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLm1lc3NhZ2UgPyBlcnIgOiBuZXcgRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBOb2RlLmpzXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gYXN5bmM7XG4gICAgfVxuICAgIC8vIEFNRCAvIFJlcXVpcmVKU1xuICAgIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3luYztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGluY2x1ZGVkIGRpcmVjdGx5IHZpYSA8c2NyaXB0PiB0YWdcbiAgICBlbHNlIHtcbiAgICAgICAgcm9vdC5hc3luYyA9IGFzeW5jO1xuICAgIH1cblxufSgpKTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG52YXIgQU1VSSA9IHJlcXVpcmUoJ2FtYXpldWknKTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgXHJcbiAgICAvLyBBdm9pZCBgY29uc29sZWAgZXJyb3JzIGluIGJyb3dzZXJzIHRoYXQgbGFjayBhIGNvbnNvbGUuXHJcbiAgICB7XHJcbiAgICAgICAgdmFyIG1ldGhvZDtcclxuICAgICAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBtZXRob2RzID0gW1xyXG4gICAgICAgICAgICAnYXNzZXJ0JywgJ2NsZWFyJywgJ2NvdW50JywgJ2RlYnVnJywgJ2RpcicsICdkaXJ4bWwnLCAnZXJyb3InLFxyXG4gICAgICAgICAgICAnZXhjZXB0aW9uJywgJ2dyb3VwJywgJ2dyb3VwQ29sbGFwc2VkJywgJ2dyb3VwRW5kJywgJ2luZm8nLCAnbG9nJyxcclxuICAgICAgICAgICAgJ21hcmtUaW1lbGluZScsICdwcm9maWxlJywgJ3Byb2ZpbGVFbmQnLCAndGFibGUnLCAndGltZScsICd0aW1lRW5kJyxcclxuICAgICAgICAgICAgJ3RpbWVTdGFtcCcsICd0cmFjZScsICd3YXJuJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IG1ldGhvZHMubGVuZ3RoO1xyXG4gICAgICAgIHZhciBjb25zb2xlID0gKHdpbmRvdy5jb25zb2xlID0gd2luZG93LmNvbnNvbGUgfHwge30pO1xyXG5cclxuICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcclxuICAgICAgICAgICAgbWV0aG9kID0gbWV0aG9kc1tsZW5ndGhdO1xyXG5cclxuICAgICAgICAgICAgLy8gT25seSBzdHViIHVuZGVmaW5lZCBtZXRob2RzLlxyXG4gICAgICAgICAgICBpZiAoIWNvbnNvbGVbbWV0aG9kXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZVttZXRob2RdID0gbm9vcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAvL2dsb2JhbFZhciDlj6rog73lnKgg6Z2eIG5vZGXnjq/looPnmoTmlofku7Yg6YeM55SoXHJcbiAgICAvLyB3aW5kb3cuZ2xvYmFsVmFyPXtcclxuICAgIC8vICAgICBnTG9nOnJlcXVpcmUoJy4vbG9nJyksXHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy9qcXVlcnkgdmFsaWRhdGUgbWVzc2FnZeS4reaWh1xyXG4gICAge1xyXG4gICAgICAgICQuZXh0ZW5kKCQudmFsaWRhdG9yLm1lc3NhZ2VzLCB7XHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiBcIuW/hemAieWtl+autVwiLFxyXG4gICAgICAgICAgICByZW1vdGU6IFwi6K+35L+u5q2j6K+l5a2X5q61XCIsXHJcbiAgICAgICAgICAgIGVtYWlsOiBcIuivt+i+k+WFpeato+ehruagvOW8j+eahOeUteWtkOmCruS7tlwiLFxyXG4gICAgICAgICAgICB1cmw6IFwi6K+36L6T5YWl5ZCI5rOV55qE572R5Z2AXCIsXHJcbiAgICAgICAgICAgIGRhdGU6IFwi6K+36L6T5YWl5ZCI5rOV55qE5pel5pyfXCIsXHJcbiAgICAgICAgICAgIGRhdGVJU086IFwi6K+36L6T5YWl5ZCI5rOV55qE5pel5pyfIChJU08pLlwiLFxyXG4gICAgICAgICAgICBudW1iZXI6IFwi6K+36L6T5YWl5ZCI5rOV55qE5pWw5a2XXCIsXHJcbiAgICAgICAgICAgIGRpZ2l0czogXCLlj6rog73ovpPlhaXmlbTmlbBcIixcclxuICAgICAgICAgICAgY3JlZGl0Y2FyZDogXCLor7fovpPlhaXlkIjms5XnmoTkv6HnlKjljaHlj7dcIixcclxuICAgICAgICAgICAgZXF1YWxUbzogXCLor7flho3mrKHovpPlhaXnm7jlkIznmoTlgLxcIixcclxuICAgICAgICAgICAgYWNjZXB0OiBcIuivt+i+k+WFpeaLpeacieWQiOazleWQjue8gOWQjeeahOWtl+espuS4slwiLFxyXG4gICAgICAgICAgICBtYXhsZW5ndGg6IGpRdWVyeS52YWxpZGF0b3IuZm9ybWF0KFwi6K+36L6T5YWl5LiA5LiqIOmVv+W6puacgOWkmuaYryB7MH0g55qE5a2X56ym5LiyXCIpLFxyXG4gICAgICAgICAgICBtaW5sZW5ndGg6IGpRdWVyeS52YWxpZGF0b3IuZm9ybWF0KFwi6K+36L6T5YWl5LiA5LiqIOmVv+W6puacgOWwkeaYryB7MH0g55qE5a2X56ym5LiyXCIpLFxyXG4gICAgICAgICAgICByYW5nZWxlbmd0aDogalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoXCLor7fovpPlhaUg5LiA5Liq6ZW/5bqm5LuL5LqOIHswfSDlkowgezF9IOS5i+mXtOeahOWtl+espuS4slwiKSxcclxuICAgICAgICAgICAgcmFuZ2U6IGpRdWVyeS52YWxpZGF0b3IuZm9ybWF0KFwi6K+36L6T5YWl5LiA5Liq5LuL5LqOIHswfSDlkowgezF9IOS5i+mXtOeahOWAvFwiKSxcclxuICAgICAgICAgICAgbWF4OiBqUXVlcnkudmFsaWRhdG9yLmZvcm1hdChcIuivt+i+k+WFpeS4gOS4quacgOWkp+S4unswfSDnmoTlgLxcIiksXHJcbiAgICAgICAgICAgIG1pbjogalF1ZXJ5LnZhbGlkYXRvci5mb3JtYXQoXCLor7fovpPlhaXkuIDkuKrmnIDlsI/kuLp7MH0g55qE5YC8XCIpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgLy9hbSBzZWxlY3RlZOS4jmpxdWVyeS5mb3Jt5Yay56qB6Kej5YazOlxyXG4gICAge1xyXG4gICAgICAgIEFNVUkucGx1Z2luKCdhbXVpU2VsZWN0ZWQnLCBBTVVJLnNlbGVjdGVkKTtcclxuICAgICAgICAkKCdbZGF0YS1hbS1zZWxlY3RlZF0nKS5hbXVpU2VsZWN0ZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvL+aPkOekumZsYXNo6ZqQ6JePXHJcbiAgICB7XHJcbiAgICAgICAgaWYoJCgnLmFtLWFsZXJ0LmFtLWFsZXJ0LXN1Y2Nlc3MnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuICAgICAgICAgICAgICAgICQoJy5hbS1hbGVydC5hbS1hbGVydC1zdWNjZXNzJykuaGlkZSgpO1xyXG4gICAgICAgICAgICB9LDMwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAge1xyXG4gICAgICAgICQoJy5idG4tYmFjaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBoaXN0b3J5LmJhY2soLTEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSk7IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IG5hbWUgPSAnNTF3aXNoJztcclxuXHJcbi8vZW52XHJcbndpbmRvdy5lbnYgPSAoKT0+IHtcclxuICAgIGlmIChsb2NhdGlvbi5ob3N0bmFtZSA9PT0gYCR7bmFtZX0ubGVhbmFwcC5jbmAgfHwgbG9jYXRpb24uaG9zdG5hbWUgPT09IGAke25hbWV9LmNuYCB8fCBsb2NhdGlvbi5ob3N0ID09PSBgd3d3LiR7bmFtZX0uY25gKSB7XHJcbiAgICAgICAgcmV0dXJuICdwcm9kdWN0aW9uJztcclxuICAgIH1cclxuICAgIGlmKGxvY2F0aW9uLmhvc3RuYW1lID09PSBgc3RnLSR7bmFtZX0ubGVhbmFwcC5jbmApIHtcclxuICAgICAgICByZXR1cm4gJ3N0YWdlJztcclxuICAgIH1cclxuICAgIHJldHVybiAnZGV2ZWxvcG1lbnQnO1xyXG59O1xyXG5cclxubGV0IGNsb3VkID0gKCk9PiB7XHJcbiAgICBpZihlbnYoKSA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuICcvLzUxd2lzaC5jbi8xLjEvZnVuY3Rpb25zLyc7XHJcbiAgICB9IFxyXG4gICAgaWYgKGVudigpID09PSAnc3RhZ2UnKSB7XHJcbiAgICAgICAgcmV0dXJuICcvL3N0Zy01MXdpc2gubGVhbmFwcC5jbi8xLjEvZnVuY3Rpb25zLyc7IFxyXG4gICAgfVxyXG4gICAgcmV0dXJuICcvMS4xL2Z1bmN0aW9ucy8nXHJcbn07XHJcblxyXG53aW5kb3cubGVhbkFwcCA9IHtcclxuICAgIGFwcGRJZDonUXVpUHVXcEpQekNhaHNnQks3dGVCT0pOLWd6R3pvSHN6JyxcclxuICAgIGFwaTonaHR0cHM6Ly9sZWFuY2xvdWQuY24vMS4xLycsXHJcbiAgICBjbG91ZDpjbG91ZCgpXHJcbn07XHJcblxyXG4vL2xlYW4gYXBwIGhlYWRlciBpbmZvXHJcbndpbmRvdy5sZWFuQXBwSGVhZGVyID0ge1xyXG4gICAgJ3gtbGMtaWQnOmxlYW5BcHAuYXBwZElkLFxyXG4gICAgJ3gtbGMtc2lnbic6ICQuY29va2llKCd4X2xjX3NpZ24nKSB8fCAnJyxcclxuICAgICd4LWxjLXNlc3Npb24nOiAkLmNvb2tpZSgneF9sY19zZXNzaW9uJykgfHwgJycsXHJcbiAgICAneC1sYy1wcm9kJzplbnYoKSA9PT0gJ3Byb2R1Y3Rpb24nID8gMSA6IDAsXHJcbiAgICAnY29udGVudC10eXBlJzonYXBwbGljYXRpb24vanNvbidcclxufTsiLCJyZXF1aXJlKCcuLi8uLi8uLi8uLi9qcy9tYWluJyk7XHJcblxyXG5yZXF1aXJlKCcuL2NvbmZpZycpO1xyXG5yZXF1aXJlKCcuL2NvbW1vbicpOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIFxyXG4gICAgLy91cmzlj4LmlbDnu4TlkIhcclxuICAgIHVybFBhcmFtc0NvbXBvbmVudDoodXJsLHBhcmFtcyk9PiB7XHJcbiAgICAgICAgbGV0IHNlYXJjaCA9ICcnO1xyXG4gICAgICAgIGZvcihsZXQga2V5IGluIHBhcmFtcykge1xyXG4gICAgICAgICAgICBpZihwYXJhbXNba2V5XSkge1xyXG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IGAke2tleX09JHtwYXJhbXNba2V5XX0mYDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsICsgJz8nICsgc2VhcmNoLnN1YnN0cmluZygwLHNlYXJjaC5sZW5ndGgtMSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vcHJvZHVjdCBtYWluSW1hZ2Ug6L2s5o2iXHJcbiAgICBwcm9kdWN0TWFpbkltYWdlT3V0cHV0OihtYWluSW1hZ2UpID0+IHtcclxuICAgICAgICBmb3IodmFyIGkgaW4gbWFpbkltYWdlKXtcclxuICAgICAgICAgICAgaWYobWFpbkltYWdlW2ldLmlzTWFpbkltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFpbkltYWdlW2ldLnVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG59OyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBCbG9vZGhvdW5kID0gcmVxdWlyZSgnYmxvb2Rob3VuZCcpO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgXHJcbiAgICAvL+WMuemFjWF1dG9vbXBsZXRl5Lqn5ZOB5ZCN5a2XXHJcbiAgICBnZXROYW1lKGVsKSB7XHJcblxyXG4gICAgICAgIGxldCBlbGVtZW50ID0gJChlbCk7XHJcbiAgICAgICAgZWxlbWVudC50eXBlYWhlYWQobnVsbCwge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlczoge1xyXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbjogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXY+PGltZyBzcmM9XCIke2l0ZW0uaW1hZ2V9P2ltYWdlTW9ncjIvdGh1bWJuYWlsLzMyXCIgLz4ke2l0ZW0udmFsdWV9IDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZ2hsaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBuZXcgQmxvb2Rob3VuZCh7XHJcbiAgICAgICAgICAgICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKCd2YWx1ZScpLFxyXG4gICAgICAgICAgICAgICAgcXVlcnlUb2tlbml6ZXI6IEJsb29kaG91bmQudG9rZW5pemVycy53aGl0ZXNwYWNlLFxyXG4gICAgICAgICAgICAgICAgcmVtb3RlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FkbWluL3Byb2R1Y3QvZ2V0LXByb2R1Y3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uIChxdWVyeSwgc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGVsZW1lbnQudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIFxyXG4gICAgfSxcclxuICAgIFxyXG4gICAgLy/pgJrov4dpZOiOt+WPluS6p+WTgVxyXG4gICAgZ2V0SWQoaW5wdXQsaWQsY2FsbGJhY2spIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0L2dldC1pZC8ke2lkfWAsXHJcbiAgICAgICAgICAgIHR5cGU6J2dldCdcclxuICAgICAgICB9KS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYCR7ZGF0YS5yZXN1bHQubmFtZX0ge2lkOiR7aWR9fWA7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4gIiwiLyohIEFtYXplIFVJIHYyLjcuMiB8IGJ5IEFtYXplIFVJIFRlYW0gfCAoYykgMjAxNiBBbGxNb2JpbGl6ZSwgSW5jLiB8IExpY2Vuc2VkIHVuZGVyIE1JVCB8IDIwMTYtMDgtMTdUMTY6MTc6MjQrMDgwMCAqLyBcclxuIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwianF1ZXJ5XCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxlKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLkFNVUk9ZShyZXF1aXJlKFwianF1ZXJ5XCIpKTp0LkFNVUk9ZSh0LmpRdWVyeSl9KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7aWYoaVtuXSlyZXR1cm4gaVtuXS5leHBvcnRzO3ZhciBzPWlbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiB0W25dLmNhbGwocy5leHBvcnRzLHMscy5leHBvcnRzLGUpLHMubG9hZGVkPSEwLHMuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gZS5tPXQsZS5jPWksZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKTtpKDMpLGkoNCksaSg1KSxpKDYpLGkoNyksaSg4KSxpKDkpLGkoMTApLGkoMTEpLGkoMTQpLGkoMTUpLGkoMTYpLGkoMTcpLGkoMTgpLGkoMTkpLGkoMjApLGkoMjEpLGkoMjIpLGkoMjQpLGkoMjUpLGkoMjMpLGkoMjcpLGkoMjgpLGkoMjkpLGkoMzApLGkoMzEpLGkoMzIpLGkoMzMpLGkoMjYpLGkoMzQpLGkoMzUpLGkoMzYpLGkoMzcpLGkoMzgpLGkoMzkpLGkoNDApLGkoNDEpLGkoNDIpLGkoNDMpLGkoNDQpLGkoNDUpLGkoNDYpLGkoNDcpLGkoNDgpLGkoNDkpLGkoNTApLGkoNTEpLGkoNTIpLGkoNTMpLGkoNTQpLHQuZXhwb3J0cz1uLkFNVUk9c30sZnVuY3Rpb24oZSxpKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSk7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQW1hemUgVUkgMi54IHJlcXVpcmVzIGpRdWVyeSA6LShcXG5cXHU3MjMxXFx1NGUwYVxcdTRlMDBcXHU1MzM5XFx1OTFjZVxcdTlhNmNcXHVmZjBjXFx1NTNlZlxcdTRmNjBcXHU3Njg0XFx1NWJiNlxcdTkxY2NcXHU2Y2ExXFx1NjcwOVxcdTgzNDlcXHU1MzlmXFx1MjAyNlwiKTt2YXIgcz1uLkFNVUl8fHt9LG89bih3aW5kb3cpLGE9d2luZG93LmRvY3VtZW50LHI9bihcImh0bWxcIik7cy5WRVJTSU9OPVwiMi43LjJcIixzLnN1cHBvcnQ9e30scy5zdXBwb3J0LnRyYW5zaXRpb249ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe3ZhciB0PWEuYm9keXx8YS5kb2N1bWVudEVsZW1lbnQsZT17V2Via2l0VHJhbnNpdGlvbjpcIndlYmtpdFRyYW5zaXRpb25FbmRcIixNb3pUcmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwiLE9UcmFuc2l0aW9uOlwib1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmRcIix0cmFuc2l0aW9uOlwidHJhbnNpdGlvbmVuZFwifTtmb3IodmFyIGkgaW4gZSlpZih2b2lkIDAhPT10LnN0eWxlW2ldKXJldHVybiBlW2ldfSgpO3JldHVybiB0JiZ7ZW5kOnR9fSgpLHMuc3VwcG9ydC5hbmltYXRpb249ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbigpe3ZhciB0PWEuYm9keXx8YS5kb2N1bWVudEVsZW1lbnQsZT17V2Via2l0QW5pbWF0aW9uOlwid2Via2l0QW5pbWF0aW9uRW5kXCIsTW96QW5pbWF0aW9uOlwiYW5pbWF0aW9uZW5kXCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZFwiLGFuaW1hdGlvbjpcImFuaW1hdGlvbmVuZFwifTtmb3IodmFyIGkgaW4gZSlpZih2b2lkIDAhPT10LnN0eWxlW2ldKXJldHVybiBlW2ldfSgpO3JldHVybiB0JiZ7ZW5kOnR9fSgpLHMuc3VwcG9ydC50b3VjaD1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL21vYmlsZXx0YWJsZXQvKXx8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2h8fHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCYmd2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzPjB8fHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQmJndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHM+MHx8ITEscy5zdXBwb3J0Lm11dGF0aW9ub2JzZXJ2ZXI9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHxudWxsLHMuc3VwcG9ydC5mb3JtVmFsaWRhdGlvbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKS5jaGVja1ZhbGlkaXR5LHMudXRpbHM9e30scy51dGlscy5kZWJvdW5jZT1mdW5jdGlvbih0LGUsaSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHM9dGhpcyxvPWFyZ3VtZW50cyxhPWZ1bmN0aW9uKCl7bj1udWxsLGl8fHQuYXBwbHkocyxvKX0scj1pJiYhbjtjbGVhclRpbWVvdXQobiksbj1zZXRUaW1lb3V0KGEsZSksciYmdC5hcHBseShzLG8pfX0scy51dGlscy5pc0luVmlldz1mdW5jdGlvbih0LGUpe3ZhciBpPW4odCkscz0hKCFpLndpZHRoKCkmJiFpLmhlaWdodCgpKSYmXCJub25lXCIhPT1pLmNzcyhcImRpc3BsYXlcIik7aWYoIXMpcmV0dXJuITE7dmFyIGE9by5zY3JvbGxMZWZ0KCkscj1vLnNjcm9sbFRvcCgpLGw9aS5vZmZzZXQoKSxjPWwubGVmdCx1PWwudG9wO3JldHVybiBlPW4uZXh0ZW5kKHt0b3BPZmZzZXQ6MCxsZWZ0T2Zmc2V0OjB9LGUpLHUraS5oZWlnaHQoKT49ciYmdS1lLnRvcE9mZnNldDw9citvLmhlaWdodCgpJiZjK2kud2lkdGgoKT49YSYmYy1lLmxlZnRPZmZzZXQ8PWErby53aWR0aCgpfSxzLnV0aWxzLnBhcnNlT3B0aW9ucz1zLnV0aWxzLm9wdGlvbnM9ZnVuY3Rpb24odCl7aWYobi5pc1BsYWluT2JqZWN0KHQpKXJldHVybiB0O3ZhciBlPXQ/dC5pbmRleE9mKFwie1wiKTotMSxpPXt9O2lmKGUhPS0xKXRyeXtpPW5ldyBGdW5jdGlvbihcIlwiLFwidmFyIGpzb24gPSBcIit0LnN1YnN0cihlKStcIjsgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoanNvbikpO1wiKSgpfWNhdGNoKHMpe31yZXR1cm4gaX0scy51dGlscy5nZW5lcmF0ZUdVSUQ9ZnVuY3Rpb24odCl7dmFyIGU9dCtcIi1cInx8XCJhbS1cIjtkbyBlKz1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiw3KTt3aGlsZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKSk7cmV0dXJuIGV9LHMudXRpbHMuZ2V0QWJzb2x1dGVVcmw9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHR8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSx0LmhyZWY9ZSx0LmhyZWZ9fSgpLHMucGx1Z2luPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbz1uLmZuW3RdO2k9aXx8e30sbi5mblt0XT1mdW5jdGlvbihvKXt2YXIgYSxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxsPXIuc2xpY2UoMSksYz10aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uKHRoaXMpLHU9XCJhbXVpLlwiK3QsaD1pLmRhdGFPcHRpb25zfHxcImRhdGEtYW0tXCIrdCxkPWMuZGF0YSh1KSxwPW4uZXh0ZW5kKHt9LHMudXRpbHMucGFyc2VPcHRpb25zKGMuYXR0cihoKSksXCJvYmplY3RcIj09dHlwZW9mIG8mJm8pOyhkfHxcImRlc3Ryb3lcIiE9PW8pJiYoZHx8Yy5kYXRhKHUsZD1uZXcgZSh0aGlzLHApKSxpLm1ldGhvZENhbGw/aS5tZXRob2RDYWxsLmNhbGwoYyxyLGQpOihpLmJlZm9yZSYmaS5iZWZvcmUuY2FsbChjLHIsZCksXCJzdHJpbmdcIj09dHlwZW9mIG8mJihhPVwiZnVuY3Rpb25cIj09dHlwZW9mIGRbb10/ZFtvXS5hcHBseShkLGwpOmRbb10pLGkuYWZ0ZXImJmkuYWZ0ZXIuY2FsbChjLHIsZCkpKX0pO3JldHVybiB2b2lkIDA9PT1hP2M6YX0sbi5mblt0XS5Db25zdHJ1Y3Rvcj1lLG4uZm5bdF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW3RdPW8sdGhpc30sc1t0XT1lfSxuLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKHQpe3ZhciBlPSExLGk9dGhpcztuKHRoaXMpLm9uZShzLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsZnVuY3Rpb24oKXtlPSEwfSk7dmFyIG89ZnVuY3Rpb24oKXtlfHxuKGkpLnRyaWdnZXIocy5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSxpLnRyYW5zaXRpb25FbmRUaW1tZXI9dm9pZCAwfTtyZXR1cm4gdGhpcy50cmFuc2l0aW9uRW5kVGltbWVyPXNldFRpbWVvdXQobyx0KSx0aGlzfSxuLmZuLnJlZHJhdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLm9mZnNldEhlaWdodH0pfSxuLmZuLnRyYW5zaXRpb25FbmQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShzKXt0LmNhbGwodGhpcyxzKSxpJiZuLm9mZihpLGUpfXZhciBpPXMuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxuPXRoaXM7cmV0dXJuIHQmJmkmJm4ub24oaSxlKSx0aGlzfSxuLmZuLnJlbW92ZUNsYXNzUmVnRXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPW4odGhpcykuYXR0cihcImNsYXNzXCIpO2lmKCFlfHwhdClyZXR1cm4hMTt2YXIgaT1bXTtlPWUuc3BsaXQoXCIgXCIpO2Zvcih2YXIgcz0wLG89ZS5sZW5ndGg7czxvO3MrKyllW3NdLm1hdGNoKHQpfHxpLnB1c2goZVtzXSk7bih0aGlzKS5hdHRyKFwiY2xhc3NcIixpLmpvaW4oXCIgXCIpKX0pfSxuLmZuLmFsdGVyQ2xhc3M9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO2lmKHQuaW5kZXhPZihcIipcIik9PT0tMSlyZXR1cm4gaS5yZW1vdmVDbGFzcyh0KSxlP2kuYWRkQ2xhc3MoZSk6aTt2YXIgcz1uZXcgUmVnRXhwKFwiXFxcXHNcIit0LnJlcGxhY2UoL1xcKi9nLFwiW0EtWmEtejAtOS1fXStcIikuc3BsaXQoXCIgXCIpLmpvaW4oXCJcXFxcc3xcXFxcc1wiKStcIlxcXFxzXCIsXCJnXCIpO3JldHVybiBpLmVhY2goZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9XCIgXCIrZS5jbGFzc05hbWUrXCIgXCI7cy50ZXN0KGkpOylpPWkucmVwbGFjZShzLFwiIFwiKTtlLmNsYXNzTmFtZT1uLnRyaW0oaSl9KSxlP2kuYWRkQ2xhc3MoZSk6aX0scy51dGlscy5yQUY9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dCh0LDFlMy82MCl9fSgpLHMudXRpbHMuY2FuY2VsQUY9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24odCl7d2luZG93LmNsZWFyVGltZW91dCh0KX19KCkscy51dGlscy5tZWFzdXJlU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7aWYoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aD49d2luZG93LmlubmVyV2lkdGgpcmV0dXJuIDA7dmFyIHQ9bignPGRpdiBzdHlsZT1cIndpZHRoOiAxMDBweDtoZWlnaHQ6IDEwMHB4O292ZXJmbG93OiBzY3JvbGw7cG9zaXRpb246IGFic29sdXRlO3RvcDogLTk5OTlweDtcIj48L2Rpdj4nKTtuKGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0KTt2YXIgZT10WzBdLm9mZnNldFdpZHRoLXRbMF0uY2xpZW50V2lkdGg7cmV0dXJuIHQucmVtb3ZlKCksZX0scy51dGlscy5pbWFnZUxvYWRlcj1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkoKXtlKHRbMF0pfWZ1bmN0aW9uIG4oKXtpZih0aGlzLm9uZShcImxvYWRcIixpKSwvTVNJRSAoXFxkK1xcLlxcZCspOy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSl7dmFyIHQ9dGhpcy5hdHRyKFwic3JjXCIpLGU9dC5tYXRjaCgvXFw/Lyk/XCImXCI6XCI/XCI7ZSs9XCJyYW5kb209XCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5hdHRyKFwic3JjXCIsdCtlKX19cmV0dXJuIHQuYXR0cihcInNyY1wiKT92b2lkKHRbMF0uY29tcGxldGV8fDQ9PT10WzBdLnJlYWR5U3RhdGU/aSgpOm4uY2FsbCh0KSk6dm9pZCBpKCl9LHMudGVtcGxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT1zLnRlbXBsYXRlO3JldHVybiBpLmNhY2hlW3RdfHwoaS5jYWNoZVt0XT1mdW5jdGlvbigpe3ZhciBlPXQsbj0vXltcXHdcXC1dKyQvLnRlc3QodCk/aS5nZXQodCk6KGU9XCJ0ZW1wbGF0ZShzdHJpbmcpXCIsdCkscz0xLG89KFwidHJ5IHsgXCIrKGkudmFyaWFibGU/XCJ2YXIgXCIraS52YXJpYWJsZStcIiA9IHRoaXMuc3Rhc2g7XCI6XCJ3aXRoICh0aGlzLnN0YXNoKSB7IFwiKStcInRoaXMucmV0ICs9ICdcIituLnJlcGxhY2UoLzwlL2csXCJcXHgxMVwiKS5yZXBsYWNlKC8lPi9nLFwiXFx4MTNcIikucmVwbGFjZSgvJyg/IVteXFx4MTFcXHgxM10rP1xceDEzKS9nLFwiXFxcXHgyN1wiKS5yZXBsYWNlKC9eXFxzKnxcXHMqJC9nLFwiXCIpLnJlcGxhY2UoL1xcbi9nLGZ1bmN0aW9uKCl7cmV0dXJuXCInO1xcbnRoaXMubGluZSA9IFwiKyArK3MrXCI7IHRoaXMucmV0ICs9ICdcXFxcblwifSkucmVwbGFjZSgvXFx4MTEtKC4rPylcXHgxMy9nLFwiJyArICgkMSkgKyAnXCIpLnJlcGxhY2UoL1xceDExPSguKz8pXFx4MTMvZyxcIicgKyB0aGlzLmVzY2FwZUhUTUwoJDEpICsgJ1wiKS5yZXBsYWNlKC9cXHgxMSguKz8pXFx4MTMvZyxcIic7ICQxOyB0aGlzLnJldCArPSAnXCIpK1wiJzsgXCIrKGkudmFyaWFibGU/XCJcIjpcIn1cIikrXCJyZXR1cm4gdGhpcy5yZXQ7fSBjYXRjaCAoZSkgeyB0aHJvdyAnVGVtcGxhdGVFcnJvcjogJyArIGUgKyAnIChvbiBcIitlK1wiJyArICcgbGluZSAnICsgdGhpcy5saW5lICsgJyknOyB9IC8vQCBzb3VyY2VVUkw9XCIrZStcIlxcblwiKS5yZXBsYWNlKC90aGlzXFwucmV0IFxcKz0gJyc7L2csXCJcIiksYT1uZXcgRnVuY3Rpb24obykscj17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImI3gyMjtcIixcIidcIjpcIiYjeDI3O1wifSxsPWZ1bmN0aW9uKHQpe3JldHVybihcIlwiK3QpLnJlcGxhY2UoL1smPD5cXCdcXFwiXS9nLGZ1bmN0aW9uKHQpe3JldHVybiByW3RdfSl9O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKGkuY29udGV4dD17ZXNjYXBlSFRNTDpsLGxpbmU6MSxyZXQ6XCJcIixzdGFzaDp0fSl9fSgpKSxlP2kuY2FjaGVbdF0oZSk6aS5jYWNoZVt0XX0scy50ZW1wbGF0ZS5jYWNoZT17fSxzLnRlbXBsYXRlLmdldD1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KTtyZXR1cm4gZSYmZS5pbm5lckhUTUx8fFwiXCJ9fSxzLkRPTVdhdGNoZXJzPVtdLHMuRE9NUmVhZHk9ITEscy5yZWFkeT1mdW5jdGlvbih0KXtzLkRPTVdhdGNoZXJzLnB1c2godCkscy5ET01SZWFkeSYmdChkb2N1bWVudCl9LHMuRE9NT2JzZXJ2ZT1mdW5jdGlvbih0LGUsaSl7dmFyIG89cy5zdXBwb3J0Lm11dGF0aW9ub2JzZXJ2ZXI7byYmKGU9bi5pc1BsYWluT2JqZWN0KGUpP2U6e2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJml8fGZ1bmN0aW9uKCl7fSxuKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9bih0KTtpZighYS5kYXRhKFwiYW0ub2JzZXJ2ZXJcIikpdHJ5e3ZhciByPW5ldyBvKHMudXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oZSxuKXtpLmNhbGwodCxlLG4pLGEudHJpZ2dlcihcImNoYW5nZWQuZG9tLmFtdWlcIil9LDUwKSk7ci5vYnNlcnZlKHQsZSksYS5kYXRhKFwiYW0ub2JzZXJ2ZXJcIixyKX1jYXRjaChsKXt9fSkpfSxuLmZuLkRPTU9ic2VydmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7cy5ET01PYnNlcnZlKHRoaXMsdCxlKX0pfSxzLnN1cHBvcnQudG91Y2gmJnIuYWRkQ2xhc3MoXCJhbS10b3VjaFwiKSxuKGRvY3VtZW50KS5vbihcImNoYW5nZWQuZG9tLmFtdWlcIixmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldDtuLmVhY2gocy5ET01XYXRjaGVycyxmdW5jdGlvbih0LGkpe2koZSl9KX0pLG4oZnVuY3Rpb24oKXt2YXIgdD1uKGRvY3VtZW50LmJvZHkpO3MuRE9NUmVhZHk9ITAsbi5lYWNoKHMuRE9NV2F0Y2hlcnMsZnVuY3Rpb24odCxlKXtlKGRvY3VtZW50KX0pLHMuRE9NT2JzZXJ2ZShcIltkYXRhLWFtLW9ic2VydmVdXCIpLHIucmVtb3ZlQ2xhc3MoXCJuby1qc1wiKS5hZGRDbGFzcyhcImpzXCIpLHMuc3VwcG9ydC5hbmltYXRpb24mJnIuYWRkQ2xhc3MoXCJjc3NhbmltYXRpb25zXCIpLHdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmci5hZGRDbGFzcyhcImFtLXN0YW5kYWxvbmVcIiksbihcIi5hbS10b3BiYXItZml4ZWQtdG9wXCIpLmxlbmd0aCYmdC5hZGRDbGFzcyhcImFtLXdpdGgtdG9wYmFyLWZpeGVkLXRvcFwiKSxuKFwiLmFtLXRvcGJhci1maXhlZC1ib3R0b21cIikubGVuZ3RoJiZ0LmFkZENsYXNzKFwiYW0td2l0aC10b3BiYXItZml4ZWQtYm90dG9tXCIpO3ZhciBlPW4oXCIuYW0tbGF5b3V0XCIpO2UuZmluZCgnW2NsYXNzKj1cIm1kLWJsb2NrLWdyaWRcIl0nKS5hbHRlckNsYXNzKFwibWQtYmxvY2stZ3JpZC0qXCIpLGUuZmluZCgnW2NsYXNzKj1cImxnLWJsb2NrLWdyaWRcIl0nKS5hbHRlckNsYXNzKFwibGctYmxvY2stZ3JpZFwiKSxuKFwiW2RhdGEtYW0td2lkZ2V0XVwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTswPT09dC5wYXJlbnRzKFwiLmFtLWxheW91dFwiKS5sZW5ndGgmJnQuYWRkQ2xhc3MoXCJhbS1uby1sYXlvdXRcIil9KX0pLHQuZXhwb3J0cz1zfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUsaSl7cmV0dXJuIHNldFRpbWVvdXQobCh0LGkpLGUpfWZ1bmN0aW9uIHModCxlLGkpe3JldHVybiEhQXJyYXkuaXNBcnJheSh0KSYmKG8odCxpW2VdLGkpLCEwKX1mdW5jdGlvbiBvKHQsZSxpKXt2YXIgbjtpZih0KWlmKHQuZm9yRWFjaCl0LmZvckVhY2goZSxpKTtlbHNlIGlmKHZvaWQgMCE9PXQubGVuZ3RoKWZvcihuPTA7bjx0Lmxlbmd0aDspZS5jYWxsKGksdFtuXSxuLHQpLG4rKztlbHNlIGZvcihuIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShuKSYmZS5jYWxsKGksdFtuXSxuLHQpfWZ1bmN0aW9uIGEodCxlLGkpe3ZhciBuPVwiREVQUkVDQVRFRCBNRVRIT0Q6IFwiK2UrXCJcXG5cIitpK1wiIEFUIFxcblwiO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPW5ldyBFcnJvcihcImdldC1zdGFjay10cmFjZVwiKSxpPWUmJmUuc3RhY2s/ZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sXCJcIikucmVwbGFjZSgvXlxccythdFxccysvZ20sXCJcIikucmVwbGFjZSgvXk9iamVjdC48YW5vbnltb3VzPlxccypcXCgvZ20sXCJ7YW5vbnltb3VzfSgpQFwiKTpcIlVua25vd24gU3RhY2sgVHJhY2VcIixzPXdpbmRvdy5jb25zb2xlJiYod2luZG93LmNvbnNvbGUud2Fybnx8d2luZG93LmNvbnNvbGUubG9nKTtyZXR1cm4gcyYmcy5jYWxsKHdpbmRvdy5jb25zb2xlLG4saSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHIodCxlLGkpe3ZhciBuLHM9ZS5wcm90b3R5cGU7bj10LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHMpLG4uY29uc3RydWN0b3I9dCxuLl9zdXBlcj1zLGkmJnV0KG4saSl9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gYyh0LGUpe3JldHVybiB0eXBlb2YgdD09ZnQ/dC5hcHBseShlP2VbMF18fHZvaWQgMDp2b2lkIDAsZSk6dH1mdW5jdGlvbiB1KHQsZSl7cmV0dXJuIHZvaWQgMD09PXQ/ZTp0fWZ1bmN0aW9uIGgodCxlLGkpe28oZihlKSxmdW5jdGlvbihlKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxpLCExKX0pfWZ1bmN0aW9uIGQodCxlLGkpe28oZihlKSxmdW5jdGlvbihlKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLCExKX0pfWZ1bmN0aW9uIHAodCxlKXtmb3IoO3Q7KXtpZih0PT1lKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIG0odCxlKXtyZXR1cm4gdC5pbmRleE9mKGUpPi0xfWZ1bmN0aW9uIGYodCl7cmV0dXJuIHQudHJpbSgpLnNwbGl0KC9cXHMrL2cpfWZ1bmN0aW9uIHYodCxlLGkpe2lmKHQuaW5kZXhPZiYmIWkpcmV0dXJuIHQuaW5kZXhPZihlKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoOyl7aWYoaSYmdFtuXVtpXT09ZXx8IWkmJnRbbl09PT1lKXJldHVybiBuO24rK31yZXR1cm4tMX1mdW5jdGlvbiBnKHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LDApfWZ1bmN0aW9uIHkodCxlLGkpe2Zvcih2YXIgbj1bXSxzPVtdLG89MDtvPHQubGVuZ3RoOyl7dmFyIGE9ZT90W29dW2VdOnRbb107dihzLGEpPDAmJm4ucHVzaCh0W29dKSxzW29dPWEsbysrfXJldHVybiBpJiYobj1lP24uc29ydChmdW5jdGlvbih0LGkpe3JldHVybiB0W2VdPmlbZV19KTpuLnNvcnQoKSksbn1mdW5jdGlvbiB3KHQsZSl7Zm9yKHZhciBpLG4scz1lWzBdLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxvPTA7bzxwdC5sZW5ndGg7KXtpZihpPXB0W29dLG49aT9pK3M6ZSxuIGluIHQpcmV0dXJuIG47bysrfX1mdW5jdGlvbiBiKCl7cmV0dXJuIFR0Kyt9ZnVuY3Rpb24gVCh0KXt2YXIgZT10Lm93bmVyRG9jdW1lbnR8fHQ7cmV0dXJuIGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93fHx3aW5kb3d9ZnVuY3Rpb24geCh0LGUpe3ZhciBpPXRoaXM7dGhpcy5tYW5hZ2VyPXQsdGhpcy5jYWxsYmFjaz1lLHRoaXMuZWxlbWVudD10LmVsZW1lbnQsdGhpcy50YXJnZXQ9dC5vcHRpb25zLmlucHV0VGFyZ2V0LHRoaXMuZG9tSGFuZGxlcj1mdW5jdGlvbihlKXtjKHQub3B0aW9ucy5lbmFibGUsW3RdKSYmaS5oYW5kbGVyKGUpfSx0aGlzLmluaXQoKX1mdW5jdGlvbiBDKHQpe3ZhciBlLGk9dC5vcHRpb25zLmlucHV0Q2xhc3M7cmV0dXJuIG5ldyhlPWk/aTpFdD9fOlN0P3E6Q3Q/SDpMKSh0LEUpfWZ1bmN0aW9uIEUodCxlLGkpe3ZhciBuPWkucG9pbnRlcnMubGVuZ3RoLHM9aS5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoLG89ZSZNdCYmbi1zPT09MCxhPWUmKE50fEl0KSYmbi1zPT09MDtpLmlzRmlyc3Q9ISFvLGkuaXNGaW5hbD0hIWEsbyYmKHQuc2Vzc2lvbj17fSksaS5ldmVudFR5cGU9ZSxTKHQsaSksdC5lbWl0KFwiaGFtbWVyLmlucHV0XCIsaSksdC5yZWNvZ25pemUoaSksdC5zZXNzaW9uLnByZXZJbnB1dD1pfWZ1bmN0aW9uIFModCxlKXt2YXIgaT10LnNlc3Npb24sbj1lLnBvaW50ZXJzLHM9bi5sZW5ndGg7aS5maXJzdElucHV0fHwoaS5maXJzdElucHV0PUYoZSkpLHM+MSYmIWkuZmlyc3RNdWx0aXBsZT9pLmZpcnN0TXVsdGlwbGU9RihlKToxPT09cyYmKGkuZmlyc3RNdWx0aXBsZT0hMSk7dmFyIG89aS5maXJzdElucHV0LGE9aS5maXJzdE11bHRpcGxlLHI9YT9hLmNlbnRlcjpvLmNlbnRlcixsPWUuY2VudGVyPUEobik7ZS50aW1lU3RhbXA9eXQoKSxlLmRlbHRhVGltZT1lLnRpbWVTdGFtcC1vLnRpbWVTdGFtcCxlLmFuZ2xlPU4ocixsKSxlLmRpc3RhbmNlPVAocixsKSxrKGksZSksZS5vZmZzZXREaXJlY3Rpb249TShlLmRlbHRhWCxlLmRlbHRhWSk7dmFyIGM9JChlLmRlbHRhVGltZSxlLmRlbHRhWCxlLmRlbHRhWSk7ZS5vdmVyYWxsVmVsb2NpdHlYPWMueCxlLm92ZXJhbGxWZWxvY2l0eVk9Yy55LGUub3ZlcmFsbFZlbG9jaXR5PWd0KGMueCk+Z3QoYy55KT9jLng6Yy55LGUuc2NhbGU9YT9PKGEucG9pbnRlcnMsbik6MSxlLnJvdGF0aW9uPWE/SShhLnBvaW50ZXJzLG4pOjAsZS5tYXhQb2ludGVycz1pLnByZXZJbnB1dD9lLnBvaW50ZXJzLmxlbmd0aD5pLnByZXZJbnB1dC5tYXhQb2ludGVycz9lLnBvaW50ZXJzLmxlbmd0aDppLnByZXZJbnB1dC5tYXhQb2ludGVyczplLnBvaW50ZXJzLmxlbmd0aCxEKGksZSk7dmFyIHU9dC5lbGVtZW50O3AoZS5zcmNFdmVudC50YXJnZXQsdSkmJih1PWUuc3JjRXZlbnQudGFyZ2V0KSxlLnRhcmdldD11fWZ1bmN0aW9uIGsodCxlKXt2YXIgaT1lLmNlbnRlcixuPXQub2Zmc2V0RGVsdGF8fHt9LHM9dC5wcmV2RGVsdGF8fHt9LG89dC5wcmV2SW5wdXR8fHt9O2UuZXZlbnRUeXBlIT09TXQmJm8uZXZlbnRUeXBlIT09TnR8fChzPXQucHJldkRlbHRhPXt4Om8uZGVsdGFYfHwwLHk6by5kZWx0YVl8fDB9LG49dC5vZmZzZXREZWx0YT17eDppLngseTppLnl9KSxlLmRlbHRhWD1zLngrKGkueC1uLngpLGUuZGVsdGFZPXMueSsoaS55LW4ueSl9ZnVuY3Rpb24gRCh0LGUpe3ZhciBpLG4scyxvLGE9dC5sYXN0SW50ZXJ2YWx8fGUscj1lLnRpbWVTdGFtcC1hLnRpbWVTdGFtcDtpZihlLmV2ZW50VHlwZSE9SXQmJihyPiR0fHx2b2lkIDA9PT1hLnZlbG9jaXR5KSl7dmFyIGw9ZS5kZWx0YVgtYS5kZWx0YVgsYz1lLmRlbHRhWS1hLmRlbHRhWSx1PSQocixsLGMpO249dS54LHM9dS55LGk9Z3QodS54KT5ndCh1LnkpP3UueDp1Lnksbz1NKGwsYyksdC5sYXN0SW50ZXJ2YWw9ZX1lbHNlIGk9YS52ZWxvY2l0eSxuPWEudmVsb2NpdHlYLHM9YS52ZWxvY2l0eVksbz1hLmRpcmVjdGlvbjtlLnZlbG9jaXR5PWksZS52ZWxvY2l0eVg9bixlLnZlbG9jaXR5WT1zLGUuZGlyZWN0aW9uPW99ZnVuY3Rpb24gRih0KXtmb3IodmFyIGU9W10saT0wO2k8dC5wb2ludGVycy5sZW5ndGg7KWVbaV09e2NsaWVudFg6dnQodC5wb2ludGVyc1tpXS5jbGllbnRYKSxjbGllbnRZOnZ0KHQucG9pbnRlcnNbaV0uY2xpZW50WSl9LGkrKztyZXR1cm57dGltZVN0YW1wOnl0KCkscG9pbnRlcnM6ZSxjZW50ZXI6QShlKSxkZWx0YVg6dC5kZWx0YVgsZGVsdGFZOnQuZGVsdGFZfX1mdW5jdGlvbiBBKHQpe3ZhciBlPXQubGVuZ3RoO2lmKDE9PT1lKXJldHVybnt4OnZ0KHRbMF0uY2xpZW50WCkseTp2dCh0WzBdLmNsaWVudFkpfTtmb3IodmFyIGk9MCxuPTAscz0wO3M8ZTspaSs9dFtzXS5jbGllbnRYLG4rPXRbc10uY2xpZW50WSxzKys7cmV0dXJue3g6dnQoaS9lKSx5OnZ0KG4vZSl9fWZ1bmN0aW9uICQodCxlLGkpe3JldHVybnt4OmUvdHx8MCx5OmkvdHx8MH19ZnVuY3Rpb24gTSh0LGUpe3JldHVybiB0PT09ZT9PdDpndCh0KT49Z3QoZSk/dDwwP0x0Ol90OmU8MD96dDpSdH1mdW5jdGlvbiBQKHQsZSxpKXtpfHwoaT1CdCk7dmFyIG49ZVtpWzBdXS10W2lbMF1dLHM9ZVtpWzFdXS10W2lbMV1dO3JldHVybiBNYXRoLnNxcnQobipuK3Mqcyl9ZnVuY3Rpb24gTih0LGUsaSl7aXx8KGk9QnQpO3ZhciBuPWVbaVswXV0tdFtpWzBdXSxzPWVbaVsxXV0tdFtpWzFdXTtyZXR1cm4gMTgwKk1hdGguYXRhbjIocyxuKS9NYXRoLlBJfWZ1bmN0aW9uIEkodCxlKXtyZXR1cm4gTihlWzFdLGVbMF0sVXQpK04odFsxXSx0WzBdLFV0KX1mdW5jdGlvbiBPKHQsZSl7cmV0dXJuIFAoZVswXSxlWzFdLFV0KS9QKHRbMF0sdFsxXSxVdCl9ZnVuY3Rpb24gTCgpe3RoaXMuZXZFbD1YdCx0aGlzLmV2V2luPVl0LHRoaXMucHJlc3NlZD0hMSx4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBfKCl7dGhpcy5ldkVsPUd0LHRoaXMuZXZXaW49S3QseC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5zdG9yZT10aGlzLm1hbmFnZXIuc2Vzc2lvbi5wb2ludGVyRXZlbnRzPVtdfWZ1bmN0aW9uIHooKXt0aGlzLmV2VGFyZ2V0PVF0LHRoaXMuZXZXaW49dGUsdGhpcy5zdGFydGVkPSExLHguYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFIodCxlKXt2YXIgaT1nKHQudG91Y2hlcyksbj1nKHQuY2hhbmdlZFRvdWNoZXMpO3JldHVybiBlJihOdHxJdCkmJihpPXkoaS5jb25jYXQobiksXCJpZGVudGlmaWVyXCIsITApKSxbaSxuXX1mdW5jdGlvbiBxKCl7dGhpcy5ldlRhcmdldD1pZSx0aGlzLnRhcmdldElkcz17fSx4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBXKHQsZSl7dmFyIGk9Zyh0LnRvdWNoZXMpLG49dGhpcy50YXJnZXRJZHM7aWYoZSYoTXR8UHQpJiYxPT09aS5sZW5ndGgpcmV0dXJuIG5baVswXS5pZGVudGlmaWVyXT0hMCxbaSxpXTt2YXIgcyxvLGE9Zyh0LmNoYW5nZWRUb3VjaGVzKSxyPVtdLGw9dGhpcy50YXJnZXQ7aWYobz1pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gcCh0LnRhcmdldCxsKX0pLGU9PT1NdClmb3Iocz0wO3M8by5sZW5ndGg7KW5bb1tzXS5pZGVudGlmaWVyXT0hMCxzKys7Zm9yKHM9MDtzPGEubGVuZ3RoOyluW2Fbc10uaWRlbnRpZmllcl0mJnIucHVzaChhW3NdKSxlJihOdHxJdCkmJmRlbGV0ZSBuW2Fbc10uaWRlbnRpZmllcl0scysrO3JldHVybiByLmxlbmd0aD9beShvLmNvbmNhdChyKSxcImlkZW50aWZpZXJcIiwhMCkscl06dm9pZCAwfWZ1bmN0aW9uIEgoKXt4LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgdD1sKHRoaXMuaGFuZGxlcix0aGlzKTt0aGlzLnRvdWNoPW5ldyBxKHRoaXMubWFuYWdlcix0KSx0aGlzLm1vdXNlPW5ldyBMKHRoaXMubWFuYWdlcix0KSx0aGlzLnByaW1hcnlUb3VjaD1udWxsLHRoaXMubGFzdFRvdWNoZXM9W119ZnVuY3Rpb24gQih0LGUpe3QmTXQ/KHRoaXMucHJpbWFyeVRvdWNoPWUuY2hhbmdlZFBvaW50ZXJzWzBdLmlkZW50aWZpZXIsVS5jYWxsKHRoaXMsZSkpOnQmKE50fEl0KSYmVS5jYWxsKHRoaXMsZSl9ZnVuY3Rpb24gVSh0KXt2YXIgZT10LmNoYW5nZWRQb2ludGVyc1swXTtpZihlLmlkZW50aWZpZXI9PT10aGlzLnByaW1hcnlUb3VjaCl7dmFyIGk9e3g6ZS5jbGllbnRYLHk6ZS5jbGllbnRZfTt0aGlzLmxhc3RUb3VjaGVzLnB1c2goaSk7dmFyIG49dGhpcy5sYXN0VG91Y2hlcyxzPWZ1bmN0aW9uKCl7dmFyIHQ9bi5pbmRleE9mKGkpO3Q+LTEmJm4uc3BsaWNlKHQsMSl9O3NldFRpbWVvdXQocyxuZSl9fWZ1bmN0aW9uIFYodCl7Zm9yKHZhciBlPXQuc3JjRXZlbnQuY2xpZW50WCxpPXQuc3JjRXZlbnQuY2xpZW50WSxuPTA7bjx0aGlzLmxhc3RUb3VjaGVzLmxlbmd0aDtuKyspe3ZhciBzPXRoaXMubGFzdFRvdWNoZXNbbl0sbz1NYXRoLmFicyhlLXMueCksYT1NYXRoLmFicyhpLXMueSk7aWYobzw9c2UmJmE8PXNlKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIFgodCxlKXt0aGlzLm1hbmFnZXI9dCx0aGlzLnNldChlKX1mdW5jdGlvbiBZKHQpe2lmKG0odCx1ZSkpcmV0dXJuIHVlO3ZhciBlPW0odCxoZSksaT1tKHQsZGUpO3JldHVybiBlJiZpP3VlOmV8fGk/ZT9oZTpkZTptKHQsY2UpP2NlOmxlfWZ1bmN0aW9uIGooKXtpZighYWUpcmV0dXJuITE7dmFyIHQ9e30sZT13aW5kb3cuQ1NTJiZ3aW5kb3cuQ1NTLnN1cHBvcnRzO3JldHVybltcImF1dG9cIixcIm1hbmlwdWxhdGlvblwiLFwicGFuLXlcIixcInBhbi14XCIsXCJwYW4teCBwYW4teVwiLFwibm9uZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3RbaV09IWV8fHdpbmRvdy5DU1Muc3VwcG9ydHMoXCJ0b3VjaC1hY3Rpb25cIixpKX0pLHR9ZnVuY3Rpb24gWih0KXt0aGlzLm9wdGlvbnM9dXQoe30sdGhpcy5kZWZhdWx0cyx0fHx7fSksdGhpcy5pZD1iKCksdGhpcy5tYW5hZ2VyPW51bGwsdGhpcy5vcHRpb25zLmVuYWJsZT11KHRoaXMub3B0aW9ucy5lbmFibGUsITApLHRoaXMuc3RhdGU9bWUsdGhpcy5zaW11bHRhbmVvdXM9e30sdGhpcy5yZXF1aXJlRmFpbD1bXX1mdW5jdGlvbiBHKHQpe3JldHVybiB0JndlP1wiY2FuY2VsXCI6dCZnZT9cImVuZFwiOnQmdmU/XCJtb3ZlXCI6dCZmZT9cInN0YXJ0XCI6XCJcIn1mdW5jdGlvbiBLKHQpe3JldHVybiB0PT1SdD9cImRvd25cIjp0PT16dD9cInVwXCI6dD09THQ/XCJsZWZ0XCI6dD09X3Q/XCJyaWdodFwiOlwiXCJ9ZnVuY3Rpb24gSih0LGUpe3ZhciBpPWUubWFuYWdlcjtyZXR1cm4gaT9pLmdldCh0KTp0fWZ1bmN0aW9uIFEoKXtaLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB0dCgpe1EuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucFg9bnVsbCx0aGlzLnBZPW51bGx9ZnVuY3Rpb24gZXQoKXtRLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBpdCgpe1ouYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3RpbWVyPW51bGwsdGhpcy5faW5wdXQ9bnVsbH1mdW5jdGlvbiBudCgpe1EuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHN0KCl7US5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gb3QoKXtaLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnBUaW1lPSExLHRoaXMucENlbnRlcj0hMSx0aGlzLl90aW1lcj1udWxsLHRoaXMuX2lucHV0PW51bGwsdGhpcy5jb3VudD0wfWZ1bmN0aW9uIGF0KHQsZSl7cmV0dXJuIGU9ZXx8e30sZS5yZWNvZ25pemVycz11KGUucmVjb2duaXplcnMsYXQuZGVmYXVsdHMucHJlc2V0KSxuZXcgcnQodCxlKX1mdW5jdGlvbiBydCh0LGUpe3RoaXMub3B0aW9ucz11dCh7fSxhdC5kZWZhdWx0cyxlfHx7fSksdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0PXRoaXMub3B0aW9ucy5pbnB1dFRhcmdldHx8dCx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuc2Vzc2lvbj17fSx0aGlzLnJlY29nbml6ZXJzPVtdLHRoaXMub2xkQ3NzUHJvcHM9e30sdGhpcy5lbGVtZW50PXQsdGhpcy5pbnB1dD1DKHRoaXMpLHRoaXMudG91Y2hBY3Rpb249bmV3IFgodGhpcyx0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pLGx0KHRoaXMsITApLG8odGhpcy5vcHRpb25zLnJlY29nbml6ZXJzLGZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYWRkKG5ldyB0WzBdKHRbMV0pKTt0WzJdJiZlLnJlY29nbml6ZVdpdGgodFsyXSksdFszXSYmZS5yZXF1aXJlRmFpbHVyZSh0WzNdKX0sdGhpcyl9ZnVuY3Rpb24gbHQodCxlKXt2YXIgaT10LmVsZW1lbnQ7aWYoaS5zdHlsZSl7dmFyIG47byh0Lm9wdGlvbnMuY3NzUHJvcHMsZnVuY3Rpb24ocyxvKXtuPXcoaS5zdHlsZSxvKSxlPyh0Lm9sZENzc1Byb3BzW25dPWkuc3R5bGVbbl0saS5zdHlsZVtuXT1zKTppLnN0eWxlW25dPXQub2xkQ3NzUHJvcHNbbl18fFwiXCJ9KSxlfHwodC5vbGRDc3NQcm9wcz17fSl9fWZ1bmN0aW9uIGN0KHQsZSl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtpLmluaXRFdmVudCh0LCEwLCEwKSxpLmdlc3R1cmU9ZSxlLnRhcmdldC5kaXNwYXRjaEV2ZW50KGkpfXZhciB1dCxodD1pKDEpLGR0PWkoMikscHQ9W1wiXCIsXCJ3ZWJraXRcIixcIk1velwiLFwiTVNcIixcIm1zXCIsXCJvXCJdLG10PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZnQ9XCJmdW5jdGlvblwiLHZ0PU1hdGgucm91bmQsZ3Q9TWF0aC5hYnMseXQ9RGF0ZS5ub3c7dXQ9XCJmdW5jdGlvblwiIT10eXBlb2YgT2JqZWN0LmFzc2lnbj9mdW5jdGlvbih0KXtpZih2b2lkIDA9PT10fHxudWxsPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgZT1PYmplY3QodCksaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBuPWFyZ3VtZW50c1tpXTtpZih2b2lkIDAhPT1uJiZudWxsIT09bilmb3IodmFyIHMgaW4gbiluLmhhc093blByb3BlcnR5KHMpJiYoZVtzXT1uW3NdKX1yZXR1cm4gZX06T2JqZWN0LmFzc2lnbjt2YXIgd3Q9YShmdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPU9iamVjdC5rZXlzKGUpLHM9MDtzPG4ubGVuZ3RoOykoIWl8fGkmJnZvaWQgMD09PXRbbltzXV0pJiYodFtuW3NdXT1lW25bc11dKSxzKys7cmV0dXJuIHR9LFwiZXh0ZW5kXCIsXCJVc2UgYGFzc2lnbmAuXCIpLGJ0PWEoZnVuY3Rpb24odCxlKXtyZXR1cm4gd3QodCxlLCEwKX0sXCJtZXJnZVwiLFwiVXNlIGBhc3NpZ25gLlwiKSxUdD0xLHh0PS9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaSxDdD1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93LEV0PXZvaWQgMCE9PXcod2luZG93LFwiUG9pbnRlckV2ZW50XCIpLFN0PUN0JiZ4dC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLGt0PVwidG91Y2hcIixEdD1cInBlblwiLEZ0PVwibW91c2VcIixBdD1cImtpbmVjdFwiLCR0PTI1LE10PTEsUHQ9MixOdD00LEl0PTgsT3Q9MSxMdD0yLF90PTQsenQ9OCxSdD0xNixxdD1MdHxfdCxXdD16dHxSdCxIdD1xdHxXdCxCdD1bXCJ4XCIsXCJ5XCJdLFV0PVtcImNsaWVudFhcIixcImNsaWVudFlcIl07eC5wcm90b3R5cGU9e2hhbmRsZXI6ZnVuY3Rpb24oKXt9LGluaXQ6ZnVuY3Rpb24oKXt0aGlzLmV2RWwmJmgodGhpcy5lbGVtZW50LHRoaXMuZXZFbCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZUYXJnZXQmJmgodGhpcy50YXJnZXQsdGhpcy5ldlRhcmdldCx0aGlzLmRvbUhhbmRsZXIpLHRoaXMuZXZXaW4mJmgoVCh0aGlzLmVsZW1lbnQpLHRoaXMuZXZXaW4sdGhpcy5kb21IYW5kbGVyKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZXZFbCYmZCh0aGlzLmVsZW1lbnQsdGhpcy5ldkVsLHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldlRhcmdldCYmZCh0aGlzLnRhcmdldCx0aGlzLmV2VGFyZ2V0LHRoaXMuZG9tSGFuZGxlciksdGhpcy5ldldpbiYmZChUKHRoaXMuZWxlbWVudCksdGhpcy5ldldpbix0aGlzLmRvbUhhbmRsZXIpfX07dmFyIFZ0PXttb3VzZWRvd246TXQsbW91c2Vtb3ZlOlB0LG1vdXNldXA6TnR9LFh0PVwibW91c2Vkb3duXCIsWXQ9XCJtb3VzZW1vdmUgbW91c2V1cFwiO3IoTCx4LHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPVZ0W3QudHlwZV07ZSZNdCYmMD09PXQuYnV0dG9uJiYodGhpcy5wcmVzc2VkPSEwKSxlJlB0JiYxIT09dC53aGljaCYmKGU9TnQpLHRoaXMucHJlc3NlZCYmKGUmTnQmJih0aGlzLnByZXNzZWQ9ITEpLHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOlt0XSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOkZ0LHNyY0V2ZW50OnR9KSl9fSk7dmFyIGp0PXtwb2ludGVyZG93bjpNdCxwb2ludGVybW92ZTpQdCxwb2ludGVydXA6TnQscG9pbnRlcmNhbmNlbDpJdCxwb2ludGVyb3V0Okl0fSxadD17MjprdCwzOkR0LDQ6RnQsNTpBdH0sR3Q9XCJwb2ludGVyZG93blwiLEt0PVwicG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWxcIjt3aW5kb3cuTVNQb2ludGVyRXZlbnQmJiF3aW5kb3cuUG9pbnRlckV2ZW50JiYoR3Q9XCJNU1BvaW50ZXJEb3duXCIsS3Q9XCJNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbFwiKSxyKF8seCx7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0b3JlLGk9ITEsbj10LnR5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwibXNcIixcIlwiKSxzPWp0W25dLG89WnRbdC5wb2ludGVyVHlwZV18fHQucG9pbnRlclR5cGUsYT1vPT1rdCxyPXYoZSx0LnBvaW50ZXJJZCxcInBvaW50ZXJJZFwiKTtzJk10JiYoMD09PXQuYnV0dG9ufHxhKT9yPDAmJihlLnB1c2godCkscj1lLmxlbmd0aC0xKTpzJihOdHxJdCkmJihpPSEwKSxyPDB8fChlW3JdPXQsdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIscyx7cG9pbnRlcnM6ZSxjaGFuZ2VkUG9pbnRlcnM6W3RdLHBvaW50ZXJUeXBlOm8sc3JjRXZlbnQ6dH0pLGkmJmUuc3BsaWNlKHIsMSkpfX0pO3ZhciBKdD17dG91Y2hzdGFydDpNdCx0b3VjaG1vdmU6UHQsdG91Y2hlbmQ6TnQsdG91Y2hjYW5jZWw6SXR9LFF0PVwidG91Y2hzdGFydFwiLHRlPVwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWxcIjtyKHoseCx7aGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgZT1KdFt0LnR5cGVdO2lmKGU9PT1NdCYmKHRoaXMuc3RhcnRlZD0hMCksdGhpcy5zdGFydGVkKXt2YXIgaT1SLmNhbGwodGhpcyx0LGUpO2UmKE50fEl0KSYmaVswXS5sZW5ndGgtaVsxXS5sZW5ndGg9PT0wJiYodGhpcy5zdGFydGVkPSExKSx0aGlzLmNhbGxiYWNrKHRoaXMubWFuYWdlcixlLHtwb2ludGVyczppWzBdLGNoYW5nZWRQb2ludGVyczppWzFdLHBvaW50ZXJUeXBlOmt0LHNyY0V2ZW50OnR9KX19fSk7dmFyIGVlPXt0b3VjaHN0YXJ0Ok10LHRvdWNobW92ZTpQdCx0b3VjaGVuZDpOdCx0b3VjaGNhbmNlbDpJdH0saWU9XCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiO3IocSx4LHtoYW5kbGVyOmZ1bmN0aW9uKHQpe3ZhciBlPWVlW3QudHlwZV0saT1XLmNhbGwodGhpcyx0LGUpO2kmJnRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLGUse3BvaW50ZXJzOmlbMF0sY2hhbmdlZFBvaW50ZXJzOmlbMV0scG9pbnRlclR5cGU6a3Qsc3JjRXZlbnQ6dH0pfX0pO3ZhciBuZT0yNTAwLHNlPTI1O3IoSCx4LHtoYW5kbGVyOmZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1pLnBvaW50ZXJUeXBlPT1rdCxzPWkucG9pbnRlclR5cGU9PUZ0O2lmKCEocyYmaS5zb3VyY2VDYXBhYmlsaXRpZXMmJmkuc291cmNlQ2FwYWJpbGl0aWVzLmZpcmVzVG91Y2hFdmVudHMpKXtpZihuKUIuY2FsbCh0aGlzLGUsaSk7ZWxzZSBpZihzJiZWLmNhbGwodGhpcyxpKSlyZXR1cm47dGhpcy5jYWxsYmFjayh0LGUsaSl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy50b3VjaC5kZXN0cm95KCksdGhpcy5tb3VzZS5kZXN0cm95KCl9fSk7dmFyIG9lPXcobXQuc3R5bGUsXCJ0b3VjaEFjdGlvblwiKSxhZT12b2lkIDAhPT1vZSxyZT1cImNvbXB1dGVcIixsZT1cImF1dG9cIixjZT1cIm1hbmlwdWxhdGlvblwiLHVlPVwibm9uZVwiLGhlPVwicGFuLXhcIixkZT1cInBhbi15XCIscGU9aigpO1gucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24odCl7dD09cmUmJih0PXRoaXMuY29tcHV0ZSgpKSxhZSYmdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGUmJnBlW3RdJiYodGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbb2VdPXQpLHRoaXMuYWN0aW9ucz10LnRvTG93ZXJDYXNlKCkudHJpbSgpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbil9LGNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gbyh0aGlzLm1hbmFnZXIucmVjb2duaXplcnMsZnVuY3Rpb24oZSl7YyhlLm9wdGlvbnMuZW5hYmxlLFtlXSkmJih0PXQuY29uY2F0KGUuZ2V0VG91Y2hBY3Rpb24oKSkpfSksWSh0LmpvaW4oXCIgXCIpKX0scHJldmVudERlZmF1bHRzOmZ1bmN0aW9uKHQpe3ZhciBlPXQuc3JjRXZlbnQsaT10Lm9mZnNldERpcmVjdGlvbjtpZih0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQpcmV0dXJuIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPXRoaXMuYWN0aW9ucyxzPW0obix1ZSkmJiFwZVt1ZV0sbz1tKG4sZGUpJiYhcGVbZGVdLGE9bShuLGhlKSYmIXBlW2hlXTtpZihzKXt2YXIgcj0xPT09dC5wb2ludGVycy5sZW5ndGgsbD10LmRpc3RhbmNlPDIsYz10LmRlbHRhVGltZTwyNTA7aWYociYmbCYmYylyZXR1cm59cmV0dXJuIGEmJm8/dm9pZCAwOnN8fG8mJmkmcXR8fGEmJmkmV3Q/dGhpcy5wcmV2ZW50U3JjKGUpOnZvaWQgMH0scHJldmVudFNyYzpmdW5jdGlvbih0KXt0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQ9ITAsdC5wcmV2ZW50RGVmYXVsdCgpfX07dmFyIG1lPTEsZmU9Mix2ZT00LGdlPTgseWU9Z2Usd2U9MTYsYmU9MzI7Wi5wcm90b3R5cGU9e2RlZmF1bHRzOnt9LHNldDpmdW5jdGlvbih0KXtyZXR1cm4gdXQodGhpcy5vcHRpb25zLHQpLHRoaXMubWFuYWdlciYmdGhpcy5tYW5hZ2VyLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHRoaXN9LHJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7aWYocyh0LFwicmVjb2duaXplV2l0aFwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuc2ltdWx0YW5lb3VzO3JldHVybiB0PUoodCx0aGlzKSxlW3QuaWRdfHwoZVt0LmlkXT10LHQucmVjb2duaXplV2l0aCh0aGlzKSksdGhpc30sZHJvcFJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuIHModCxcImRyb3BSZWNvZ25pemVXaXRoXCIsdGhpcyk/dGhpczoodD1KKHQsdGhpcyksZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW3QuaWRdLHRoaXMpfSxyZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihzKHQsXCJyZXF1aXJlRmFpbHVyZVwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMucmVxdWlyZUZhaWw7cmV0dXJuIHQ9Sih0LHRoaXMpLHYoZSx0KT09PS0xJiYoZS5wdXNoKHQpLHQucmVxdWlyZUZhaWx1cmUodGhpcykpLHRoaXN9LGRyb3BSZXF1aXJlRmFpbHVyZTpmdW5jdGlvbih0KXtpZihzKHQsXCJkcm9wUmVxdWlyZUZhaWx1cmVcIix0aGlzKSlyZXR1cm4gdGhpczt0PUoodCx0aGlzKTt2YXIgZT12KHRoaXMucmVxdWlyZUZhaWwsdCk7cmV0dXJuIGU+LTEmJnRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGUsMSksdGhpc30saGFzUmVxdWlyZUZhaWx1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVxdWlyZUZhaWwubGVuZ3RoPjB9LGNhblJlY29nbml6ZVdpdGg6ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLnNpbXVsdGFuZW91c1t0LmlkXX0sZW1pdDpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKGUpe2kubWFuYWdlci5lbWl0KGUsdCl9dmFyIGk9dGhpcyxuPXRoaXMuc3RhdGU7bjxnZSYmZShpLm9wdGlvbnMuZXZlbnQrRyhuKSksZShpLm9wdGlvbnMuZXZlbnQpLHQuYWRkaXRpb25hbEV2ZW50JiZlKHQuYWRkaXRpb25hbEV2ZW50KSxuPj1nZSYmZShpLm9wdGlvbnMuZXZlbnQrRyhuKSl9LHRyeUVtaXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FuRW1pdCgpP3RoaXMuZW1pdCh0KTp2b2lkKHRoaXMuc3RhdGU9YmUpfSxjYW5FbWl0OmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aDspe2lmKCEodGhpcy5yZXF1aXJlRmFpbFt0XS5zdGF0ZSYoYmV8bWUpKSlyZXR1cm4hMTt0Kyt9cmV0dXJuITB9LHJlY29nbml6ZTpmdW5jdGlvbih0KXt2YXIgZT11dCh7fSx0KTtyZXR1cm4gYyh0aGlzLm9wdGlvbnMuZW5hYmxlLFt0aGlzLGVdKT8odGhpcy5zdGF0ZSYoeWV8d2V8YmUpJiYodGhpcy5zdGF0ZT1tZSksdGhpcy5zdGF0ZT10aGlzLnByb2Nlc3MoZSksdm9pZCh0aGlzLnN0YXRlJihmZXx2ZXxnZXx3ZSkmJnRoaXMudHJ5RW1pdChlKSkpOih0aGlzLnJlc2V0KCksdm9pZCh0aGlzLnN0YXRlPWJlKSl9LHByb2Nlc3M6ZnVuY3Rpb24odCl7fSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe30scmVzZXQ6ZnVuY3Rpb24oKXt9fSxyKFEsWix7ZGVmYXVsdHM6e3BvaW50ZXJzOjF9LGF0dHJUZXN0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucy5wb2ludGVycztyZXR1cm4gMD09PWV8fHQucG9pbnRlcnMubGVuZ3RoPT09ZX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnN0YXRlLGk9dC5ldmVudFR5cGUsbj1lJihmZXx2ZSkscz10aGlzLmF0dHJUZXN0KHQpO3JldHVybiBuJiYoaSZJdHx8IXMpP2V8d2U6bnx8cz9pJk50P2V8Z2U6ZSZmZT9lfHZlOmZlOmJlfX0pLHIodHQsUSx7ZGVmYXVsdHM6e2V2ZW50OlwicGFuXCIsdGhyZXNob2xkOjEwLHBvaW50ZXJzOjEsZGlyZWN0aW9uOkh0fSxnZXRUb3VjaEFjdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5kaXJlY3Rpb24sZT1bXTtyZXR1cm4gdCZxdCYmZS5wdXNoKGRlKSx0Jld0JiZlLnB1c2goaGUpLGV9LGRpcmVjdGlvblRlc3Q6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9ITAsbj10LmRpc3RhbmNlLHM9dC5kaXJlY3Rpb24sbz10LmRlbHRhWCxhPXQuZGVsdGFZO3JldHVybiBzJmUuZGlyZWN0aW9ufHwoZS5kaXJlY3Rpb24mcXQ/KHM9MD09PW8/T3Q6bzwwP0x0Ol90LGk9byE9dGhpcy5wWCxuPU1hdGguYWJzKHQuZGVsdGFYKSk6KHM9MD09PWE/T3Q6YTwwP3p0OlJ0LGk9YSE9dGhpcy5wWSxuPU1hdGguYWJzKHQuZGVsdGFZKSkpLHQuZGlyZWN0aW9uPXMsaSYmbj5lLnRocmVzaG9sZCYmcyZlLmRpcmVjdGlvbn0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIFEucHJvdG90eXBlLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKHRoaXMuc3RhdGUmZmV8fCEodGhpcy5zdGF0ZSZmZSkmJnRoaXMuZGlyZWN0aW9uVGVzdCh0KSl9LGVtaXQ6ZnVuY3Rpb24odCl7dGhpcy5wWD10LmRlbHRhWCx0aGlzLnBZPXQuZGVsdGFZO3ZhciBlPUsodC5kaXJlY3Rpb24pO2UmJih0LmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQrZSksdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsdCl9fSkscihldCxRLHtkZWZhdWx0czp7ZXZlbnQ6XCJwaW5jaFwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW3VlXX0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKE1hdGguYWJzKHQuc2NhbGUtMSk+dGhpcy5vcHRpb25zLnRocmVzaG9sZHx8dGhpcy5zdGF0ZSZmZSl9LGVtaXQ6ZnVuY3Rpb24odCl7aWYoMSE9PXQuc2NhbGUpe3ZhciBlPXQuc2NhbGU8MT9cImluXCI6XCJvdXRcIjt0LmFkZGl0aW9uYWxFdmVudD10aGlzLm9wdGlvbnMuZXZlbnQrZX10aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcyx0KX19KSxyKGl0LFose2RlZmF1bHRzOntldmVudDpcInByZXNzXCIscG9pbnRlcnM6MSx0aW1lOjI1MSx0aHJlc2hvbGQ6OX0sZ2V0VG91Y2hBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm5bbGVdfSxwcm9jZXNzOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPXQucG9pbnRlcnMubGVuZ3RoPT09ZS5wb2ludGVycyxzPXQuZGlzdGFuY2U8ZS50aHJlc2hvbGQsbz10LmRlbHRhVGltZT5lLnRpbWU7aWYodGhpcy5faW5wdXQ9dCwhc3x8IWl8fHQuZXZlbnRUeXBlJihOdHxJdCkmJiFvKXRoaXMucmVzZXQoKTtlbHNlIGlmKHQuZXZlbnRUeXBlJk10KXRoaXMucmVzZXQoKSx0aGlzLl90aW1lcj1uKGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT15ZSx0aGlzLnRyeUVtaXQoKX0sZS50aW1lLHRoaXMpO2Vsc2UgaWYodC5ldmVudFR5cGUmTnQpcmV0dXJuIHllO3JldHVybiBiZX0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKHQpe3RoaXMuc3RhdGU9PT15ZSYmKHQmJnQuZXZlbnRUeXBlJk50P3RoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtcInVwXCIsdCk6KHRoaXMuX2lucHV0LnRpbWVTdGFtcD15dCgpLHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0aGlzLl9pbnB1dCkpKX19KSxyKG50LFEse2RlZmF1bHRzOntldmVudDpcInJvdGF0ZVwiLHRocmVzaG9sZDowLHBvaW50ZXJzOjJ9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW3VlXX0sYXR0clRlc3Q6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcyx0KSYmKE1hdGguYWJzKHQucm90YXRpb24pPnRoaXMub3B0aW9ucy50aHJlc2hvbGR8fHRoaXMuc3RhdGUmZmUpfX0pLHIoc3QsUSx7ZGVmYXVsdHM6e2V2ZW50Olwic3dpcGVcIix0aHJlc2hvbGQ6MTAsdmVsb2NpdHk6LjMsZGlyZWN0aW9uOnF0fFd0LHBvaW50ZXJzOjF9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHR0LnByb3RvdHlwZS5nZXRUb3VjaEFjdGlvbi5jYWxsKHRoaXMpfSxhdHRyVGVzdDpmdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMub3B0aW9ucy5kaXJlY3Rpb247cmV0dXJuIGkmKHF0fFd0KT9lPXQub3ZlcmFsbFZlbG9jaXR5OmkmcXQ/ZT10Lm92ZXJhbGxWZWxvY2l0eVg6aSZXdCYmKGU9dC5vdmVyYWxsVmVsb2NpdHlZKSx0aGlzLl9zdXBlci5hdHRyVGVzdC5jYWxsKHRoaXMsdCkmJmkmdC5vZmZzZXREaXJlY3Rpb24mJnQuZGlzdGFuY2U+dGhpcy5vcHRpb25zLnRocmVzaG9sZCYmdC5tYXhQb2ludGVycz09dGhpcy5vcHRpb25zLnBvaW50ZXJzJiZndChlKT50aGlzLm9wdGlvbnMudmVsb2NpdHkmJnQuZXZlbnRUeXBlJk50fSxlbWl0OmZ1bmN0aW9uKHQpe3ZhciBlPUsodC5vZmZzZXREaXJlY3Rpb24pO2UmJnRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCtlLHQpLHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0KX19KSxyKG90LFose2RlZmF1bHRzOntldmVudDpcInRhcFwiLHBvaW50ZXJzOjEsdGFwczoxLGludGVydmFsOjMwMCx0aW1lOjI1MCx0aHJlc2hvbGQ6OSxwb3NUaHJlc2hvbGQ6MTB9LGdldFRvdWNoQWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuW2NlXX0scHJvY2VzczpmdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMsaT10LnBvaW50ZXJzLmxlbmd0aD09PWUucG9pbnRlcnMscz10LmRpc3RhbmNlPGUudGhyZXNob2xkLG89dC5kZWx0YVRpbWU8ZS50aW1lO2lmKHRoaXMucmVzZXQoKSx0LmV2ZW50VHlwZSZNdCYmMD09PXRoaXMuY291bnQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtpZihzJiZvJiZpKXtpZih0LmV2ZW50VHlwZSE9TnQpcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTt2YXIgYT0hdGhpcy5wVGltZXx8dC50aW1lU3RhbXAtdGhpcy5wVGltZTxlLmludGVydmFsLHI9IXRoaXMucENlbnRlcnx8UCh0aGlzLnBDZW50ZXIsdC5jZW50ZXIpPGUucG9zVGhyZXNob2xkO3RoaXMucFRpbWU9dC50aW1lU3RhbXAsdGhpcy5wQ2VudGVyPXQuY2VudGVyLHImJmE/dGhpcy5jb3VudCs9MTp0aGlzLmNvdW50PTEsdGhpcy5faW5wdXQ9dDt2YXIgbD10aGlzLmNvdW50JWUudGFwcztpZigwPT09bClyZXR1cm4gdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKT8odGhpcy5fdGltZXI9bihmdW5jdGlvbigpe3RoaXMuc3RhdGU9eWUsdGhpcy50cnlFbWl0KCl9LGUuaW50ZXJ2YWwsdGhpcyksZmUpOnllfXJldHVybiBiZX0sZmFpbFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZXI9bihmdW5jdGlvbigpe3RoaXMuc3RhdGU9YmV9LHRoaXMub3B0aW9ucy5pbnRlcnZhbCx0aGlzKSxiZX0scmVzZXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpfSxlbWl0OmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09eWUmJih0aGlzLl9pbnB1dC50YXBDb3VudD10aGlzLmNvdW50LHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCx0aGlzLl9pbnB1dCkpfX0pLGF0LlZFUlNJT049XCIyLjAuN1wiLGF0LmRlZmF1bHRzPXtkb21FdmVudHM6ITEsdG91Y2hBY3Rpb246cmUsZW5hYmxlOiEwLGlucHV0VGFyZ2V0Om51bGwsaW5wdXRDbGFzczpudWxsLHByZXNldDpbW250LHtlbmFibGU6ITF9XSxbZXQse2VuYWJsZTohMX0sW1wicm90YXRlXCJdXSxbc3Qse2RpcmVjdGlvbjpxdH1dLFt0dCx7ZGlyZWN0aW9uOnF0fSxbXCJzd2lwZVwiXV0sW290XSxbb3Qse2V2ZW50OlwiZG91YmxldGFwXCIsdGFwczoyfSxbXCJ0YXBcIl1dLFtpdF1dLGNzc1Byb3BzOnt1c2VyU2VsZWN0Olwibm9uZVwiLHRvdWNoU2VsZWN0Olwibm9uZVwiLHRvdWNoQ2FsbG91dDpcIm5vbmVcIixjb250ZW50Wm9vbWluZzpcIm5vbmVcIix1c2VyRHJhZzpcIm5vbmVcIix0YXBIaWdobGlnaHRDb2xvcjpcInJnYmEoMCwwLDAsMClcIn19O3ZhciBUZT0xLHhlPTI7cnQucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHV0KHRoaXMub3B0aW9ucyx0KSx0LnRvdWNoQWN0aW9uJiZ0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHQuaW5wdXRUYXJnZXQmJih0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLmlucHV0LnRhcmdldD10LmlucHV0VGFyZ2V0LHRoaXMuaW5wdXQuaW5pdCgpKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKHQpe3RoaXMuc2Vzc2lvbi5zdG9wcGVkPXQ/eGU6VGV9LHJlY29nbml6ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlc3Npb247aWYoIWUuc3RvcHBlZCl7dGhpcy50b3VjaEFjdGlvbi5wcmV2ZW50RGVmYXVsdHModCk7dmFyIGksbj10aGlzLnJlY29nbml6ZXJzLHM9ZS5jdXJSZWNvZ25pemVyOyghc3x8cyYmcy5zdGF0ZSZ5ZSkmJihzPWUuY3VyUmVjb2duaXplcj1udWxsKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoOylpPW5bb10sZS5zdG9wcGVkPT09eGV8fHMmJmkhPXMmJiFpLmNhblJlY29nbml6ZVdpdGgocyk/aS5yZXNldCgpOmkucmVjb2duaXplKHQpLCFzJiZpLnN0YXRlJihmZXx2ZXxnZSkmJihzPWUuY3VyUmVjb2duaXplcj1pKSxvKyt9fSxnZXQ6ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIFopcmV0dXJuIHQ7Zm9yKHZhciBlPXRoaXMucmVjb2duaXplcnMsaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0ub3B0aW9ucy5ldmVudD09dClyZXR1cm4gZVtpXTtyZXR1cm4gbnVsbH0sYWRkOmZ1bmN0aW9uKHQpe2lmKHModCxcImFkZFwiLHRoaXMpKXJldHVybiB0aGlzO3ZhciBlPXRoaXMuZ2V0KHQub3B0aW9ucy5ldmVudCk7cmV0dXJuIGUmJnRoaXMucmVtb3ZlKGUpLHRoaXMucmVjb2duaXplcnMucHVzaCh0KSx0Lm1hbmFnZXI9dGhpcyx0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpLHR9LHJlbW92ZTpmdW5jdGlvbih0KXtpZihzKHQsXCJyZW1vdmVcIix0aGlzKSlyZXR1cm4gdGhpcztpZih0PXRoaXMuZ2V0KHQpKXt2YXIgZT10aGlzLnJlY29nbml6ZXJzLGk9dihlLHQpO2khPT0tMSYmKGUuc3BsaWNlKGksMSksdGhpcy50b3VjaEFjdGlvbi51cGRhdGUoKSl9cmV0dXJuIHRoaXN9LG9uOmZ1bmN0aW9uKHQsZSl7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09ZSl7dmFyIGk9dGhpcy5oYW5kbGVycztyZXR1cm4gbyhmKHQpLGZ1bmN0aW9uKHQpe2lbdF09aVt0XXx8W10saVt0XS5wdXNoKGUpfSksdGhpc319LG9mZjpmdW5jdGlvbih0LGUpe2lmKHZvaWQgMCE9PXQpe3ZhciBpPXRoaXMuaGFuZGxlcnM7cmV0dXJuIG8oZih0KSxmdW5jdGlvbih0KXtlP2lbdF0mJmlbdF0uc3BsaWNlKHYoaVt0XSxlKSwxKTpkZWxldGUgaVt0XX0pLHRoaXN9fSxlbWl0OmZ1bmN0aW9uKHQsZSl7dGhpcy5vcHRpb25zLmRvbUV2ZW50cyYmY3QodCxlKTt2YXIgaT10aGlzLmhhbmRsZXJzW3RdJiZ0aGlzLmhhbmRsZXJzW3RdLnNsaWNlKCk7aWYoaSYmaS5sZW5ndGgpe2UudHlwZT10LGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXtlLnNyY0V2ZW50LnByZXZlbnREZWZhdWx0KCl9O2Zvcih2YXIgbj0wO248aS5sZW5ndGg7KWlbbl0oZSksbisrfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudCYmbHQodGhpcywhMSksdGhpcy5oYW5kbGVycz17fSx0aGlzLnNlc3Npb249e30sdGhpcy5pbnB1dC5kZXN0cm95KCksdGhpcy5lbGVtZW50PW51bGx9fSx1dChhdCx7SU5QVVRfU1RBUlQ6TXQsSU5QVVRfTU9WRTpQdCxJTlBVVF9FTkQ6TnQsSU5QVVRfQ0FOQ0VMOkl0LFNUQVRFX1BPU1NJQkxFOm1lLFNUQVRFX0JFR0FOOmZlLFNUQVRFX0NIQU5HRUQ6dmUsU1RBVEVfRU5ERUQ6Z2UsU1RBVEVfUkVDT0dOSVpFRDp5ZSxTVEFURV9DQU5DRUxMRUQ6d2UsU1RBVEVfRkFJTEVEOmJlLERJUkVDVElPTl9OT05FOk90LERJUkVDVElPTl9MRUZUOkx0LERJUkVDVElPTl9SSUdIVDpfdCxESVJFQ1RJT05fVVA6enQsRElSRUNUSU9OX0RPV046UnQsRElSRUNUSU9OX0hPUklaT05UQUw6cXQsRElSRUNUSU9OX1ZFUlRJQ0FMOld0LERJUkVDVElPTl9BTEw6SHQsTWFuYWdlcjpydCxJbnB1dDp4LFRvdWNoQWN0aW9uOlgsVG91Y2hJbnB1dDpxLE1vdXNlSW5wdXQ6TCxQb2ludGVyRXZlbnRJbnB1dDpfLFRvdWNoTW91c2VJbnB1dDpILFNpbmdsZVRvdWNoSW5wdXQ6eixSZWNvZ25pemVyOlosQXR0clJlY29nbml6ZXI6USxUYXA6b3QsUGFuOnR0LFN3aXBlOnN0LFBpbmNoOmV0LFJvdGF0ZTpudCxQcmVzczppdCxvbjpoLG9mZjpkLGVhY2g6byxtZXJnZTpidCxleHRlbmQ6d3QsYXNzaWduOnV0LGluaGVyaXQ6cixiaW5kRm46bCxwcmVmaXhlZDp3fSksZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKGksbil7dmFyIHM9dChpKTtzLmRhdGEoXCJoYW1tZXJcIil8fHMuZGF0YShcImhhbW1lclwiLG5ldyBlKHNbMF0sbikpfXQuZm4uaGFtbWVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMsdCl9KX0sZS5NYW5hZ2VyLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihpLG4pe2UuY2FsbCh0aGlzLGksbiksdCh0aGlzLmVsZW1lbnQpLnRyaWdnZXIoe3R5cGU6aSxnZXN0dXJlOm59KX19KGUuTWFuYWdlci5wcm90b3R5cGUuZW1pdCl9KGh0LGF0KSx0LmV4cG9ydHM9ZHQuSGFtbWVyPWF0fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLG4sITEpLGM9ITB9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gdT11fHxuZXcgcy5DbGFzcyh0KX1mdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBpIGluIGUpdFtpXT1lW2ldO3JldHVybiB0fWZ1bmN0aW9uIGEoKXtcIiNhdGhcIj09ZG9jdW1lbnQubG9jYXRpb24uaGFzaCYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoXCJcIix3aW5kb3cuZG9jdW1lbnQudGl0bGUsZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdChcIiNcIilbMF0pLGgudGVzdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKSYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoXCJcIix3aW5kb3cuZG9jdW1lbnQudGl0bGUsZG9jdW1lbnQubG9jYXRpb24uaHJlZi5yZXBsYWNlKGgsXCIkMVwiKSksZC50ZXN0KGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCkmJmhpc3RvcnkucmVwbGFjZVN0YXRlKFwiXCIsd2luZG93LmRvY3VtZW50LnRpdGxlLGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZShkLFwiJDJcIikpfXZhciByPWkoMiksbD1cImFkZEV2ZW50TGlzdGVuZXJcImluIHdpbmRvdyxjPSExO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/Yz0hMDpsJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixuLCExKTt2YXIgdSxoPS9cXC9hdGgoXFwvKT8kLyxkPS8oW1xcPyZdYXRoPVteJl0qJHwmYXRoPVteJl0qKCYpKS87cy5pbnRsPXtlbl91czp7aW9zOlwiVG8gYWRkIHRoaXMgd2ViIGFwcCB0byB0aGUgaG9tZSBzY3JlZW46IHRhcCAlaWNvbiBhbmQgdGhlbiA8c3Ryb25nPkFkZCB0byBIb21lIFNjcmVlbjwvc3Ryb25nPi5cIixhbmRyb2lkOidUbyBhZGQgdGhpcyB3ZWIgYXBwIHRvIHRoZSBob21lIHNjcmVlbiBvcGVuIHRoZSBicm93c2VyIG9wdGlvbiBtZW51IGFuZCB0YXAgb24gPHN0cm9uZz5BZGQgdG8gaG9tZXNjcmVlbjwvc3Ryb25nPi4gPHNtYWxsPlRoZSBtZW51IGNhbiBiZSBhY2Nlc3NlZCBieSBwcmVzc2luZyB0aGUgbWVudSBoYXJkd2FyZSBidXR0b24gaWYgeW91ciBkZXZpY2UgaGFzIG9uZSwgb3IgYnkgdGFwcGluZyB0aGUgdG9wIHJpZ2h0IG1lbnUgaWNvbiA8c3BhbiBjbGFzcz1cImF0aC1hY3Rpb24taWNvblwiPmljb248L3NwYW4+Ljwvc21hbGw+J30semhfY246e2lvczpcIlxcdTU5ODJcXHU4OTgxXFx1NjI4YVxcdTVlOTRcXHU3NTI4XFx1N2EwYlxcdTVmMGZcXHU1MmEwXFx1ODFmM1xcdTRlM2JcXHU1YzRmXFx1NWU1NSxcXHU4YmY3XFx1NzBiOVxcdTUxZmIlaWNvbiwgXFx1NzEzNlxcdTU0MGU8c3Ryb25nPlxcdTUyYTBcXHU4MWYzXFx1NGUzYlxcdTVjNGZcXHU1ZTU1PC9zdHJvbmc+XCIsYW5kcm9pZDonVG8gYWRkIHRoaXMgd2ViIGFwcCB0byB0aGUgaG9tZSBzY3JlZW4gb3BlbiB0aGUgYnJvd3NlciBvcHRpb24gbWVudSBhbmQgdGFwIG9uIDxzdHJvbmc+QWRkIHRvIGhvbWVzY3JlZW48L3N0cm9uZz4uIDxzbWFsbD5UaGUgbWVudSBjYW4gYmUgYWNjZXNzZWQgYnkgcHJlc3NpbmcgdGhlIG1lbnUgaGFyZHdhcmUgYnV0dG9uIGlmIHlvdXIgZGV2aWNlIGhhcyBvbmUsIG9yIGJ5IHRhcHBpbmcgdGhlIHRvcCByaWdodCBtZW51IGljb24gPHNwYW4gY2xhc3M9XCJhdGgtYWN0aW9uLWljb25cIj5pY29uPC9zcGFuPi48L3NtYWxsPid9LHpoX3R3Ontpb3M6XCJcXHU1OTgyXFx1ODk4MVxcdTYyOGFcXHU2MWM5XFx1NzUyOFxcdTdhMGJcXHU1ZjBmXFx1NTJhMFxcdTgxZjNcXHU0ZTNiXFx1NWM0ZlxcdTVlNTUsIFxcdThhY2JcXHU5ZWRlXFx1NjRjYSVpY29uLCBcXHU3MTM2XFx1NWY4YzxzdHJvbmc+XFx1NTJhMFxcdTgxZjNcXHU0ZTNiXFx1NWM0ZlxcdTVlNTU8L3N0cm9uZz4uXCIsYW5kcm9pZDonVG8gYWRkIHRoaXMgd2ViIGFwcCB0byB0aGUgaG9tZSBzY3JlZW4gb3BlbiB0aGUgYnJvd3NlciBvcHRpb24gbWVudSBhbmQgdGFwIG9uIDxzdHJvbmc+QWRkIHRvIGhvbWVzY3JlZW48L3N0cm9uZz4uIDxzbWFsbD5UaGUgbWVudSBjYW4gYmUgYWNjZXNzZWQgYnkgcHJlc3NpbmcgdGhlIG1lbnUgaGFyZHdhcmUgYnV0dG9uIGlmIHlvdXIgZGV2aWNlIGhhcyBvbmUsIG9yIGJ5IHRhcHBpbmcgdGhlIHRvcCByaWdodCBtZW51IGljb24gPHNwYW4gY2xhc3M9XCJhdGgtYWN0aW9uLWljb25cIj5pY29uPC9zcGFuPi48L3NtYWxsPid9fTtmb3IodmFyIHAgaW4gcy5pbnRsKXMuaW50bFtwLnN1YnN0cigwLDIpXT1zLmludGxbcF07cy5kZWZhdWx0cz17YXBwSUQ6XCJvcmcuY3ViaXEuYWRkdG9ob21lXCIsZm9udFNpemU6MTUsZGVidWc6ITEsbG9nZ2luZzohMSxtb2RhbDohMSxtYW5kYXRvcnk6ITEsYXV0b3N0YXJ0OiEwLHNraXBGaXJzdFZpc2l0OiExLHN0YXJ0RGVsYXk6MSxsaWZlc3BhbjoxNSxkaXNwbGF5UGFjZToxNDQwLG1heERpc3BsYXlDb3VudDowLGljb246ITAsbWVzc2FnZTpcIlwiLHZhbGlkTG9jYXRpb246W10sb25Jbml0Om51bGwsb25TaG93Om51bGwsb25SZW1vdmU6bnVsbCxvbkFkZDpudWxsLG9uUHJpdmF0ZTpudWxsLHByaXZhdGVNb2RlT3ZlcnJpZGU6ITEsZGV0ZWN0SG9tZXNjcmVlbjohMX07dmFyIG09d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsZj13aW5kb3cubmF2aWdhdG9yO28ocyx7aGFzVG9rZW46XCIjYXRoXCI9PWRvY3VtZW50LmxvY2F0aW9uLmhhc2h8fGgudGVzdChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKXx8ZC50ZXN0KGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCksaXNSZXRpbmE6d2luZG93LmRldmljZVBpeGVsUmF0aW8mJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvPjEsaXNJRGV2aWNlOi9pcGhvbmV8aXBvZHxpcGFkL2kudGVzdChtKSxcclxuaXNNb2JpbGVDaHJvbWU6bS5pbmRleE9mKFwiQW5kcm9pZFwiKT4tMSYmL0Nocm9tZVxcL1suMC05XSovLnRlc3QobSkmJm0uaW5kZXhPZihcIlZlcnNpb25cIik9PS0xLGlzTW9iaWxlSUU6bS5pbmRleE9mKFwiV2luZG93cyBQaG9uZVwiKT4tMSxsYW5ndWFnZTpmLmxhbmd1YWdlJiZmLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIi1cIixcIl9cIil8fFwiXCJ9KSxzLmxhbmd1YWdlPXMubGFuZ3VhZ2UmJnMubGFuZ3VhZ2UgaW4gcy5pbnRsP3MubGFuZ3VhZ2U6XCJlbl91c1wiLHMuaXNNb2JpbGVTYWZhcmk9cy5pc0lEZXZpY2UmJm0uaW5kZXhPZihcIlNhZmFyaVwiKT4tMSYmbS5pbmRleE9mKFwiQ3JpT1NcIik8MCxzLk9TPXMuaXNJRGV2aWNlP1wiaW9zXCI6cy5pc01vYmlsZUNocm9tZT9cImFuZHJvaWRcIjpzLmlzTW9iaWxlSUU/XCJ3aW5kb3dzXCI6XCJ1bnN1cHBvcnRlZFwiLHMuT1NWZXJzaW9uPW0ubWF0Y2goLyhPU3xBbmRyb2lkKSAoXFxkK1tfXFwuXVxcZCspLykscy5PU1ZlcnNpb249cy5PU1ZlcnNpb24mJnMuT1NWZXJzaW9uWzJdPytzLk9TVmVyc2lvblsyXS5yZXBsYWNlKFwiX1wiLFwiLlwiKTowLHMuaXNTdGFuZGFsb25lPVwic3RhbmRhbG9uZVwiaW4gd2luZG93Lm5hdmlnYXRvciYmd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lLHMuaXNUYWJsZXQ9cy5pc01vYmlsZVNhZmFyaSYmbS5pbmRleE9mKFwiaVBhZFwiKT4tMXx8cy5pc01vYmlsZUNocm9tZSYmbS5pbmRleE9mKFwiTW9iaWxlXCIpPDAscy5pc0NvbXBhdGlibGU9cy5pc01vYmlsZVNhZmFyaSYmcy5PU1ZlcnNpb24+PTZ8fHMuaXNNb2JpbGVDaHJvbWU7dmFyIHY9e2xhc3REaXNwbGF5VGltZTowLHJldHVybmluZ1Zpc2l0b3I6ITEsZGlzcGxheUNvdW50OjAsb3B0ZWRvdXQ6ITEsYWRkZWQ6ITF9O3MucmVtb3ZlU2Vzc2lvbj1mdW5jdGlvbih0KXt0cnl7aWYoIWxvY2FsU3RvcmFnZSl0aHJvdyBuZXcgRXJyb3IoXCJsb2NhbFN0b3JhZ2UgaXMgbm90IGRlZmluZWRcIik7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odHx8cy5kZWZhdWx0cy5hcHBJRCl9Y2F0Y2goZSl7fX0scy5kb0xvZz1mdW5jdGlvbih0KXt0aGlzLm9wdGlvbnMubG9nZ2luZyYmY29uc29sZS5sb2codCl9LHMuQ2xhc3M9ZnVuY3Rpb24odCl7aWYodGhpcy5kb0xvZz1zLmRvTG9nLHRoaXMub3B0aW9ucz1vKHt9LHMuZGVmYXVsdHMpLG8odGhpcy5vcHRpb25zLHQpLHRoaXMub3B0aW9ucy5kZWJ1ZyYmKHRoaXMub3B0aW9ucy5sb2dnaW5nPSEwKSxsKXtpZih0aGlzLm9wdGlvbnMubWFuZGF0b3J5PXRoaXMub3B0aW9ucy5tYW5kYXRvcnkmJihcInN0YW5kYWxvbmVcImluIHdpbmRvdy5uYXZpZ2F0b3J8fHRoaXMub3B0aW9ucy5kZWJ1ZyksdGhpcy5vcHRpb25zLm1vZGFsPXRoaXMub3B0aW9ucy5tb2RhbHx8dGhpcy5vcHRpb25zLm1hbmRhdG9yeSx0aGlzLm9wdGlvbnMubWFuZGF0b3J5JiYodGhpcy5vcHRpb25zLnN0YXJ0RGVsYXk9LS41KSx0aGlzLm9wdGlvbnMuZGV0ZWN0SG9tZXNjcmVlbj10aGlzLm9wdGlvbnMuZGV0ZWN0SG9tZXNjcmVlbj09PSEwP1wiaGFzaFwiOnRoaXMub3B0aW9ucy5kZXRlY3RIb21lc2NyZWVuLHRoaXMub3B0aW9ucy5kZWJ1ZyYmKHMuaXNDb21wYXRpYmxlPSEwLHMuT1M9XCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5kZWJ1Zz90aGlzLm9wdGlvbnMuZGVidWc6XCJ1bnN1cHBvcnRlZFwiPT1zLk9TP1wiYW5kcm9pZFwiOnMuT1Mscy5PU1ZlcnNpb249XCJpb3NcIj09cy5PUz9cIjhcIjpcIjRcIiksdGhpcy5jb250YWluZXI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuc2Vzc2lvbj10aGlzLmdldEl0ZW0odGhpcy5vcHRpb25zLmFwcElEKSx0aGlzLnNlc3Npb249dGhpcy5zZXNzaW9uP0pTT04ucGFyc2UodGhpcy5zZXNzaW9uKTp2b2lkIDAsIXMuaGFzVG9rZW58fHMuaXNDb21wYXRpYmxlJiZ0aGlzLnNlc3Npb258fChzLmhhc1Rva2VuPSExLGEoKSksIXMuaXNDb21wYXRpYmxlKXJldHVybiB2b2lkIHRoaXMuZG9Mb2coXCJBZGQgdG8gaG9tZXNjcmVlbjogbm90IGRpc3BsYXlpbmcgY2FsbG91dCBiZWNhdXNlIGRldmljZSBub3Qgc3VwcG9ydGVkXCIpO3RoaXMuc2Vzc2lvbj10aGlzLnNlc3Npb258fHY7dHJ5e2lmKCFsb2NhbFN0b3JhZ2UpdGhyb3cgbmV3IEVycm9yKFwibG9jYWxTdG9yYWdlIGlzIG5vdCBkZWZpbmVkXCIpO2xvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5hcHBJRCxKU09OLnN0cmluZ2lmeSh0aGlzLnNlc3Npb24pKSxzLmhhc0xvY2FsU3RvcmFnZT0hMH1jYXRjaChlKXtzLmhhc0xvY2FsU3RvcmFnZT0hMSx0aGlzLm9wdGlvbnMub25Qcml2YXRlJiZ0aGlzLm9wdGlvbnMub25Qcml2YXRlLmNhbGwodGhpcyl9Zm9yKHZhciBpPSF0aGlzLm9wdGlvbnMudmFsaWRMb2NhdGlvbi5sZW5ndGgsbj10aGlzLm9wdGlvbnMudmFsaWRMb2NhdGlvbi5sZW5ndGg7bi0tOylpZih0aGlzLm9wdGlvbnMudmFsaWRMb2NhdGlvbltuXS50ZXN0KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpKXtpPSEwO2JyZWFrfWlmKHRoaXMuZ2V0SXRlbShcImFkZFRvSG9tZVwiKSYmdGhpcy5vcHRPdXQoKSx0aGlzLnNlc3Npb24ub3B0ZWRvdXQpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgdXNlciBvcHRlZCBvdXRcIik7aWYodGhpcy5zZXNzaW9uLmFkZGVkKXJldHVybiB2b2lkIHRoaXMuZG9Mb2coXCJBZGQgdG8gaG9tZXNjcmVlbjogbm90IGRpc3BsYXlpbmcgY2FsbG91dCBiZWNhdXNlIGFscmVhZHkgYWRkZWQgdG8gdGhlIGhvbWVzY3JlZW5cIik7aWYoIWkpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2Ugbm90IGEgdmFsaWQgbG9jYXRpb25cIik7aWYocy5pc1N0YW5kYWxvbmUpcmV0dXJuIHRoaXMuc2Vzc2lvbi5hZGRlZHx8KHRoaXMuc2Vzc2lvbi5hZGRlZD0hMCx0aGlzLnVwZGF0ZVNlc3Npb24oKSx0aGlzLm9wdGlvbnMub25BZGQmJnMuaGFzTG9jYWxTdG9yYWdlJiZ0aGlzLm9wdGlvbnMub25BZGQuY2FsbCh0aGlzKSksdm9pZCB0aGlzLmRvTG9nKFwiQWRkIHRvIGhvbWVzY3JlZW46IG5vdCBkaXNwbGF5aW5nIGNhbGxvdXQgYmVjYXVzZSBpbiBzdGFuZGFsb25lIG1vZGVcIik7aWYodGhpcy5vcHRpb25zLmRldGVjdEhvbWVzY3JlZW4pe2lmKHMuaGFzVG9rZW4pcmV0dXJuIGEoKSx0aGlzLnNlc3Npb24uYWRkZWR8fCh0aGlzLnNlc3Npb24uYWRkZWQ9ITAsdGhpcy51cGRhdGVTZXNzaW9uKCksdGhpcy5vcHRpb25zLm9uQWRkJiZzLmhhc0xvY2FsU3RvcmFnZSYmdGhpcy5vcHRpb25zLm9uQWRkLmNhbGwodGhpcykpLHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgVVJMIGhhcyB0b2tlbiwgc28gd2UgYXJlIGxpa2VseSBjb21pbmcgZnJvbSBob21lc2NyZWVuXCIpO1wiaGFzaFwiPT10aGlzLm9wdGlvbnMuZGV0ZWN0SG9tZXNjcmVlbj9oaXN0b3J5LnJlcGxhY2VTdGF0ZShcIlwiLHdpbmRvdy5kb2N1bWVudC50aXRsZSxkb2N1bWVudC5sb2NhdGlvbi5ocmVmK1wiI2F0aFwiKTpcInNtYXJ0VVJMXCI9PXRoaXMub3B0aW9ucy5kZXRlY3RIb21lc2NyZWVuP2hpc3RvcnkucmVwbGFjZVN0YXRlKFwiXCIsd2luZG93LmRvY3VtZW50LnRpdGxlLGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKFxcLyk/JC8sXCIvYXRoJDFcIikpOmhpc3RvcnkucmVwbGFjZVN0YXRlKFwiXCIsd2luZG93LmRvY3VtZW50LnRpdGxlLGRvY3VtZW50LmxvY2F0aW9uLmhyZWYrKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaD9cIiZcIjpcIj9cIikrXCJhdGg9XCIpfWlmKCF0aGlzLnNlc3Npb24ucmV0dXJuaW5nVmlzaXRvciYmKHRoaXMuc2Vzc2lvbi5yZXR1cm5pbmdWaXNpdG9yPSEwLHRoaXMudXBkYXRlU2Vzc2lvbigpLHRoaXMub3B0aW9ucy5za2lwRmlyc3RWaXNpdCkpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2Ugc2tpcHBpbmcgZmlyc3QgdmlzaXRcIik7aWYoIXRoaXMub3B0aW9ucy5wcml2YXRlTW9kZU92ZXJyaWRlJiYhcy5oYXNMb2NhbFN0b3JhZ2UpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgYnJvd3NlciBpcyBpbiBwcml2YXRlIG1vZGVcIik7dGhpcy5yZWFkeT0hMCx0aGlzLm9wdGlvbnMub25Jbml0JiZ0aGlzLm9wdGlvbnMub25Jbml0LmNhbGwodGhpcyksdGhpcy5vcHRpb25zLmF1dG9zdGFydCYmKHRoaXMuZG9Mb2coXCJBZGQgdG8gaG9tZXNjcmVlbjogYXV0b3N0YXJ0IGRpc3BsYXlpbmcgY2FsbG91dFwiKSx0aGlzLnNob3coKSl9fSxzLkNsYXNzLnByb3RvdHlwZT17ZXZlbnRzOntsb2FkOlwiX2RlbGF5ZWRTaG93XCIsZXJyb3I6XCJfZGVsYXllZFNob3dcIixvcmllbnRhdGlvbmNoYW5nZTpcInJlc2l6ZVwiLHJlc2l6ZTpcInJlc2l6ZVwiLHNjcm9sbDpcInJlc2l6ZVwiLGNsaWNrOlwicmVtb3ZlXCIsdG91Y2htb3ZlOlwiX3ByZXZlbnREZWZhdWx0XCIsdHJhbnNpdGlvbmVuZDpcIl9yZW1vdmVFbGVtZW50c1wiLHdlYmtpdFRyYW5zaXRpb25FbmQ6XCJfcmVtb3ZlRWxlbWVudHNcIixNU1RyYW5zaXRpb25FbmQ6XCJfcmVtb3ZlRWxlbWVudHNcIn0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5ldmVudHNbdC50eXBlXTtlJiZ0aGlzW2VdKHQpfSxzaG93OmZ1bmN0aW9uKHQpe2lmKHRoaXMub3B0aW9ucy5hdXRvc3RhcnQmJiFjKXJldHVybiB2b2lkIHNldFRpbWVvdXQodGhpcy5zaG93LmJpbmQodGhpcyksNTApO2lmKHRoaXMuc2hvd24pcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgYWxyZWFkeSBzaG93biBvbiBzY3JlZW5cIik7dmFyIGU9RGF0ZS5ub3coKSxpPXRoaXMuc2Vzc2lvbi5sYXN0RGlzcGxheVRpbWU7aWYodCE9PSEwKXtpZighdGhpcy5yZWFkeSlyZXR1cm4gdm9pZCB0aGlzLmRvTG9nKFwiQWRkIHRvIGhvbWVzY3JlZW46IG5vdCBkaXNwbGF5aW5nIGNhbGxvdXQgYmVjYXVzZSBub3QgcmVhZHlcIik7aWYoZS1pPDZlNCp0aGlzLm9wdGlvbnMuZGlzcGxheVBhY2UpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgZGlzcGxheWVkIHJlY2VudGx5XCIpO2lmKHRoaXMub3B0aW9ucy5tYXhEaXNwbGF5Q291bnQmJnRoaXMuc2Vzc2lvbi5kaXNwbGF5Q291bnQ+PXRoaXMub3B0aW9ucy5tYXhEaXNwbGF5Q291bnQpcmV0dXJuIHZvaWQgdGhpcy5kb0xvZyhcIkFkZCB0byBob21lc2NyZWVuOiBub3QgZGlzcGxheWluZyBjYWxsb3V0IGJlY2F1c2UgZGlzcGxheWVkIHRvbyBtYW55IHRpbWVzIGFscmVhZHlcIil9dGhpcy5zaG93bj0hMCx0aGlzLnNlc3Npb24ubGFzdERpc3BsYXlUaW1lPWUsdGhpcy5zZXNzaW9uLmRpc3BsYXlDb3VudCsrLHRoaXMudXBkYXRlU2Vzc2lvbigpLHRoaXMuYXBwbGljYXRpb25JY29ufHwoXCJpb3NcIj09cy5PUz90aGlzLmFwcGxpY2F0aW9uSWNvbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkIGxpbmtbcmVsXj1hcHBsZS10b3VjaC1pY29uXVtzaXplcz1cIjE1MngxNTJcIl0saGVhZCBsaW5rW3JlbF49YXBwbGUtdG91Y2gtaWNvbl1bc2l6ZXM9XCIxNDR4MTQ0XCJdLGhlYWQgbGlua1tyZWxePWFwcGxlLXRvdWNoLWljb25dW3NpemVzPVwiMTIweDEyMFwiXSxoZWFkIGxpbmtbcmVsXj1hcHBsZS10b3VjaC1pY29uXVtzaXplcz1cIjExNHgxMTRcIl0saGVhZCBsaW5rW3JlbF49YXBwbGUtdG91Y2gtaWNvbl0nKTp0aGlzLmFwcGxpY2F0aW9uSWNvbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkIGxpbmtbcmVsXj1cInNob3J0Y3V0IGljb25cIl1bc2l6ZXM9XCIxOTZ4MTk2XCJdLGhlYWQgbGlua1tyZWxePWFwcGxlLXRvdWNoLWljb25dJykpO3ZhciBuPVwiXCI7XCJvYmplY3RcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5tZXNzYWdlJiZzLmxhbmd1YWdlIGluIHRoaXMub3B0aW9ucy5tZXNzYWdlP249dGhpcy5vcHRpb25zLm1lc3NhZ2Vbcy5sYW5ndWFnZV1bcy5PU106XCJvYmplY3RcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5tZXNzYWdlJiZzLk9TIGluIHRoaXMub3B0aW9ucy5tZXNzYWdlP249dGhpcy5vcHRpb25zLm1lc3NhZ2Vbcy5PU106dGhpcy5vcHRpb25zLm1lc3NhZ2UgaW4gcy5pbnRsP249cy5pbnRsW3RoaXMub3B0aW9ucy5tZXNzYWdlXVtzLk9TXTpcIlwiIT09dGhpcy5vcHRpb25zLm1lc3NhZ2U/bj10aGlzLm9wdGlvbnMubWVzc2FnZTpzLk9TIGluIHMuaW50bFtzLmxhbmd1YWdlXSYmKG49cy5pbnRsW3MubGFuZ3VhZ2VdW3MuT1NdKSxuPVwiPHA+XCIrbi5yZXBsYWNlKFwiJWljb25cIiwnPHNwYW4gY2xhc3M9XCJhdGgtYWN0aW9uLWljb25cIj5pY29uPC9zcGFuPicpK1wiPC9wPlwiLHRoaXMudmlld3BvcnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLnZpZXdwb3J0LmNsYXNzTmFtZT1cImF0aC12aWV3cG9ydFwiLHRoaXMub3B0aW9ucy5tb2RhbCYmKHRoaXMudmlld3BvcnQuY2xhc3NOYW1lKz1cIiBhdGgtbW9kYWxcIiksdGhpcy5vcHRpb25zLm1hbmRhdG9yeSYmKHRoaXMudmlld3BvcnQuY2xhc3NOYW1lKz1cIiBhdGgtbWFuZGF0b3J5XCIpLHRoaXMudmlld3BvcnQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLHRoaXMuZWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJhdGgtY29udGFpbmVyIGF0aC1cIitzLk9TK1wiIGF0aC1cIitzLk9TKyhzLk9TVmVyc2lvbitcIlwiKS5zdWJzdHIoMCwxKStcIiBhdGgtXCIrKHMuaXNUYWJsZXQ/XCJ0YWJsZXRcIjpcInBob25lXCIpLHRoaXMuZWxlbWVudC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5Oi13ZWJraXQtdHJhbnNmb3JtLG9wYWNpdHk7LXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOjBzOy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZS1vdXQ7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0sb3BhY2l0eTt0cmFuc2l0aW9uLWR1cmF0aW9uOjBzO3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2Utb3V0O1wiLHRoaXMuZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2Zvcm09XCJ0cmFuc2xhdGUzZCgwLC1cIit3aW5kb3cuaW5uZXJIZWlnaHQrXCJweCwwKVwiLHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUzZCgwLC1cIit3aW5kb3cuaW5uZXJIZWlnaHQrXCJweCwwKVwiLHRoaXMub3B0aW9ucy5pY29uJiZ0aGlzLmFwcGxpY2F0aW9uSWNvbiYmKHRoaXMuZWxlbWVudC5jbGFzc05hbWUrPVwiIGF0aC1pY29uXCIsdGhpcy5pbWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSx0aGlzLmltZy5jbGFzc05hbWU9XCJhdGgtYXBwbGljYXRpb24taWNvblwiLHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcywhMSksdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcywhMSksdGhpcy5pbWcuc3JjPXRoaXMuYXBwbGljYXRpb25JY29uLmhyZWYsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaW1nKSksdGhpcy5lbGVtZW50LmlubmVySFRNTCs9bix0aGlzLnZpZXdwb3J0LnN0eWxlLmxlZnQ9XCItOTk5OTllbVwiLHRoaXMudmlld3BvcnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnZpZXdwb3J0KSx0aGlzLmltZz90aGlzLmRvTG9nKFwiQWRkIHRvIGhvbWVzY3JlZW46IG5vdCBkaXNwbGF5aW5nIGNhbGxvdXQgYmVjYXVzZSB3YWl0aW5nIGZvciBpbWcgdG8gbG9hZFwiKTp0aGlzLl9kZWxheWVkU2hvdygpfSxfZGVsYXllZFNob3c6ZnVuY3Rpb24odCl7c2V0VGltZW91dCh0aGlzLl9zaG93LmJpbmQodGhpcyksMWUzKnRoaXMub3B0aW9ucy5zdGFydERlbGF5KzUwMCl9LF9zaG93OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLnVwZGF0ZVZpZXdwb3J0KCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLCExKSx0aGlzLm9wdGlvbnMubW9kYWwmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLCEwKSx0aGlzLm9wdGlvbnMubWFuZGF0b3J5fHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQsITApfSwxZTMpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uPVwiMS4yc1wiLHQuZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb249XCIxLjJzXCIsdC5lbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zZm9ybT1cInRyYW5zbGF0ZTNkKDAsMCwwKVwiLHQuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUzZCgwLDAsMClcIn0sMCksdGhpcy5vcHRpb25zLmxpZmVzcGFuJiYodGhpcy5yZW1vdmVUaW1lcj1zZXRUaW1lb3V0KHRoaXMucmVtb3ZlLmJpbmQodGhpcyksMWUzKnRoaXMub3B0aW9ucy5saWZlc3BhbikpLHRoaXMub3B0aW9ucy5vblNob3cmJnRoaXMub3B0aW9ucy5vblNob3cuY2FsbCh0aGlzKX0scmVtb3ZlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucmVtb3ZlVGltZXIpLHRoaXMuaW1nJiYodGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLCExKSx0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0aGlzLCExKSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLCExKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMsITEpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLCExKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcywhMCksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMsITApLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLHRoaXMsITEpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHRoaXMsITEpLHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNUcmFuc2l0aW9uRW5kXCIsdGhpcywhMSksdGhpcy5lbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zaXRpb25EdXJhdGlvbj1cIjAuM3NcIix0aGlzLmVsZW1lbnQuc3R5bGUub3BhY2l0eT1cIjBcIn0sX3JlbW92ZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsdGhpcywhMSksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCIsdGhpcywhMSksdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJNU1RyYW5zaXRpb25FbmRcIix0aGlzLCExKSx0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnZpZXdwb3J0KSx0aGlzLnNob3duPSExLHRoaXMub3B0aW9ucy5vblJlbW92ZSYmdGhpcy5vcHRpb25zLm9uUmVtb3ZlLmNhbGwodGhpcyl9LHVwZGF0ZVZpZXdwb3J0OmZ1bmN0aW9uKCl7aWYodGhpcy5zaG93bil7dGhpcy52aWV3cG9ydC5zdHlsZS53aWR0aD13aW5kb3cuaW5uZXJXaWR0aCtcInB4XCIsdGhpcy52aWV3cG9ydC5zdHlsZS5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0K1wicHhcIix0aGlzLnZpZXdwb3J0LnN0eWxlLmxlZnQ9d2luZG93LnNjcm9sbFgrXCJweFwiLHRoaXMudmlld3BvcnQuc3R5bGUudG9wPXdpbmRvdy5zY3JvbGxZK1wicHhcIjt2YXIgdD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7dGhpcy5vcmllbnRhdGlvbj10PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ/XCJsYW5kc2NhcGVcIjpcInBvcnRyYWl0XCI7dmFyIGU9XCJpb3NcIj09cy5PUz9cInBvcnRyYWl0XCI9PXRoaXMub3JpZW50YXRpb24/c2NyZWVuLndpZHRoOnNjcmVlbi5oZWlnaHQ6c2NyZWVuLndpZHRoO3RoaXMuc2NhbGU9c2NyZWVuLndpZHRoPnQ/MTplL3dpbmRvdy5pbm5lcldpZHRoLHRoaXMuZWxlbWVudC5zdHlsZS5mb250U2l6ZT10aGlzLm9wdGlvbnMuZm9udFNpemUvdGhpcy5zY2FsZStcInB4XCJ9fSxyZXNpemU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lciksdGhpcy5yZXNpemVUaW1lcj1zZXRUaW1lb3V0KHRoaXMudXBkYXRlVmlld3BvcnQuYmluZCh0aGlzKSwxMDApfSx1cGRhdGVTZXNzaW9uOmZ1bmN0aW9uKCl7cy5oYXNMb2NhbFN0b3JhZ2UhPT0hMSYmbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm9wdGlvbnMuYXBwSUQsSlNPTi5zdHJpbmdpZnkodGhpcy5zZXNzaW9uKSl9LGNsZWFyU2Vzc2lvbjpmdW5jdGlvbigpe3RoaXMuc2Vzc2lvbj12LHRoaXMudXBkYXRlU2Vzc2lvbigpfSxnZXRJdGVtOmZ1bmN0aW9uKHQpe3RyeXtpZighbG9jYWxTdG9yYWdlKXRocm93IG5ldyBFcnJvcihcImxvY2FsU3RvcmFnZSBpcyBub3QgZGVmaW5lZFwiKTtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0odCl9Y2F0Y2goZSl7cy5oYXNMb2NhbFN0b3JhZ2U9ITF9fSxvcHRPdXQ6ZnVuY3Rpb24oKXt0aGlzLnNlc3Npb24ub3B0ZWRvdXQ9ITAsdGhpcy51cGRhdGVTZXNzaW9uKCl9LG9wdEluOmZ1bmN0aW9uKCl7dGhpcy5zZXNzaW9uLm9wdGVkb3V0PSExLHRoaXMudXBkYXRlU2Vzc2lvbigpfSxjbGVhckRpc3BsYXlDb3VudDpmdW5jdGlvbigpe3RoaXMuc2Vzc2lvbi5kaXNwbGF5Q291bnQ9MCx0aGlzLnVwZGF0ZVNlc3Npb24oKX0sX3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpfX0scy5WRVJTSU9OPVwiMy4yLjJcIix0LmV4cG9ydHM9ci5hZGRUb0hvbWVzY3JlZW49c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpLG89ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSxvLkRFRkFVTFRTLGUpLHRoaXMuJGVsZW1lbnQ9bih0KSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwiYW0tZmFkZSBhbS1pblwiKS5vbihcImNsaWNrLmFsZXJ0LmFtdWlcIixcIi5hbS1jbG9zZVwiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSl9O28uREVGQVVMVFM9e3JlbW92ZUVsZW1lbnQ6ITB9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2UudHJpZ2dlcihcImNsb3NlZC5hbGVydC5hbXVpXCIpLnJlbW92ZSgpfXZhciBlPXRoaXMuJGVsZW1lbnQ7ZS50cmlnZ2VyKFwiY2xvc2UuYWxlcnQuYW11aVwiKS5yZW1vdmVDbGFzcyhcImFtLWluXCIpLHMuc3VwcG9ydC50cmFuc2l0aW9uJiZlLmhhc0NsYXNzKFwiYW0tZmFkZVwiKT9lLm9uZShzLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsdCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMjAwKTp0KCl9LHMucGx1Z2luKFwiYWxlcnRcIixvKSxuKGRvY3VtZW50KS5vbihcImNsaWNrLmFsZXJ0LmFtdWkuZGF0YS1hcGlcIixcIltkYXRhLWFtLWFsZXJ0XVwiLGZ1bmN0aW9uKHQpe3ZhciBlPW4odC50YXJnZXQpO2UuaXMoXCIuYW0tY2xvc2VcIikmJm4odGhpcykuYWxlcnQoXCJjbG9zZVwiKX0pLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMiksbz1mdW5jdGlvbih0LGUpe3RoaXMuJGVsZW1lbnQ9bih0KSx0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sby5ERUZBVUxUUyxlKSx0aGlzLmlzTG9hZGluZz0hMSx0aGlzLmhhc1NwaW5uZXI9ITF9O28uREVGQVVMVFM9e2xvYWRpbmdUZXh0OlwibG9hZGluZy4uLlwiLGRpc2FibGVkQ2xhc3NOYW1lOlwiYW0tZGlzYWJsZWRcIixhY3RpdmVDbGFzc05hbWU6XCJhbS1hY3RpdmVcIixzcGlubmVyOnZvaWQgMH0sby5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLiRlbGVtZW50LG89XCJkaXNhYmxlZFwiLGE9aS5kYXRhKCkscj10aGlzLm9wdGlvbnMsbD1pLmlzKFwiaW5wdXRcIik/XCJ2YWxcIjpcImh0bWxcIixjPVwiYW0tYnRuLVwiK3QrXCIgXCIrci5kaXNhYmxlZENsYXNzTmFtZTt0Kz1cIlRleHRcIixyLnJlc2V0VGV4dHx8KHIucmVzZXRUZXh0PWlbbF0oKSkscy5zdXBwb3J0LmFuaW1hdGlvbiYmci5zcGlubmVyJiZcImh0bWxcIj09PWwmJiF0aGlzLmhhc1NwaW5uZXImJihyLmxvYWRpbmdUZXh0PSc8c3BhbiBjbGFzcz1cImFtLWljb24tJytyLnNwaW5uZXIrJyBhbS1pY29uLXNwaW5cIj48L3NwYW4+JytyLmxvYWRpbmdUZXh0LHRoaXMuaGFzU3Bpbm5lcj0hMCksZT1lfHwodm9pZCAwPT09YVt0XT9yW3RdOmFbdF0pLGlbbF0oZSksc2V0VGltZW91dChuLnByb3h5KGZ1bmN0aW9uKCl7XCJsb2FkaW5nVGV4dFwiPT09dD8oaS5hZGRDbGFzcyhjKS5hdHRyKG8sbyksdGhpcy5pc0xvYWRpbmc9ITApOnRoaXMuaXNMb2FkaW5nJiYoaS5yZW1vdmVDbGFzcyhjKS5yZW1vdmVBdHRyKG8pLHRoaXMuaXNMb2FkaW5nPSExKX0sdGhpcyksMCl9LG8ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciB0PSEwLGU9dGhpcy4kZWxlbWVudCxpPXRoaXMuJGVsZW1lbnQucGFyZW50KCdbY2xhc3MqPVwiYW0tYnRuLWdyb3VwXCJdJyksbj1vLkRFRkFVTFRTLmFjdGl2ZUNsYXNzTmFtZTtpZihpLmxlbmd0aCl7dmFyIHM9dGhpcy4kZWxlbWVudC5maW5kKFwiaW5wdXRcIik7XCJyYWRpb1wiPT1zLnByb3AoXCJ0eXBlXCIpJiYocy5wcm9wKFwiY2hlY2tlZFwiKSYmZS5oYXNDbGFzcyhuKT90PSExOmkuZmluZChcIi5cIituKS5yZW1vdmVDbGFzcyhuKSksdCYmcy5wcm9wKFwiY2hlY2tlZFwiLCFlLmhhc0NsYXNzKG4pKS50cmlnZ2VyKFwiY2hhbmdlXCIpfXQmJihlLnRvZ2dsZUNsYXNzKG4pLGUuaGFzQ2xhc3Mobil8fGUuYmx1cigpKX0scy5wbHVnaW4oXCJidXR0b25cIixvLHtkYXRhT3B0aW9uczpcImRhdGEtYW0tbG9hZGluZ1wiLG1ldGhvZENhbGw6ZnVuY3Rpb24odCxlKXtcInRvZ2dsZVwiPT09dFswXT9lLnRvZ2dsZSgpOlwic3RyaW5nXCI9PXR5cGVvZiB0WzBdJiZlLnNldFN0YXRlLmFwcGx5KGUsdCl9fSksbihkb2N1bWVudCkub24oXCJjbGljay5idXR0b24uYW11aS5kYXRhLWFwaVwiLFwiW2RhdGEtYW0tYnV0dG9uXVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1uKHQudGFyZ2V0KTtlLmhhc0NsYXNzKFwiYW0tYnRuXCIpfHwoZT1lLmNsb3Nlc3QoXCIuYW0tYnRuXCIpKSxlLmJ1dHRvbihcInRvZ2dsZVwiKX0pLHMucmVhZHkoZnVuY3Rpb24odCl7bihcIltkYXRhLWFtLWxvYWRpbmddXCIsdCkuYnV0dG9uKCksbihcIltkYXRhLWFtLWJ1dHRvbl1cIix0KS5maW5kKFwiaW5wdXQ6Y2hlY2tlZFwiKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5wYXJlbnQoXCJsYWJlbFwiKS5hZGRDbGFzcyhvLkRFRkFVTFRTLmFjdGl2ZUNsYXNzTmFtZSl9KX0pLHQuZXhwb3J0cz1zLmJ1dHRvbj1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9cyh0aGlzKSxpPWUuZGF0YShcImFtdWkuY29sbGFwc2VcIiksbj1zLmV4dGVuZCh7fSxhLkRFRkFVTFRTLG8udXRpbHMub3B0aW9ucyhlLmF0dHIoXCJkYXRhLWFtLWNvbGxhcHNlXCIpKSxcIm9iamVjdFwiPT10eXBlb2YgdCYmdCk7IWkmJm4udG9nZ2xlJiZcIm9wZW5cIj09PXQmJih0PSF0KSxpfHxlLmRhdGEoXCJhbXVpLmNvbGxhcHNlXCIsaT1uZXcgYSh0aGlzLG4pKSxcInN0cmluZ1wiPT10eXBlb2YgdCYmaVt0XSgpfSl9dmFyIHM9aSgxKSxvPWkoMiksYT1mdW5jdGlvbih0LGUpe3RoaXMuJGVsZW1lbnQ9cyh0KSx0aGlzLm9wdGlvbnM9cy5leHRlbmQoe30sYS5ERUZBVUxUUyxlKSx0aGlzLnRyYW5zaXRpb25pbmc9bnVsbCx0aGlzLm9wdGlvbnMucGFyZW50JiYodGhpcy4kcGFyZW50PXModGhpcy5vcHRpb25zLnBhcmVudCkpLHRoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9O2EuREVGQVVMVFM9e3RvZ2dsZTohMH0sYS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe2lmKCF0aGlzLnRyYW5zaXRpb25pbmcmJiF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYW0taW5cIikpe3ZhciB0PXMuRXZlbnQoXCJvcGVuLmNvbGxhcHNlLmFtdWlcIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKHQpLCF0LmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2YXIgZT10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5maW5kKFwiPiAuYW0tcGFuZWwgPiAuYW0taW5cIik7aWYoZSYmZS5sZW5ndGgpe3ZhciBpPWUuZGF0YShcImFtdWkuY29sbGFwc2VcIik7aWYoaSYmaS50cmFuc2l0aW9uaW5nKXJldHVybjtuLmNhbGwoZSxcImNsb3NlXCIpLGl8fGUuZGF0YShcImFtdWkuY29sbGFwc2VcIixudWxsKX10aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKFwiYW0tY29sbGFwc2VcIikuYWRkQ2xhc3MoXCJhbS1jb2xsYXBzaW5nXCIpLmhlaWdodCgwKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgYT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoXCJhbS1jb2xsYXBzaW5nXCIpLmFkZENsYXNzKFwiYW0tY29sbGFwc2UgYW0taW5cIikuaGVpZ2h0KFwiXCIpLnRyaWdnZXIoXCJvcGVuZWQuY29sbGFwc2UuYW11aVwiKSx0aGlzLnRyYW5zaXRpb25pbmc9MH07aWYoIW8uc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiBhLmNhbGwodGhpcyk7dmFyIHI9dGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ7dGhpcy4kZWxlbWVudC5vbmUoby5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLHMucHJveHkoYSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKS5jc3Moe2hlaWdodDpyfSl9fX0sYS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYW0taW5cIikpe3ZhciB0PXMuRXZlbnQoXCJjbG9zZS5jb2xsYXBzZS5hbXVpXCIpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcih0KSwhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dGhpcy4kZWxlbWVudC5oZWlnaHQodGhpcy4kZWxlbWVudC5oZWlnaHQoKSkucmVkcmF3KCksdGhpcy4kZWxlbWVudC5hZGRDbGFzcyhcImFtLWNvbGxhcHNpbmdcIikucmVtb3ZlQ2xhc3MoXCJhbS1jb2xsYXBzZSBhbS1pblwiKSx0aGlzLnRyYW5zaXRpb25pbmc9MTt2YXIgZT1mdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbmluZz0wLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImNsb3NlZC5jb2xsYXBzZS5hbXVpXCIpLnJlbW92ZUNsYXNzKFwiYW0tY29sbGFwc2luZ1wiKS5hZGRDbGFzcyhcImFtLWNvbGxhcHNlXCIpfTtyZXR1cm4gby5zdXBwb3J0LnRyYW5zaXRpb24/dm9pZCB0aGlzLiRlbGVtZW50LmhlaWdodCgwKS5vbmUoby5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLHMucHJveHkoZSx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKTplLmNhbGwodGhpcyl9fX0sYS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYW0taW5cIik/XCJjbG9zZVwiOlwib3BlblwiXSgpfSxzLmZuLmNvbGxhcHNlPW4scyhkb2N1bWVudCkub24oXCJjbGljay5jb2xsYXBzZS5hbXVpLmRhdGEtYXBpXCIsXCJbZGF0YS1hbS1jb2xsYXBzZV1cIixmdW5jdGlvbih0KXt2YXIgZSxpPXModGhpcyksYT1vLnV0aWxzLm9wdGlvbnMoaS5hdHRyKFwiZGF0YS1hbS1jb2xsYXBzZVwiKSkscj1hLnRhcmdldHx8dC5wcmV2ZW50RGVmYXVsdCgpfHwoZT1pLmF0dHIoXCJocmVmXCIpKSYmZS5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLFwiXCIpLGw9cyhyKSxjPWwuZGF0YShcImFtdWkuY29sbGFwc2VcIiksdT1jP1widG9nZ2xlXCI6YSxoPWEucGFyZW50LGQ9aCYmcyhoKTtjJiZjLnRyYW5zaXRpb25pbmd8fChkJiZkLmZpbmQoXCJbZGF0YS1hbS1jb2xsYXBzZV1cIikubm90KGkpLmFkZENsYXNzKFwiYW0tY29sbGFwc2VkXCIpLGlbbC5oYXNDbGFzcyhcImFtLWluXCIpP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiYW0tY29sbGFwc2VkXCIpKSxuLmNhbGwobCx1KX0pLHQuZXhwb3J0cz1vLmNvbGxhcHNlPWF9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKSxvPW4oZG9jdW1lbnQpLGE9ZnVuY3Rpb24odCxlKXtpZih0aGlzLiRlbGVtZW50PW4odCksdGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LGEuREVGQVVMVFMsZSksdGhpcy5mb3JtYXQ9ci5wYXJzZUZvcm1hdCh0aGlzLm9wdGlvbnMuZm9ybWF0KSx0aGlzLiRlbGVtZW50LmRhdGEoXCJkYXRlXCIsdGhpcy5vcHRpb25zLmRhdGUpLHRoaXMubGFuZ3VhZ2U9dGhpcy5nZXRMb2NhbGUodGhpcy5vcHRpb25zLmxvY2FsZSksdGhpcy50aGVtZT10aGlzLm9wdGlvbnMudGhlbWUsdGhpcy4kcGlja2VyPW4oci50ZW1wbGF0ZSkuYXBwZW5kVG8oXCJib2R5XCIpLm9uKHtjbGljazpuLnByb3h5KHRoaXMuY2xpY2ssdGhpcyl9KSx0aGlzLmlzSW5wdXQ9dGhpcy4kZWxlbWVudC5pcyhcImlucHV0XCIpLHRoaXMuY29tcG9uZW50PSEhdGhpcy4kZWxlbWVudC5pcyhcIi5hbS1kYXRlcGlja2VyLWRhdGVcIikmJnRoaXMuJGVsZW1lbnQuZmluZChcIi5hbS1kYXRlcGlja2VyLWFkZC1vblwiKSx0aGlzLmlzSW5wdXQ/dGhpcy4kZWxlbWVudC5vbih7XCJjbGljay5kYXRlcGlja2VyLmFtdWlcIjpuLnByb3h5KHRoaXMub3Blbix0aGlzKSxcImtleXVwLmRhdGVwaWNrZXIuYW11aVwiOm4ucHJveHkodGhpcy51cGRhdGUsdGhpcyl9KTp0aGlzLmNvbXBvbmVudD90aGlzLmNvbXBvbmVudC5vbihcImNsaWNrLmRhdGVwaWNrZXIuYW11aVwiLG4ucHJveHkodGhpcy5vcGVuLHRoaXMpKTp0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2suZGF0ZXBpY2tlci5hbXVpXCIsbi5wcm94eSh0aGlzLm9wZW4sdGhpcykpLHRoaXMubWluVmlld01vZGU9dGhpcy5vcHRpb25zLm1pblZpZXdNb2RlLFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm1pblZpZXdNb2RlKXN3aXRjaCh0aGlzLm1pblZpZXdNb2RlKXtjYXNlXCJtb250aHNcIjp0aGlzLm1pblZpZXdNb2RlPTE7YnJlYWs7Y2FzZVwieWVhcnNcIjp0aGlzLm1pblZpZXdNb2RlPTI7YnJlYWs7ZGVmYXVsdDp0aGlzLm1pblZpZXdNb2RlPTB9aWYodGhpcy52aWV3TW9kZT10aGlzLm9wdGlvbnMudmlld01vZGUsXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMudmlld01vZGUpc3dpdGNoKHRoaXMudmlld01vZGUpe2Nhc2VcIm1vbnRoc1wiOnRoaXMudmlld01vZGU9MTticmVhaztjYXNlXCJ5ZWFyc1wiOnRoaXMudmlld01vZGU9MjticmVhaztkZWZhdWx0OnRoaXMudmlld01vZGU9MH10aGlzLnN0YXJ0Vmlld01vZGU9dGhpcy52aWV3TW9kZSx0aGlzLndlZWtTdGFydD0odGhpcy5vcHRpb25zLndlZWtTdGFydHx8YS5sb2NhbGVzW3RoaXMubGFuZ3VhZ2VdLndlZWtTdGFydHx8MCklNyx0aGlzLndlZWtFbmQ9KHRoaXMud2Vla1N0YXJ0KzYpJTcsdGhpcy5vblJlbmRlcj10aGlzLm9wdGlvbnMub25SZW5kZXIsdGhpcy5zZXRUaGVtZSgpLHRoaXMuZmlsbERvdygpLHRoaXMuZmlsbE1vbnRocygpLHRoaXMudXBkYXRlKCksdGhpcy5zaG93TW9kZSgpfTthLkRFRkFVTFRTPXtsb2NhbGU6XCJ6aF9DTlwiLGZvcm1hdDpcInl5eXktbW0tZGRcIix3ZWVrU3RhcnQ6dm9pZCAwLHZpZXdNb2RlOjAsbWluVmlld01vZGU6MCxkYXRlOlwiXCIsdGhlbWU6XCJcIixhdXRvQ2xvc2U6MSxvblJlbmRlcjpmdW5jdGlvbih0KXtyZXR1cm5cIlwifX0sYS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0KXt0aGlzLiRwaWNrZXIuc2hvdygpLHRoaXMuaGVpZ2h0PXRoaXMuY29tcG9uZW50P3RoaXMuY29tcG9uZW50Lm91dGVySGVpZ2h0KCk6dGhpcy4kZWxlbWVudC5vdXRlckhlaWdodCgpLHRoaXMucGxhY2UoKSxuKHdpbmRvdykub24oXCJyZXNpemUuZGF0ZXBpY2tlci5hbXVpXCIsbi5wcm94eSh0aGlzLnBsYWNlLHRoaXMpKSx0JiYodC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpO3ZhciBlPXRoaXM7by5vbihcIm1vdXNlZG93bi5kYXRhcGlja2VyLmFtdWkgdG91Y2hzdGFydC5kYXRlcGlja2VyLmFtdWlcIixmdW5jdGlvbih0KXswPT09bih0LnRhcmdldCkuY2xvc2VzdChcIi5hbS1kYXRlcGlja2VyXCIpLmxlbmd0aCYmZS5jbG9zZSgpfSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwib3Blbi5kYXRlcGlja2VyLmFtdWlcIixkYXRlOnRoaXMuZGF0ZX0pfSxhLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuJHBpY2tlci5oaWRlKCksbih3aW5kb3cpLm9mZihcInJlc2l6ZS5kYXRlcGlja2VyLmFtdWlcIix0aGlzLnBsYWNlKSx0aGlzLnZpZXdNb2RlPXRoaXMuc3RhcnRWaWV3TW9kZSx0aGlzLnNob3dNb2RlKCksdGhpcy5pc0lucHV0fHxuKGRvY3VtZW50KS5vZmYoXCJtb3VzZWRvd24uZGF0YXBpY2tlci5hbXVpIHRvdWNoc3RhcnQuZGF0ZXBpY2tlci5hbXVpXCIsdGhpcy5jbG9zZSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwiY2xvc2UuZGF0ZXBpY2tlci5hbXVpXCIsZGF0ZTp0aGlzLmRhdGV9KX0sYS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKCl7dmFyIHQsZT1yLmZvcm1hdERhdGUodGhpcy5kYXRlLHRoaXMuZm9ybWF0KTt0aGlzLmlzSW5wdXQ/dD10aGlzLiRlbGVtZW50LmF0dHIoXCJ2YWx1ZVwiLGUpOih0aGlzLmNvbXBvbmVudCYmKHQ9dGhpcy4kZWxlbWVudC5maW5kKFwiaW5wdXRcIikuYXR0cihcInZhbHVlXCIsZSkpLHRoaXMuJGVsZW1lbnQuZGF0YShcImRhdGVcIixlKSksdCYmdC50cmlnZ2VyKFwiY2hhbmdlXCIpfSxhLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLmRhdGU9ci5wYXJzZURhdGUodCx0aGlzLmZvcm1hdCk6dGhpcy5kYXRlPW5ldyBEYXRlKHQpLHRoaXMuc2V0KCksdGhpcy52aWV3RGF0ZT1uZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSx0aGlzLmRhdGUuZ2V0TW9udGgoKSwxLDAsMCwwLDApLHRoaXMuZmlsbCgpfSxhLnByb3RvdHlwZS5wbGFjZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29tcG9uZW50P3RoaXMuY29tcG9uZW50Lm9mZnNldCgpOnRoaXMuJGVsZW1lbnQub2Zmc2V0KCksZT10aGlzLmNvbXBvbmVudD90aGlzLmNvbXBvbmVudC53aWR0aCgpOnRoaXMuJGVsZW1lbnQud2lkdGgoKSxpPXQudG9wK3RoaXMuaGVpZ2h0LG49dC5sZWZ0LHM9by53aWR0aCgpLXQubGVmdC1lLGE9dGhpcy5pc091dFZpZXcoKTtpZih0aGlzLiRwaWNrZXIucmVtb3ZlQ2xhc3MoXCJhbS1kYXRlcGlja2VyLXJpZ2h0XCIpLHRoaXMuJHBpY2tlci5yZW1vdmVDbGFzcyhcImFtLWRhdGVwaWNrZXItdXBcIiksby53aWR0aCgpPjY0MCl7aWYoYS5vdXRSaWdodClyZXR1cm4gdGhpcy4kcGlja2VyLmFkZENsYXNzKFwiYW0tZGF0ZXBpY2tlci1yaWdodFwiKSx2b2lkIHRoaXMuJHBpY2tlci5jc3Moe3RvcDppLGxlZnQ6XCJhdXRvXCIscmlnaHQ6c30pO2Eub3V0Qm90dG9tJiYodGhpcy4kcGlja2VyLmFkZENsYXNzKFwiYW0tZGF0ZXBpY2tlci11cFwiKSxpPXQudG9wLXRoaXMuJHBpY2tlci5vdXRlckhlaWdodCghMCkpfWVsc2Ugbj0wO3RoaXMuJHBpY2tlci5jc3Moe3RvcDppLGxlZnQ6bn0pfSxhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7dGhpcy5kYXRlPXIucGFyc2VEYXRlKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dGhpcy5pc0lucHV0P3RoaXMuJGVsZW1lbnQucHJvcChcInZhbHVlXCIpOnRoaXMuJGVsZW1lbnQuZGF0YShcImRhdGVcIiksdGhpcy5mb3JtYXQpLHRoaXMudmlld0RhdGU9bmV3IERhdGUodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksdGhpcy5kYXRlLmdldE1vbnRoKCksMSwwLDAsMCwwKSx0aGlzLmZpbGwoKX0sYS5wcm90b3R5cGUuZmlsbERvdz1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLndlZWtTdGFydCxlPVwiPHRyPlwiO3Q8dGhpcy53ZWVrU3RhcnQrNzspZSs9Jzx0aCBjbGFzcz1cImFtLWRhdGVwaWNrZXItZG93XCI+JythLmxvY2FsZXNbdGhpcy5sYW5ndWFnZV0uZGF5c01pblt0KyslN10rXCI8L3RoPlwiO2UrPVwiPC90cj5cIix0aGlzLiRwaWNrZXIuZmluZChcIi5hbS1kYXRlcGlja2VyLWRheXMgdGhlYWRcIikuYXBwZW5kKGUpfSxhLnByb3RvdHlwZS5maWxsTW9udGhzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVwiXCIsZT0wO2U8MTI7KXQrPSc8c3BhbiBjbGFzcz1cImFtLWRhdGVwaWNrZXItbW9udGhcIj4nK2EubG9jYWxlc1t0aGlzLmxhbmd1YWdlXS5tb250aHNTaG9ydFtlKytdK1wiPC9zcGFuPlwiO3RoaXMuJHBpY2tlci5maW5kKFwiLmFtLWRhdGVwaWNrZXItbW9udGhzIHRkXCIpLmFwcGVuZCh0KX0sYS5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbigpe3ZhciB0PW5ldyBEYXRlKHRoaXMudmlld0RhdGUpLGU9dC5nZXRGdWxsWWVhcigpLGk9dC5nZXRNb250aCgpLG49dGhpcy5kYXRlLnZhbHVlT2YoKSxzPW5ldyBEYXRlKGUsaS0xLDI4LDAsMCwwLDApLG89ci5nZXREYXlzSW5Nb250aChzLmdldEZ1bGxZZWFyKCkscy5nZXRNb250aCgpKSxsPXRoaXMuJHBpY2tlci5maW5kKFwiLmFtLWRhdGVwaWNrZXItZGF5cyAuYW0tZGF0ZXBpY2tlci1zZWxlY3RcIik7XCJ6aF9DTlwiPT09dGhpcy5sYW5ndWFnZT9sLnRleHQoZSthLmxvY2FsZXNbdGhpcy5sYW5ndWFnZV0ueWVhclswXStcIiBcIithLmxvY2FsZXNbdGhpcy5sYW5ndWFnZV0ubW9udGhzW2ldKTpsLnRleHQoYS5sb2NhbGVzW3RoaXMubGFuZ3VhZ2VdLm1vbnRoc1tpXStcIiBcIitlKSxzLnNldERhdGUobykscy5zZXREYXRlKG8tKHMuZ2V0RGF5KCktdGhpcy53ZWVrU3RhcnQrNyklNyk7dmFyIGM9bmV3IERhdGUocyk7Yy5zZXREYXRlKGMuZ2V0RGF0ZSgpKzQyKSxjPWMudmFsdWVPZigpO2Zvcih2YXIgdSxoLGQscD1bXTtzLnZhbHVlT2YoKTxjOylzLmdldERheSgpPT09dGhpcy53ZWVrU3RhcnQmJnAucHVzaChcIjx0cj5cIiksdT10aGlzLm9uUmVuZGVyKHMsMCksaD1zLmdldEZ1bGxZZWFyKCksZD1zLmdldE1vbnRoKCksZDxpJiZoPT09ZXx8aDxlP3UrPVwiIGFtLWRhdGVwaWNrZXItb2xkXCI6KGQ+aSYmaD09PWV8fGg+ZSkmJih1Kz1cIiBhbS1kYXRlcGlja2VyLW5ld1wiKSxzLnZhbHVlT2YoKT09PW4mJih1Kz1cIiBhbS1hY3RpdmVcIikscC5wdXNoKCc8dGQgY2xhc3M9XCJhbS1kYXRlcGlja2VyLWRheSAnK3UrJ1wiPicrcy5nZXREYXRlKCkrXCI8L3RkPlwiKSxzLmdldERheSgpPT09dGhpcy53ZWVrRW5kJiZwLnB1c2goXCI8L3RyPlwiKSxzLnNldERhdGUocy5nZXREYXRlKCkrMSk7dGhpcy4kcGlja2VyLmZpbmQoXCIuYW0tZGF0ZXBpY2tlci1kYXlzIHRib2R5XCIpLmVtcHR5KCkuYXBwZW5kKHAuam9pbihcIlwiKSk7dmFyIG09dGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksZj10aGlzLiRwaWNrZXIuZmluZChcIi5hbS1kYXRlcGlja2VyLW1vbnRoc1wiKS5maW5kKFwiLmFtLWRhdGVwaWNrZXItc2VsZWN0XCIpLnRleHQoZSk7Zj1mLmVuZCgpLmZpbmQoXCJzcGFuXCIpLnJlbW92ZUNsYXNzKFwiYW0tYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYW0tZGlzYWJsZWRcIik7Zm9yKHZhciB2PTA7djwxMjspdGhpcy5vblJlbmRlcih0LnNldEZ1bGxZZWFyKGUsdiksMSkmJmYuZXEodikuYWRkQ2xhc3MoXCJhbS1kaXNhYmxlZFwiKSx2Kys7bT09PWUmJmYuZXEodGhpcy5kYXRlLmdldE1vbnRoKCkpLnJlbW92ZUNsYXNzKFwiYW0tZGlzYWJsZWRcIikuYWRkQ2xhc3MoXCJhbS1hY3RpdmVcIikscD1cIlwiLGU9MTAqcGFyc2VJbnQoZS8xMCwxMCk7dmFyIGcseT10aGlzLiRwaWNrZXIuZmluZChcIi5hbS1kYXRlcGlja2VyLXllYXJzXCIpLmZpbmQoXCIuYW0tZGF0ZXBpY2tlci1zZWxlY3RcIikudGV4dChlK1wiLVwiKyhlKzkpKS5lbmQoKS5maW5kKFwidGRcIiksdz1uZXcgRGF0ZSh0aGlzLnZpZXdEYXRlKTtlLT0xO2Zvcih2YXIgYj0tMTtiPDExO2IrKylnPXRoaXMub25SZW5kZXIody5zZXRGdWxsWWVhcihlKSwyKSxwKz0nPHNwYW4gY2xhc3M9XCInK2crKGI9PT0tMXx8MTA9PT1iP1wiIGFtLWRhdGVwaWNrZXItb2xkXCI6XCJcIikrKG09PT1lP1wiIGFtLWFjdGl2ZVwiOlwiXCIpKydcIj4nK2UrXCI8L3NwYW4+XCIsZSs9MTt5Lmh0bWwocCl9LGEucHJvdG90eXBlLmNsaWNrPWZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlLGkscz10aGlzLiRwaWNrZXIuZmluZChcIi5hbS1kYXRlcGlja2VyLWRheXNcIikuZmluZChcIi5hbS1hY3RpdmVcIiksbz10aGlzLiRwaWNrZXIuZmluZChcIi5hbS1kYXRlcGlja2VyLW1vbnRoc1wiKSxhPW8uZmluZChcIi5hbS1hY3RpdmVcIikuaW5kZXgoKSxsPW4odC50YXJnZXQpLmNsb3Nlc3QoXCJzcGFuLCB0ZCwgdGhcIik7aWYoMT09PWwubGVuZ3RoKXN3aXRjaChsWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInRoXCI6c3dpdGNoKGxbMF0uY2xhc3NOYW1lKXtjYXNlXCJhbS1kYXRlcGlja2VyLXN3aXRjaFwiOnRoaXMuc2hvd01vZGUoMSk7YnJlYWs7Y2FzZVwiYW0tZGF0ZXBpY2tlci1wcmV2XCI6Y2FzZVwiYW0tZGF0ZXBpY2tlci1uZXh0XCI6dGhpcy52aWV3RGF0ZVtcInNldFwiK3IubW9kZXNbdGhpcy52aWV3TW9kZV0ubmF2Rm5jXS5jYWxsKHRoaXMudmlld0RhdGUsdGhpcy52aWV3RGF0ZVtcImdldFwiK3IubW9kZXNbdGhpcy52aWV3TW9kZV0ubmF2Rm5jXS5jYWxsKHRoaXMudmlld0RhdGUpK3IubW9kZXNbdGhpcy52aWV3TW9kZV0ubmF2U3RlcCooXCJhbS1kYXRlcGlja2VyLXByZXZcIj09PWxbMF0uY2xhc3NOYW1lPy0xOjEpKSx0aGlzLmZpbGwoKSx0aGlzLnNldCgpfWJyZWFrO2Nhc2VcInNwYW5cIjppZihsLmlzKFwiLmFtLWRpc2FibGVkXCIpKXJldHVybjtsLmlzKFwiLmFtLWRhdGVwaWNrZXItbW9udGhcIik/KGU9bC5wYXJlbnQoKS5maW5kKFwic3BhblwiKS5pbmRleChsKSxsLmlzKFwiLmFtLWFjdGl2ZVwiKT90aGlzLnZpZXdEYXRlLnNldE1vbnRoKGUscy50ZXh0KCkpOnRoaXMudmlld0RhdGUuc2V0TW9udGgoZSkpOihpPXBhcnNlSW50KGwudGV4dCgpLDEwKXx8MCxsLmlzKFwiLmFtLWFjdGl2ZVwiKT90aGlzLnZpZXdEYXRlLnNldEZ1bGxZZWFyKGksYSxzLnRleHQoKSk6dGhpcy52aWV3RGF0ZS5zZXRGdWxsWWVhcihpKSksMCE9PXRoaXMudmlld01vZGUmJih0aGlzLmRhdGU9bmV3IERhdGUodGhpcy52aWV3RGF0ZSksdGhpcy4kZWxlbWVudC50cmlnZ2VyKHt0eXBlOlwiY2hhbmdlRGF0ZS5kYXRlcGlja2VyLmFtdWlcIixkYXRlOnRoaXMuZGF0ZSx2aWV3TW9kZTpyLm1vZGVzW3RoaXMudmlld01vZGVdLmNsc05hbWV9KSksdGhpcy5zaG93TW9kZSgtMSksdGhpcy5maWxsKCksdGhpcy5zZXQoKTticmVhaztjYXNlXCJ0ZFwiOmlmKGwuaXMoXCIuYW0tZGF0ZXBpY2tlci1kYXlcIikmJiFsLmlzKFwiLmFtLWRpc2FibGVkXCIpKXt2YXIgYz1wYXJzZUludChsLnRleHQoKSwxMCl8fDE7ZT10aGlzLnZpZXdEYXRlLmdldE1vbnRoKCksbC5pcyhcIi5hbS1kYXRlcGlja2VyLW9sZFwiKT9lLT0xOmwuaXMoXCIuYW0tZGF0ZXBpY2tlci1uZXdcIikmJihlKz0xKSxpPXRoaXMudmlld0RhdGUuZ2V0RnVsbFllYXIoKSx0aGlzLmRhdGU9bmV3IERhdGUoaSxlLGMsMCwwLDAsMCksdGhpcy52aWV3RGF0ZT1uZXcgRGF0ZShpLGUsTWF0aC5taW4oMjgsYyksMCwwLDAsMCksdGhpcy5maWxsKCksdGhpcy5zZXQoKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoe3R5cGU6XCJjaGFuZ2VEYXRlLmRhdGVwaWNrZXIuYW11aVwiLGRhdGU6dGhpcy5kYXRlLHZpZXdNb2RlOnIubW9kZXNbdGhpcy52aWV3TW9kZV0uY2xzTmFtZX0pLHRoaXMub3B0aW9ucy5hdXRvQ2xvc2UmJnRoaXMuY2xvc2UoKX19fSxhLnByb3RvdHlwZS5tb3VzZWRvd249ZnVuY3Rpb24odCl7dC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCl9LGEucHJvdG90eXBlLnNob3dNb2RlPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnZpZXdNb2RlPU1hdGgubWF4KHRoaXMubWluVmlld01vZGUsTWF0aC5taW4oMix0aGlzLnZpZXdNb2RlK3QpKSksdGhpcy4kcGlja2VyLmZpbmQoXCI+ZGl2XCIpLmhpZGUoKS5maWx0ZXIoXCIuYW0tZGF0ZXBpY2tlci1cIityLm1vZGVzW3RoaXMudmlld01vZGVdLmNsc05hbWUpLnNob3coKX0sYS5wcm90b3R5cGUuaXNPdXRWaWV3PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb21wb25lbnQ/dGhpcy5jb21wb25lbnQub2Zmc2V0KCk6dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxlPXtvdXRSaWdodDohMSxvdXRCb3R0b206ITF9LGk9dGhpcy4kcGlja2VyLG49dC5sZWZ0K2kub3V0ZXJXaWR0aCghMCkscz10LnRvcCtpLm91dGVySGVpZ2h0KCEwKSt0aGlzLiRlbGVtZW50LmlubmVySGVpZ2h0KCk7cmV0dXJuIG4+by53aWR0aCgpJiYoZS5vdXRSaWdodD0hMCkscz5vLmhlaWdodCgpJiYoZS5vdXRCb3R0b209ITApLGV9LGEucHJvdG90eXBlLmdldExvY2FsZT1mdW5jdGlvbih0KXtyZXR1cm4gdHx8KHQ9bmF2aWdhdG9yLmxhbmd1YWdlJiZuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3BsaXQoXCItXCIpLHRbMV09dFsxXS50b1VwcGVyQ2FzZSgpLHQ9dC5qb2luKFwiX1wiKSksYS5sb2NhbGVzW3RdfHwodD1cImVuX1VTXCIpLHR9LGEucHJvdG90eXBlLnNldFRoZW1lPWZ1bmN0aW9uKCl7dGhpcy50aGVtZSYmdGhpcy4kcGlja2VyLmFkZENsYXNzKFwiYW0tZGF0ZXBpY2tlci1cIit0aGlzLnRoZW1lKX0sYS5sb2NhbGVzPXtlbl9VUzp7ZGF5czpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXSxkYXlzU2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGRheXNNaW46W1wiU3VcIixcIk1vXCIsXCJUdVwiLFwiV2VcIixcIlRoXCIsXCJGclwiLFwiU2FcIl0sbW9udGhzOltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXSxtb250aHNTaG9ydDpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLHdlZWtTdGFydDowfSx6aF9DTjp7ZGF5czpbXCJcXHU2NjFmXFx1NjcxZlxcdTY1ZTVcIixcIlxcdTY2MWZcXHU2NzFmXFx1NGUwMFwiLFwiXFx1NjYxZlxcdTY3MWZcXHU0ZThjXCIsXCJcXHU2NjFmXFx1NjcxZlxcdTRlMDlcIixcIlxcdTY2MWZcXHU2NzFmXFx1NTZkYlwiLFwiXFx1NjYxZlxcdTY3MWZcXHU0ZTk0XCIsXCJcXHU2NjFmXFx1NjcxZlxcdTUxNmRcIl0sZGF5c1Nob3J0OltcIlxcdTU0NjhcXHU2NWU1XCIsXCJcXHU1NDY4XFx1NGUwMFwiLFwiXFx1NTQ2OFxcdTRlOGNcIixcIlxcdTU0NjhcXHU0ZTA5XCIsXCJcXHU1NDY4XFx1NTZkYlwiLFwiXFx1NTQ2OFxcdTRlOTRcIixcIlxcdTU0NjhcXHU1MTZkXCJdLGRheXNNaW46W1wiXFx1NjVlNVwiLFwiXFx1NGUwMFwiLFwiXFx1NGU4Y1wiLFwiXFx1NGUwOVwiLFwiXFx1NTZkYlwiLFwiXFx1NGU5NFwiLFwiXFx1NTE2ZFwiXSxtb250aHM6W1wiXFx1NGUwMFxcdTY3MDhcIixcIlxcdTRlOGNcXHU2NzA4XCIsXCJcXHU0ZTA5XFx1NjcwOFwiLFwiXFx1NTZkYlxcdTY3MDhcIixcIlxcdTRlOTRcXHU2NzA4XCIsXCJcXHU1MTZkXFx1NjcwOFwiLFwiXFx1NGUwM1xcdTY3MDhcIixcIlxcdTUxNmJcXHU2NzA4XCIsXCJcXHU0ZTVkXFx1NjcwOFwiLFwiXFx1NTM0MVxcdTY3MDhcIixcIlxcdTUzNDFcXHU0ZTAwXFx1NjcwOFwiLFwiXFx1NTM0MVxcdTRlOGNcXHU2NzA4XCJdLG1vbnRoc1Nob3J0OltcIlxcdTRlMDBcXHU2NzA4XCIsXCJcXHU0ZThjXFx1NjcwOFwiLFwiXFx1NGUwOVxcdTY3MDhcIixcIlxcdTU2ZGJcXHU2NzA4XCIsXCJcXHU0ZTk0XFx1NjcwOFwiLFwiXFx1NTE2ZFxcdTY3MDhcIixcIlxcdTRlMDNcXHU2NzA4XCIsXCJcXHU1MTZiXFx1NjcwOFwiLFwiXFx1NGU1ZFxcdTY3MDhcIixcIlxcdTUzNDFcXHU2NzA4XCIsXCJcXHU1MzQxXFx1NGUwMFxcdTY3MDhcIixcIlxcdTUzNDFcXHU0ZThjXFx1NjcwOFwiXSx3ZWVrU3RhcnQ6MSx5ZWFyOltcIlxcdTVlNzRcIl19fTt2YXIgcj17bW9kZXM6W3tjbHNOYW1lOlwiZGF5c1wiLG5hdkZuYzpcIk1vbnRoXCIsbmF2U3RlcDoxfSx7Y2xzTmFtZTpcIm1vbnRoc1wiLG5hdkZuYzpcIkZ1bGxZZWFyXCIsbmF2U3RlcDoxfSx7Y2xzTmFtZTpcInllYXJzXCIsbmF2Rm5jOlwiRnVsbFllYXJcIixuYXZTdGVwOjEwfV0saXNMZWFwWWVhcjpmdW5jdGlvbih0KXtyZXR1cm4gdCU0PT09MCYmdCUxMDAhPT0wfHx0JTQwMD09PTB9LGdldERheXNJbk1vbnRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuWzMxLHIuaXNMZWFwWWVhcih0KT8yOToyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV1bZV19LHBhcnNlRm9ybWF0OmZ1bmN0aW9uKHQpe3ZhciBlPXQubWF0Y2goL1suXFwvXFwtXFxzXS4qPy8pLGk9dC5zcGxpdCgvXFxXKy8pO2lmKCFlfHwhaXx8MD09PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0ZSBmb3JtYXQuXCIpO3JldHVybntzZXBhcmF0b3I6ZSxwYXJ0czppfX0scGFyc2VEYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGksbj10LnNwbGl0KGUuc2VwYXJhdG9yKTtpZih0PW5ldyBEYXRlLHQuc2V0SG91cnMoMCksdC5zZXRNaW51dGVzKDApLHQuc2V0U2Vjb25kcygwKSx0LnNldE1pbGxpc2Vjb25kcygwKSxuLmxlbmd0aD09PWUucGFydHMubGVuZ3RoKXtmb3IodmFyIHM9dC5nZXRGdWxsWWVhcigpLG89dC5nZXREYXRlKCksYT10LmdldE1vbnRoKCkscj0wLGw9ZS5wYXJ0cy5sZW5ndGg7cjxsO3IrKylzd2l0Y2goaT1wYXJzZUludChuW3JdLDEwKXx8MSxlLnBhcnRzW3JdKXtjYXNlXCJkZFwiOmNhc2VcImRcIjpvPWksdC5zZXREYXRlKGkpO2JyZWFrO2Nhc2VcIm1tXCI6Y2FzZVwibVwiOmE9aS0xLHQuc2V0TW9udGgoaS0xKTticmVhaztjYXNlXCJ5eVwiOnM9MmUzK2ksdC5zZXRGdWxsWWVhcigyZTMraSk7YnJlYWs7Y2FzZVwieXl5eVwiOnM9aSx0LnNldEZ1bGxZZWFyKGkpfXQ9bmV3IERhdGUocyxhLG8sMCwwLDApfXJldHVybiB0fSxmb3JtYXREYXRlOmZ1bmN0aW9uKHQsZSl7dmFyIGk9e2Q6dC5nZXREYXRlKCksbTp0LmdldE1vbnRoKCkrMSx5eTp0LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMikseXl5eTp0LmdldEZ1bGxZZWFyKCl9LG49W107aS5kZD0oaS5kPDEwP1wiMFwiOlwiXCIpK2kuZCxpLm1tPShpLm08MTA/XCIwXCI6XCJcIikraS5tO2Zvcih2YXIgcz0wLG89ZS5wYXJ0cy5sZW5ndGg7czxvO3MrKyluLnB1c2goaVtlLnBhcnRzW3NdXSk7cmV0dXJuIG4uam9pbihlLnNlcGFyYXRvcil9LGhlYWRUZW1wbGF0ZTonPHRoZWFkPjx0ciBjbGFzcz1cImFtLWRhdGVwaWNrZXItaGVhZGVyXCI+PHRoIGNsYXNzPVwiYW0tZGF0ZXBpY2tlci1wcmV2XCI+PGkgY2xhc3M9XCJhbS1kYXRlcGlja2VyLXByZXYtaWNvblwiPjwvaT48L3RoPjx0aCBjb2xzcGFuPVwiNVwiIGNsYXNzPVwiYW0tZGF0ZXBpY2tlci1zd2l0Y2hcIj48ZGl2IGNsYXNzPVwiYW0tZGF0ZXBpY2tlci1zZWxlY3RcIj48L2Rpdj48L3RoPjx0aCBjbGFzcz1cImFtLWRhdGVwaWNrZXItbmV4dFwiPjxpIGNsYXNzPVwiYW0tZGF0ZXBpY2tlci1uZXh0LWljb25cIj48L2k+PC90aD48L3RyPjwvdGhlYWQ+Jyxjb250VGVtcGxhdGU6Jzx0Ym9keT48dHI+PHRkIGNvbHNwYW49XCI3XCI+PC90ZD48L3RyPjwvdGJvZHk+J307ci50ZW1wbGF0ZT0nPGRpdiBjbGFzcz1cImFtLWRhdGVwaWNrZXIgYW0tZGF0ZXBpY2tlci1kcm9wZG93blwiPjxkaXYgY2xhc3M9XCJhbS1kYXRlcGlja2VyLWNhcmV0XCI+PC9kaXY+PGRpdiBjbGFzcz1cImFtLWRhdGVwaWNrZXItZGF5c1wiPjx0YWJsZSBjbGFzcz1cImFtLWRhdGVwaWNrZXItdGFibGVcIj4nK3IuaGVhZFRlbXBsYXRlKyc8dGJvZHk+PC90Ym9keT48L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XCJhbS1kYXRlcGlja2VyLW1vbnRoc1wiPjx0YWJsZSBjbGFzcz1cImFtLWRhdGVwaWNrZXItdGFibGVcIj4nK3IuaGVhZFRlbXBsYXRlK3IuY29udFRlbXBsYXRlKyc8L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XCJhbS1kYXRlcGlja2VyLXllYXJzXCI+PHRhYmxlIGNsYXNzPVwiYW0tZGF0ZXBpY2tlci10YWJsZVwiPicrci5oZWFkVGVtcGxhdGUrci5jb250VGVtcGxhdGUrXCI8L3RhYmxlPjwvZGl2PjwvZGl2PlwiLHMucGx1Z2luKFwiZGF0ZXBpY2tlclwiLGEpLHMucmVhZHkoZnVuY3Rpb24odCl7bihcIltkYXRhLWFtLWRhdGVwaWNrZXJdXCIpLmRhdGVwaWNrZXIoKX0pLHQuZXhwb3J0cz1zLmRhdGVwaWNrZXI9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpLG89bihkb2N1bWVudCksYT1zLnN1cHBvcnQudHJhbnNpdGlvbixyPWZ1bmN0aW9uKCl7dGhpcy5pZD1zLnV0aWxzLmdlbmVyYXRlR1VJRChcImFtLWRpbW1lclwiKSx0aGlzLiRlbGVtZW50PW4oci5ERUZBVUxUUy50cGwse2lkOnRoaXMuaWR9KSx0aGlzLmluaXRlZD0hMSx0aGlzLnNjcm9sbGJhcldpZHRoPTAsdGhpcy4kdXNlZD1uKFtdKX07ci5ERUZBVUxUUz17dHBsOic8ZGl2IGNsYXNzPVwiYW0tZGltbWVyXCIgZGF0YS1hbS1kaW1tZXI+PC9kaXY+J30sci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRlZHx8KG4oZG9jdW1lbnQuYm9keSkuYXBwZW5kKHRoaXMuJGVsZW1lbnQpLHRoaXMuaW5pdGVkPSEwLG8udHJpZ2dlcihcImluaXQuZGltbWVyLmFtdWlcIiksdGhpcy4kZWxlbWVudC5vbihcInRvdWNobW92ZS5kaW1tZXIuYW11aVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0pKSx0aGlzfSxyLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQpe3RoaXMuaW5pdGVkfHx0aGlzLmluaXQoKTt2YXIgZT10aGlzLiRlbGVtZW50O3JldHVybiB0JiYodGhpcy4kdXNlZD10aGlzLiR1c2VkLmFkZChuKHQpKSksdGhpcy5jaGVja1Njcm9sbGJhcigpLnNldFNjcm9sbGJhcigpLGUuc2hvdygpLnRyaWdnZXIoXCJvcGVuLmRpbW1lci5hbXVpXCIpLGEmJmUub2ZmKGEuZW5kKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5hZGRDbGFzcyhcImFtLWFjdGl2ZVwiKX0sMCksdGhpc30sci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKCl7cy5oaWRlKCksdGhpcy5yZXNldFNjcm9sbGJhcigpfWlmKHRoaXMuJHVzZWQ9dGhpcy4kdXNlZC5ub3Qobih0KSksIWUmJnRoaXMuJHVzZWQubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBzPXRoaXMuJGVsZW1lbnQ7cmV0dXJuIHMucmVtb3ZlQ2xhc3MoXCJhbS1hY3RpdmVcIikudHJpZ2dlcihcImNsb3NlLmRpbW1lci5hbXVpXCIpLGkuY2FsbCh0aGlzKSx0aGlzfSxyLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbGJhcldpZHRoPXMudXRpbHMubWVhc3VyZVNjcm9sbGJhcigpLHRoaXN9LHIucHJvdG90eXBlLnNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciB0PW4oZG9jdW1lbnQuYm9keSksZT1wYXJzZUludCh0LmNzcyhcInBhZGRpbmctcmlnaHRcIil8fDAsMTApO3JldHVybiB0aGlzLnNjcm9sbGJhcldpZHRoJiZ0LmNzcyhcInBhZGRpbmctcmlnaHRcIixlK3RoaXMuc2Nyb2xsYmFyV2lkdGgpLHQuYWRkQ2xhc3MoXCJhbS1kaW1tZXItYWN0aXZlXCIpLHRoaXN9LHIucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7cmV0dXJuIG4oZG9jdW1lbnQuYm9keSkuY3NzKFwicGFkZGluZy1yaWdodFwiLFwiXCIpLnJlbW92ZUNsYXNzKFwiYW0tZGltbWVyLWFjdGl2ZVwiKSx0aGlzfSx0LmV4cG9ydHM9cy5kaW1tZXI9bmV3IHJ9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKSxvPXMuc3VwcG9ydC5hbmltYXRpb24sYT1mdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSxhLkRFRkFVTFRTLGUpLGU9dGhpcy5vcHRpb25zLHRoaXMuJGVsZW1lbnQ9bih0KSx0aGlzLiR0b2dnbGU9dGhpcy4kZWxlbWVudC5maW5kKGUuc2VsZWN0b3IudG9nZ2xlKSx0aGlzLiRkcm9wZG93bj10aGlzLiRlbGVtZW50LmZpbmQoZS5zZWxlY3Rvci5kcm9wZG93biksdGhpcy4kYm91bmRhcnk9ZS5ib3VuZGFyeT09PXdpbmRvdz9uKHdpbmRvdyk6dGhpcy4kZWxlbWVudC5jbG9zZXN0KGUuYm91bmRhcnkpLHRoaXMuJGp1c3RpZnk9ZS5qdXN0aWZ5JiZuKGUuanVzdGlmeSkubGVuZ3RoJiZuKGUuanVzdGlmeSl8fHZvaWQgMCwhdGhpcy4kYm91bmRhcnkubGVuZ3RoJiYodGhpcy4kYm91bmRhcnk9bih3aW5kb3cpKSx0aGlzLmFjdGl2ZT0hIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhbS1hY3RpdmVcIiksdGhpcy5hbmltYXRpbmc9bnVsbCx0aGlzLmV2ZW50cygpfTthLkRFRkFVTFRTPXthbmltYXRpb246XCJhbS1hbmltYXRpb24tc2xpZGUtdG9wLWZpeGVkXCIsYm91bmRhcnk6d2luZG93LGp1c3RpZnk6dm9pZCAwLHNlbGVjdG9yOntkcm9wZG93bjpcIi5hbS1kcm9wZG93bi1jb250ZW50XCIsdG9nZ2xlOlwiLmFtLWRyb3Bkb3duLXRvZ2dsZVwifSx0cmlnZ2VyOlwiY2xpY2tcIn0sYS5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLHRoaXMuYW5pbWF0aW5nfHx0aGlzW3RoaXMuYWN0aXZlP1wiY2xvc2VcIjpcIm9wZW5cIl0oKX0sYS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLiR0b2dnbGUsaT10aGlzLiRlbGVtZW50LHM9dGhpcy4kZHJvcGRvd247aWYoIWUuaXMoXCIuYW0tZGlzYWJsZWQsIDpkaXNhYmxlZFwiKSYmIXRoaXMuYWN0aXZlKXtpLnRyaWdnZXIoXCJvcGVuLmRyb3Bkb3duLmFtdWlcIikuYWRkQ2xhc3MoXCJhbS1hY3RpdmVcIiksZS50cmlnZ2VyKFwiZm9jdXNcIiksdGhpcy5jaGVja0RpbWVuc2lvbnModCk7dmFyIGE9bi5wcm94eShmdW5jdGlvbigpe2kudHJpZ2dlcihcIm9wZW5lZC5kcm9wZG93bi5hbXVpXCIpLHRoaXMuYWN0aXZlPSEwLHRoaXMuYW5pbWF0aW5nPTB9LHRoaXMpO28/KHRoaXMuYW5pbWF0aW5nPTEscy5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKS5vbihvLmVuZCtcIi5vcGVuLmRyb3Bkb3duLmFtdWlcIixuLnByb3h5KGZ1bmN0aW9uKCl7YSgpLHMucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFuaW1hdGlvbil9LHRoaXMpKSk6YSgpfX0sYS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSl7dmFyIHQ9XCJhbS1kcm9wZG93bi1hbmltYXRpb25cIixlPXRoaXMuJGVsZW1lbnQsaT10aGlzLiRkcm9wZG93bjtlLnRyaWdnZXIoXCJjbG9zZS5kcm9wZG93bi5hbXVpXCIpO3ZhciBzPW4ucHJveHkoZnVuY3Rpb24oKXtlLnJlbW92ZUNsYXNzKFwiYW0tYWN0aXZlXCIpLnRyaWdnZXIoXCJjbG9zZWQuZHJvcGRvd24uYW11aVwiKSx0aGlzLmFjdGl2ZT0hMSx0aGlzLmFuaW1hdGluZz0wLHRoaXMuJHRvZ2dsZS5ibHVyKCl9LHRoaXMpO28/KGkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmFuaW1hdGlvbiksaS5hZGRDbGFzcyh0KSx0aGlzLmFuaW1hdGluZz0xLGkub25lKG8uZW5kK1wiLmNsb3NlLmRyb3Bkb3duLmFtdWlcIixmdW5jdGlvbigpe2kucmVtb3ZlQ2xhc3ModCkscygpfSkpOnMoKX19LGEucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuJHRvZ2dsZS5wcm9wKFwiZGlzYWJsZWRcIiwhMSl9LGEucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLiR0b2dnbGUucHJvcChcImRpc2FibGVkXCIsITApfSxhLnByb3RvdHlwZS5jaGVja0RpbWVuc2lvbnM9ZnVuY3Rpb24odCl7aWYodGhpcy4kZHJvcGRvd24ubGVuZ3RoKXt2YXIgZT10aGlzLiRkcm9wZG93bjt0JiZ0Lm9mZnNldCYmZS5vZmZzZXQodC5vZmZzZXQpO3ZhciBpPWUub2Zmc2V0KCkscz1lLm91dGVyV2lkdGgoKSxvPXRoaXMuJGJvdW5kYXJ5LndpZHRoKCksYT1uLmlzV2luZG93KHRoaXMuYm91bmRhcnkpJiZ0aGlzLiRib3VuZGFyeS5vZmZzZXQoKT90aGlzLiRib3VuZGFyeS5vZmZzZXQoKS5sZWZ0OjA7dGhpcy4kanVzdGlmeSYmZS5jc3Moe1wibWluLXdpZHRoXCI6dGhpcy4kanVzdGlmeS5jc3MoXCJ3aWR0aFwiKX0pLHMrKGkubGVmdC1hKT5vJiZ0aGlzLiRlbGVtZW50LmFkZENsYXNzKFwiYW0tZHJvcGRvd24tZmxpcFwiKX19LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7bihcIltkYXRhLWFtLWRyb3Bkb3duXVwiKS5ub3QodGhpcy4kZWxlbWVudCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuZGF0YShcImFtdWkuZHJvcGRvd25cIik7dCYmdC5jbG9zZSgpfSl9LGEucHJvdG90eXBlLmV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PVwiZHJvcGRvd24uYW11aVwiLGU9dGhpcy4kdG9nZ2xlO2Uub24oXCJjbGljay5cIit0LG4ucHJveHkoZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMudG9nZ2xlKCl9LHRoaXMpKSxuKGRvY3VtZW50KS5vbihcImtleWRvd24uZHJvcGRvd24uYW11aVwiLG4ucHJveHkoZnVuY3Rpb24odCl7Mjc9PT10LmtleUNvZGUmJnRoaXMuYWN0aXZlJiZ0aGlzLmNsb3NlKCl9LHRoaXMpKS5vbihcImNsaWNrLm91dGVyLmRyb3Bkb3duLmFtdWlcIixuLnByb3h5KGZ1bmN0aW9uKHQpeyF0aGlzLmFjdGl2ZXx8dGhpcy4kZWxlbWVudFswXSE9PXQudGFyZ2V0JiZ0aGlzLiRlbGVtZW50LmZpbmQodC50YXJnZXQpLmxlbmd0aHx8dGhpcy5jbG9zZSgpfSx0aGlzKSl9LHMucGx1Z2luKFwiZHJvcGRvd25cIixhKSxzLnJlYWR5KGZ1bmN0aW9uKHQpe24oXCJbZGF0YS1hbS1kcm9wZG93bl1cIix0KS5kcm9wZG93bigpfSksbihkb2N1bWVudCkub24oXCJjbGljay5kcm9wZG93bi5hbXVpLmRhdGEtYXBpXCIsXCIuYW0tZHJvcGRvd24gZm9ybVwiLGZ1bmN0aW9uKHQpe1xyXG50LnN0b3BQcm9wYWdhdGlvbigpfSksdC5leHBvcnRzPXMuZHJvcGRvd249YX0sZnVuY3Rpb24odCxlLGkpeyhmdW5jdGlvbihlKXt2YXIgbj1pKDEpLHM9aSgyKSxvPSEwO24uZmxleHNsaWRlcj1mdW5jdGlvbih0LGkpe3ZhciBzPW4odCk7cy52YXJzPW4uZXh0ZW5kKHt9LG4uZmxleHNsaWRlci5kZWZhdWx0cyxpKTt2YXIgYSxyPXMudmFycy5uYW1lc3BhY2UsbD13aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQmJndpbmRvdy5NU0dlc3R1cmUsYz0oXCJvbnRvdWNoc3RhcnRcImluIHdpbmRvd3x8bHx8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2YgRG9jdW1lbnRUb3VjaCkmJnMudmFycy50b3VjaCx1PVwiY2xpY2sgdG91Y2hlbmQgTVNQb2ludGVyVXAga2V5dXBcIixoPVwiXCIsZD1cInZlcnRpY2FsXCI9PT1zLnZhcnMuZGlyZWN0aW9uLHA9cy52YXJzLnJldmVyc2UsbT1zLnZhcnMuaXRlbVdpZHRoPjAsZj1cImZhZGVcIj09PXMudmFycy5hbmltYXRpb24sdj1cIlwiIT09cy52YXJzLmFzTmF2Rm9yLGc9e307bi5kYXRhKHQsXCJmbGV4c2xpZGVyXCIscyksZz17aW5pdDpmdW5jdGlvbigpe3MuYW5pbWF0aW5nPSExLHMuY3VycmVudFNsaWRlPXBhcnNlSW50KHMudmFycy5zdGFydEF0P3MudmFycy5zdGFydEF0OjAsMTApLGlzTmFOKHMuY3VycmVudFNsaWRlKSYmKHMuY3VycmVudFNsaWRlPTApLHMuYW5pbWF0aW5nVG89cy5jdXJyZW50U2xpZGUscy5hdEVuZD0wPT09cy5jdXJyZW50U2xpZGV8fHMuY3VycmVudFNsaWRlPT09cy5sYXN0LHMuY29udGFpbmVyU2VsZWN0b3I9cy52YXJzLnNlbGVjdG9yLnN1YnN0cigwLHMudmFycy5zZWxlY3Rvci5zZWFyY2goXCIgXCIpKSxzLnNsaWRlcz1uKHMudmFycy5zZWxlY3RvcixzKSxzLmNvbnRhaW5lcj1uKHMuY29udGFpbmVyU2VsZWN0b3Iscykscy5jb3VudD1zLnNsaWRlcy5sZW5ndGgscy5zeW5jRXhpc3RzPW4ocy52YXJzLnN5bmMpLmxlbmd0aD4wLFwic2xpZGVcIj09PXMudmFycy5hbmltYXRpb24mJihzLnZhcnMuYW5pbWF0aW9uPVwic3dpbmdcIikscy5wcm9wPWQ/XCJ0b3BcIjpcIm1hcmdpbkxlZnRcIixzLmFyZ3M9e30scy5tYW51YWxQYXVzZT0hMSxzLnN0b3BwZWQ9ITEscy5zdGFydGVkPSExLHMuc3RhcnRUaW1lb3V0PW51bGwscy50cmFuc2l0aW9ucz0hcy52YXJzLnZpZGVvJiYhZiYmcy52YXJzLnVzZUNTUyYmZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGU9W1wicGVyc3BlY3RpdmVQcm9wZXJ0eVwiLFwiV2Via2l0UGVyc3BlY3RpdmVcIixcIk1velBlcnNwZWN0aXZlXCIsXCJPUGVyc3BlY3RpdmVcIixcIm1zUGVyc3BlY3RpdmVcIl07Zm9yKHZhciBpIGluIGUpaWYodm9pZCAwIT09dC5zdHlsZVtlW2ldXSlyZXR1cm4gcy5wZng9ZVtpXS5yZXBsYWNlKFwiUGVyc3BlY3RpdmVcIixcIlwiKS50b0xvd2VyQ2FzZSgpLHMucHJvcD1cIi1cIitzLnBmeCtcIi10cmFuc2Zvcm1cIiwhMDtyZXR1cm4hMX0oKSxzLmVuc3VyZUFuaW1hdGlvbkVuZD1cIlwiLFwiXCIhPT1zLnZhcnMuY29udHJvbHNDb250YWluZXImJihzLmNvbnRyb2xzQ29udGFpbmVyPW4ocy52YXJzLmNvbnRyb2xzQ29udGFpbmVyKS5sZW5ndGg+MCYmbihzLnZhcnMuY29udHJvbHNDb250YWluZXIpKSxcIlwiIT09cy52YXJzLm1hbnVhbENvbnRyb2xzJiYocy5tYW51YWxDb250cm9scz1uKHMudmFycy5tYW51YWxDb250cm9scykubGVuZ3RoPjAmJm4ocy52YXJzLm1hbnVhbENvbnRyb2xzKSksXCJcIiE9PXMudmFycy5jdXN0b21EaXJlY3Rpb25OYXYmJihzLmN1c3RvbURpcmVjdGlvbk5hdj0yPT09bihzLnZhcnMuY3VzdG9tRGlyZWN0aW9uTmF2KS5sZW5ndGgmJm4ocy52YXJzLmN1c3RvbURpcmVjdGlvbk5hdikpLHMudmFycy5yYW5kb21pemUmJihzLnNsaWRlcy5zb3J0KGZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSktLjV9KSxzLmNvbnRhaW5lci5lbXB0eSgpLmFwcGVuZChzLnNsaWRlcykpLHMuZG9NYXRoKCkscy5zZXR1cChcImluaXRcIikscy52YXJzLmNvbnRyb2xOYXYmJmcuY29udHJvbE5hdi5zZXR1cCgpLHMudmFycy5kaXJlY3Rpb25OYXYmJmcuZGlyZWN0aW9uTmF2LnNldHVwKCkscy52YXJzLmtleWJvYXJkJiYoMT09PW4ocy5jb250YWluZXJTZWxlY3RvcikubGVuZ3RofHxzLnZhcnMubXVsdGlwbGVLZXlib2FyZCkmJm4oZG9jdW1lbnQpLmJpbmQoXCJrZXl1cFwiLGZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5Q29kZTtpZighcy5hbmltYXRpbmcmJigzOT09PWV8fDM3PT09ZSkpe3ZhciBpPTM5PT09ZT9zLmdldFRhcmdldChcIm5leHRcIik6Mzc9PT1lJiZzLmdldFRhcmdldChcInByZXZcIik7cy5mbGV4QW5pbWF0ZShpLHMudmFycy5wYXVzZU9uQWN0aW9uKX19KSxzLnZhcnMubW91c2V3aGVlbCYmcy5iaW5kKFwibW91c2V3aGVlbFwiLGZ1bmN0aW9uKHQsZSxpLG4pe3QucHJldmVudERlZmF1bHQoKTt2YXIgbz1lPDA/cy5nZXRUYXJnZXQoXCJuZXh0XCIpOnMuZ2V0VGFyZ2V0KFwicHJldlwiKTtzLmZsZXhBbmltYXRlKG8scy52YXJzLnBhdXNlT25BY3Rpb24pfSkscy52YXJzLnBhdXNlUGxheSYmZy5wYXVzZVBsYXkuc2V0dXAoKSxzLnZhcnMuc2xpZGVzaG93JiZzLnZhcnMucGF1c2VJbnZpc2libGUmJmcucGF1c2VJbnZpc2libGUuaW5pdCgpLHMudmFycy5zbGlkZXNob3cmJihzLnZhcnMucGF1c2VPbkhvdmVyJiZzLmhvdmVyKGZ1bmN0aW9uKCl7cy5tYW51YWxQbGF5fHxzLm1hbnVhbFBhdXNlfHxzLnBhdXNlKCl9LGZ1bmN0aW9uKCl7cy5tYW51YWxQYXVzZXx8cy5tYW51YWxQbGF5fHxzLnN0b3BwZWR8fHMucGxheSgpfSkscy52YXJzLnBhdXNlSW52aXNpYmxlJiZnLnBhdXNlSW52aXNpYmxlLmlzSGlkZGVuKCl8fChzLnZhcnMuaW5pdERlbGF5PjA/cy5zdGFydFRpbWVvdXQ9c2V0VGltZW91dChzLnBsYXkscy52YXJzLmluaXREZWxheSk6cy5wbGF5KCkpKSx2JiZnLmFzTmF2LnNldHVwKCksYyYmcy52YXJzLnRvdWNoJiZnLnRvdWNoKCksKCFmfHxmJiZzLnZhcnMuc21vb3RoSGVpZ2h0KSYmbih3aW5kb3cpLmJpbmQoXCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UgZm9jdXNcIixnLnJlc2l6ZSkscy5maW5kKFwiaW1nXCIpLmF0dHIoXCJkcmFnZ2FibGVcIixcImZhbHNlXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLnZhcnMuc3RhcnQocyl9LDIwMCl9LGFzTmF2OntzZXR1cDpmdW5jdGlvbigpe3MuYXNOYXY9ITAscy5hbmltYXRpbmdUbz1NYXRoLmZsb29yKHMuY3VycmVudFNsaWRlL3MubW92ZSkscy5jdXJyZW50SXRlbT1zLmN1cnJlbnRTbGlkZSxzLnNsaWRlcy5yZW1vdmVDbGFzcyhyK1wiYWN0aXZlLXNsaWRlXCIpLmVxKHMuY3VycmVudEl0ZW0pLmFkZENsYXNzKHIrXCJhY3RpdmUtc2xpZGVcIiksbD8odC5fc2xpZGVyPXMscy5zbGlkZXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5fZ2VzdHVyZT1uZXcgTVNHZXN0dXJlLHQuX2dlc3R1cmUudGFyZ2V0PXQsdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx0LmN1cnJlbnRUYXJnZXQuX2dlc3R1cmUmJnQuY3VycmVudFRhcmdldC5fZ2VzdHVyZS5hZGRQb2ludGVyKHQucG9pbnRlcklkKX0sITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TR2VzdHVyZVRhcFwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1uKHRoaXMpLGk9ZS5pbmRleCgpO24ocy52YXJzLmFzTmF2Rm9yKS5kYXRhKFwiZmxleHNsaWRlclwiKS5hbmltYXRpbmd8fGUuaGFzQ2xhc3MoXCJhY3RpdmVcIil8fChzLmRpcmVjdGlvbj1zLmN1cnJlbnRJdGVtPGk/XCJuZXh0XCI6XCJwcmV2XCIscy5mbGV4QW5pbWF0ZShpLHMudmFycy5wYXVzZU9uQWN0aW9uLCExLCEwLCEwKSl9KX0pKTpzLnNsaWRlcy5vbih1LGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1uKHRoaXMpLGk9ZS5pbmRleCgpLG89ZS5vZmZzZXQoKS5sZWZ0LW4ocykuc2Nyb2xsTGVmdCgpO288PTAmJmUuaGFzQ2xhc3MocitcImFjdGl2ZS1zbGlkZVwiKT9zLmZsZXhBbmltYXRlKHMuZ2V0VGFyZ2V0KFwicHJldlwiKSwhMCk6bihzLnZhcnMuYXNOYXZGb3IpLmRhdGEoXCJmbGV4c2xpZGVyXCIpLmFuaW1hdGluZ3x8ZS5oYXNDbGFzcyhyK1wiYWN0aXZlLXNsaWRlXCIpfHwocy5kaXJlY3Rpb249cy5jdXJyZW50SXRlbTxpP1wibmV4dFwiOlwicHJldlwiLHMuZmxleEFuaW1hdGUoaSxzLnZhcnMucGF1c2VPbkFjdGlvbiwhMSwhMCwhMCkpfSl9fSxjb250cm9sTmF2OntzZXR1cDpmdW5jdGlvbigpe3MubWFudWFsQ29udHJvbHM/Zy5jb250cm9sTmF2LnNldHVwTWFudWFsKCk6Zy5jb250cm9sTmF2LnNldHVwUGFnaW5nKCl9LHNldHVwUGFnaW5nOmZ1bmN0aW9uKCl7dmFyIHQsZSxpPVwidGh1bWJuYWlsc1wiPT09cy52YXJzLmNvbnRyb2xOYXY/XCJjb250cm9sLXRodW1ic1wiOlwiY29udHJvbC1wYWdpbmdcIixvPTE7aWYocy5jb250cm9sTmF2U2NhZmZvbGQ9bignPG9sIGNsYXNzPVwiJytyK1wiY29udHJvbC1uYXYgXCIrcitpKydcIj48L29sPicpLHMucGFnaW5nQ291bnQ+MSlmb3IodmFyIGE9MDthPHMucGFnaW5nQ291bnQ7YSsrKXtlPXMuc2xpZGVzLmVxKGEpLHZvaWQgMD09PWUuYXR0cihcImRhdGEtdGh1bWItYWx0XCIpJiZlLmF0dHIoXCJkYXRhLXRodW1iLWFsdFwiLFwiXCIpO3ZhciBsPVwiXCIhPT1lLmF0dHIoXCJkYXRhLXRodW1iLWFsdFwiKT9sPScgYWx0PVwiJytlLmF0dHIoXCJkYXRhLXRodW1iLWFsdFwiKSsnXCInOlwiXCI7aWYodD1cInRodW1ibmFpbHNcIj09PXMudmFycy5jb250cm9sTmF2Pyc8aW1nIHNyYz1cIicrZS5hdHRyKFwiZGF0YS10aHVtYlwiKSsnXCInK2wrXCIvPlwiOic8YSBocmVmPVwiI1wiPicrbytcIjwvYT5cIixcInRodW1ibmFpbHNcIj09PXMudmFycy5jb250cm9sTmF2JiYhMD09PXMudmFycy50aHVtYkNhcHRpb25zKXt2YXIgYz1lLmF0dHIoXCJkYXRhLXRodW1iY2FwdGlvblwiKTtcIlwiIT09YyYmdm9pZCAwIT09YyYmKHQrPSc8c3BhbiBjbGFzcz1cIicrcisnY2FwdGlvblwiPicrYytcIjwvc3Bhbj5cIil9cy5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKFwiPGxpPlwiK3QrXCI8aT48L2k+PC9saT5cIiksbysrfXMuY29udHJvbHNDb250YWluZXI/bihzLmNvbnRyb2xzQ29udGFpbmVyKS5hcHBlbmQocy5jb250cm9sTmF2U2NhZmZvbGQpOnMuYXBwZW5kKHMuY29udHJvbE5hdlNjYWZmb2xkKSxnLmNvbnRyb2xOYXYuc2V0KCksZy5jb250cm9sTmF2LmFjdGl2ZSgpLHMuY29udHJvbE5hdlNjYWZmb2xkLmRlbGVnYXRlKFwiYSwgaW1nXCIsdSxmdW5jdGlvbih0KXtpZih0LnByZXZlbnREZWZhdWx0KCksXCJcIj09PWh8fGg9PT10LnR5cGUpe3ZhciBlPW4odGhpcyksaT1zLmNvbnRyb2xOYXYuaW5kZXgoZSk7ZS5oYXNDbGFzcyhyK1wiYWN0aXZlXCIpfHwocy5kaXJlY3Rpb249aT5zLmN1cnJlbnRTbGlkZT9cIm5leHRcIjpcInByZXZcIixzLmZsZXhBbmltYXRlKGkscy52YXJzLnBhdXNlT25BY3Rpb24pKX1cIlwiPT09aCYmKGg9dC50eXBlKSxnLnNldFRvQ2xlYXJXYXRjaGVkRXZlbnQoKX0pfSxzZXR1cE1hbnVhbDpmdW5jdGlvbigpe3MuY29udHJvbE5hdj1zLm1hbnVhbENvbnRyb2xzLGcuY29udHJvbE5hdi5hY3RpdmUoKSxzLmNvbnRyb2xOYXYuYmluZCh1LGZ1bmN0aW9uKHQpe2lmKHQucHJldmVudERlZmF1bHQoKSxcIlwiPT09aHx8aD09PXQudHlwZSl7dmFyIGU9bih0aGlzKSxpPXMuY29udHJvbE5hdi5pbmRleChlKTtlLmhhc0NsYXNzKHIrXCJhY3RpdmVcIil8fChpPnMuY3VycmVudFNsaWRlP3MuZGlyZWN0aW9uPVwibmV4dFwiOnMuZGlyZWN0aW9uPVwicHJldlwiLHMuZmxleEFuaW1hdGUoaSxzLnZhcnMucGF1c2VPbkFjdGlvbikpfVwiXCI9PT1oJiYoaD10LnR5cGUpLGcuc2V0VG9DbGVhcldhdGNoZWRFdmVudCgpfSl9LHNldDpmdW5jdGlvbigpe3ZhciB0PVwidGh1bWJuYWlsc1wiPT09cy52YXJzLmNvbnRyb2xOYXY/XCJpbWdcIjpcImFcIjtzLmNvbnRyb2xOYXY9bihcIi5cIityK1wiY29udHJvbC1uYXYgbGkgXCIrdCxzLmNvbnRyb2xzQ29udGFpbmVyP3MuY29udHJvbHNDb250YWluZXI6cyl9LGFjdGl2ZTpmdW5jdGlvbigpe3MuY29udHJvbE5hdi5yZW1vdmVDbGFzcyhyK1wiYWN0aXZlXCIpLmVxKHMuYW5pbWF0aW5nVG8pLmFkZENsYXNzKHIrXCJhY3RpdmVcIil9LHVwZGF0ZTpmdW5jdGlvbih0LGUpe3MucGFnaW5nQ291bnQ+MSYmXCJhZGRcIj09PXQ/cy5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKG4oJzxsaT48YSBocmVmPVwiI1wiPicrcy5jb3VudCtcIjwvYT48L2xpPlwiKSk6MT09PXMucGFnaW5nQ291bnQ/cy5jb250cm9sTmF2U2NhZmZvbGQuZmluZChcImxpXCIpLnJlbW92ZSgpOnMuY29udHJvbE5hdi5lcShlKS5jbG9zZXN0KFwibGlcIikucmVtb3ZlKCksZy5jb250cm9sTmF2LnNldCgpLHMucGFnaW5nQ291bnQ+MSYmcy5wYWdpbmdDb3VudCE9PXMuY29udHJvbE5hdi5sZW5ndGg/cy51cGRhdGUoZSx0KTpnLmNvbnRyb2xOYXYuYWN0aXZlKCl9fSxkaXJlY3Rpb25OYXY6e3NldHVwOmZ1bmN0aW9uKCl7dmFyIHQ9bignPHVsIGNsYXNzPVwiJytyKydkaXJlY3Rpb24tbmF2XCI+PGxpIGNsYXNzPVwiJytyKyduYXYtcHJldlwiPjxhIGNsYXNzPVwiJytyKydwcmV2XCIgaHJlZj1cIiNcIj4nK3MudmFycy5wcmV2VGV4dCsnPC9hPjwvbGk+PGxpIGNsYXNzPVwiJytyKyduYXYtbmV4dFwiPjxhIGNsYXNzPVwiJytyKyduZXh0XCIgaHJlZj1cIiNcIj4nK3MudmFycy5uZXh0VGV4dCtcIjwvYT48L2xpPjwvdWw+XCIpO3MuY3VzdG9tRGlyZWN0aW9uTmF2P3MuZGlyZWN0aW9uTmF2PXMuY3VzdG9tRGlyZWN0aW9uTmF2OnMuY29udHJvbHNDb250YWluZXI/KG4ocy5jb250cm9sc0NvbnRhaW5lcikuYXBwZW5kKHQpLHMuZGlyZWN0aW9uTmF2PW4oXCIuXCIrcitcImRpcmVjdGlvbi1uYXYgbGkgYVwiLHMuY29udHJvbHNDb250YWluZXIpKToocy5hcHBlbmQodCkscy5kaXJlY3Rpb25OYXY9bihcIi5cIityK1wiZGlyZWN0aW9uLW5hdiBsaSBhXCIscykpLGcuZGlyZWN0aW9uTmF2LnVwZGF0ZSgpLHMuZGlyZWN0aW9uTmF2LmJpbmQodSxmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7dmFyIGU7XCJcIiE9PWgmJmghPT10LnR5cGV8fChlPW4odGhpcykuaGFzQ2xhc3MocitcIm5leHRcIik/cy5nZXRUYXJnZXQoXCJuZXh0XCIpOnMuZ2V0VGFyZ2V0KFwicHJldlwiKSxzLmZsZXhBbmltYXRlKGUscy52YXJzLnBhdXNlT25BY3Rpb24pKSxcIlwiPT09aCYmKGg9dC50eXBlKSxnLnNldFRvQ2xlYXJXYXRjaGVkRXZlbnQoKX0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD1yK1wiZGlzYWJsZWRcIjsxPT09cy5wYWdpbmdDb3VudD9zLmRpcmVjdGlvbk5hdi5hZGRDbGFzcyh0KS5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpOnMudmFycy5hbmltYXRpb25Mb29wP3MuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKHQpLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKTowPT09cy5hbmltYXRpbmdUbz9zLmRpcmVjdGlvbk5hdi5yZW1vdmVDbGFzcyh0KS5maWx0ZXIoXCIuXCIrcitcInByZXZcIikuYWRkQ2xhc3ModCkuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKTpzLmFuaW1hdGluZ1RvPT09cy5sYXN0P3MuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKHQpLmZpbHRlcihcIi5cIityK1wibmV4dFwiKS5hZGRDbGFzcyh0KS5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpOnMuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKHQpLnJlbW92ZUF0dHIoXCJ0YWJpbmRleFwiKX19LHBhdXNlUGxheTp7c2V0dXA6ZnVuY3Rpb24oKXt2YXIgdD1uKCc8ZGl2IGNsYXNzPVwiJytyKydwYXVzZXBsYXlcIj48YSBocmVmPVwiI1wiPjwvYT48L2Rpdj4nKTtzLmNvbnRyb2xzQ29udGFpbmVyPyhzLmNvbnRyb2xzQ29udGFpbmVyLmFwcGVuZCh0KSxzLnBhdXNlUGxheT1uKFwiLlwiK3IrXCJwYXVzZXBsYXkgYVwiLHMuY29udHJvbHNDb250YWluZXIpKToocy5hcHBlbmQodCkscy5wYXVzZVBsYXk9bihcIi5cIityK1wicGF1c2VwbGF5IGFcIixzKSksZy5wYXVzZVBsYXkudXBkYXRlKHMudmFycy5zbGlkZXNob3c/citcInBhdXNlXCI6citcInBsYXlcIikscy5wYXVzZVBsYXkuYmluZCh1LGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxcIlwiIT09aCYmaCE9PXQudHlwZXx8KG4odGhpcykuaGFzQ2xhc3MocitcInBhdXNlXCIpPyhzLm1hbnVhbFBhdXNlPSEwLHMubWFudWFsUGxheT0hMSxzLnBhdXNlKCkpOihzLm1hbnVhbFBhdXNlPSExLHMubWFudWFsUGxheT0hMCxzLnBsYXkoKSkpLFwiXCI9PT1oJiYoaD10LnR5cGUpLGcuc2V0VG9DbGVhcldhdGNoZWRFdmVudCgpfSl9LHVwZGF0ZTpmdW5jdGlvbih0KXtcInBsYXlcIj09PXQ/cy5wYXVzZVBsYXkucmVtb3ZlQ2xhc3MocitcInBhdXNlXCIpLmFkZENsYXNzKHIrXCJwbGF5XCIpLmh0bWwocy52YXJzLnBsYXlUZXh0KTpzLnBhdXNlUGxheS5yZW1vdmVDbGFzcyhyK1wicGxheVwiKS5hZGRDbGFzcyhyK1wicGF1c2VcIikuaHRtbChzLnZhcnMucGF1c2VUZXh0KX19LHRvdWNoOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlLnN0b3BQcm9wYWdhdGlvbigpLHMuYW5pbWF0aW5nP2UucHJldmVudERlZmF1bHQoKToocy5wYXVzZSgpLHQuX2dlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCksQz0wLHU9ZD9zLmg6cy53LHY9TnVtYmVyKG5ldyBEYXRlKSxjPW0mJnAmJnMuYW5pbWF0aW5nVG89PT1zLmxhc3Q/MDptJiZwP3MubGltaXQtKHMuaXRlbVcrcy52YXJzLml0ZW1NYXJnaW4pKnMubW92ZSpzLmFuaW1hdGluZ1RvOm0mJnMuY3VycmVudFNsaWRlPT09cy5sYXN0P3MubGltaXQ6bT8ocy5pdGVtVytzLnZhcnMuaXRlbU1hcmdpbikqcy5tb3ZlKnMuY3VycmVudFNsaWRlOnA/KHMubGFzdC1zLmN1cnJlbnRTbGlkZStzLmNsb25lT2Zmc2V0KSp1OihzLmN1cnJlbnRTbGlkZStzLmNsb25lT2Zmc2V0KSp1KX1mdW5jdGlvbiBuKGkpe2kuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIG49aS50YXJnZXQuX3NsaWRlcjtpZihuKXt2YXIgcz0taS50cmFuc2xhdGlvblgsbz0taS50cmFuc2xhdGlvblk7cmV0dXJuIEMrPWQ/bzpzLGg9QyxiPWQ/TWF0aC5hYnMoQyk8TWF0aC5hYnMoLXMpOk1hdGguYWJzKEMpPE1hdGguYWJzKC1vKSxpLmRldGFpbD09PWkuTVNHRVNUVVJFX0ZMQUdfSU5FUlRJQT92b2lkIGUoZnVuY3Rpb24oKXt0Ll9nZXN0dXJlLnN0b3AoKX0pOnZvaWQoKCFifHxOdW1iZXIobmV3IERhdGUpLXY+NTAwKSYmKGkucHJldmVudERlZmF1bHQoKSwhZiYmbi50cmFuc2l0aW9ucyYmKG4udmFycy5hbmltYXRpb25Mb29wfHwoaD1DLygwPT09bi5jdXJyZW50U2xpZGUmJkM8MHx8bi5jdXJyZW50U2xpZGU9PT1uLmxhc3QmJkM+MD9NYXRoLmFicyhDKS91KzI6MSkpLG4uc2V0UHJvcHMoYytoLFwic2V0VG91Y2hcIikpKSl9fWZ1bmN0aW9uIG8odCl7dC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgZT10LnRhcmdldC5fc2xpZGVyO2lmKGUpe2lmKGUuYW5pbWF0aW5nVG89PT1lLmN1cnJlbnRTbGlkZSYmIWImJm51bGwhPT1oKXt2YXIgaT1wPy1oOmgsbj1pPjA/ZS5nZXRUYXJnZXQoXCJuZXh0XCIpOmUuZ2V0VGFyZ2V0KFwicHJldlwiKTtlLmNhbkFkdmFuY2UobikmJihOdW1iZXIobmV3IERhdGUpLXY8NTUwJiZNYXRoLmFicyhpKT41MHx8TWF0aC5hYnMoaSk+dS8yKT9lLmZsZXhBbmltYXRlKG4sZS52YXJzLnBhdXNlT25BY3Rpb24pOmZ8fGUuZmxleEFuaW1hdGUoZS5jdXJyZW50U2xpZGUsZS52YXJzLnBhdXNlT25BY3Rpb24sITApfWE9bnVsbCxyPW51bGwsaD1udWxsLGM9bnVsbCxDPTB9fXZhciBhLHIsYyx1LGgsdixnLHksdyxiPSExLFQ9MCx4PTAsQz0wO2w/KHQuc3R5bGUubXNUb3VjaEFjdGlvbj1cIm5vbmVcIix0Ll9nZXN0dXJlPW5ldyBNU0dlc3R1cmUsdC5fZ2VzdHVyZS50YXJnZXQ9dCx0LmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsaSwhMSksdC5fc2xpZGVyPXMsdC5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlQ2hhbmdlXCIsbiwhMSksdC5hZGRFdmVudExpc3RlbmVyKFwiTVNHZXN0dXJlRW5kXCIsbywhMSkpOihnPWZ1bmN0aW9uKGUpe3MuYW5pbWF0aW5nP2UucHJldmVudERlZmF1bHQoKTood2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkfHwxPT09ZS50b3VjaGVzLmxlbmd0aCkmJihzLnBhdXNlKCksdT1kP3MuaDpzLncsdj1OdW1iZXIobmV3IERhdGUpLFQ9ZS50b3VjaGVzWzBdLnBhZ2VYLHg9ZS50b3VjaGVzWzBdLnBhZ2VZLGM9bSYmcCYmcy5hbmltYXRpbmdUbz09PXMubGFzdD8wOm0mJnA/cy5saW1pdC0ocy5pdGVtVytzLnZhcnMuaXRlbU1hcmdpbikqcy5tb3ZlKnMuYW5pbWF0aW5nVG86bSYmcy5jdXJyZW50U2xpZGU9PT1zLmxhc3Q/cy5saW1pdDptPyhzLml0ZW1XK3MudmFycy5pdGVtTWFyZ2luKSpzLm1vdmUqcy5jdXJyZW50U2xpZGU6cD8ocy5sYXN0LXMuY3VycmVudFNsaWRlK3MuY2xvbmVPZmZzZXQpKnU6KHMuY3VycmVudFNsaWRlK3MuY2xvbmVPZmZzZXQpKnUsYT1kP3g6VCxyPWQ/VDp4LHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHksITEpLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdywhMSkpfSx5PWZ1bmN0aW9uKHQpe1Q9dC50b3VjaGVzWzBdLnBhZ2VYLHg9dC50b3VjaGVzWzBdLnBhZ2VZLGg9ZD9hLXg6YS1ULGI9ZD9NYXRoLmFicyhoKTxNYXRoLmFicyhULXIpOk1hdGguYWJzKGgpPE1hdGguYWJzKHgtcik7dmFyIGU9NTAwOyghYnx8TnVtYmVyKG5ldyBEYXRlKS12PmUpJiYodC5wcmV2ZW50RGVmYXVsdCgpLCFmJiZzLnRyYW5zaXRpb25zJiYocy52YXJzLmFuaW1hdGlvbkxvb3B8fChoLz0wPT09cy5jdXJyZW50U2xpZGUmJmg8MHx8cy5jdXJyZW50U2xpZGU9PT1zLmxhc3QmJmg+MD9NYXRoLmFicyhoKS91KzI6MSkscy5zZXRQcm9wcyhjK2gsXCJzZXRUb3VjaFwiKSkpfSx3PWZ1bmN0aW9uKGUpe2lmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHksITEpLHMuYW5pbWF0aW5nVG89PT1zLmN1cnJlbnRTbGlkZSYmIWImJm51bGwhPT1oKXt2YXIgaT1wPy1oOmgsbj1pPjA/cy5nZXRUYXJnZXQoXCJuZXh0XCIpOnMuZ2V0VGFyZ2V0KFwicHJldlwiKTtzLmNhbkFkdmFuY2UobikmJihOdW1iZXIobmV3IERhdGUpLXY8NTUwJiZNYXRoLmFicyhpKT41MHx8TWF0aC5hYnMoaSk+dS8yKT9zLmZsZXhBbmltYXRlKG4scy52YXJzLnBhdXNlT25BY3Rpb24pOmZ8fHMuZmxleEFuaW1hdGUocy5jdXJyZW50U2xpZGUscy52YXJzLnBhdXNlT25BY3Rpb24sITApfXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdywhMSksYT1udWxsLHI9bnVsbCxoPW51bGwsYz1udWxsfSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZywhMSkpfSxyZXNpemU6ZnVuY3Rpb24oKXshcy5hbmltYXRpbmcmJnMuaXMoXCI6dmlzaWJsZVwiKSYmKG18fHMuZG9NYXRoKCksZj9nLnNtb290aEhlaWdodCgpOm0/KHMuc2xpZGVzLndpZHRoKHMuY29tcHV0ZWRXKSxzLnVwZGF0ZShzLnBhZ2luZ0NvdW50KSxzLnNldFByb3BzKCkpOmQ/KHMudmlld3BvcnQuaGVpZ2h0KHMuaCkscy5zZXRQcm9wcyhzLmgsXCJzZXRUb3RhbFwiKSk6KHMudmFycy5zbW9vdGhIZWlnaHQmJmcuc21vb3RoSGVpZ2h0KCkscy5uZXdTbGlkZXMud2lkdGgocy5jb21wdXRlZFcpLHMuc2V0UHJvcHMocy5jb21wdXRlZFcsXCJzZXRUb3RhbFwiKSkpfSxzbW9vdGhIZWlnaHQ6ZnVuY3Rpb24odCl7aWYoIWR8fGYpe3ZhciBlPWY/czpzLnZpZXdwb3J0O3Q/ZS5hbmltYXRlKHtoZWlnaHQ6cy5zbGlkZXMuZXEocy5hbmltYXRpbmdUbykuaW5uZXJIZWlnaHQoKX0sdCk6ZS5pbm5lckhlaWdodChzLnNsaWRlcy5lcShzLmFuaW1hdGluZ1RvKS5pbm5lckhlaWdodCgpKX19LHN5bmM6ZnVuY3Rpb24odCl7dmFyIGU9bihzLnZhcnMuc3luYykuZGF0YShcImZsZXhzbGlkZXJcIiksaT1zLmFuaW1hdGluZ1RvO3N3aXRjaCh0KXtjYXNlXCJhbmltYXRlXCI6ZS5mbGV4QW5pbWF0ZShpLHMudmFycy5wYXVzZU9uQWN0aW9uLCExLCEwKTticmVhaztjYXNlXCJwbGF5XCI6ZS5wbGF5aW5nfHxlLmFzTmF2fHxlLnBsYXkoKTticmVhaztjYXNlXCJwYXVzZVwiOmUucGF1c2UoKX19LHVuaXF1ZUlEOmZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihcIltpZF1cIikuYWRkKHQuZmluZChcIltpZF1cIikpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuYXR0cihcImlkXCIsdC5hdHRyKFwiaWRcIikrXCJfY2xvbmVcIil9KSx0fSxwYXVzZUludmlzaWJsZTp7dmlzUHJvcDpudWxsLGluaXQ6ZnVuY3Rpb24oKXt2YXIgdD1nLnBhdXNlSW52aXNpYmxlLmdldEhpZGRlblByb3AoKTtpZih0KXt2YXIgZT10LnJlcGxhY2UoL1tIfGhdaWRkZW4vLFwiXCIpK1widmlzaWJpbGl0eWNoYW5nZVwiO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZSxmdW5jdGlvbigpe2cucGF1c2VJbnZpc2libGUuaXNIaWRkZW4oKT9zLnN0YXJ0VGltZW91dD9jbGVhclRpbWVvdXQocy5zdGFydFRpbWVvdXQpOnMucGF1c2UoKTpzLnN0YXJ0ZWQ/cy5wbGF5KCk6cy52YXJzLmluaXREZWxheT4wP3NldFRpbWVvdXQocy5wbGF5LHMudmFycy5pbml0RGVsYXkpOnMucGxheSgpfSl9fSxpc0hpZGRlbjpmdW5jdGlvbigpe3ZhciB0PWcucGF1c2VJbnZpc2libGUuZ2V0SGlkZGVuUHJvcCgpO3JldHVybiEhdCYmZG9jdW1lbnRbdF19LGdldEhpZGRlblByb3A6ZnVuY3Rpb24oKXt2YXIgdD1bXCJ3ZWJraXRcIixcIm1velwiLFwibXNcIixcIm9cIl07aWYoXCJoaWRkZW5cImluIGRvY3VtZW50KXJldHVyblwiaGlkZGVuXCI7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYodFtlXStcIkhpZGRlblwiaW4gZG9jdW1lbnQpcmV0dXJuIHRbZV0rXCJIaWRkZW5cIjtyZXR1cm4gbnVsbH19LHNldFRvQ2xlYXJXYXRjaGVkRXZlbnQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoYSksYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aD1cIlwifSwzZTMpfX0scy5mbGV4QW5pbWF0ZT1mdW5jdGlvbih0LGUsaSxvLGEpe2lmKHMudmFycy5hbmltYXRpb25Mb29wfHx0PT09cy5jdXJyZW50U2xpZGV8fChzLmRpcmVjdGlvbj10PnMuY3VycmVudFNsaWRlP1wibmV4dFwiOlwicHJldlwiKSx2JiYxPT09cy5wYWdpbmdDb3VudCYmKHMuZGlyZWN0aW9uPXMuY3VycmVudEl0ZW08dD9cIm5leHRcIjpcInByZXZcIiksIXMuYW5pbWF0aW5nJiYocy5jYW5BZHZhbmNlKHQsYSl8fGkpJiZzLmlzKFwiOnZpc2libGVcIikpe2lmKHYmJm8pe3ZhciBsPW4ocy52YXJzLmFzTmF2Rm9yKS5kYXRhKFwiZmxleHNsaWRlclwiKTtpZihzLmF0RW5kPTA9PT10fHx0PT09cy5jb3VudC0xLGwuZmxleEFuaW1hdGUodCwhMCwhMSwhMCxhKSxzLmRpcmVjdGlvbj1zLmN1cnJlbnRJdGVtPHQ/XCJuZXh0XCI6XCJwcmV2XCIsbC5kaXJlY3Rpb249cy5kaXJlY3Rpb24sTWF0aC5jZWlsKCh0KzEpL3MudmlzaWJsZSktMT09PXMuY3VycmVudFNsaWRlfHwwPT09dClyZXR1cm4gcy5jdXJyZW50SXRlbT10LHMuc2xpZGVzLnJlbW92ZUNsYXNzKHIrXCJhY3RpdmUtc2xpZGVcIikuZXEodCkuYWRkQ2xhc3MocitcImFjdGl2ZS1zbGlkZVwiKSwhMTtzLmN1cnJlbnRJdGVtPXQscy5zbGlkZXMucmVtb3ZlQ2xhc3MocitcImFjdGl2ZS1zbGlkZVwiKS5lcSh0KS5hZGRDbGFzcyhyK1wiYWN0aXZlLXNsaWRlXCIpLHQ9TWF0aC5mbG9vcih0L3MudmlzaWJsZSl9aWYocy5hbmltYXRpbmc9ITAscy5hbmltYXRpbmdUbz10LGUmJnMucGF1c2UoKSxzLnZhcnMuYmVmb3JlKHMpLHMuc3luY0V4aXN0cyYmIWEmJmcuc3luYyhcImFuaW1hdGVcIikscy52YXJzLmNvbnRyb2xOYXYmJmcuY29udHJvbE5hdi5hY3RpdmUoKSxtfHxzLnNsaWRlcy5yZW1vdmVDbGFzcyhyK1wiYWN0aXZlLXNsaWRlXCIpLmVxKHQpLmFkZENsYXNzKHIrXCJhY3RpdmUtc2xpZGVcIikscy5hdEVuZD0wPT09dHx8dD09PXMubGFzdCxzLnZhcnMuZGlyZWN0aW9uTmF2JiZnLmRpcmVjdGlvbk5hdi51cGRhdGUoKSx0PT09cy5sYXN0JiYocy52YXJzLmVuZChzKSxzLnZhcnMuYW5pbWF0aW9uTG9vcHx8cy5wYXVzZSgpKSxmKWM/KHMuc2xpZGVzLmVxKHMuY3VycmVudFNsaWRlKS5jc3Moe29wYWNpdHk6MCx6SW5kZXg6MX0pLHMuc2xpZGVzLmVxKHQpLmNzcyh7b3BhY2l0eToxLHpJbmRleDoyfSkscy53cmFwdXAodykpOihzLnNsaWRlcy5lcShzLmN1cnJlbnRTbGlkZSkuY3NzKHt6SW5kZXg6MX0pLmFuaW1hdGUoe29wYWNpdHk6MH0scy52YXJzLmFuaW1hdGlvblNwZWVkLHMudmFycy5lYXNpbmcpLHMuc2xpZGVzLmVxKHQpLmNzcyh7ekluZGV4OjJ9KS5hbmltYXRlKHtvcGFjaXR5OjF9LHMudmFycy5hbmltYXRpb25TcGVlZCxzLnZhcnMuZWFzaW5nLHMud3JhcHVwKSk7ZWxzZXt2YXIgdSxoLHksdz1kP3Muc2xpZGVzLmZpbHRlcihcIjpmaXJzdFwiKS5oZWlnaHQoKTpzLmNvbXB1dGVkVzttPyh1PXMudmFycy5pdGVtTWFyZ2luLHk9KHMuaXRlbVcrdSkqcy5tb3ZlKnMuYW5pbWF0aW5nVG8saD15PnMubGltaXQmJjEhPT1zLnZpc2libGU/cy5saW1pdDp5KTpoPTA9PT1zLmN1cnJlbnRTbGlkZSYmdD09PXMuY291bnQtMSYmcy52YXJzLmFuaW1hdGlvbkxvb3AmJlwibmV4dFwiIT09cy5kaXJlY3Rpb24/cD8ocy5jb3VudCtzLmNsb25lT2Zmc2V0KSp3OjA6cy5jdXJyZW50U2xpZGU9PT1zLmxhc3QmJjA9PT10JiZzLnZhcnMuYW5pbWF0aW9uTG9vcCYmXCJwcmV2XCIhPT1zLmRpcmVjdGlvbj9wPzA6KHMuY291bnQrMSkqdzpwPyhzLmNvdW50LTEtdCtzLmNsb25lT2Zmc2V0KSp3Oih0K3MuY2xvbmVPZmZzZXQpKncscy5zZXRQcm9wcyhoLFwiXCIscy52YXJzLmFuaW1hdGlvblNwZWVkKSxzLnRyYW5zaXRpb25zPyhzLnZhcnMuYW5pbWF0aW9uTG9vcCYmcy5hdEVuZHx8KHMuYW5pbWF0aW5nPSExLHMuY3VycmVudFNsaWRlPXMuYW5pbWF0aW5nVG8pLHMuY29udGFpbmVyLnVuYmluZChcIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZFwiKSxzLmNvbnRhaW5lci5iaW5kKFwid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kXCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocy5lbnN1cmVBbmltYXRpb25FbmQpLHMud3JhcHVwKHcpfSksY2xlYXJUaW1lb3V0KHMuZW5zdXJlQW5pbWF0aW9uRW5kKSxzLmVuc3VyZUFuaW1hdGlvbkVuZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy53cmFwdXAodyl9LHMudmFycy5hbmltYXRpb25TcGVlZCsxMDApKTpzLmNvbnRhaW5lci5hbmltYXRlKHMuYXJncyxzLnZhcnMuYW5pbWF0aW9uU3BlZWQscy52YXJzLmVhc2luZyxmdW5jdGlvbigpe3Mud3JhcHVwKHcpfSl9cy52YXJzLnNtb290aEhlaWdodCYmZy5zbW9vdGhIZWlnaHQocy52YXJzLmFuaW1hdGlvblNwZWVkKX19LHMud3JhcHVwPWZ1bmN0aW9uKHQpe2Z8fG18fCgwPT09cy5jdXJyZW50U2xpZGUmJnMuYW5pbWF0aW5nVG89PT1zLmxhc3QmJnMudmFycy5hbmltYXRpb25Mb29wP3Muc2V0UHJvcHModCxcImp1bXBFbmRcIik6cy5jdXJyZW50U2xpZGU9PT1zLmxhc3QmJjA9PT1zLmFuaW1hdGluZ1RvJiZzLnZhcnMuYW5pbWF0aW9uTG9vcCYmcy5zZXRQcm9wcyh0LFwianVtcFN0YXJ0XCIpKSxzLmFuaW1hdGluZz0hMSxzLmN1cnJlbnRTbGlkZT1zLmFuaW1hdGluZ1RvLHMudmFycy5hZnRlcihzKX0scy5hbmltYXRlU2xpZGVzPWZ1bmN0aW9uKCl7IXMuYW5pbWF0aW5nJiZvJiZzLmZsZXhBbmltYXRlKHMuZ2V0VGFyZ2V0KFwibmV4dFwiKSl9LHMucGF1c2U9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHMuYW5pbWF0ZWRTbGlkZXMpLHMuYW5pbWF0ZWRTbGlkZXM9bnVsbCxzLnBsYXlpbmc9ITEscy52YXJzLnBhdXNlUGxheSYmZy5wYXVzZVBsYXkudXBkYXRlKFwicGxheVwiKSxzLnN5bmNFeGlzdHMmJmcuc3luYyhcInBhdXNlXCIpfSxzLnBsYXk9ZnVuY3Rpb24oKXtzLnBsYXlpbmcmJmNsZWFySW50ZXJ2YWwocy5hbmltYXRlZFNsaWRlcykscy5hbmltYXRlZFNsaWRlcz1zLmFuaW1hdGVkU2xpZGVzfHxzZXRJbnRlcnZhbChzLmFuaW1hdGVTbGlkZXMscy52YXJzLnNsaWRlc2hvd1NwZWVkKSxzLnN0YXJ0ZWQ9cy5wbGF5aW5nPSEwLHMudmFycy5wYXVzZVBsYXkmJmcucGF1c2VQbGF5LnVwZGF0ZShcInBhdXNlXCIpLHMuc3luY0V4aXN0cyYmZy5zeW5jKFwicGxheVwiKX0scy5zdG9wPWZ1bmN0aW9uKCl7cy5wYXVzZSgpLHMuc3RvcHBlZD0hMH0scy5jYW5BZHZhbmNlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dj9zLnBhZ2luZ0NvdW50LTE6cy5sYXN0O3JldHVybiEhZXx8KCEoIXZ8fHMuY3VycmVudEl0ZW0hPT1zLmNvdW50LTF8fDAhPT10fHxcInByZXZcIiE9PXMuZGlyZWN0aW9uKXx8KCF2fHwwIT09cy5jdXJyZW50SXRlbXx8dCE9PXMucGFnaW5nQ291bnQtMXx8XCJuZXh0XCI9PT1zLmRpcmVjdGlvbikmJighKHQ9PT1zLmN1cnJlbnRTbGlkZSYmIXYpJiYoISFzLnZhcnMuYW5pbWF0aW9uTG9vcHx8KCFzLmF0RW5kfHwwIT09cy5jdXJyZW50U2xpZGV8fHQhPT1pfHxcIm5leHRcIj09PXMuZGlyZWN0aW9uKSYmKCFzLmF0RW5kfHxzLmN1cnJlbnRTbGlkZSE9PWl8fDAhPT10fHxcIm5leHRcIiE9PXMuZGlyZWN0aW9uKSkpKX0scy5nZXRUYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHMuZGlyZWN0aW9uPXQsXCJuZXh0XCI9PT10P3MuY3VycmVudFNsaWRlPT09cy5sYXN0PzA6cy5jdXJyZW50U2xpZGUrMTowPT09cy5jdXJyZW50U2xpZGU/cy5sYXN0OnMuY3VycmVudFNsaWRlLTF9LHMuc2V0UHJvcHM9ZnVuY3Rpb24odCxlLGkpe3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGk9dD90OihzLml0ZW1XK3MudmFycy5pdGVtTWFyZ2luKSpzLm1vdmUqcy5hbmltYXRpbmdUbyxuPWZ1bmN0aW9uKCl7aWYobSlyZXR1cm5cInNldFRvdWNoXCI9PT1lP3Q6cCYmcy5hbmltYXRpbmdUbz09PXMubGFzdD8wOnA/cy5saW1pdC0ocy5pdGVtVytzLnZhcnMuaXRlbU1hcmdpbikqcy5tb3ZlKnMuYW5pbWF0aW5nVG86cy5hbmltYXRpbmdUbz09PXMubGFzdD9zLmxpbWl0Omk7c3dpdGNoKGUpe2Nhc2VcInNldFRvdGFsXCI6cmV0dXJuIHA/KHMuY291bnQtMS1zLmN1cnJlbnRTbGlkZStzLmNsb25lT2Zmc2V0KSp0OihzLmN1cnJlbnRTbGlkZStzLmNsb25lT2Zmc2V0KSp0O2Nhc2VcInNldFRvdWNoXCI6cmV0dXJuIHA/dDp0O2Nhc2VcImp1bXBFbmRcIjpyZXR1cm4gcD90OnMuY291bnQqdDtjYXNlXCJqdW1wU3RhcnRcIjpyZXR1cm4gcD9zLmNvdW50KnQ6dDtkZWZhdWx0OnJldHVybiB0fX0oKTtyZXR1cm4gbiotMStcInB4XCJ9KCk7cy50cmFuc2l0aW9ucyYmKG49ZD9cInRyYW5zbGF0ZTNkKDAsXCIrbitcIiwwKVwiOlwidHJhbnNsYXRlM2QoXCIrbitcIiwwLDApXCIsaT12b2lkIDAhPT1pP2kvMWUzK1wic1wiOlwiMHNcIixzLmNvbnRhaW5lci5jc3MoXCItXCIrcy5wZngrXCItdHJhbnNpdGlvbi1kdXJhdGlvblwiLGkpLHMuY29udGFpbmVyLmNzcyhcInRyYW5zaXRpb24tZHVyYXRpb25cIixpKSkscy5hcmdzW3MucHJvcF09biwocy50cmFuc2l0aW9uc3x8dm9pZCAwPT09aSkmJnMuY29udGFpbmVyLmNzcyhzLmFyZ3MpLHMuY29udGFpbmVyLmNzcyhcInRyYW5zZm9ybVwiLG4pfSxzLnNldHVwPWZ1bmN0aW9uKHQpe2lmKGYpcy5zbGlkZXMuY3NzKHt3aWR0aDpcIjEwMCVcIixcImZsb2F0XCI6XCJsZWZ0XCIsbWFyZ2luUmlnaHQ6XCItMTAwJVwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIn0pLFwiaW5pdFwiPT09dCYmKGM/cy5zbGlkZXMuY3NzKHtvcGFjaXR5OjAsZGlzcGxheTpcImJsb2NrXCIsd2Via2l0VHJhbnNpdGlvbjpcIm9wYWNpdHkgXCIrcy52YXJzLmFuaW1hdGlvblNwZWVkLzFlMytcInMgZWFzZVwiLHpJbmRleDoxfSkuZXEocy5jdXJyZW50U2xpZGUpLmNzcyh7b3BhY2l0eToxLHpJbmRleDoyfSk6MD09cy52YXJzLmZhZGVGaXJzdFNsaWRlP3Muc2xpZGVzLmNzcyh7b3BhY2l0eTowLGRpc3BsYXk6XCJibG9ja1wiLHpJbmRleDoxfSkuZXEocy5jdXJyZW50U2xpZGUpLmNzcyh7ekluZGV4OjJ9KS5jc3Moe29wYWNpdHk6MX0pOnMuc2xpZGVzLmNzcyh7b3BhY2l0eTowLGRpc3BsYXk6XCJibG9ja1wiLHpJbmRleDoxfSkuZXEocy5jdXJyZW50U2xpZGUpLmNzcyh7ekluZGV4OjJ9KS5hbmltYXRlKHtvcGFjaXR5OjF9LHMudmFycy5hbmltYXRpb25TcGVlZCxzLnZhcnMuZWFzaW5nKSkscy52YXJzLnNtb290aEhlaWdodCYmZy5zbW9vdGhIZWlnaHQoKTtlbHNle3ZhciBlLGk7XCJpbml0XCI9PT10JiYocy52aWV3cG9ydD1uKCc8ZGl2IGNsYXNzPVwiJytyKyd2aWV3cG9ydFwiPjwvZGl2PicpLmNzcyh7b3ZlcmZsb3c6XCJoaWRkZW5cIixwb3NpdGlvbjpcInJlbGF0aXZlXCJ9KS5hcHBlbmRUbyhzKS5hcHBlbmQocy5jb250YWluZXIpLHMuY2xvbmVDb3VudD0wLHMuY2xvbmVPZmZzZXQ9MCxwJiYoaT1uLm1ha2VBcnJheShzLnNsaWRlcykucmV2ZXJzZSgpLHMuc2xpZGVzPW4oaSkscy5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQocy5zbGlkZXMpKSkscy52YXJzLmFuaW1hdGlvbkxvb3AmJiFtJiYocy5jbG9uZUNvdW50PTIscy5jbG9uZU9mZnNldD0xLFwiaW5pdFwiIT09dCYmcy5jb250YWluZXIuZmluZChcIi5jbG9uZVwiKS5yZW1vdmUoKSxzLmNvbnRhaW5lci5hcHBlbmQoZy51bmlxdWVJRChzLnNsaWRlcy5maXJzdCgpLmNsb25lKCkuYWRkQ2xhc3MoXCJjbG9uZVwiKSkuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKS5wcmVwZW5kKGcudW5pcXVlSUQocy5zbGlkZXMubGFzdCgpLmNsb25lKCkuYWRkQ2xhc3MoXCJjbG9uZVwiKSkuYXR0cihcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKSkscy5uZXdTbGlkZXM9bihzLnZhcnMuc2VsZWN0b3IscyksZT1wP3MuY291bnQtMS1zLmN1cnJlbnRTbGlkZStzLmNsb25lT2Zmc2V0OnMuY3VycmVudFNsaWRlK3MuY2xvbmVPZmZzZXQsZCYmIW0/KHMuY29udGFpbmVyLmhlaWdodCgyMDAqKHMuY291bnQrcy5jbG9uZUNvdW50KStcIiVcIikuY3NzKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpLndpZHRoKFwiMTAwJVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5uZXdTbGlkZXMuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIn0pLHMuZG9NYXRoKCkscy52aWV3cG9ydC5oZWlnaHQocy5oKSxzLnNldFByb3BzKGUqcy5oLFwiaW5pdFwiKX0sXCJpbml0XCI9PT10PzEwMDowKSk6KHMuY29udGFpbmVyLndpZHRoKDIwMCoocy5jb3VudCtzLmNsb25lQ291bnQpK1wiJVwiKSxzLnNldFByb3BzKGUqcy5jb21wdXRlZFcsXCJpbml0XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtzLmRvTWF0aCgpLHMubmV3U2xpZGVzLmNzcyh7d2lkdGg6cy5jb21wdXRlZFcsbWFyZ2luUmlnaHQ6cy5jb21wdXRlZE0sXCJmbG9hdFwiOlwibGVmdFwiLGRpc3BsYXk6XCJibG9ja1wifSkscy52YXJzLnNtb290aEhlaWdodCYmZy5zbW9vdGhIZWlnaHQoKX0sXCJpbml0XCI9PT10PzEwMDowKSl9bXx8cy5zbGlkZXMucmVtb3ZlQ2xhc3MocitcImFjdGl2ZS1zbGlkZVwiKS5lcShzLmN1cnJlbnRTbGlkZSkuYWRkQ2xhc3MocitcImFjdGl2ZS1zbGlkZVwiKSxzLnZhcnMuaW5pdChzKX0scy5kb01hdGg9ZnVuY3Rpb24oKXt2YXIgdD1zLnNsaWRlcy5maXJzdCgpLGU9cy52YXJzLml0ZW1NYXJnaW4saT1zLnZhcnMubWluSXRlbXMsbj1zLnZhcnMubWF4SXRlbXM7cy53PXZvaWQgMD09PXMudmlld3BvcnQ/cy53aWR0aCgpOnMudmlld3BvcnQud2lkdGgoKSxzLmg9dC5oZWlnaHQoKSxzLmJveFBhZGRpbmc9dC5vdXRlcldpZHRoKCktdC53aWR0aCgpLG0/KHMuaXRlbVQ9cy52YXJzLml0ZW1XaWR0aCtlLHMuaXRlbU09ZSxzLm1pblc9aT9pKnMuaXRlbVQ6cy53LHMubWF4Vz1uP24qcy5pdGVtVC1lOnMudyxzLml0ZW1XPXMubWluVz5zLnc/KHMudy1lKihpLTEpKS9pOnMubWF4VzxzLnc/KHMudy1lKihuLTEpKS9uOnMudmFycy5pdGVtV2lkdGg+cy53P3MudzpzLnZhcnMuaXRlbVdpZHRoLHMudmlzaWJsZT1NYXRoLmZsb29yKHMudy9zLml0ZW1XKSxzLm1vdmU9cy52YXJzLm1vdmU+MCYmcy52YXJzLm1vdmU8cy52aXNpYmxlP3MudmFycy5tb3ZlOnMudmlzaWJsZSxzLnBhZ2luZ0NvdW50PU1hdGguY2VpbCgocy5jb3VudC1zLnZpc2libGUpL3MubW92ZSsxKSxzLmxhc3Q9cy5wYWdpbmdDb3VudC0xLHMubGltaXQ9MT09PXMucGFnaW5nQ291bnQ/MDpzLnZhcnMuaXRlbVdpZHRoPnMudz9zLml0ZW1XKihzLmNvdW50LTEpK2UqKHMuY291bnQtMSk6KHMuaXRlbVcrZSkqcy5jb3VudC1zLnctZSk6KHMuaXRlbVc9cy53LHMuaXRlbU09ZSxzLnBhZ2luZ0NvdW50PXMuY291bnQscy5sYXN0PXMuY291bnQtMSkscy5jb21wdXRlZFc9cy5pdGVtVy1zLmJveFBhZGRpbmcscy5jb21wdXRlZE09cy5pdGVtTX0scy51cGRhdGU9ZnVuY3Rpb24odCxlKXtzLmRvTWF0aCgpLG18fCh0PHMuY3VycmVudFNsaWRlP3MuY3VycmVudFNsaWRlKz0xOnQ8PXMuY3VycmVudFNsaWRlJiYwIT09dCYmKHMuY3VycmVudFNsaWRlLT0xKSxzLmFuaW1hdGluZ1RvPXMuY3VycmVudFNsaWRlKSxzLnZhcnMuY29udHJvbE5hdiYmIXMubWFudWFsQ29udHJvbHMmJihcImFkZFwiPT09ZSYmIW18fHMucGFnaW5nQ291bnQ+cy5jb250cm9sTmF2Lmxlbmd0aD9nLmNvbnRyb2xOYXYudXBkYXRlKFwiYWRkXCIpOihcInJlbW92ZVwiPT09ZSYmIW18fHMucGFnaW5nQ291bnQ8cy5jb250cm9sTmF2Lmxlbmd0aCkmJihtJiZzLmN1cnJlbnRTbGlkZT5zLmxhc3QmJihzLmN1cnJlbnRTbGlkZS09MSxzLmFuaW1hdGluZ1RvLT0xKSxnLmNvbnRyb2xOYXYudXBkYXRlKFwicmVtb3ZlXCIscy5sYXN0KSkpLHMudmFycy5kaXJlY3Rpb25OYXYmJmcuZGlyZWN0aW9uTmF2LnVwZGF0ZSgpfSxzLmFkZFNsaWRlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bih0KTtzLmNvdW50Kz0xLHMubGFzdD1zLmNvdW50LTEsZCYmcD92b2lkIDAhPT1lP3Muc2xpZGVzLmVxKHMuY291bnQtZSkuYWZ0ZXIoaSk6cy5jb250YWluZXIucHJlcGVuZChpKTp2b2lkIDAhPT1lP3Muc2xpZGVzLmVxKGUpLmJlZm9yZShpKTpzLmNvbnRhaW5lci5hcHBlbmQoaSkscy51cGRhdGUoZSxcImFkZFwiKSxzLnNsaWRlcz1uKHMudmFycy5zZWxlY3RvcitcIjpub3QoLmNsb25lKVwiLHMpLHMuc2V0dXAoKSxzLnZhcnMuYWRkZWQocyl9LHMucmVtb3ZlU2xpZGU9ZnVuY3Rpb24odCl7dmFyIGU9aXNOYU4odCk/cy5zbGlkZXMuaW5kZXgobih0KSk6dDtzLmNvdW50LT0xLHMubGFzdD1zLmNvdW50LTEsaXNOYU4odCk/bih0LHMuc2xpZGVzKS5yZW1vdmUoKTpkJiZwP3Muc2xpZGVzLmVxKHMubGFzdCkucmVtb3ZlKCk6cy5zbGlkZXMuZXEodCkucmVtb3ZlKCkscy5kb01hdGgoKSxzLnVwZGF0ZShlLFwicmVtb3ZlXCIpLHMuc2xpZGVzPW4ocy52YXJzLnNlbGVjdG9yK1wiOm5vdCguY2xvbmUpXCIscykscy5zZXR1cCgpLHMudmFycy5yZW1vdmVkKHMpfSxnLmluaXQoKX0sbih3aW5kb3cpLmJsdXIoZnVuY3Rpb24odCl7bz0hMX0pLmZvY3VzKGZ1bmN0aW9uKHQpe289ITB9KSxuLmZsZXhzbGlkZXIuZGVmYXVsdHM9e25hbWVzcGFjZTpcImFtLVwiLHNlbGVjdG9yOlwiLmFtLXNsaWRlcyA+IGxpXCIsYW5pbWF0aW9uOlwic2xpZGVcIixlYXNpbmc6XCJzd2luZ1wiLGRpcmVjdGlvbjpcImhvcml6b250YWxcIixyZXZlcnNlOiExLGFuaW1hdGlvbkxvb3A6ITAsc21vb3RoSGVpZ2h0OiExLHN0YXJ0QXQ6MCxzbGlkZXNob3c6ITAsc2xpZGVzaG93U3BlZWQ6NWUzLGFuaW1hdGlvblNwZWVkOjYwMCxpbml0RGVsYXk6MCxyYW5kb21pemU6ITEsZmFkZUZpcnN0U2xpZGU6ITAsdGh1bWJDYXB0aW9uczohMSxwYXVzZU9uQWN0aW9uOiEwLHBhdXNlT25Ib3ZlcjohMSxwYXVzZUludmlzaWJsZTohMCx1c2VDU1M6ITAsdG91Y2g6ITAsdmlkZW86ITEsY29udHJvbE5hdjohMCxkaXJlY3Rpb25OYXY6ITAscHJldlRleHQ6XCIgXCIsbmV4dFRleHQ6XCIgXCIsa2V5Ym9hcmQ6ITAsbXVsdGlwbGVLZXlib2FyZDohMSxtb3VzZXdoZWVsOiExLHBhdXNlUGxheTohMSxwYXVzZVRleHQ6XCJQYXVzZVwiLHBsYXlUZXh0OlwiUGxheVwiLGNvbnRyb2xzQ29udGFpbmVyOlwiXCIsbWFudWFsQ29udHJvbHM6XCJcIixjdXN0b21EaXJlY3Rpb25OYXY6XCJcIixzeW5jOlwiXCIsYXNOYXZGb3I6XCJcIixpdGVtV2lkdGg6MCxpdGVtTWFyZ2luOjAsbWluSXRlbXM6MSxtYXhJdGVtczowLG1vdmU6MCxhbGxvd09uZVNsaWRlOiEwLHN0YXJ0OmZ1bmN0aW9uKCl7fSxiZWZvcmU6ZnVuY3Rpb24oKXt9LGFmdGVyOmZ1bmN0aW9uKCl7fSxlbmQ6ZnVuY3Rpb24oKXt9LGFkZGVkOmZ1bmN0aW9uKCl7fSxyZW1vdmVkOmZ1bmN0aW9uKCl7fSxpbml0OmZ1bmN0aW9uKCl7fX0sbi5mbi5mbGV4c2xpZGVyPWZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpZih2b2lkIDA9PT10JiYodD17fSksXCJvYmplY3RcIj09dHlwZW9mIHQpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPW4odGhpcyksaT10LnNlbGVjdG9yP3Quc2VsZWN0b3I6XCIuYW0tc2xpZGVzID4gbGlcIixzPWUuZmluZChpKTsxPT09cy5sZW5ndGgmJnQuYWxsb3dPbmVTbGlkZT09PSExfHwwPT09cy5sZW5ndGg/KHMuZmFkZUluKDQwMCksdC5zdGFydCYmdC5zdGFydChlKSk6dm9pZCAwPT09ZS5kYXRhKFwiZmxleHNsaWRlclwiKSYmbmV3IG4uZmxleHNsaWRlcih0aGlzLHQpfSk7dmFyIGkscz1uKHRoaXMpLmRhdGEoXCJmbGV4c2xpZGVyXCIpO3N3aXRjaCh0KXtjYXNlXCJuZXh0XCI6cy5mbGV4QW5pbWF0ZShzLmdldFRhcmdldChcIm5leHRcIiksITApO2JyZWFrO2Nhc2VcInByZXZcIjpjYXNlXCJwcmV2aW91c1wiOnMuZmxleEFuaW1hdGUocy5nZXRUYXJnZXQoXCJwcmV2XCIpLCEwKTticmVhaztkZWZhdWx0OlwibnVtYmVyXCI9PXR5cGVvZiB0P3MuZmxleEFuaW1hdGUodCwhMCk6XCJzdHJpbmdcIj09dHlwZW9mIHQmJihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNbdF0/c1t0XS5hcHBseShzLGUpOnNbdF0pfXJldHVybiB2b2lkIDA9PT1pP3RoaXM6aX0scy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tZmxleHNsaWRlcl1cIix0KS5lYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIGk9bihlKSxvPXMudXRpbHMucGFyc2VPcHRpb25zKGkuZGF0YShcImFtRmxleHNsaWRlclwiKSk7by5iZWZvcmU9ZnVuY3Rpb24odCl7dC5fcGF1c2VkVGltZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHQuX3BhdXNlZFRpbWVyKSx0Ll9wYXVzZWRUaW1lcj1udWxsKX0sby5hZnRlcj1mdW5jdGlvbih0KXt2YXIgZT10LnZhcnMucGxheUFmdGVyUGF1c2VkOyFlfHxpc05hTihlKXx8dC5wbGF5aW5nfHx0Lm1hbnVhbFBhdXNlfHx0Lm1hbnVhbFBsYXl8fHQuc3RvcHBlZHx8KHQuX3BhdXNlZFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5wbGF5KCl9LGUpKX0saS5mbGV4c2xpZGVyKG8pfSl9KSx0LmV4cG9ydHM9bi5mbGV4c2xpZGVyfSkuY2FsbChlLGkoMTIpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKHQsZSxpKXsoZnVuY3Rpb24odCxuKXtmdW5jdGlvbiBzKHQsZSl7dGhpcy5faWQ9dCx0aGlzLl9jbGVhckZuPWV9dmFyIG89aSgxMykubmV4dFRpY2ssYT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkscj1BcnJheS5wcm90b3R5cGUuc2xpY2UsbD17fSxjPTA7ZS5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBzKGEuY2FsbChzZXRUaW1lb3V0LHdpbmRvdyxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGUuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHMoYS5jYWxsKHNldEludGVydmFsLHdpbmRvdyxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxlLmNsZWFyVGltZW91dD1lLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24odCl7dC5jbG9zZSgpfSxzLnByb3RvdHlwZS51bnJlZj1zLnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LHMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdyx0aGlzLl9pZCl9LGUuZW5yb2xsPWZ1bmN0aW9uKHQsZSl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PWV9LGUudW5lbnJvbGw9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQuX2lkbGVUaW1lb3V0SWQpLHQuX2lkbGVUaW1lb3V0PS0xfSxlLl91bnJlZkFjdGl2ZT1lLmFjdGl2ZT1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCk7dmFyIGU9dC5faWRsZVRpbWVvdXQ7ZT49MCYmKHQuX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX29uVGltZW91dCYmdC5fb25UaW1lb3V0KCl9LGUpKX0sZS5zZXRJbW1lZGlhdGU9XCJmdW5jdGlvblwiPT10eXBlb2YgdD90OmZ1bmN0aW9uKHQpe3ZhciBpPWMrKyxuPSEoYXJndW1lbnRzLmxlbmd0aDwyKSYmci5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gbFtpXT0hMCxvKGZ1bmN0aW9uKCl7bFtpXSYmKG4/dC5hcHBseShudWxsLG4pOnQuY2FsbChudWxsKSxlLmNsZWFySW1tZWRpYXRlKGkpKX0pLGl9LGUuY2xlYXJJbW1lZGlhdGU9XCJmdW5jdGlvblwiPT10eXBlb2Ygbj9uOmZ1bmN0aW9uKHQpe2RlbGV0ZSBsW3RdfX0pLmNhbGwoZSxpKDEyKS5zZXRJbW1lZGlhdGUsaSgxMikuY2xlYXJJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7aWYobD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIGwodCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGwuY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIGwuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBuKHQpe2lmKGM9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTt0cnl7cmV0dXJuIGModCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBjLmNhbGwobnVsbCx0KX1jYXRjaChlKXtyZXR1cm4gYy5jYWxsKHRoaXMsdCl9fX1mdW5jdGlvbiBzKCl7cCYmaCYmKHA9ITEsaC5sZW5ndGg/ZD1oLmNvbmNhdChkKTptPS0xLGQubGVuZ3RoJiZvKCkpfWZ1bmN0aW9uIG8oKXtpZighcCl7dmFyIHQ9aShzKTtwPSEwO2Zvcih2YXIgZT1kLmxlbmd0aDtlOyl7Zm9yKGg9ZCxkPVtdOysrbTxlOyloJiZoW21dLnJ1bigpO209LTEsZT1kLmxlbmd0aH1oPW51bGwscD0hMSxuKHQpfX1mdW5jdGlvbiBhKHQsZSl7dGhpcy5mdW49dCx0aGlzLmFycmF5PWV9ZnVuY3Rpb24gcigpe312YXIgbCxjLHU9dC5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtsPXNldFRpbWVvdXR9Y2F0Y2godCl7bD1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaXMgbm90IGRlZmluZWRcIil9fXRyeXtjPWNsZWFyVGltZW91dH1jYXRjaCh0KXtjPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGlzIG5vdCBkZWZpbmVkXCIpfX19KCk7dmFyIGgsZD1bXSxwPSExLG09LTE7dS5uZXh0VGljaz1mdW5jdGlvbih0KXt2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2QucHVzaChuZXcgYSh0LGUpKSwxIT09ZC5sZW5ndGh8fHB8fGkobyl9LGEucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHUudGl0bGU9XCJicm93c2VyXCIsdS5icm93c2VyPSEwLHUuZW52PXt9LHUuYXJndj1bXSx1LnZlcnNpb249XCJcIix1LnZlcnNpb25zPXt9LHUub249cix1LmFkZExpc3RlbmVyPXIsdS5vbmNlPXIsdS5vZmY9cix1LnJlbW92ZUxpc3RlbmVyPXIsdS5yZW1vdmVBbGxMaXN0ZW5lcnM9cix1LmVtaXQ9cix1LmJpbmRpbmc9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHUuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHUuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSx1LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LGUpe3RoaXMud3JhcHBlcj1cInN0cmluZ1wiPT10eXBlb2YgdD9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOnQsdGhpcy5zY3JvbGxlcj10aGlzLndyYXBwZXIuY2hpbGRyZW5bMF0sdGhpcy5zY3JvbGxlclN0eWxlPXRoaXMuc2Nyb2xsZXIuc3R5bGUsdGhpcy5vcHRpb25zPXtkaXNhYmxlUG9pbnRlcjohYS5oYXNQb2ludGVyLGRpc2FibGVUb3VjaDphLmhhc1BvaW50ZXJ8fCFhLmhhc1RvdWNoLGRpc2FibGVNb3VzZTphLmhhc1BvaW50ZXJ8fGEuaGFzVG91Y2gsc3RhcnRYOjAsc3RhcnRZOjAsc2Nyb2xsWTohMCxkaXJlY3Rpb25Mb2NrVGhyZXNob2xkOjUsbW9tZW50dW06ITAsYm91bmNlOiEwLGJvdW5jZVRpbWU6NjAwLGJvdW5jZUVhc2luZzpcIlwiLHByZXZlbnREZWZhdWx0OiEwLHByZXZlbnREZWZhdWx0RXhjZXB0aW9uOnt0YWdOYW1lOi9eKElOUFVUfFRFWFRBUkVBfEJVVFRPTnxTRUxFQ1QpJC99LEhXQ29tcG9zaXRpbmc6ITAsdXNlVHJhbnNpdGlvbjohMCx1c2VUcmFuc2Zvcm06ITAsYmluZFRvV3JhcHBlcjpcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93Lm9ubW91c2Vkb3dufTtmb3IodmFyIGkgaW4gZSl0aGlzLm9wdGlvbnNbaV09ZVtpXTt0aGlzLnRyYW5zbGF0ZVo9dGhpcy5vcHRpb25zLkhXQ29tcG9zaXRpbmcmJmEuaGFzUGVyc3BlY3RpdmU/XCIgdHJhbnNsYXRlWigwKVwiOlwiXCIsdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb249YS5oYXNUcmFuc2l0aW9uJiZ0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbix0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtPWEuaGFzVHJhbnNmb3JtJiZ0aGlzLm9wdGlvbnMudXNlVHJhbnNmb3JtLHRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoPXRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoPT09ITA/XCJ2ZXJ0aWNhbFwiOnRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoLHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdD0hdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2gmJnRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdCx0aGlzLm9wdGlvbnMuc2Nyb2xsWT1cInZlcnRpY2FsXCIhPXRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoJiZ0aGlzLm9wdGlvbnMuc2Nyb2xsWSx0aGlzLm9wdGlvbnMuc2Nyb2xsWD1cImhvcml6b250YWxcIiE9dGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2gmJnRoaXMub3B0aW9ucy5zY3JvbGxYLHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsPXRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsJiYhdGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2gsdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ9dGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2g/MDp0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZCx0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nPVwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nP2EuZWFzZVt0aGlzLm9wdGlvbnMuYm91bmNlRWFzaW5nXXx8YS5lYXNlLmNpcmN1bGFyOnRoaXMub3B0aW9ucy5ib3VuY2VFYXNpbmcsdGhpcy5vcHRpb25zLnJlc2l6ZVBvbGxpbmc9dm9pZCAwPT09dGhpcy5vcHRpb25zLnJlc2l6ZVBvbGxpbmc/NjA6dGhpcy5vcHRpb25zLnJlc2l6ZVBvbGxpbmcsdGhpcy5vcHRpb25zLnRhcD09PSEwJiYodGhpcy5vcHRpb25zLnRhcD1cInRhcFwiKSx0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbnx8dGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybXx8L3JlbGF0aXZlfGFic29sdXRlL2kudGVzdCh0aGlzLnNjcm9sbGVyU3R5bGUucG9zaXRpb24pfHwodGhpcy5zY3JvbGxlclN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIiksdGhpcy54PTAsdGhpcy55PTAsdGhpcy5kaXJlY3Rpb25YPTAsdGhpcy5kaXJlY3Rpb25ZPTAsdGhpcy5fZXZlbnRzPXt9LHRoaXMuX2luaXQoKSx0aGlzLnJlZnJlc2goKSx0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9ucy5zdGFydFgsdGhpcy5vcHRpb25zLnN0YXJ0WSksdGhpcy5lbmFibGUoKX12YXIgcz1pKDIpLG89cy51dGlscy5yQUYsYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIG4hPT0hMSYmKFwiXCI9PT1uP3Q6bit0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpKX12YXIgZT17fSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsbj1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtcInRcIixcIndlYmtpdFRcIixcIk1velRcIixcIm1zVFwiLFwiT1RcIl0sbj0wLHM9ZS5sZW5ndGg7bjxzO24rKylpZih0PWVbbl0rXCJyYW5zZm9ybVwiLHQgaW4gaSlyZXR1cm4gZVtuXS5zdWJzdHIoMCxlW25dLmxlbmd0aC0xKTtyZXR1cm4hMX0oKTtlLmdldFRpbWU9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LGUuZXh0ZW5kPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpIGluIGUpdFtpXT1lW2ldfSxlLmFkZEV2ZW50PWZ1bmN0aW9uKHQsZSxpLG4pe3QuYWRkRXZlbnRMaXN0ZW5lcihlLGksISFuKX0sZS5yZW1vdmVFdmVudD1mdW5jdGlvbih0LGUsaSxuKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxpLCEhbil9LGUucHJlZml4UG9pbnRlckV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB3aW5kb3cuTVNQb2ludGVyRXZlbnQ/XCJNU1BvaW50ZXJcIit0LmNoYXJBdCg3KS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDgpOnR9LGUubW9tZW50dW09ZnVuY3Rpb24odCxlLGksbixzLG8pe3ZhciBhLHIsbD10LWUsYz1NYXRoLmFicyhsKS9pO3JldHVybiBvPXZvaWQgMD09PW8/NmUtNDpvLGE9dCtjKmMvKDIqbykqKGw8MD8tMToxKSxyPWMvbyxhPG4/KGE9cz9uLXMvMi41KihjLzgpOm4sbD1NYXRoLmFicyhhLXQpLHI9bC9jKTphPjAmJihhPXM/cy8yLjUqKGMvOCk6MCxsPU1hdGguYWJzKHQpK2Escj1sL2MpLHtkZXN0aW5hdGlvbjpNYXRoLnJvdW5kKGEpLGR1cmF0aW9uOnJ9fTt2YXIgcz10KFwidHJhbnNmb3JtXCIpO3JldHVybiBlLmV4dGVuZChlLHtoYXNUcmFuc2Zvcm06cyE9PSExLGhhc1BlcnNwZWN0aXZlOnQoXCJwZXJzcGVjdGl2ZVwiKWluIGksaGFzVG91Y2g6XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdyxoYXNQb2ludGVyOiEoIXdpbmRvdy5Qb2ludGVyRXZlbnQmJiF3aW5kb3cuTVNQb2ludGVyRXZlbnQpLGhhc1RyYW5zaXRpb246dChcInRyYW5zaXRpb25cIilpbiBpfSksZS5pc0JhZEFuZHJvaWQ9ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cubmF2aWdhdG9yLmFwcFZlcnNpb247aWYoL0FuZHJvaWQvLnRlc3QodCkmJiEvQ2hyb21lXFwvXFxkLy50ZXN0KHQpKXt2YXIgZT10Lm1hdGNoKC9TYWZhcmlcXC8oXFxkKy5cXGQpLyk7cmV0dXJuIShlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5sZW5ndGg+PTIpfHxwYXJzZUZsb2F0KGVbMV0pPDUzNS4xOX1yZXR1cm4hMX0oKSxlLmV4dGVuZChlLnN0eWxlPXt9LHt0cmFuc2Zvcm06cyx0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246dChcInRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblwiKSx0cmFuc2l0aW9uRHVyYXRpb246dChcInRyYW5zaXRpb25EdXJhdGlvblwiKSx0cmFuc2l0aW9uRGVsYXk6dChcInRyYW5zaXRpb25EZWxheVwiKSx0cmFuc2Zvcm1PcmlnaW46dChcInRyYW5zZm9ybU9yaWdpblwiKX0pLGUuaGFzQ2xhc3M9ZnVuY3Rpb24odCxlKXt2YXIgaT1uZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrZStcIihcXFxcc3wkKVwiKTtyZXR1cm4gaS50ZXN0KHQuY2xhc3NOYW1lKX0sZS5hZGRDbGFzcz1mdW5jdGlvbih0LGkpe2lmKCFlLmhhc0NsYXNzKHQsaSkpe3ZhciBuPXQuY2xhc3NOYW1lLnNwbGl0KFwiIFwiKTtuLnB1c2goaSksdC5jbGFzc05hbWU9bi5qb2luKFwiIFwiKX19LGUucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24odCxpKXtpZihlLmhhc0NsYXNzKHQsaSkpe3ZhciBuPW5ldyBSZWdFeHAoXCIoXnxcXFxccylcIitpK1wiKFxcXFxzfCQpXCIsXCJnXCIpO3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UobixcIiBcIil9fSxlLm9mZnNldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9LXQub2Zmc2V0TGVmdCxpPS10Lm9mZnNldFRvcDt0PXQub2Zmc2V0UGFyZW50OyllLT10Lm9mZnNldExlZnQsaS09dC5vZmZzZXRUb3A7cmV0dXJue2xlZnQ6ZSx0b3A6aX19LGUucHJldmVudERlZmF1bHRFeGNlcHRpb249ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSlpZihlW2ldLnRlc3QodFtpXSkpcmV0dXJuITA7cmV0dXJuITF9LGUuZXh0ZW5kKGUuZXZlbnRUeXBlPXt9LHt0b3VjaHN0YXJ0OjEsdG91Y2htb3ZlOjEsdG91Y2hlbmQ6MSxtb3VzZWRvd246Mixtb3VzZW1vdmU6Mixtb3VzZXVwOjIscG9pbnRlcmRvd246Myxwb2ludGVybW92ZTozLHBvaW50ZXJ1cDozLE1TUG9pbnRlckRvd246MyxNU1BvaW50ZXJNb3ZlOjMsTVNQb2ludGVyVXA6M30pLGUuZXh0ZW5kKGUuZWFzZT17fSx7cXVhZHJhdGljOntzdHlsZTpcImN1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KVwiLGZuOmZ1bmN0aW9uKHQpe3JldHVybiB0KigyLXQpfX0sY2lyY3VsYXI6e3N0eWxlOlwiY3ViaWMtYmV6aWVyKDAuMSwgMC41NywgMC4xLCAxKVwiLGZuOmZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0gLS10KnQpfX0sYmFjazp7c3R5bGU6XCJjdWJpYy1iZXppZXIoMC4xNzUsIDAuODg1LCAwLjMyLCAxLjI3NSlcIixmbjpmdW5jdGlvbih0KXt2YXIgZT00O3JldHVybih0LT0xKSp0KigoZSsxKSp0K2UpKzF9fSxib3VuY2U6e3N0eWxlOlwiXCIsZm46ZnVuY3Rpb24odCl7cmV0dXJuKHQvPTEpPDEvMi43NT83LjU2MjUqdCp0OnQ8Mi8yLjc1PzcuNTYyNSoodC09MS41LzIuNzUpKnQrLjc1OnQ8Mi41LzIuNzU/Ny41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzU6Ny41NjI1Kih0LT0yLjYyNS8yLjc1KSp0Ky45ODQzNzV9fSxlbGFzdGljOntzdHlsZTpcIlwiLGZuOmZ1bmN0aW9uKHQpe3ZhciBlPS4yMixpPS40O3JldHVybiAwPT09dD8wOjE9PXQ/MTppKk1hdGgucG93KDIsLTEwKnQpKk1hdGguc2luKCh0LWUvNCkqKDIqTWF0aC5QSSkvZSkrMX19fSksZS50YXA9ZnVuY3Rpb24odCxlKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO2kuaW5pdEV2ZW50KGUsITAsITApLGkucGFnZVg9dC5wYWdlWCxpLnBhZ2VZPXQucGFnZVksdC50YXJnZXQuZGlzcGF0Y2hFdmVudChpKX0sZS5jbGljaz1mdW5jdGlvbih0KXt2YXIgZSxpPXQudGFyZ2V0Oy8oU0VMRUNUfElOUFVUfFRFWFRBUkVBKS9pLnRlc3QoaS50YWdOYW1lKXx8KGU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQod2luZG93Lk1vdXNlRXZlbnQ/XCJNb3VzZUV2ZW50c1wiOlwiRXZlbnRcIiksZS5pbml0RXZlbnQoXCJjbGlja1wiLCEwLCEwKSxlLnZpZXc9dC52aWV3fHx3aW5kb3csZS5kZXRhaWw9MSxlLnNjcmVlblg9aS5zY3JlZW5YfHwwLGUuc2NyZWVuWT1pLnNjcmVlbll8fDAsZS5jbGllbnRYPWkuY2xpZW50WHx8MCxlLmNsaWVudFk9aS5jbGllbnRZfHwwLGUuY3RybEtleT0hIXQuY3RybEtleSxlLmFsdEtleT0hIXQuYWx0S2V5LGUuc2hpZnRLZXk9ISF0LnNoaWZ0S2V5LGUubWV0YUtleT0hIXQubWV0YUtleSxlLmJ1dHRvbj0wLGUucmVsYXRlZFRhcmdldD1udWxsLGUuX2NvbnN0cnVjdGVkPSEwLGkuZGlzcGF0Y2hFdmVudChlKSl9LGV9KCk7bi5wcm90b3R5cGU9e3ZlcnNpb246XCI1LjIuMFwiLF9pbml0OmZ1bmN0aW9uKCl7dGhpcy5faW5pdEV2ZW50cygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5faW5pdEV2ZW50cyghMCksY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZW91dCksdGhpcy5yZXNpemVUaW1lb3V0PW51bGwsdGhpcy5fZXhlY0V2ZW50KFwiZGVzdHJveVwiKX0sX3RyYW5zaXRpb25FbmQ6ZnVuY3Rpb24odCl7dC50YXJnZXQ9PXRoaXMuc2Nyb2xsZXImJnRoaXMuaXNJblRyYW5zaXRpb24mJih0aGlzLl90cmFuc2l0aW9uVGltZSgpLHRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSl8fCh0aGlzLmlzSW5UcmFuc2l0aW9uPSExLHRoaXMuX2V4ZWNFdmVudChcInNjcm9sbEVuZFwiKSkpfSxfc3RhcnQ6ZnVuY3Rpb24odCl7aWYoMSE9YS5ldmVudFR5cGVbdC50eXBlXSl7dmFyIGU7aWYoZT10LndoaWNoP3QuYnV0dG9uOnQuYnV0dG9uPDI/MDo0PT10LmJ1dHRvbj8xOjIsMCE9PWUpcmV0dXJufWlmKHRoaXMuZW5hYmxlZCYmKCF0aGlzLmluaXRpYXRlZHx8YS5ldmVudFR5cGVbdC50eXBlXT09PXRoaXMuaW5pdGlhdGVkKSl7IXRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdHx8YS5pc0JhZEFuZHJvaWR8fGEucHJldmVudERlZmF1bHRFeGNlcHRpb24odC50YXJnZXQsdGhpcy5vcHRpb25zLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKXx8dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpLG49dC50b3VjaGVzP3QudG91Y2hlc1swXTp0O3RoaXMuaW5pdGlhdGVkPWEuZXZlbnRUeXBlW3QudHlwZV0sdGhpcy5tb3ZlZD0hMSx0aGlzLmRpc3RYPTAsdGhpcy5kaXN0WT0wLHRoaXMuZGlyZWN0aW9uWD0wLHRoaXMuZGlyZWN0aW9uWT0wLHRoaXMuZGlyZWN0aW9uTG9ja2VkPTAsdGhpcy5zdGFydFRpbWU9YS5nZXRUaW1lKCksdGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24mJnRoaXMuaXNJblRyYW5zaXRpb24/KHRoaXMuX3RyYW5zaXRpb25UaW1lKCksdGhpcy5pc0luVHJhbnNpdGlvbj0hMSxpPXRoaXMuZ2V0Q29tcHV0ZWRQb3NpdGlvbigpLHRoaXMuX3RyYW5zbGF0ZShNYXRoLnJvdW5kKGkueCksTWF0aC5yb3VuZChpLnkpKSx0aGlzLl9leGVjRXZlbnQoXCJzY3JvbGxFbmRcIikpOiF0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbiYmdGhpcy5pc0FuaW1hdGluZyYmKHRoaXMuaXNBbmltYXRpbmc9ITEsXHJcbnRoaXMuX2V4ZWNFdmVudChcInNjcm9sbEVuZFwiKSksdGhpcy5zdGFydFg9dGhpcy54LHRoaXMuc3RhcnRZPXRoaXMueSx0aGlzLmFic1N0YXJ0WD10aGlzLngsdGhpcy5hYnNTdGFydFk9dGhpcy55LHRoaXMucG9pbnRYPW4ucGFnZVgsdGhpcy5wb2ludFk9bi5wYWdlWSx0aGlzLl9leGVjRXZlbnQoXCJiZWZvcmVTY3JvbGxTdGFydFwiKX19LF9tb3ZlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZW5hYmxlZCYmYS5ldmVudFR5cGVbdC50eXBlXT09PXRoaXMuaW5pdGlhdGVkKXt0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQmJnQucHJldmVudERlZmF1bHQoKTt2YXIgZSxpLG4scyxvPXQudG91Y2hlcz90LnRvdWNoZXNbMF06dCxyPW8ucGFnZVgtdGhpcy5wb2ludFgsbD1vLnBhZ2VZLXRoaXMucG9pbnRZLGM9YS5nZXRUaW1lKCk7aWYodGhpcy5wb2ludFg9by5wYWdlWCx0aGlzLnBvaW50WT1vLnBhZ2VZLHRoaXMuZGlzdFgrPXIsdGhpcy5kaXN0WSs9bCxuPU1hdGguYWJzKHRoaXMuZGlzdFgpLHM9TWF0aC5hYnModGhpcy5kaXN0WSksIShjLXRoaXMuZW5kVGltZT4zMDAmJm48MTAmJnM8MTApKXtpZih0aGlzLmRpcmVjdGlvbkxvY2tlZHx8dGhpcy5vcHRpb25zLmZyZWVTY3JvbGx8fChuPnMrdGhpcy5vcHRpb25zLmRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ/dGhpcy5kaXJlY3Rpb25Mb2NrZWQ9XCJoXCI6cz49bit0aGlzLm9wdGlvbnMuZGlyZWN0aW9uTG9ja1RocmVzaG9sZD90aGlzLmRpcmVjdGlvbkxvY2tlZD1cInZcIjp0aGlzLmRpcmVjdGlvbkxvY2tlZD1cIm5cIiksXCJoXCI9PXRoaXMuZGlyZWN0aW9uTG9ja2VkKXtpZihcInZlcnRpY2FsXCI9PXRoaXMub3B0aW9ucy5ldmVudFBhc3N0aHJvdWdoKXQucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKFwiaG9yaXpvbnRhbFwiPT10aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaClyZXR1cm4gdm9pZCh0aGlzLmluaXRpYXRlZD0hMSk7bD0wfWVsc2UgaWYoXCJ2XCI9PXRoaXMuZGlyZWN0aW9uTG9ja2VkKXtpZihcImhvcml6b250YWxcIj09dGhpcy5vcHRpb25zLmV2ZW50UGFzc3Rocm91Z2gpdC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoXCJ2ZXJ0aWNhbFwiPT10aGlzLm9wdGlvbnMuZXZlbnRQYXNzdGhyb3VnaClyZXR1cm4gdm9pZCh0aGlzLmluaXRpYXRlZD0hMSk7cj0wfXI9dGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsP3I6MCxsPXRoaXMuaGFzVmVydGljYWxTY3JvbGw/bDowLGU9dGhpcy54K3IsaT10aGlzLnkrbCwoZT4wfHxlPHRoaXMubWF4U2Nyb2xsWCkmJihlPXRoaXMub3B0aW9ucy5ib3VuY2U/dGhpcy54K3IvMzplPjA/MDp0aGlzLm1heFNjcm9sbFgpLChpPjB8fGk8dGhpcy5tYXhTY3JvbGxZKSYmKGk9dGhpcy5vcHRpb25zLmJvdW5jZT90aGlzLnkrbC8zOmk+MD8wOnRoaXMubWF4U2Nyb2xsWSksdGhpcy5kaXJlY3Rpb25YPXI+MD8tMTpyPDA/MTowLHRoaXMuZGlyZWN0aW9uWT1sPjA/LTE6bDwwPzE6MCx0aGlzLm1vdmVkfHx0aGlzLl9leGVjRXZlbnQoXCJzY3JvbGxTdGFydFwiKSx0aGlzLm1vdmVkPSEwLHRoaXMuX3RyYW5zbGF0ZShlLGkpLGMtdGhpcy5zdGFydFRpbWU+MzAwJiYodGhpcy5zdGFydFRpbWU9Yyx0aGlzLnN0YXJ0WD10aGlzLngsdGhpcy5zdGFydFk9dGhpcy55KX19fSxfZW5kOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZW5hYmxlZCYmYS5ldmVudFR5cGVbdC50eXBlXT09PXRoaXMuaW5pdGlhdGVkKXt0aGlzLm9wdGlvbnMucHJldmVudERlZmF1bHQmJiFhLnByZXZlbnREZWZhdWx0RXhjZXB0aW9uKHQudGFyZ2V0LHRoaXMub3B0aW9ucy5wcmV2ZW50RGVmYXVsdEV4Y2VwdGlvbikmJnQucHJldmVudERlZmF1bHQoKTt2YXIgZSxpLG49KHQuY2hhbmdlZFRvdWNoZXM/dC5jaGFuZ2VkVG91Y2hlc1swXTp0LGEuZ2V0VGltZSgpLXRoaXMuc3RhcnRUaW1lKSxzPU1hdGgucm91bmQodGhpcy54KSxvPU1hdGgucm91bmQodGhpcy55KSxyPU1hdGguYWJzKHMtdGhpcy5zdGFydFgpLGw9TWF0aC5hYnMoby10aGlzLnN0YXJ0WSksYz0wLHU9XCJcIjtpZih0aGlzLmlzSW5UcmFuc2l0aW9uPTAsdGhpcy5pbml0aWF0ZWQ9MCx0aGlzLmVuZFRpbWU9YS5nZXRUaW1lKCksIXRoaXMucmVzZXRQb3NpdGlvbih0aGlzLm9wdGlvbnMuYm91bmNlVGltZSkpcmV0dXJuIHRoaXMuc2Nyb2xsVG8ocyxvKSx0aGlzLm1vdmVkP3RoaXMuX2V2ZW50cy5mbGljayYmbjwyMDAmJnI8MTAwJiZsPDEwMD92b2lkIHRoaXMuX2V4ZWNFdmVudChcImZsaWNrXCIpOih0aGlzLm9wdGlvbnMubW9tZW50dW0mJm48MzAwJiYoZT10aGlzLmhhc0hvcml6b250YWxTY3JvbGw/YS5tb21lbnR1bSh0aGlzLngsdGhpcy5zdGFydFgsbix0aGlzLm1heFNjcm9sbFgsdGhpcy5vcHRpb25zLmJvdW5jZT90aGlzLndyYXBwZXJXaWR0aDowLHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pOntkZXN0aW5hdGlvbjpzLGR1cmF0aW9uOjB9LGk9dGhpcy5oYXNWZXJ0aWNhbFNjcm9sbD9hLm1vbWVudHVtKHRoaXMueSx0aGlzLnN0YXJ0WSxuLHRoaXMubWF4U2Nyb2xsWSx0aGlzLm9wdGlvbnMuYm91bmNlP3RoaXMud3JhcHBlckhlaWdodDowLHRoaXMub3B0aW9ucy5kZWNlbGVyYXRpb24pOntkZXN0aW5hdGlvbjpvLGR1cmF0aW9uOjB9LHM9ZS5kZXN0aW5hdGlvbixvPWkuZGVzdGluYXRpb24sYz1NYXRoLm1heChlLmR1cmF0aW9uLGkuZHVyYXRpb24pLHRoaXMuaXNJblRyYW5zaXRpb249MSkscyE9dGhpcy54fHxvIT10aGlzLnk/KChzPjB8fHM8dGhpcy5tYXhTY3JvbGxYfHxvPjB8fG88dGhpcy5tYXhTY3JvbGxZKSYmKHU9YS5lYXNlLnF1YWRyYXRpYyksdm9pZCB0aGlzLnNjcm9sbFRvKHMsbyxjLHUpKTp2b2lkIHRoaXMuX2V4ZWNFdmVudChcInNjcm9sbEVuZFwiKSk6KHRoaXMub3B0aW9ucy50YXAmJmEudGFwKHQsdGhpcy5vcHRpb25zLnRhcCksdGhpcy5vcHRpb25zLmNsaWNrJiZhLmNsaWNrKHQpLHZvaWQgdGhpcy5fZXhlY0V2ZW50KFwic2Nyb2xsQ2FuY2VsXCIpKX19LF9yZXNpemU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2NsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVvdXQpLHRoaXMucmVzaXplVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5yZWZyZXNoKCl9LHRoaXMub3B0aW9ucy5yZXNpemVQb2xsaW5nKX0scmVzZXRQb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLngsaT10aGlzLnk7cmV0dXJuIHQ9dHx8MCwhdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsfHx0aGlzLng+MD9lPTA6dGhpcy54PHRoaXMubWF4U2Nyb2xsWCYmKGU9dGhpcy5tYXhTY3JvbGxYKSwhdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbHx8dGhpcy55PjA/aT0wOnRoaXMueTx0aGlzLm1heFNjcm9sbFkmJihpPXRoaXMubWF4U2Nyb2xsWSksKGUhPXRoaXMueHx8aSE9dGhpcy55KSYmKHRoaXMuc2Nyb2xsVG8oZSxpLHQsdGhpcy5vcHRpb25zLmJvdW5jZUVhc2luZyksITApfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIub2Zmc2V0SGVpZ2h0O3RoaXMud3JhcHBlcldpZHRoPXRoaXMud3JhcHBlci5jbGllbnRXaWR0aCx0aGlzLndyYXBwZXJIZWlnaHQ9dGhpcy53cmFwcGVyLmNsaWVudEhlaWdodCx0aGlzLnNjcm9sbGVyV2lkdGg9dGhpcy5zY3JvbGxlci5vZmZzZXRXaWR0aCx0aGlzLnNjcm9sbGVySGVpZ2h0PXRoaXMuc2Nyb2xsZXIub2Zmc2V0SGVpZ2h0LHRoaXMubWF4U2Nyb2xsWD10aGlzLndyYXBwZXJXaWR0aC10aGlzLnNjcm9sbGVyV2lkdGgsdGhpcy5tYXhTY3JvbGxZPXRoaXMud3JhcHBlckhlaWdodC10aGlzLnNjcm9sbGVySGVpZ2h0LHRoaXMuaGFzSG9yaXpvbnRhbFNjcm9sbD10aGlzLm9wdGlvbnMuc2Nyb2xsWCYmdGhpcy5tYXhTY3JvbGxYPDAsdGhpcy5oYXNWZXJ0aWNhbFNjcm9sbD10aGlzLm9wdGlvbnMuc2Nyb2xsWSYmdGhpcy5tYXhTY3JvbGxZPDAsdGhpcy5oYXNIb3Jpem9udGFsU2Nyb2xsfHwodGhpcy5tYXhTY3JvbGxYPTAsdGhpcy5zY3JvbGxlcldpZHRoPXRoaXMud3JhcHBlcldpZHRoKSx0aGlzLmhhc1ZlcnRpY2FsU2Nyb2xsfHwodGhpcy5tYXhTY3JvbGxZPTAsdGhpcy5zY3JvbGxlckhlaWdodD10aGlzLndyYXBwZXJIZWlnaHQpLHRoaXMuZW5kVGltZT0wLHRoaXMuZGlyZWN0aW9uWD0wLHRoaXMuZGlyZWN0aW9uWT0wLHRoaXMud3JhcHBlck9mZnNldD1hLm9mZnNldCh0aGlzLndyYXBwZXIpLHRoaXMuX2V4ZWNFdmVudChcInJlZnJlc2hcIiksdGhpcy5yZXNldFBvc2l0aW9uKCl9LG9uOmZ1bmN0aW9uKHQsZSl7dGhpcy5fZXZlbnRzW3RdfHwodGhpcy5fZXZlbnRzW3RdPVtdKSx0aGlzLl9ldmVudHNbdF0ucHVzaChlKX0sb2ZmOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZXZlbnRzW3RdKXt2YXIgaT10aGlzLl9ldmVudHNbdF0uaW5kZXhPZihlKTtpPi0xJiZ0aGlzLl9ldmVudHNbdF0uc3BsaWNlKGksMSl9fSxfZXhlY0V2ZW50OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX2V2ZW50c1t0XSl7dmFyIGU9MCxpPXRoaXMuX2V2ZW50c1t0XS5sZW5ndGg7aWYoaSlmb3IoO2U8aTtlKyspdGhpcy5fZXZlbnRzW3RdW2VdLmFwcGx5KHRoaXMsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfX0sc2Nyb2xsQnk6ZnVuY3Rpb24odCxlLGksbil7dD10aGlzLngrdCxlPXRoaXMueStlLGk9aXx8MCx0aGlzLnNjcm9sbFRvKHQsZSxpLG4pfSxzY3JvbGxUbzpmdW5jdGlvbih0LGUsaSxuKXtuPW58fGEuZWFzZS5jaXJjdWxhcix0aGlzLmlzSW5UcmFuc2l0aW9uPXRoaXMub3B0aW9ucy51c2VUcmFuc2l0aW9uJiZpPjA7dmFyIHM9dGhpcy5vcHRpb25zLnVzZVRyYW5zaXRpb24mJm4uc3R5bGU7IWl8fHM/KHMmJih0aGlzLl90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24obi5zdHlsZSksdGhpcy5fdHJhbnNpdGlvblRpbWUoaSkpLHRoaXMuX3RyYW5zbGF0ZSh0LGUpKTp0aGlzLl9hbmltYXRlKHQsZSxpLG4uZm4pfSxzY3JvbGxUb0VsZW1lbnQ6ZnVuY3Rpb24odCxlLGksbixzKXtpZih0PXQubm9kZVR5cGU/dDp0aGlzLnNjcm9sbGVyLnF1ZXJ5U2VsZWN0b3IodCkpe3ZhciBvPWEub2Zmc2V0KHQpO28ubGVmdC09dGhpcy53cmFwcGVyT2Zmc2V0LmxlZnQsby50b3AtPXRoaXMud3JhcHBlck9mZnNldC50b3AsaT09PSEwJiYoaT1NYXRoLnJvdW5kKHQub2Zmc2V0V2lkdGgvMi10aGlzLndyYXBwZXIub2Zmc2V0V2lkdGgvMikpLG49PT0hMCYmKG49TWF0aC5yb3VuZCh0Lm9mZnNldEhlaWdodC8yLXRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQvMikpLG8ubGVmdC09aXx8MCxvLnRvcC09bnx8MCxvLmxlZnQ9by5sZWZ0PjA/MDpvLmxlZnQ8dGhpcy5tYXhTY3JvbGxYP3RoaXMubWF4U2Nyb2xsWDpvLmxlZnQsby50b3A9by50b3A+MD8wOm8udG9wPHRoaXMubWF4U2Nyb2xsWT90aGlzLm1heFNjcm9sbFk6by50b3AsZT12b2lkIDA9PT1lfHxudWxsPT09ZXx8XCJhdXRvXCI9PT1lP01hdGgubWF4KE1hdGguYWJzKHRoaXMueC1vLmxlZnQpLE1hdGguYWJzKHRoaXMueS1vLnRvcCkpOmUsdGhpcy5zY3JvbGxUbyhvLmxlZnQsby50b3AsZSxzKX19LF90cmFuc2l0aW9uVGltZTpmdW5jdGlvbih0KXtpZih0aGlzLm9wdGlvbnMudXNlVHJhbnNpdGlvbil7dD10fHwwO3ZhciBlPWEuc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uO2lmKGUmJih0aGlzLnNjcm9sbGVyU3R5bGVbZV09dCtcIm1zXCIsIXQmJmEuaXNCYWRBbmRyb2lkKSl7dGhpcy5zY3JvbGxlclN0eWxlW2VdPVwiMC4wMDAxbXNcIjt2YXIgaT10aGlzO28oZnVuY3Rpb24oKXtcIjAuMDAwMW1zXCI9PT1pLnNjcm9sbGVyU3R5bGVbZV0mJihpLnNjcm9sbGVyU3R5bGVbZV09XCIwc1wiKX0pfX19LF90cmFuc2l0aW9uVGltaW5nRnVuY3Rpb246ZnVuY3Rpb24odCl7dGhpcy5zY3JvbGxlclN0eWxlW2Euc3R5bGUudHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXT10fSxfdHJhbnNsYXRlOmZ1bmN0aW9uKHQsZSl7dGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybT90aGlzLnNjcm9sbGVyU3R5bGVbYS5zdHlsZS50cmFuc2Zvcm1dPVwidHJhbnNsYXRlKFwiK3QrXCJweCxcIitlK1wicHgpXCIrdGhpcy50cmFuc2xhdGVaOih0PU1hdGgucm91bmQodCksZT1NYXRoLnJvdW5kKGUpLHRoaXMuc2Nyb2xsZXJTdHlsZS5sZWZ0PXQrXCJweFwiLHRoaXMuc2Nyb2xsZXJTdHlsZS50b3A9ZStcInB4XCIpLHRoaXMueD10LHRoaXMueT1lfSxfaW5pdEV2ZW50czpmdW5jdGlvbih0KXt2YXIgZT10P2EucmVtb3ZlRXZlbnQ6YS5hZGRFdmVudCxpPXRoaXMub3B0aW9ucy5iaW5kVG9XcmFwcGVyP3RoaXMud3JhcHBlcjp3aW5kb3c7ZSh3aW5kb3csXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMpLGUod2luZG93LFwicmVzaXplXCIsdGhpcyksdGhpcy5vcHRpb25zLmNsaWNrJiZlKHRoaXMud3JhcHBlcixcImNsaWNrXCIsdGhpcywhMCksdGhpcy5vcHRpb25zLmRpc2FibGVNb3VzZXx8KGUodGhpcy53cmFwcGVyLFwibW91c2Vkb3duXCIsdGhpcyksZShpLFwibW91c2Vtb3ZlXCIsdGhpcyksZShpLFwibW91c2VjYW5jZWxcIix0aGlzKSxlKGksXCJtb3VzZXVwXCIsdGhpcykpLGEuaGFzUG9pbnRlciYmIXRoaXMub3B0aW9ucy5kaXNhYmxlUG9pbnRlciYmKGUodGhpcy53cmFwcGVyLGEucHJlZml4UG9pbnRlckV2ZW50KFwicG9pbnRlcmRvd25cIiksdGhpcyksZShpLGEucHJlZml4UG9pbnRlckV2ZW50KFwicG9pbnRlcm1vdmVcIiksdGhpcyksZShpLGEucHJlZml4UG9pbnRlckV2ZW50KFwicG9pbnRlcmNhbmNlbFwiKSx0aGlzKSxlKGksYS5wcmVmaXhQb2ludGVyRXZlbnQoXCJwb2ludGVydXBcIiksdGhpcykpLGEuaGFzVG91Y2gmJiF0aGlzLm9wdGlvbnMuZGlzYWJsZVRvdWNoJiYoZSh0aGlzLndyYXBwZXIsXCJ0b3VjaHN0YXJ0XCIsdGhpcyksZShpLFwidG91Y2htb3ZlXCIsdGhpcyksZShpLFwidG91Y2hjYW5jZWxcIix0aGlzKSxlKGksXCJ0b3VjaGVuZFwiLHRoaXMpKSxlKHRoaXMuc2Nyb2xsZXIsXCJ0cmFuc2l0aW9uZW5kXCIsdGhpcyksZSh0aGlzLnNjcm9sbGVyLFwid2Via2l0VHJhbnNpdGlvbkVuZFwiLHRoaXMpLGUodGhpcy5zY3JvbGxlcixcIm9UcmFuc2l0aW9uRW5kXCIsdGhpcyksZSh0aGlzLnNjcm9sbGVyLFwiTVNUcmFuc2l0aW9uRW5kXCIsdGhpcyl9LGdldENvbXB1dGVkUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgdCxlLGk9d2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5zY3JvbGxlcixudWxsKTtyZXR1cm4gdGhpcy5vcHRpb25zLnVzZVRyYW5zZm9ybT8oaT1pW2Euc3R5bGUudHJhbnNmb3JtXS5zcGxpdChcIilcIilbMF0uc3BsaXQoXCIsIFwiKSx0PSsoaVsxMl18fGlbNF0pLGU9KyhpWzEzXXx8aVs1XSkpOih0PStpLmxlZnQucmVwbGFjZSgvW14tXFxkLl0vZyxcIlwiKSxlPStpLnRvcC5yZXBsYWNlKC9bXi1cXGQuXS9nLFwiXCIpKSx7eDp0LHk6ZX19LF9hbmltYXRlOmZ1bmN0aW9uKHQsZSxpLG4pe2Z1bmN0aW9uIHMoKXt2YXIgZCxwLG0sZj1hLmdldFRpbWUoKTtyZXR1cm4gZj49aD8oci5pc0FuaW1hdGluZz0hMSxyLl90cmFuc2xhdGUodCxlKSx2b2lkKHIucmVzZXRQb3NpdGlvbihyLm9wdGlvbnMuYm91bmNlVGltZSl8fHIuX2V4ZWNFdmVudChcInNjcm9sbEVuZFwiKSkpOihmPShmLXUpL2ksbT1uKGYpLGQ9KHQtbCkqbStsLHA9KGUtYykqbStjLHIuX3RyYW5zbGF0ZShkLHApLHZvaWQoci5pc0FuaW1hdGluZyYmbyhzKSkpfXZhciByPXRoaXMsbD10aGlzLngsYz10aGlzLnksdT1hLmdldFRpbWUoKSxoPXUraTt0aGlzLmlzQW5pbWF0aW5nPSEwLHMoKX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwidG91Y2hzdGFydFwiOmNhc2VcInBvaW50ZXJkb3duXCI6Y2FzZVwiTVNQb2ludGVyRG93blwiOmNhc2VcIm1vdXNlZG93blwiOnRoaXMuX3N0YXJ0KHQpO2JyZWFrO2Nhc2VcInRvdWNobW92ZVwiOmNhc2VcInBvaW50ZXJtb3ZlXCI6Y2FzZVwiTVNQb2ludGVyTW92ZVwiOmNhc2VcIm1vdXNlbW92ZVwiOnRoaXMuX21vdmUodCk7YnJlYWs7Y2FzZVwidG91Y2hlbmRcIjpjYXNlXCJwb2ludGVydXBcIjpjYXNlXCJNU1BvaW50ZXJVcFwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJ0b3VjaGNhbmNlbFwiOmNhc2VcInBvaW50ZXJjYW5jZWxcIjpjYXNlXCJNU1BvaW50ZXJDYW5jZWxcIjpjYXNlXCJtb3VzZWNhbmNlbFwiOnRoaXMuX2VuZCh0KTticmVhaztjYXNlXCJvcmllbnRhdGlvbmNoYW5nZVwiOmNhc2VcInJlc2l6ZVwiOnRoaXMuX3Jlc2l6ZSgpO2JyZWFrO2Nhc2VcInRyYW5zaXRpb25lbmRcIjpjYXNlXCJ3ZWJraXRUcmFuc2l0aW9uRW5kXCI6Y2FzZVwib1RyYW5zaXRpb25FbmRcIjpjYXNlXCJNU1RyYW5zaXRpb25FbmRcIjp0aGlzLl90cmFuc2l0aW9uRW5kKHQpO2JyZWFrO2Nhc2VcIndoZWVsXCI6Y2FzZVwiRE9NTW91c2VTY3JvbGxcIjpjYXNlXCJtb3VzZXdoZWVsXCI6dGhpcy5fd2hlZWwodCk7YnJlYWs7Y2FzZVwia2V5ZG93blwiOnRoaXMuX2tleSh0KTticmVhaztjYXNlXCJjbGlja1wiOnRoaXMuZW5hYmxlZCYmIXQuX2NvbnN0cnVjdGVkJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfX19LG4udXRpbHM9YSx0LmV4cG9ydHM9cy5pU2Nyb2xsPW59LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXModGhpcyksbj1pLmRhdGEoXCJhbXVpLm1vZGFsXCIpLG89XCJvYmplY3RcIj09dHlwZW9mIHQmJnQ7bnx8aS5kYXRhKFwiYW11aS5tb2RhbFwiLG49bmV3IGModGhpcyxvKSksXCJzdHJpbmdcIj09dHlwZW9mIHQ/blt0XSYmblt0XShlKTpuLnRvZ2dsZSh0JiZ0LnJlbGF0ZWRUYXJnZXR8fHZvaWQgMCl9KX12YXIgcz1pKDEpLG89aSgyKSxhPWkoOSkscj1zKGRvY3VtZW50KSxsPW8uc3VwcG9ydC50cmFuc2l0aW9uLGM9ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnM9cy5leHRlbmQoe30sYy5ERUZBVUxUUyxlfHx7fSksdGhpcy4kZWxlbWVudD1zKHQpLHRoaXMuJGRpYWxvZz10aGlzLiRlbGVtZW50LmZpbmQoXCIuYW0tbW9kYWwtZGlhbG9nXCIpLHRoaXMuJGVsZW1lbnQuYXR0cihcImlkXCIpfHx0aGlzLiRlbGVtZW50LmF0dHIoXCJpZFwiLG8udXRpbHMuZ2VuZXJhdGVHVUlEKFwiYW0tbW9kYWxcIikpLHRoaXMuaXNQb3B1cD10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYW0tcG9wdXBcIiksdGhpcy5pc0FjdGlvbnM9dGhpcy4kZWxlbWVudC5oYXNDbGFzcyhcImFtLW1vZGFsLWFjdGlvbnNcIiksdGhpcy5pc1Byb21wdD10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKFwiYW0tbW9kYWwtcHJvbXB0XCIpLHRoaXMuaXNMb2FkaW5nPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoXCJhbS1tb2RhbC1sb2FkaW5nXCIpLHRoaXMuYWN0aXZlPXRoaXMudHJhbnNpdGlvbmluZz10aGlzLnJlbGF0ZWRUYXJnZXQ9bnVsbCx0aGlzLmRpbW1lcj10aGlzLm9wdGlvbnMuZGltbWVyP2E6e29wZW46ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fX0sdGhpcy5ldmVudHMoKX07Yy5ERUZBVUxUUz17Y2xhc3NOYW1lOnthY3RpdmU6XCJhbS1tb2RhbC1hY3RpdmVcIixvdXQ6XCJhbS1tb2RhbC1vdXRcIn0sc2VsZWN0b3I6e21vZGFsOlwiLmFtLW1vZGFsXCIsYWN0aXZlOlwiLmFtLW1vZGFsLWFjdGl2ZVwifSxjbG9zZVZpYURpbW1lcjohMCxjYW5jZWxhYmxlOiEwLG9uQ29uZmlybTpmdW5jdGlvbigpe30sb25DYW5jZWw6ZnVuY3Rpb24oKXt9LGNsb3NlT25DYW5jZWw6ITAsY2xvc2VPbkNvbmZpcm06ITAsZGltbWVyOiEwLGhlaWdodDp2b2lkIDAsd2lkdGg6dm9pZCAwLGR1cmF0aW9uOjMwMCx0cmFuc2l0aW9uRW5kOmwmJmwuZW5kK1wiLm1vZGFsLmFtdWlcIn0sYy5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmFjdGl2ZT90aGlzLmNsb3NlKCk6dGhpcy5vcGVuKHQpfSxjLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuJGVsZW1lbnQsaT10aGlzLm9wdGlvbnMsbj10aGlzLmlzUG9wdXAsbz1pLndpZHRoLGE9aS5oZWlnaHQscj17fTtpZighdGhpcy5hY3RpdmUmJnRoaXMuJGVsZW1lbnQubGVuZ3RoKXt0JiYodGhpcy5yZWxhdGVkVGFyZ2V0PXQpLHRoaXMudHJhbnNpdGlvbmluZyYmKGNsZWFyVGltZW91dChlLnRyYW5zaXRpb25FbmRUaW1tZXIpLGUudHJhbnNpdGlvbkVuZFRpbW1lcj1udWxsLGUudHJpZ2dlcihpLnRyYW5zaXRpb25FbmQpLm9mZihpLnRyYW5zaXRpb25FbmQpKSxuJiZ0aGlzLiRlbGVtZW50LnNob3coKSx0aGlzLmFjdGl2ZT0hMCxlLnRyaWdnZXIocy5FdmVudChcIm9wZW4ubW9kYWwuYW11aVwiLHtyZWxhdGVkVGFyZ2V0OnR9KSksdGhpcy5kaW1tZXIub3BlbihlKSxlLnNob3coKS5yZWRyYXcoKSxufHx0aGlzLmlzQWN0aW9uc3x8KG8mJihyLndpZHRoPXBhcnNlSW50KG8sMTApK1wicHhcIiksYSYmKHIuaGVpZ2h0PXBhcnNlSW50KGEsMTApK1wicHhcIiksdGhpcy4kZGlhbG9nLmNzcyhyKSksZS5yZW1vdmVDbGFzcyhpLmNsYXNzTmFtZS5vdXQpLmFkZENsYXNzKGkuY2xhc3NOYW1lLmFjdGl2ZSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIGM9ZnVuY3Rpb24oKXtlLnRyaWdnZXIocy5FdmVudChcIm9wZW5lZC5tb2RhbC5hbXVpXCIse3JlbGF0ZWRUYXJnZXQ6dH0pKSx0aGlzLnRyYW5zaXRpb25pbmc9MCx0aGlzLmlzUHJvbXB0JiZ0aGlzLiRkaWFsb2cuZmluZChcImlucHV0XCIpLmVxKDApLmZvY3VzKCl9O3JldHVybiBsP3ZvaWQgZS5vbmUoaS50cmFuc2l0aW9uRW5kLHMucHJveHkoYyx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoaS5kdXJhdGlvbik6Yy5jYWxsKHRoaXMpfX0sYy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24odCl7aWYodGhpcy5hY3RpdmUpe3ZhciBlPXRoaXMuJGVsZW1lbnQsaT10aGlzLm9wdGlvbnMsbj10aGlzLmlzUG9wdXA7dGhpcy50cmFuc2l0aW9uaW5nJiYoY2xlYXJUaW1lb3V0KGUudHJhbnNpdGlvbkVuZFRpbW1lciksZS50cmFuc2l0aW9uRW5kVGltbWVyPW51bGwsZS50cmlnZ2VyKGkudHJhbnNpdGlvbkVuZCkub2ZmKGkudHJhbnNpdGlvbkVuZCksdGhpcy5kaW1tZXIuY2xvc2UoZSwhMCkpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzLkV2ZW50KFwiY2xvc2UubW9kYWwuYW11aVwiLHtyZWxhdGVkVGFyZ2V0OnR9KSksdGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIG89ZnVuY3Rpb24oKXtlLnRyaWdnZXIoXCJjbG9zZWQubW9kYWwuYW11aVwiKSxuJiZlLnJlbW92ZUNsYXNzKGkuY2xhc3NOYW1lLm91dCksZS5oaWRlKCksdGhpcy50cmFuc2l0aW9uaW5nPTAsdGhpcy5kaW1tZXIuY2xvc2UoZSwhMSksdGhpcy5hY3RpdmU9ITF9O3JldHVybiBlLnJlbW92ZUNsYXNzKGkuY2xhc3NOYW1lLmFjdGl2ZSkuYWRkQ2xhc3MoaS5jbGFzc05hbWUub3V0KSxsP3ZvaWQgZS5vbmUoaS50cmFuc2l0aW9uRW5kLHMucHJveHkobyx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoaS5kdXJhdGlvbik6by5jYWxsKHRoaXMpfX0sYy5wcm90b3R5cGUuZXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMub3B0aW9ucyxpPXRoaXMuJGVsZW1lbnQsbj10aGlzLmRpbW1lci4kZWxlbWVudCxvPWkuZmluZChcIi5hbS1tb2RhbC1wcm9tcHQtaW5wdXRcIiksYT1pLmZpbmQoXCJbZGF0YS1hbS1tb2RhbC1jb25maXJtXVwiKSxyPWkuZmluZChcIltkYXRhLWFtLW1vZGFsLWNhbmNlbF1cIiksbD1mdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBvLmVhY2goZnVuY3Rpb24oKXt0LnB1c2gocyh0aGlzKS52YWwoKSl9KSwwPT09dC5sZW5ndGg/dm9pZCAwOjE9PT10Lmxlbmd0aD90WzBdOnR9O3RoaXMub3B0aW9ucy5jYW5jZWxhYmxlJiZpLm9uKFwia2V5dXAubW9kYWwuYW11aVwiLGZ1bmN0aW9uKGUpe3QuYWN0aXZlJiYyNz09PWUud2hpY2gmJihpLnRyaWdnZXIoXCJjYW5jZWwubW9kYWwuYW11aVwiKSx0LmNsb3NlKCkpfSksdGhpcy5vcHRpb25zLmRpbW1lciYmdGhpcy5vcHRpb25zLmNsb3NlVmlhRGltbWVyJiYhdGhpcy5pc0xvYWRpbmcmJm4ub24oXCJjbGljay5kaW1tZXIubW9kYWwuYW11aVwiLGZ1bmN0aW9uKCl7dC5jbG9zZSgpfSksaS5vbihcImNsaWNrLmNsb3NlLm1vZGFsLmFtdWlcIixcIltkYXRhLWFtLW1vZGFsLWNsb3NlXSwgLmFtLW1vZGFsLWJ0blwiLGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTt2YXIgbj1zKHRoaXMpO24uaXMoYSk/ZS5jbG9zZU9uQ29uZmlybSYmdC5jbG9zZSgpOm4uaXMocik/ZS5jbG9zZU9uQ2FuY2VsJiZ0LmNsb3NlKCk6dC5jbG9zZSgpfSkub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ModC50YXJnZXQpLmlzKGkpJiZuLnRyaWdnZXIoXCJjbGljay5kaW1tZXIubW9kYWwuYW11aVwiKX0pLGEub24oXCJjbGljay5jb25maXJtLm1vZGFsLmFtdWlcIixmdW5jdGlvbigpe2kudHJpZ2dlcihzLkV2ZW50KFwiY29uZmlybS5tb2RhbC5hbXVpXCIse3RyaWdnZXI6dGhpc30pKX0pLHIub24oXCJjbGljay5jYW5jZWwubW9kYWwuYW11aVwiLGZ1bmN0aW9uKCl7aS50cmlnZ2VyKHMuRXZlbnQoXCJjYW5jZWwubW9kYWwuYW11aVwiLHt0cmlnZ2VyOnRoaXN9KSl9KSxpLm9uKFwiY29uZmlybS5tb2RhbC5hbXVpXCIsZnVuY3Rpb24oZSl7ZS5kYXRhPWwoKSx0Lm9wdGlvbnMub25Db25maXJtLmNhbGwodCxlKX0pLm9uKFwiY2FuY2VsLm1vZGFsLmFtdWlcIixmdW5jdGlvbihlKXtlLmRhdGE9bCgpLHQub3B0aW9ucy5vbkNhbmNlbC5jYWxsKHQsZSl9KX0scy5mbi5tb2RhbD1uLHIub24oXCJjbGljay5tb2RhbC5hbXVpLmRhdGEtYXBpXCIsXCJbZGF0YS1hbS1tb2RhbF1cIixmdW5jdGlvbigpe3ZhciB0PXModGhpcyksZT1vLnV0aWxzLnBhcnNlT3B0aW9ucyh0LmF0dHIoXCJkYXRhLWFtLW1vZGFsXCIpKSxpPXMoZS50YXJnZXR8fHRoaXMuaHJlZiYmdGhpcy5ocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sXCJcIikpLGE9aS5kYXRhKFwiYW11aS5tb2RhbFwiKT9cInRvZ2dsZVwiOmU7bi5jYWxsKGksYSx0aGlzKX0pLHQuZXhwb3J0cz1vLm1vZGFsPWN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1zKHRoaXMpLG89bi5kYXRhKFwiYW11aS5vZmZjYW52YXNcIiksYT1zLmV4dGVuZCh7fSxcIm9iamVjdFwiPT10eXBlb2YgdCYmdCk7b3x8KG4uZGF0YShcImFtdWkub2ZmY2FudmFzXCIsbz1uZXcgYyh0aGlzLGEpKSwoIXR8fFwib2JqZWN0XCI9PXR5cGVvZiB0KSYmby5vcGVuKGUpKSxcInN0cmluZ1wiPT10eXBlb2YgdCYmb1t0XSYmb1t0XS5hcHBseShvLGkpfSl9dmFyIHM9aSgxKSxvPWkoMik7aSgzKTt2YXIgYSxyPXMod2luZG93KSxsPXMoZG9jdW1lbnQpLGM9ZnVuY3Rpb24odCxlKXt0aGlzLiRlbGVtZW50PXModCksdGhpcy5vcHRpb25zPXMuZXh0ZW5kKHt9LGMuREVGQVVMVFMsZSksdGhpcy5hY3RpdmU9bnVsbCx0aGlzLmJpbmRFdmVudHMoKX07Yy5ERUZBVUxUUz17ZHVyYXRpb246MzAwLGVmZmVjdDpcIm92ZXJsYXlcIn0sYy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLGk9dGhpcy4kZWxlbWVudDtpZihpLmxlbmd0aCYmIWkuaGFzQ2xhc3MoXCJhbS1hY3RpdmVcIikpe3ZhciBuPXRoaXMub3B0aW9ucy5lZmZlY3Qsbz1zKFwiaHRtbFwiKSxsPXMoXCJib2R5XCIpLGM9aS5maW5kKFwiLmFtLW9mZmNhbnZhcy1iYXJcIikuZmlyc3QoKSx1PWMuaGFzQ2xhc3MoXCJhbS1vZmZjYW52YXMtYmFyLWZsaXBcIik/LTE6MTtjLmFkZENsYXNzKFwiYW0tb2ZmY2FudmFzLWJhci1cIituKSxhPXt4OndpbmRvdy5zY3JvbGxYLHk6d2luZG93LnNjcm9sbFl9LGkuYWRkQ2xhc3MoXCJhbS1hY3RpdmVcIiksbC5jc3Moe3dpZHRoOndpbmRvdy5pbm5lcldpZHRoLGhlaWdodDpyLmhlaWdodCgpfSkuYWRkQ2xhc3MoXCJhbS1vZmZjYW52YXMtcGFnZVwiKSxcIm92ZXJsYXlcIiE9PW4mJmwuY3NzKHtcIm1hcmdpbi1sZWZ0XCI6Yy5vdXRlcldpZHRoKCkqdX0pLndpZHRoKCksby5jc3MoXCJtYXJnaW4tdG9wXCIsYS55Ki0xKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5hZGRDbGFzcyhcImFtLW9mZmNhbnZhcy1iYXItYWN0aXZlXCIpLndpZHRoKCl9LDApLGkudHJpZ2dlcihcIm9wZW4ub2ZmY2FudmFzLmFtdWlcIiksdGhpcy5hY3RpdmU9MSxpLm9uKFwiY2xpY2sub2ZmY2FudmFzLmFtdWlcIixmdW5jdGlvbih0KXt2YXIgaT1zKHQudGFyZ2V0KTtpLmhhc0NsYXNzKFwiYW0tb2ZmY2FudmFzLWJhclwiKXx8aS5wYXJlbnRzKFwiLmFtLW9mZmNhbnZhcy1iYXJcIikuZmlyc3QoKS5sZW5ndGh8fCh0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUuY2xvc2UoKSl9KSxvLm9uKFwia2V5ZG93bi5vZmZjYW52YXMuYW11aVwiLGZ1bmN0aW9uKHQpezI3PT09dC5rZXlDb2RlJiZlLmNsb3NlKCl9KX19LGMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyLnJlbW92ZUNsYXNzKFwiYW0tb2ZmY2FudmFzLXBhZ2VcIikuY3NzKHt3aWR0aDpcIlwiLGhlaWdodDpcIlwiLFwibWFyZ2luLWxlZnRcIjpcIlwiLFwibWFyZ2luLXJpZ2h0XCI6XCJcIn0pLGwucmVtb3ZlQ2xhc3MoXCJhbS1hY3RpdmVcIiksYy5yZW1vdmVDbGFzcyhcImFtLW9mZmNhbnZhcy1iYXItYWN0aXZlXCIpLG4uY3NzKFwibWFyZ2luLXRvcFwiLFwiXCIpLHdpbmRvdy5zY3JvbGxUbyhhLngsYS55KSxsLnRyaWdnZXIoXCJjbG9zZWQub2ZmY2FudmFzLmFtdWlcIiksaS5hY3RpdmU9MH12YXIgaT10aGlzLG49cyhcImh0bWxcIikscj1zKFwiYm9keVwiKSxsPXRoaXMuJGVsZW1lbnQsYz1sLmZpbmQoXCIuYW0tb2ZmY2FudmFzLWJhclwiKS5maXJzdCgpO2wubGVuZ3RoJiZ0aGlzLmFjdGl2ZSYmbC5oYXNDbGFzcyhcImFtLWFjdGl2ZVwiKSYmKGwudHJpZ2dlcihcImNsb3NlLm9mZmNhbnZhcy5hbXVpXCIpLG8uc3VwcG9ydC50cmFuc2l0aW9uPyhzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcyhcImFtLW9mZmNhbnZhcy1iYXItYWN0aXZlXCIpfSwwKSxyLmNzcyhcIm1hcmdpbi1sZWZ0XCIsXCJcIikub25lKG8uc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxmdW5jdGlvbigpe2UoKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHRoaXMub3B0aW9ucy5kdXJhdGlvbikpOmUoKSxsLm9mZihcImNsaWNrLm9mZmNhbnZhcy5hbXVpXCIpLG4ub2ZmKFwiLm9mZmNhbnZhcy5hbXVpXCIpKX0sYy5wcm90b3R5cGUuYmluZEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIGwub24oXCJjbGljay5vZmZjYW52YXMuYW11aVwiLCdbZGF0YS1hbS1kaXNtaXNzPVwib2ZmY2FudmFzXCJdJyxmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5jbG9zZSgpfSksci5vbihcInJlc2l6ZS5vZmZjYW52YXMuYW11aSBvcmllbnRhdGlvbmNoYW5nZS5vZmZjYW52YXMuYW11aVwiLGZ1bmN0aW9uKCl7dC5hY3RpdmUmJnQuY2xvc2UoKX0pLHRoaXMuJGVsZW1lbnQuaGFtbWVyKCkub24oXCJzd2lwZWxlZnQgc3dpcGVsZWZ0XCIsZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuY2xvc2UoKX0pLHRoaXN9LHMuZm4ub2ZmQ2FudmFzPW4sbC5vbihcImNsaWNrLm9mZmNhbnZhcy5hbXVpXCIsXCJbZGF0YS1hbS1vZmZjYW52YXNdXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlPXModGhpcyksaT1vLnV0aWxzLnBhcnNlT3B0aW9ucyhlLmRhdGEoXCJhbU9mZmNhbnZhc1wiKSksYT1zKGkudGFyZ2V0fHx0aGlzLmhyZWYmJnRoaXMuaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLFwiXCIpKSxyPWEuZGF0YShcImFtdWkub2ZmY2FudmFzXCIpP1wib3BlblwiOmk7bi5jYWxsKGEscix0aGlzKX0pLHQuZXhwb3J0cz1vLm9mZmNhbnZhcz1jfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMiksbz1zLnV0aWxzLnJBRixhPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUsaSl7dGhpcy5lbD10KGUpLHRoaXMuem9vbUZhY3Rvcj0xLHRoaXMubGFzdFNjYWxlPTEsdGhpcy5vZmZzZXQ9e3g6MCx5OjB9LHRoaXMub3B0aW9ucz10LmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRzLGkpLHRoaXMuc2V0dXBNYXJrdXAoKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLnVwZGF0ZSgpLHRoaXMuZW5hYmxlKCl9LGk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtlfSxuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ+ZS0uMDEmJnQ8ZSsuMDF9O2UucHJvdG90eXBlPXtkZWZhdWx0czp7dGFwWm9vbUZhY3RvcjoyLHpvb21PdXRGYWN0b3I6MS4zLGFuaW1hdGlvbkR1cmF0aW9uOjMwMCxtYXhab29tOjQsbWluWm9vbTouNSxsb2NrRHJhZ0F4aXM6ITEsdXNlMmQ6ITAsem9vbVN0YXJ0RXZlbnROYW1lOlwicHpfem9vbXN0YXJ0XCIsem9vbUVuZEV2ZW50TmFtZTpcInB6X3pvb21lbmRcIixkcmFnU3RhcnRFdmVudE5hbWU6XCJwel9kcmFnc3RhcnRcIixkcmFnRW5kRXZlbnROYW1lOlwicHpfZHJhZ2VuZFwiLGRvdWJsZVRhcEV2ZW50TmFtZTpcInB6X2RvdWJsZXRhcFwifSxoYW5kbGVEcmFnU3RhcnQ6ZnVuY3Rpb24odCl7dGhpcy5lbC50cmlnZ2VyKHRoaXMub3B0aW9ucy5kcmFnU3RhcnRFdmVudE5hbWUpLHRoaXMuc3RvcEFuaW1hdGlvbigpLHRoaXMubGFzdERyYWdQb3NpdGlvbj0hMSx0aGlzLmhhc0ludGVyYWN0aW9uPSEwLHRoaXMuaGFuZGxlRHJhZyh0KX0saGFuZGxlRHJhZzpmdW5jdGlvbih0KXtpZih0aGlzLnpvb21GYWN0b3I+MSl7dmFyIGU9dGhpcy5nZXRUb3VjaGVzKHQpWzBdO3RoaXMuZHJhZyhlLHRoaXMubGFzdERyYWdQb3NpdGlvbiksdGhpcy5vZmZzZXQ9dGhpcy5zYW5pdGl6ZU9mZnNldCh0aGlzLm9mZnNldCksdGhpcy5sYXN0RHJhZ1Bvc2l0aW9uPWV9fSxoYW5kbGVEcmFnRW5kOmZ1bmN0aW9uKCl7dGhpcy5lbC50cmlnZ2VyKHRoaXMub3B0aW9ucy5kcmFnRW5kRXZlbnROYW1lKSx0aGlzLmVuZCgpfSxoYW5kbGVab29tU3RhcnQ6ZnVuY3Rpb24odCl7dGhpcy5lbC50cmlnZ2VyKHRoaXMub3B0aW9ucy56b29tU3RhcnRFdmVudE5hbWUpLHRoaXMuc3RvcEFuaW1hdGlvbigpLHRoaXMubGFzdFNjYWxlPTEsdGhpcy5udGhab29tPTAsdGhpcy5sYXN0Wm9vbUNlbnRlcj0hMSx0aGlzLmhhc0ludGVyYWN0aW9uPSEwfSxoYW5kbGVab29tOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5nZXRUb3VjaENlbnRlcih0aGlzLmdldFRvdWNoZXModCkpLG49ZS90aGlzLmxhc3RTY2FsZTt0aGlzLmxhc3RTY2FsZT1lLHRoaXMubnRoWm9vbSs9MSx0aGlzLm50aFpvb20+MyYmKHRoaXMuc2NhbGUobixpKSx0aGlzLmRyYWcoaSx0aGlzLmxhc3Rab29tQ2VudGVyKSksdGhpcy5sYXN0Wm9vbUNlbnRlcj1pfSxoYW5kbGVab29tRW5kOmZ1bmN0aW9uKCl7dGhpcy5lbC50cmlnZ2VyKHRoaXMub3B0aW9ucy56b29tRW5kRXZlbnROYW1lKSx0aGlzLmVuZCgpfSxoYW5kbGVEb3VibGVUYXA6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRUb3VjaGVzKHQpWzBdLGk9dGhpcy56b29tRmFjdG9yPjE/MTp0aGlzLm9wdGlvbnMudGFwWm9vbUZhY3RvcixuPXRoaXMuem9vbUZhY3RvcixzPWZ1bmN0aW9uKHQpe3RoaXMuc2NhbGVUbyhuK3QqKGktbiksZSl9LmJpbmQodGhpcyk7dGhpcy5oYXNJbnRlcmFjdGlvbnx8KG4+aSYmKGU9dGhpcy5nZXRDdXJyZW50Wm9vbUNlbnRlcigpKSx0aGlzLmFuaW1hdGUodGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uLHMsdGhpcy5zd2luZyksdGhpcy5lbC50cmlnZ2VyKHRoaXMub3B0aW9ucy5kb3VibGVUYXBFdmVudE5hbWUpKX0sc2FuaXRpemVPZmZzZXQ6ZnVuY3Rpb24odCl7dmFyIGU9KHRoaXMuem9vbUZhY3Rvci0xKSp0aGlzLmdldENvbnRhaW5lclgoKSxpPSh0aGlzLnpvb21GYWN0b3ItMSkqdGhpcy5nZXRDb250YWluZXJZKCksbj1NYXRoLm1heChlLDApLHM9TWF0aC5tYXgoaSwwKSxvPU1hdGgubWluKGUsMCksYT1NYXRoLm1pbihpLDApO3JldHVybnt4Ok1hdGgubWluKE1hdGgubWF4KHQueCxvKSxuKSx5Ok1hdGgubWluKE1hdGgubWF4KHQueSxhKSxzKX19LHNjYWxlVG86ZnVuY3Rpb24odCxlKXt0aGlzLnNjYWxlKHQvdGhpcy56b29tRmFjdG9yLGUpfSxzY2FsZTpmdW5jdGlvbih0LGUpe3Q9dGhpcy5zY2FsZVpvb21GYWN0b3IodCksdGhpcy5hZGRPZmZzZXQoe3g6KHQtMSkqKGUueCt0aGlzLm9mZnNldC54KSx5Oih0LTEpKihlLnkrdGhpcy5vZmZzZXQueSl9KX0sc2NhbGVab29tRmFjdG9yOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuem9vbUZhY3RvcjtyZXR1cm4gdGhpcy56b29tRmFjdG9yKj10LHRoaXMuem9vbUZhY3Rvcj1NYXRoLm1pbih0aGlzLm9wdGlvbnMubWF4Wm9vbSxNYXRoLm1heCh0aGlzLnpvb21GYWN0b3IsdGhpcy5vcHRpb25zLm1pblpvb20pKSx0aGlzLnpvb21GYWN0b3IvZX0sZHJhZzpmdW5jdGlvbih0LGUpe2UmJih0aGlzLm9wdGlvbnMubG9ja0RyYWdBeGlzP01hdGguYWJzKHQueC1lLngpPk1hdGguYWJzKHQueS1lLnkpP3RoaXMuYWRkT2Zmc2V0KHt4Oi0odC54LWUueCkseTowfSk6dGhpcy5hZGRPZmZzZXQoe3k6LSh0LnktZS55KSx4OjB9KTp0aGlzLmFkZE9mZnNldCh7eTotKHQueS1lLnkpLHg6LSh0LngtZS54KX0pKX0sZ2V0VG91Y2hDZW50ZXI6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0VmVjdG9yQXZnKHQpfSxnZXRWZWN0b3JBdmc6ZnVuY3Rpb24odCl7cmV0dXJue3g6dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQueH0pLnJlZHVjZShpKS90Lmxlbmd0aCx5OnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lnl9KS5yZWR1Y2UoaSkvdC5sZW5ndGh9fSxhZGRPZmZzZXQ6ZnVuY3Rpb24odCl7dGhpcy5vZmZzZXQ9e3g6dGhpcy5vZmZzZXQueCt0LngseTp0aGlzLm9mZnNldC55K3QueX19LHNhbml0aXplOmZ1bmN0aW9uKCl7dGhpcy56b29tRmFjdG9yPHRoaXMub3B0aW9ucy56b29tT3V0RmFjdG9yP3RoaXMuem9vbU91dEFuaW1hdGlvbigpOnRoaXMuaXNJbnNhbmVPZmZzZXQodGhpcy5vZmZzZXQpJiZ0aGlzLnNhbml0aXplT2Zmc2V0QW5pbWF0aW9uKCl9LGlzSW5zYW5lT2Zmc2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc2FuaXRpemVPZmZzZXQodCk7cmV0dXJuIGUueCE9PXQueHx8ZS55IT09dC55fSxzYW5pdGl6ZU9mZnNldEFuaW1hdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2FuaXRpemVPZmZzZXQodGhpcy5vZmZzZXQpLGU9e3g6dGhpcy5vZmZzZXQueCx5OnRoaXMub2Zmc2V0Lnl9LGk9ZnVuY3Rpb24oaSl7dGhpcy5vZmZzZXQueD1lLngraSoodC54LWUueCksdGhpcy5vZmZzZXQueT1lLnkraSoodC55LWUueSksdGhpcy51cGRhdGUoKX0uYmluZCh0aGlzKTt0aGlzLmFuaW1hdGUodGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uLGksdGhpcy5zd2luZyl9LHpvb21PdXRBbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnpvb21GYWN0b3IsZT0xLGk9dGhpcy5nZXRDdXJyZW50Wm9vbUNlbnRlcigpLG49ZnVuY3Rpb24obil7dGhpcy5zY2FsZVRvKHQrbiooZS10KSxpKX0uYmluZCh0aGlzKTt0aGlzLmFuaW1hdGUodGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uLG4sdGhpcy5zd2luZyl9LHVwZGF0ZUFzcGVjdFJhdGlvOmZ1bmN0aW9uKCl7dGhpcy5zZXRDb250YWluZXJZKHRoaXMuZ2V0Q29udGFpbmVyWCgpL3RoaXMuZ2V0QXNwZWN0UmF0aW8oKSl9LGdldEluaXRpYWxab29tRmFjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyWzBdLm9mZnNldFdpZHRoL3RoaXMuZWxbMF0ub2Zmc2V0V2lkdGh9LGdldEFzcGVjdFJhdGlvOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxbMF0ub2Zmc2V0V2lkdGgvdGhpcy5lbFswXS5vZmZzZXRIZWlnaHR9LGdldEN1cnJlbnRab29tQ2VudGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb250YWluZXJbMF0ub2Zmc2V0V2lkdGgqdGhpcy56b29tRmFjdG9yLGU9dGhpcy5vZmZzZXQueCxpPXQtZS10aGlzLmNvbnRhaW5lclswXS5vZmZzZXRXaWR0aCxuPWUvaSxzPW4qdGhpcy5jb250YWluZXJbMF0ub2Zmc2V0V2lkdGgvKG4rMSksbz10aGlzLmNvbnRhaW5lclswXS5vZmZzZXRIZWlnaHQqdGhpcy56b29tRmFjdG9yLGE9dGhpcy5vZmZzZXQueSxyPW8tYS10aGlzLmNvbnRhaW5lclswXS5vZmZzZXRIZWlnaHQsbD1hL3IsYz1sKnRoaXMuY29udGFpbmVyWzBdLm9mZnNldEhlaWdodC8obCsxKTtyZXR1cm4gMD09PWkmJihzPXRoaXMuY29udGFpbmVyWzBdLm9mZnNldFdpZHRoKSwwPT09ciYmKGM9dGhpcy5jb250YWluZXJbMF0ub2Zmc2V0SGVpZ2h0KSx7eDpzLHk6Y319LGNhbkRyYWc6ZnVuY3Rpb24oKXtyZXR1cm4hbih0aGlzLnpvb21GYWN0b3IsMSl9LGdldFRvdWNoZXM6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250YWluZXIub2Zmc2V0KCk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQudG91Y2hlcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybnt4OnQucGFnZVgtZS5sZWZ0LHk6dC5wYWdlWS1lLnRvcH19KX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsaSxuKXt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxhPWZ1bmN0aW9uKCl7aWYodGhpcy5pbkFuaW1hdGlvbil7dmFyIHI9KG5ldyBEYXRlKS5nZXRUaW1lKCktcyxsPXIvdDtyPj10PyhlKDEpLG4mJm4oKSx0aGlzLnVwZGF0ZSgpLHRoaXMuc3RvcEFuaW1hdGlvbigpLHRoaXMudXBkYXRlKCkpOihpJiYobD1pKGwpKSxlKGwpLHRoaXMudXBkYXRlKCksbyhhKSl9fS5iaW5kKHRoaXMpO3RoaXMuaW5BbmltYXRpb249ITAsbyhhKX0sc3RvcEFuaW1hdGlvbjpmdW5jdGlvbigpe3RoaXMuaW5BbmltYXRpb249ITF9LHN3aW5nOmZ1bmN0aW9uKHQpe3JldHVybi1NYXRoLmNvcyh0Kk1hdGguUEkpLzIrLjV9LGdldENvbnRhaW5lclg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJbMF0ub2Zmc2V0V2lkdGh9LGdldENvbnRhaW5lclk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250YWluZXJbMF0ub2Zmc2V0SGVpZ2h0fSxzZXRDb250YWluZXJZOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbnRhaW5lci5oZWlnaHQodCl9LHNldHVwTWFya3VwOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXI9dCgnPGRpdiBjbGFzcz1cInBpbmNoLXpvb20tY29udGFpbmVyXCI+PC9kaXY+JyksdGhpcy5lbC5iZWZvcmUodGhpcy5jb250YWluZXIpLHRoaXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsKSx0aGlzLmNvbnRhaW5lci5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIscG9zaXRpb246XCJyZWxhdGl2ZVwifSksdGhpcy5lbC5jc3Moe1wiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luXCI6XCIwJSAwJVwiLFwiLW1vei10cmFuc2Zvcm0tb3JpZ2luXCI6XCIwJSAwJVwiLFwiLW1zLXRyYW5zZm9ybS1vcmlnaW5cIjpcIjAlIDAlXCIsXCItby10cmFuc2Zvcm0tb3JpZ2luXCI6XCIwJSAwJVwiLFwidHJhbnNmb3JtLW9yaWdpblwiOlwiMCUgMCVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KX0sZW5kOmZ1bmN0aW9uKCl7dGhpcy5oYXNJbnRlcmFjdGlvbj0hMSx0aGlzLnNhbml0aXplKCksdGhpcy51cGRhdGUoKX0sYmluZEV2ZW50czpmdW5jdGlvbigpe3ModGhpcy5jb250YWluZXIuZ2V0KDApLHRoaXMpLHQod2luZG93KS5vbihcInJlc2l6ZVwiLHRoaXMudXBkYXRlLmJpbmQodGhpcykpLHQodGhpcy5lbCkuZmluZChcImltZ1wiKS5vbihcImxvYWRcIix0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKX0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQbGFuZWR8fCh0aGlzLnVwZGF0ZVBsYW5lZD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy51cGRhdGVQbGFuZWQ9ITEsdGhpcy51cGRhdGVBc3BlY3RSYXRpbygpO3ZhciB0PXRoaXMuZ2V0SW5pdGlhbFpvb21GYWN0b3IoKSp0aGlzLnpvb21GYWN0b3IsZT0tdGhpcy5vZmZzZXQueC90LGk9LXRoaXMub2Zmc2V0LnkvdCxuPVwic2NhbGUzZChcIit0K1wiLCBcIit0K1wiLDEpIHRyYW5zbGF0ZTNkKFwiK2UrXCJweCxcIitpK1wicHgsMHB4KVwiLHM9XCJzY2FsZShcIit0K1wiLCBcIit0K1wiKSB0cmFuc2xhdGUoXCIrZStcInB4LFwiK2krXCJweClcIixvPWZ1bmN0aW9uKCl7dGhpcy5jbG9uZSYmKHRoaXMuY2xvbmUucmVtb3ZlKCksZGVsZXRlIHRoaXMuY2xvbmUpfS5iaW5kKHRoaXMpOyF0aGlzLm9wdGlvbnMudXNlMmR8fHRoaXMuaGFzSW50ZXJhY3Rpb258fHRoaXMuaW5BbmltYXRpb24/KHRoaXMuaXMzZD0hMCxvKCksdGhpcy5lbC5jc3Moe1wiLXdlYmtpdC10cmFuc2Zvcm1cIjpuLFwiLW8tdHJhbnNmb3JtXCI6cyxcIi1tcy10cmFuc2Zvcm1cIjpzLFwiLW1vei10cmFuc2Zvcm1cIjpzLHRyYW5zZm9ybTpufSkpOih0aGlzLmlzM2QmJih0aGlzLmNsb25lPXRoaXMuZWwuY2xvbmUoKSx0aGlzLmNsb25lLmNzcyhcInBvaW50ZXItZXZlbnRzXCIsXCJub25lXCIpLHRoaXMuY2xvbmUuYXBwZW5kVG8odGhpcy5jb250YWluZXIpLHNldFRpbWVvdXQobywyMDApKSx0aGlzLmVsLmNzcyh7XCItd2Via2l0LXRyYW5zZm9ybVwiOnMsXCItby10cmFuc2Zvcm1cIjpzLFwiLW1zLXRyYW5zZm9ybVwiOnMsXCItbW96LXRyYW5zZm9ybVwiOnMsdHJhbnNmb3JtOnN9KSx0aGlzLmlzM2Q9ITEpfS5iaW5kKHRoaXMpLDApKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfX07dmFyIHM9ZnVuY3Rpb24odCxlKXt2YXIgaT1udWxsLG49MCxzPW51bGwsbz1udWxsLGE9ZnVuY3Rpb24odCxuKXtpZihpIT09dCl7aWYoaSYmIXQpc3dpdGNoKGkpe2Nhc2VcInpvb21cIjplLmhhbmRsZVpvb21FbmQobik7YnJlYWs7Y2FzZVwiZHJhZ1wiOmUuaGFuZGxlRHJhZ0VuZChuKX1zd2l0Y2godCl7Y2FzZVwiem9vbVwiOmUuaGFuZGxlWm9vbVN0YXJ0KG4pO2JyZWFrO2Nhc2VcImRyYWdcIjplLmhhbmRsZURyYWdTdGFydChuKX19aT10fSxyPWZ1bmN0aW9uKHQpezI9PT1uP2EoXCJ6b29tXCIpOjE9PT1uJiZlLmNhbkRyYWcoKT9hKFwiZHJhZ1wiLHQpOmEobnVsbCx0KX0sbD1mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybnt4OnQucGFnZVgseTp0LnBhZ2VZfX0pfSxjPWZ1bmN0aW9uKHQsZSl7dmFyIGksbjtyZXR1cm4gaT10LngtZS54LG49dC55LWUueSxNYXRoLnNxcnQoaSppK24qbil9LHU9ZnVuY3Rpb24odCxlKXt2YXIgaT1jKHRbMF0sdFsxXSksbj1jKGVbMF0sZVsxXSk7cmV0dXJuIG4vaX0saD1mdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKX0sZD1mdW5jdGlvbih0KXt2YXIgbz0obmV3IERhdGUpLmdldFRpbWUoKTtpZihuPjEmJihzPW51bGwpLG8tczwzMDApc3dpdGNoKGgodCksZS5oYW5kbGVEb3VibGVUYXAodCksaSl7Y2FzZVwiem9vbVwiOmUuaGFuZGxlWm9vbUVuZCh0KTticmVhaztjYXNlXCJkcmFnXCI6ZS5oYW5kbGVEcmFnRW5kKHQpfTE9PT1uJiYocz1vKX0scD0hMDt0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZnVuY3Rpb24odCl7ZS5lbmFibGVkJiYocD0hMCxuPXQudG91Y2hlcy5sZW5ndGgsZCh0KSl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIixmdW5jdGlvbih0KXtpZihlLmVuYWJsZWQpe2lmKHApcih0KSxpJiZoKHQpLG89bCh0LnRvdWNoZXMpO2Vsc2V7c3dpdGNoKGkpe2Nhc2VcInpvb21cIjplLmhhbmRsZVpvb20odCx1KG8sbCh0LnRvdWNoZXMpKSk7YnJlYWs7Y2FzZVwiZHJhZ1wiOmUuaGFuZGxlRHJhZyh0KX1pJiYoaCh0KSxlLnVwZGF0ZSgpKX1wPSExfX0pLHQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsZnVuY3Rpb24odCl7ZS5lbmFibGVkJiYobj10LnRvdWNoZXMubGVuZ3RoLHIodCkpfSl9O3JldHVybiBlfTt0LmV4cG9ydHM9cy5waWNoem9vbT1hKG4pfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMiksbz1uKHdpbmRvdyksYT1mdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSxhLkRFRkFVTFRTLGUpLHRoaXMuJGVsZW1lbnQ9bih0KSx0aGlzLmFjdGl2ZT1udWxsLHRoaXMuJHBvcG92ZXI9dGhpcy5vcHRpb25zLnRhcmdldCYmbih0aGlzLm9wdGlvbnMudGFyZ2V0KXx8bnVsbCx0aGlzLmluaXQoKSx0aGlzLl9iaW5kRXZlbnRzKCl9O2EuREVGQVVMVFM9e3RoZW1lOm51bGwsdHJpZ2dlcjpcImNsaWNrXCIsY29udGVudDpcIlwiLG9wZW46ITEsdGFyZ2V0Om51bGwsdHBsOic8ZGl2IGNsYXNzPVwiYW0tcG9wb3ZlclwiPjxkaXYgY2xhc3M9XCJhbS1wb3BvdmVyLWlubmVyXCI+PC9kaXY+PGRpdiBjbGFzcz1cImFtLXBvcG92ZXItY2FyZXRcIj48L2Rpdj48L2Rpdj4nfSxhLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2kuc2l6ZVBvcG92ZXIoKX12YXIgZSxpPXRoaXMsbz10aGlzLiRlbGVtZW50O3RoaXMub3B0aW9ucy50YXJnZXR8fCh0aGlzLiRwb3BvdmVyPXRoaXMuZ2V0UG9wb3ZlcigpLHRoaXMuc2V0Q29udGVudCgpKSxlPXRoaXMuJHBvcG92ZXIsZS5hcHBlbmRUbyhuKFwiYm9keVwiKSksdGhpcy5zaXplUG9wb3ZlcigpLG8ub24oXCJvcGVuLnBvcG92ZXIuYW11aVwiLGZ1bmN0aW9uKCl7bih3aW5kb3cpLm9uKFwicmVzaXplLnBvcG92ZXIuYW11aVwiLHMudXRpbHMuZGVib3VuY2UodCw1MCkpfSksby5vbihcImNsb3NlLnBvcG92ZXIuYW11aVwiLGZ1bmN0aW9uKCl7bih3aW5kb3cpLm9mZihcInJlc2l6ZS5wb3BvdmVyLmFtdWlcIix0KX0pLHRoaXMub3B0aW9ucy5vcGVuJiZ0aGlzLm9wZW4oKX0sYS5wcm90b3R5cGUuc2l6ZVBvcG92ZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRlbGVtZW50LGU9dGhpcy4kcG9wb3ZlcjtpZihlJiZlLmxlbmd0aCl7dmFyIGk9ZS5vdXRlcldpZHRoKCksbj1lLm91dGVySGVpZ2h0KCkscz1lLmZpbmQoXCIuYW0tcG9wb3Zlci1jYXJldFwiKSxhPXMub3V0ZXJXaWR0aCgpLzJ8fDgscj1uKzgsbD10Lm91dGVyV2lkdGgoKSxjPXQub3V0ZXJIZWlnaHQoKSx1PXQub2Zmc2V0KCksaD10WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9by5oZWlnaHQoKSxwPW8ud2lkdGgoKSxtPTAsZj0wLHY9MCxnPTIseT1cInRvcFwiO2UuY3NzKHtsZWZ0OlwiXCIsdG9wOlwiXCJ9KS5yZW1vdmVDbGFzcyhcImFtLXBvcG92ZXItbGVmdCBhbS1wb3BvdmVyLXJpZ2h0IGFtLXBvcG92ZXItdG9wIGFtLXBvcG92ZXItYm90dG9tXCIpLHItZzxoLnRvcCtnP209dS50b3Atci1nOnI8ZC1oLnRvcC1oLmhlaWdodD8oeT1cImJvdHRvbVwiLG09dS50b3ArYythK2cpOih5PVwibWlkZGxlXCIsbT1jLzIrdS50b3Atbi8yKSxcInRvcFwiPT09eXx8XCJib3R0b21cIj09PXk/KGY9bC8yK3UubGVmdC1pLzIsdj1mLGY8NSYmKGY9NSksZitpPnAmJihmPXAtaS0yMCksXCJ0b3BcIj09PXkmJmUuYWRkQ2xhc3MoXCJhbS1wb3BvdmVyLXRvcFwiKSxcImJvdHRvbVwiPT09eSYmZS5hZGRDbGFzcyhcImFtLXBvcG92ZXItYm90dG9tXCIpLHYtPWYpOlwibWlkZGxlXCI9PT15JiYoZj11LmxlZnQtaS1hLGUuYWRkQ2xhc3MoXCJhbS1wb3BvdmVyLWxlZnRcIiksZjw1JiYoZj11LmxlZnQrbCthLGUucmVtb3ZlQ2xhc3MoXCJhbS1wb3BvdmVyLWxlZnRcIikuYWRkQ2xhc3MoXCJhbS1wb3BvdmVyLXJpZ2h0XCIpKSxmK2k+cCYmKGY9cC1pLTUsZS5yZW1vdmVDbGFzcyhcImFtLXBvcG92ZXItbGVmdFwiKS5hZGRDbGFzcyhcImFtLXBvcG92ZXItcmlnaHRcIikpKSxlLmNzcyh7dG9wOm0rXCJweFwiLGxlZnQ6ZitcInB4XCJ9KX19LGEucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzW3RoaXMuYWN0aXZlP1wiY2xvc2VcIjpcIm9wZW5cIl0oKX0sYS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJHBvcG92ZXI7dGhpcy4kZWxlbWVudC50cmlnZ2VyKFwib3Blbi5wb3BvdmVyLmFtdWlcIiksdGhpcy5zaXplUG9wb3ZlcigpLHQuc2hvdygpLmFkZENsYXNzKFwiYW0tYWN0aXZlXCIpLHRoaXMuYWN0aXZlPSEwfSxhLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJHBvcG92ZXI7dGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiY2xvc2UucG9wb3Zlci5hbXVpXCIpLHQucmVtb3ZlQ2xhc3MoXCJhbS1hY3RpdmVcIikudHJpZ2dlcihcImNsb3NlZC5wb3BvdmVyLmFtdWlcIikuaGlkZSgpLHRoaXMuYWN0aXZlPSExfSxhLnByb3RvdHlwZS5nZXRQb3BvdmVyPWZ1bmN0aW9uKCl7dmFyIHQ9cy51dGlscy5nZW5lcmF0ZUdVSUQoXCJhbS1wb3BvdmVyXCIpLGU9W107cmV0dXJuIHRoaXMub3B0aW9ucy50aGVtZSYmbi5lYWNoKHRoaXMub3B0aW9ucy50aGVtZS5zcGxpdChcIiBcIiksZnVuY3Rpb24odCxpKXtlLnB1c2goXCJhbS1wb3BvdmVyLVwiK24udHJpbShpKSl9KSxuKHRoaXMub3B0aW9ucy50cGwpLmF0dHIoXCJpZFwiLHQpLmFkZENsYXNzKGUuam9pbihcIiBcIikpfSxhLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKHQpe3Q9dHx8dGhpcy5vcHRpb25zLmNvbnRlbnQsdGhpcy4kcG9wb3ZlciYmdGhpcy4kcG9wb3Zlci5maW5kKFwiLmFtLXBvcG92ZXItaW5uZXJcIikuZW1wdHkoKS5odG1sKHQpfSxhLnByb3RvdHlwZS5fYmluZEV2ZW50cz1mdW5jdGlvbigpe2Zvcih2YXIgdD1cInBvcG92ZXIuYW11aVwiLGU9dGhpcy5vcHRpb25zLnRyaWdnZXIuc3BsaXQoXCIgXCIpLGk9ZS5sZW5ndGg7aS0tOyl7dmFyIHM9ZVtpXTtpZihcImNsaWNrXCI9PT1zKXRoaXMuJGVsZW1lbnQub24oXCJjbGljay5cIit0LG4ucHJveHkodGhpcy50b2dnbGUsdGhpcykpO2Vsc2V7dmFyIG89XCJob3ZlclwiPT1zP1wibW91c2VlbnRlclwiOlwiZm9jdXNpblwiLGE9XCJob3ZlclwiPT1zP1wibW91c2VsZWF2ZVwiOlwiZm9jdXNvdXRcIjt0aGlzLiRlbGVtZW50Lm9uKG8rXCIuXCIrdCxuLnByb3h5KHRoaXMub3Blbix0aGlzKSksdGhpcy4kZWxlbWVudC5vbihhK1wiLlwiK3Qsbi5wcm94eSh0aGlzLmNsb3NlLHRoaXMpKX19fSxhLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5vZmYoXCIucG9wb3Zlci5hbXVpXCIpLnJlbW92ZURhdGEoXCJhbXVpLnBvcG92ZXJcIiksdGhpcy4kcG9wb3Zlci5yZW1vdmUoKX0scy5wbHVnaW4oXCJwb3BvdmVyXCIsYSkscy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tcG9wb3Zlcl1cIix0KS5wb3BvdmVyKCl9KSx0LmV4cG9ydHM9YX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMikscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLGkpe3JldHVybiB0PGU/ZTp0Pmk/aTp0fWZ1bmN0aW9uIGUodCl7cmV0dXJuIDEwMCooLTErdCl9ZnVuY3Rpb24gaSh0LGksbil7dmFyIHM7cmV0dXJuIHM9XCJ0cmFuc2xhdGUzZFwiPT09Yy5wb3NpdGlvblVzaW5nP3t0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIitlKHQpK1wiJSwwLDApXCJ9OlwidHJhbnNsYXRlXCI9PT1jLnBvc2l0aW9uVXNpbmc/e3RyYW5zZm9ybTpcInRyYW5zbGF0ZShcIitlKHQpK1wiJSwwKVwifTp7XCJtYXJnaW4tbGVmdFwiOmUodCkrXCIlXCJ9LHMudHJhbnNpdGlvbj1cImFsbCBcIitpK1wibXMgXCIrbixzfWZ1bmN0aW9uIG4odCxlKXt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgdD90OmEodCk7cmV0dXJuIGkuaW5kZXhPZihcIiBcIitlK1wiIFwiKT49MH1mdW5jdGlvbiBzKHQsZSl7dmFyIGk9YSh0KSxzPWkrZTtuKGksZSl8fCh0LmNsYXNzTmFtZT1zLnN1YnN0cmluZygxKSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBpLHM9YSh0KTtuKHQsZSkmJihpPXMucmVwbGFjZShcIiBcIitlK1wiIFwiLFwiIFwiKSx0LmNsYXNzTmFtZT1pLnN1YnN0cmluZygxLGkubGVuZ3RoLTEpKX1mdW5jdGlvbiBhKHQpe3JldHVybihcIiBcIisodC5jbGFzc05hbWV8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9cXHMrL2dpLFwiIFwiKX1mdW5jdGlvbiByKHQpe3QmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfXZhciBsPXt9O2wudmVyc2lvbj1cIjAuMi4wXCI7dmFyIGM9bC5zZXR0aW5ncz17bWluaW11bTouMDgsZWFzaW5nOlwiZWFzZVwiLHBvc2l0aW9uVXNpbmc6XCJcIixzcGVlZDoyMDAsdHJpY2tsZTohMCx0cmlja2xlUmF0ZTouMDIsdHJpY2tsZVNwZWVkOjgwMCxzaG93U3Bpbm5lcjohMCxwYXJlbnQ6XCJib2R5XCIsYmFyU2VsZWN0b3I6J1tyb2xlPVwibnByb2dyZXNzLWJhclwiXScsc3Bpbm5lclNlbGVjdG9yOidbcm9sZT1cIm5wcm9ncmVzcy1zcGlubmVyXCJdJyx0ZW1wbGF0ZTonPGRpdiBjbGFzcz1cIm5wcm9ncmVzcy1iYXJcIiByb2xlPVwibnByb2dyZXNzLWJhclwiPjxkaXYgY2xhc3M9XCJucHJvZ3Jlc3MtcGVnXCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cIm5wcm9ncmVzcy1zcGlubmVyXCIgcm9sZT1cIm5wcm9ncmVzcy1zcGlubmVyXCI+PGRpdiBjbGFzcz1cIm5wcm9ncmVzcy1zcGlubmVyLWljb25cIj48L2Rpdj48L2Rpdj4nfTtsLmNvbmZpZ3VyZT1mdW5jdGlvbih0KXt2YXIgZSxpO2ZvcihlIGluIHQpaT10W2VdLHZvaWQgMCE9PWkmJnQuaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPWkpO3JldHVybiB0aGlzfSxsLnN0YXR1cz1udWxsLGwuc2V0PWZ1bmN0aW9uKGUpe3ZhciBuPWwuaXNTdGFydGVkKCk7ZT10KGUsYy5taW5pbXVtLDEpLGwuc3RhdHVzPTE9PT1lP251bGw6ZTt2YXIgcz1sLnJlbmRlcighbiksbz1zLnF1ZXJ5U2VsZWN0b3IoYy5iYXJTZWxlY3RvciksYT1jLnNwZWVkLHI9Yy5lYXNpbmc7cmV0dXJuIHMub2Zmc2V0V2lkdGgsdShmdW5jdGlvbih0KXtcIlwiPT09Yy5wb3NpdGlvblVzaW5nJiYoYy5wb3NpdGlvblVzaW5nPWwuZ2V0UG9zaXRpb25pbmdDU1MoKSksaChvLGkoZSxhLHIpKSwxPT09ZT8oaChzLHt0cmFuc2l0aW9uOlwibm9uZVwiLG9wYWNpdHk6MX0pLHMub2Zmc2V0V2lkdGgsc2V0VGltZW91dChmdW5jdGlvbigpe2gocyx7dHJhbnNpdGlvbjpcImFsbCBcIithK1wibXMgbGluZWFyXCIsb3BhY2l0eTowfSksc2V0VGltZW91dChmdW5jdGlvbigpe2wucmVtb3ZlKCksdCgpfSxhKX0sYSkpOnNldFRpbWVvdXQodCxhKX0pLHRoaXN9LGwuaXNTdGFydGVkPWZ1bmN0aW9uKCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGwuc3RhdHVzfSxsLnN0YXJ0PWZ1bmN0aW9uKCl7bC5zdGF0dXN8fGwuc2V0KDApO3ZhciB0PWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2wuc3RhdHVzJiYobC50cmlja2xlKCksdCgpKX0sYy50cmlja2xlU3BlZWQpfTtyZXR1cm4gYy50cmlja2xlJiZ0KCksdGhpc30sbC5kb25lPWZ1bmN0aW9uKHQpe3JldHVybiB0fHxsLnN0YXR1cz9sLmluYyguMysuNSpNYXRoLnJhbmRvbSgpKS5zZXQoMSk6dGhpc30sbC5pbmM9ZnVuY3Rpb24oZSl7dmFyIGk9bC5zdGF0dXM7cmV0dXJuIGk/KFwibnVtYmVyXCIhPXR5cGVvZiBlJiYoZT0oMS1pKSp0KE1hdGgucmFuZG9tKCkqaSwuMSwuOTUpKSxpPXQoaStlLDAsLjk5NCksbC5zZXQoaSkpOmwuc3RhcnQoKX0sbC50cmlja2xlPWZ1bmN0aW9uKCl7cmV0dXJuIGwuaW5jKE1hdGgucmFuZG9tKCkqYy50cmlja2xlUmF0ZSl9LGZ1bmN0aW9uKCl7dmFyIHQ9MCxlPTA7bC5wcm9taXNlPWZ1bmN0aW9uKGkpe3JldHVybiBpJiZcInJlc29sdmVkXCIhPT1pLnN0YXRlKCk/KDA9PT1lJiZsLnN0YXJ0KCksdCsrLGUrKyxpLmFsd2F5cyhmdW5jdGlvbigpe2UtLSwwPT09ZT8odD0wLGwuZG9uZSgpKTpsLnNldCgodC1lKS90KX0pLHRoaXMpOnRoaXN9fSgpLGwucmVuZGVyPWZ1bmN0aW9uKHQpe2lmKGwuaXNSZW5kZXJlZCgpKXJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5wcm9ncmVzc1wiKTtzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIm5wcm9ncmVzcy1idXN5XCIpO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5pZD1cIm5wcm9ncmVzc1wiLGkuaW5uZXJIVE1MPWMudGVtcGxhdGU7dmFyIG4sbz1pLnF1ZXJ5U2VsZWN0b3IoYy5iYXJTZWxlY3RvciksYT10P1wiLTEwMFwiOmUobC5zdGF0dXN8fDApLHU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnBhcmVudCk7cmV0dXJuIGgobyx7dHJhbnNpdGlvbjpcImFsbCAwIGxpbmVhclwiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZTNkKFwiK2ErXCIlLDAsMClcIn0pLGMuc2hvd1NwaW5uZXJ8fChuPWkucXVlcnlTZWxlY3RvcihjLnNwaW5uZXJTZWxlY3RvciksbiYmcihuKSksdSE9ZG9jdW1lbnQuYm9keSYmcyh1LFwibnByb2dyZXNzLWN1c3RvbS1wYXJlbnRcIiksdS5hcHBlbmRDaGlsZChpKSxpfSxsLnJlbW92ZT1mdW5jdGlvbigpe28oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFwibnByb2dyZXNzLWJ1c3lcIiksbyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGMucGFyZW50KSxcIm5wcm9ncmVzcy1jdXN0b20tcGFyZW50XCIpO3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibnByb2dyZXNzXCIpO3QmJnIodCl9LGwuaXNSZW5kZXJlZD1mdW5jdGlvbigpe3JldHVybiEhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJucHJvZ3Jlc3NcIil9LGwuZ2V0UG9zaXRpb25pbmdDU1M9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5ib2R5LnN0eWxlLGU9XCJXZWJraXRUcmFuc2Zvcm1cImluIHQ/XCJXZWJraXRcIjpcIk1velRyYW5zZm9ybVwiaW4gdD9cIk1velwiOlwibXNUcmFuc2Zvcm1cImluIHQ/XCJtc1wiOlwiT1RyYW5zZm9ybVwiaW4gdD9cIk9cIjpcIlwiO3JldHVybiBlK1wiUGVyc3BlY3RpdmVcImluIHQ/XCJ0cmFuc2xhdGUzZFwiOmUrXCJUcmFuc2Zvcm1cImluIHQ/XCJ0cmFuc2xhdGVcIjpcIm1hcmdpblwifTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgaT1lLnNoaWZ0KCk7aSYmaSh0KX12YXIgZT1bXTtyZXR1cm4gZnVuY3Rpb24oaSl7ZS5wdXNoKGkpLDE9PWUubGVuZ3RoJiZ0KCl9fSgpLGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0LnJlcGxhY2UoL14tbXMtLyxcIm1zLVwiKS5yZXBsYWNlKC8tKFtcXGRhLXpdKS9naSxmdW5jdGlvbih0LGUpe3JldHVybiBlLnRvVXBwZXJDYXNlKCl9KX1mdW5jdGlvbiBlKHQpe3ZhciBlPWRvY3VtZW50LmJvZHkuc3R5bGU7aWYodCBpbiBlKXJldHVybiB0O2Zvcih2YXIgaSxuPXMubGVuZ3RoLG89dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpO24tLTspaWYoaT1zW25dK28saSBpbiBlKXJldHVybiBpO3JldHVybiB0fWZ1bmN0aW9uIGkoaSl7cmV0dXJuIGk9dChpKSxvW2ldfHwob1tpXT1lKGkpKX1mdW5jdGlvbiBuKHQsZSxuKXtlPWkoZSksdC5zdHlsZVtlXT1ufXZhciBzPVtcIldlYmtpdFwiLFwiT1wiLFwiTW96XCIsXCJtc1wiXSxvPXt9O3JldHVybiBmdW5jdGlvbih0LGUpe3ZhciBpLHMsbz1hcmd1bWVudHM7aWYoMj09by5sZW5ndGgpZm9yKGkgaW4gZSlzPWVbaV0sdm9pZCAwIT09cyYmZS5oYXNPd25Qcm9wZXJ0eShpKSYmbih0LGkscyk7ZWxzZSBuKHQsb1sxXSxvWzJdKX19KCk7cmV0dXJuIGx9KCk7dC5leHBvcnRzPW4ucHJvZ3Jlc3M9c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpLG89aSgxNyksYT1pKDMpLHI9cy5zdXBwb3J0LmFuaW1hdGlvbixsPXMuc3VwcG9ydC50cmFuc2l0aW9uLGM9ZnVuY3Rpb24odCxlKXt0aGlzLiRlbGVtZW50PW4odCksdGhpcy4kYm9keT1uKGRvY3VtZW50LmJvZHkpLHRoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSxjLkRFRkFVTFRTLGUpLHRoaXMuJHB1cmV2aWV3PW4odGhpcy5vcHRpb25zLnRwbCkuYXR0cihcImlkXCIscy51dGlscy5nZW5lcmF0ZUdVSUQoXCJhbS1wdXJldmlld1wiKSksdGhpcy4kc2xpZGVzPW51bGwsdGhpcy50cmFuc2l0aW9uaW5nPW51bGwsdGhpcy5zY3JvbGxiYXJXaWR0aD0wLHRoaXMuaW5pdCgpfTtjLkRFRkFVTFRTPXt0cGw6JzxkaXYgY2xhc3M9XCJhbS1wdXJldmlldyBhbS1wdXJldmlldy1iYXItYWN0aXZlXCI+PHVsIGNsYXNzPVwiYW0tcHVyZXZpZXctc2xpZGVyXCI+PC91bD48dWwgY2xhc3M9XCJhbS1wdXJldmlldy1kaXJlY3Rpb25cIj48bGkgY2xhc3M9XCJhbS1wdXJldmlldy1wcmV2XCI+PGEgaHJlZj1cIlwiPjwvYT48L2xpPjxsaSBjbGFzcz1cImFtLXB1cmV2aWV3LW5leHRcIj48YSBocmVmPVwiXCI+PC9hPjwvbGk+PC91bD48b2wgY2xhc3M9XCJhbS1wdXJldmlldy1uYXZcIj48L29sPjxkaXYgY2xhc3M9XCJhbS1wdXJldmlldy1iYXIgYW0tYWN0aXZlXCI+PHNwYW4gY2xhc3M9XCJhbS1wdXJldmlldy10aXRsZVwiPjwvc3Bhbj48ZGl2IGNsYXNzPVwiYW0tcHVyZXZpZXctY291bnRlclwiPjxzcGFuIGNsYXNzPVwiYW0tcHVyZXZpZXctY3VycmVudFwiPjwvc3Bhbj4gLyA8c3BhbiBjbGFzcz1cImFtLXB1cmV2aWV3LXRvdGFsXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJhbS1wdXJldmlldy1hY3Rpb25zIGFtLWFjdGl2ZVwiPjxhIGhyZWY9XCJqYXZhc2NyaXB0OiB2b2lkKDApXCIgY2xhc3M9XCJhbS1pY29uLWNoZXZyb24tbGVmdFwiIGRhdGEtYW0tY2xvc2U9XCJwdXJldmlld1wiPjwvYT48L2Rpdj48L2Rpdj4nLGNsYXNzTmFtZTp7cHJldlNsaWRlOlwiYW0tcHVyZXZpZXctc2xpZGUtcHJldlwiLG5leHRTbGlkZTpcImFtLXB1cmV2aWV3LXNsaWRlLW5leHRcIixvbmx5T25lOlwiYW0tcHVyZXZpZXctb25seVwiLGFjdGl2ZTpcImFtLWFjdGl2ZVwiLGJhckFjdGl2ZTpcImFtLXB1cmV2aWV3LWJhci1hY3RpdmVcIixhY3RpdmVCb2R5OlwiYW0tcHVyZXZpZXctYWN0aXZlXCJ9LHNlbGVjdG9yOntzbGlkZXI6XCIuYW0tcHVyZXZpZXctc2xpZGVyXCIsY2xvc2U6J1tkYXRhLWFtLWNsb3NlPVwicHVyZXZpZXdcIl0nLHRvdGFsOlwiLmFtLXB1cmV2aWV3LXRvdGFsXCIsY3VycmVudDpcIi5hbS1wdXJldmlldy1jdXJyZW50XCIsdGl0bGU6XCIuYW0tcHVyZXZpZXctdGl0bGVcIixhY3Rpb25zOlwiLmFtLXB1cmV2aWV3LWFjdGlvbnNcIixcclxuYmFyOlwiLmFtLXB1cmV2aWV3LWJhclwiLHBpbmNoWm9vbTpcIi5hbS1waW5jaC16b29tXCIsbmF2OlwiLmFtLXB1cmV2aWV3LW5hdlwifSxzaGFyZUJ0bjohMSx0b2dnbGVUb29sYmFyOiEwLHRhcmdldDpcImltZ1wiLHdlQ2hhdEltYWdlUHJldmlldzohMH0sYy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLm9wdGlvbnMsaT10aGlzLiRlbGVtZW50LHM9dGhpcy4kcHVyZXZpZXc7dGhpcy5yZWZyZXNoU2xpZGVzKCksbihcImJvZHlcIikuYXBwZW5kKHMpLHRoaXMuJHRpdGxlPXMuZmluZChlLnNlbGVjdG9yLnRpdGxlKSx0aGlzLiRjdXJyZW50PXMuZmluZChlLnNlbGVjdG9yLmN1cnJlbnQpLHRoaXMuJGJhcj1zLmZpbmQoZS5zZWxlY3Rvci5iYXIpLHRoaXMuJGFjdGlvbnM9cy5maW5kKGUuc2VsZWN0b3IuYWN0aW9ucyksZS5zaGFyZUJ0biYmdGhpcy4kYWN0aW9ucy5hcHBlbmQoJzxhIGhyZWY9XCJqYXZhc2NyaXB0OiB2b2lkKDApXCIgY2xhc3M9XCJhbS1pY29uLXNoYXJlLXNxdWFyZS1vXCIgZGF0YS1hbS10b2dnbGU9XCJzaGFyZVwiPjwvYT4nKSx0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2sucHVyZXZpZXcuYW11aVwiLGUudGFyZ2V0LGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTt2YXIgbj10LiRpbWFnZXMuaW5kZXgodGhpcyk7ZS53ZUNoYXRJbWFnZVByZXZpZXcmJndpbmRvdy5XZWl4aW5KU0JyaWRnZT93aW5kb3cuV2VpeGluSlNCcmlkZ2UuaW52b2tlKFwiaW1hZ2VQcmV2aWV3XCIse2N1cnJlbnQ6dC5pbWdVcmxzW25dLHVybHM6dC5pbWdVcmxzfSk6dC5vcGVuKG4pfSkscy5maW5kKFwiLmFtLXB1cmV2aWV3LWRpcmVjdGlvblwiKS5vbihcImNsaWNrLmRpcmVjdGlvbi5wdXJldmlldy5hbXVpXCIsXCJsaVwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxuKHRoaXMpLmlzKFwiLmFtLXB1cmV2aWV3LXByZXZcIik/dC5wcmV2U2xpZGUoKTp0Lm5leHRTbGlkZSgpfSkscy5maW5kKGUuc2VsZWN0b3IubmF2KS5vbihcImNsaWNrLm5hdi5wdXJldmlldy5hbXVpXCIsXCJsaVwiLGZ1bmN0aW9uKCl7dmFyIGU9dC4kbmF2SXRlbXMuaW5kZXgobih0aGlzKSk7dC5hY3RpdmF0ZSh0LiRzbGlkZXMuZXEoZSkpfSkscy5maW5kKGUuc2VsZWN0b3IuY2xvc2UpLm9uKFwiY2xpY2suY2xvc2UucHVyZXZpZXcuYW11aVwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0LmNsb3NlKCl9KSx0aGlzLiRzbGlkZXIuaGFtbWVyKCkub24oXCJzd2lwZWxlZnQucHVyZXZpZXcuYW11aVwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0Lm5leHRTbGlkZSgpfSkub24oXCJzd2lwZXJpZ2h0LnB1cmV2aWV3LmFtdWlcIixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCksdC5wcmV2U2xpZGUoKX0pLm9uKFwicHJlc3MucHVyZXZpZXcuYW11aVwiLGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKSxlLnRvZ2dsZVRvb2xiYXImJnQudG9nZ2xlVG9vbEJhcigpfSksdGhpcy4kc2xpZGVyLmRhdGEoXCJoYW1tZXJcIikuZ2V0KFwic3dpcGVcIikuc2V0KHtkaXJlY3Rpb246YS5ESVJFQ1RJT05fSE9SSVpPTlRBTCx2ZWxvY2l0eTouMzV9KSxpLkRPTU9ic2VydmUoe2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwfSxmdW5jdGlvbih0LGUpe30pLGkub24oXCJjaGFuZ2VkLmRvbS5hbXVpXCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKSx0LnJlZnJlc2hTbGlkZXMoKX0pLG4oZG9jdW1lbnQpLm9uKFwia2V5ZG93bi5wdXJldmlldy5hbXVpXCIsbi5wcm94eShmdW5jdGlvbih0KXt2YXIgZT10LmtleUNvZGU7Mzc9PWU/dGhpcy5wcmV2U2xpZGUoKTozOT09ZT90aGlzLm5leHRTbGlkZSgpOjI3PT1lJiZ0aGlzLmNsb3NlKCl9LHRoaXMpKX0sYy5wcm90b3R5cGUucmVmcmVzaFNsaWRlcz1mdW5jdGlvbigpe3RoaXMuJGltYWdlcz10aGlzLiRlbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLnRhcmdldCk7dmFyIHQ9dGhpcyxlPXRoaXMub3B0aW9ucyxpPXRoaXMuJHB1cmV2aWV3LG89bihbXSksYT1uKFtdKSxyPXRoaXMuJGltYWdlcyxsPXIubGVuZ3RoO3RoaXMuJHNsaWRlcj1pLmZpbmQoZS5zZWxlY3Rvci5zbGlkZXIpLHRoaXMuJG5hdj1pLmZpbmQoZS5zZWxlY3Rvci5uYXYpO3ZhciBjPVwiZGF0YS1hbS1wdXJldmlld2VkXCI7dGhpcy5pbWdVcmxzPXRoaXMuaW1nVXJsc3x8W10sbCYmKDE9PT1sJiZpLmFkZENsYXNzKGUuY2xhc3NOYW1lLm9ubHlPbmUpLHIubm90KFwiW1wiK2MrXCJdXCIpLmVhY2goZnVuY3Rpb24oZSxpKXt2YXIgcixsO1wiQVwiPT09aS5ub2RlTmFtZT8ocj1pLmhyZWYsbD1pLnRpdGxlfHxcIlwiKToocj1uKGkpLmRhdGEoXCJyZWxcIil8fGkuc3JjLHI9cy51dGlscy5nZXRBYnNvbHV0ZVVybChyKSxsPW4oaSkuYXR0cihcImFsdFwiKXx8XCJcIiksaS5zZXRBdHRyaWJ1dGUoYyxcIjFcIiksdC5pbWdVcmxzLnB1c2gociksbz1vLmFkZChuKCc8bGkgZGF0YS1zcmM9XCInK3IrJ1wiIGRhdGEtdGl0bGU9XCInK2wrJ1wiPjwvbGk+JykpLGE9YS5hZGQobihcIjxsaT5cIisoZSsxKStcIjwvbGk+XCIpKX0pLGkuZmluZChlLnNlbGVjdG9yLnRvdGFsKS50ZXh0KGwpLHRoaXMuJHNsaWRlci5hcHBlbmQobyksdGhpcy4kbmF2LmFwcGVuZChhKSx0aGlzLiRuYXZJdGVtcz10aGlzLiRuYXYuZmluZChcImxpXCIpLHRoaXMuJHNsaWRlcz10aGlzLiRzbGlkZXIuZmluZChcImxpXCIpKX0sYy5wcm90b3R5cGUubG9hZEltYWdlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9XCJpbWFnZS1hcHBlbmRlZFwiO2lmKCF0LmRhdGEoaSkpe3ZhciBzPW4oXCI8aW1nPlwiLHtzcmM6dC5kYXRhKFwic3JjXCIpLGFsdDp0LmRhdGEoXCJ0aXRsZVwiKX0pO3QuaHRtbChzKS53cmFwSW5uZXIoJzxkaXYgY2xhc3M9XCJhbS1waW5jaC16b29tXCI+PC9kaXY+JykucmVkcmF3KCk7dmFyIGE9dC5maW5kKHRoaXMub3B0aW9ucy5zZWxlY3Rvci5waW5jaFpvb20pO2EuZGF0YShcImFtdWkucGluY2h6b29tXCIsbmV3IG8oYVswXSx7fSkpLHQuZGF0YShcImltYWdlLWFwcGVuZGVkXCIsITApfWUmJmUuY2FsbCh0aGlzKX0sYy5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9dGhpcy4kc2xpZGVzLG89aS5pbmRleCh0KSxhPXQuZGF0YShcInRpdGxlXCIpfHxcIlwiLHI9ZS5jbGFzc05hbWUuYWN0aXZlO2kuZmluZChcIi5cIityKS5pcyh0KXx8dGhpcy50cmFuc2l0aW9uaW5nfHwodGhpcy5sb2FkSW1hZ2UodCxmdW5jdGlvbigpe3MudXRpbHMuaW1hZ2VMb2FkZXIodC5maW5kKFwiaW1nXCIpLGZ1bmN0aW9uKGUpe3QuZmluZChcIi5hbS1waW5jaC16b29tXCIpLmFkZENsYXNzKFwiYW0tcHVyZXZpZXctbG9hZGVkXCIpLG4oZSkuYWRkQ2xhc3MoXCJhbS1pbWctbG9hZGVkXCIpfSl9KSx0aGlzLnRyYW5zaXRpb25pbmc9MSx0aGlzLiR0aXRsZS50ZXh0KGEpLHRoaXMuJGN1cnJlbnQudGV4dChvKzEpLGkucmVtb3ZlQ2xhc3MoKSx0LmFkZENsYXNzKHIpLGkuZXEoby0xKS5hZGRDbGFzcyhlLmNsYXNzTmFtZS5wcmV2U2xpZGUpLGkuZXEobysxKS5hZGRDbGFzcyhlLmNsYXNzTmFtZS5uZXh0U2xpZGUpLHRoaXMuJG5hdkl0ZW1zLnJlbW92ZUNsYXNzKCkuZXEobykuYWRkQ2xhc3MoZS5jbGFzc05hbWUuYWN0aXZlKSxsP3Qub25lKGwuZW5kLG4ucHJveHkoZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MH0sdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCk6dGhpcy50cmFuc2l0aW9uaW5nPTApfSxjLnByb3RvdHlwZS5uZXh0U2xpZGU9ZnVuY3Rpb24oKXtpZigxIT09dGhpcy4kc2xpZGVzLmxlbmd0aCl7dmFyIHQ9dGhpcy4kc2xpZGVzLGU9dC5maWx0ZXIoXCIuYW0tYWN0aXZlXCIpLGk9dC5pbmRleChlKSxuPVwiYW0tYW5pbWF0aW9uLXJpZ2h0LXNwcmluZ1wiO2krMT49dC5sZW5ndGg/ciYmZS5hZGRDbGFzcyhuKS5vbihyLmVuZCxmdW5jdGlvbigpe2UucmVtb3ZlQ2xhc3Mobil9KTp0aGlzLmFjdGl2YXRlKHQuZXEoaSsxKSl9fSxjLnByb3RvdHlwZS5wcmV2U2xpZGU9ZnVuY3Rpb24oKXtpZigxIT09dGhpcy4kc2xpZGVzLmxlbmd0aCl7dmFyIHQ9dGhpcy4kc2xpZGVzLGU9dC5maWx0ZXIoXCIuYW0tYWN0aXZlXCIpLGk9dGhpcy4kc2xpZGVzLmluZGV4KGUpLG49XCJhbS1hbmltYXRpb24tbGVmdC1zcHJpbmdcIjswPT09aT9yJiZlLmFkZENsYXNzKG4pLm9uKHIuZW5kLGZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcyhuKX0pOnRoaXMuYWN0aXZhdGUodC5lcShpLTEpKX19LGMucHJvdG90eXBlLnRvZ2dsZVRvb2xCYXI9ZnVuY3Rpb24oKXt0aGlzLiRwdXJldmlldy50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3NOYW1lLmJhckFjdGl2ZSl9LGMucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24odCl7dmFyIGU9dHx8MDt0aGlzLmNoZWNrU2Nyb2xsYmFyKCksdGhpcy5zZXRTY3JvbGxiYXIoKSx0aGlzLmFjdGl2YXRlKHRoaXMuJHNsaWRlcy5lcShlKSksdGhpcy4kcHVyZXZpZXcuc2hvdygpLnJlZHJhdygpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc05hbWUuYWN0aXZlKSx0aGlzLiRib2R5LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc05hbWUuYWN0aXZlQm9keSl9LGMucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuJHB1cmV2aWV3LmhpZGUoKSx0aGlzLiRib2R5LnJlbW92ZUNsYXNzKGUuY2xhc3NOYW1lLmFjdGl2ZUJvZHkpLHRoaXMucmVzZXRTY3JvbGxiYXIoKX12YXIgZT10aGlzLm9wdGlvbnM7dGhpcy4kcHVyZXZpZXcucmVtb3ZlQ2xhc3MoZS5jbGFzc05hbWUuYWN0aXZlKSx0aGlzLiRzbGlkZXMucmVtb3ZlQ2xhc3MoKSxsP3RoaXMuJHB1cmV2aWV3Lm9uZShsLmVuZCxuLnByb3h5KHQsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCk6dC5jYWxsKHRoaXMpfSxjLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsYmFyV2lkdGg9cy51dGlscy5tZWFzdXJlU2Nyb2xsYmFyKCl9LGMucHJvdG90eXBlLnNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciB0PXBhcnNlSW50KHRoaXMuJGJvZHkuY3NzKFwicGFkZGluZy1yaWdodFwiKXx8MCwxMCk7dGhpcy5zY3JvbGxiYXJXaWR0aCYmdGhpcy4kYm9keS5jc3MoXCJwYWRkaW5nLXJpZ2h0XCIsdCt0aGlzLnNjcm9sbGJhcldpZHRoKX0sYy5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt0aGlzLiRib2R5LmNzcyhcInBhZGRpbmctcmlnaHRcIixcIlwiKX0scy5wbHVnaW4oXCJwdXJldmlld1wiLGMpLHMucmVhZHkoZnVuY3Rpb24odCl7bihcIltkYXRhLWFtLXB1cmV2aWV3XVwiLHQpLnB1cmV2aWV3KCl9KSx0LmV4cG9ydHM9Y30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpLG89ZnVuY3Rpb24odCxlKXtpZihzLnN1cHBvcnQuYW5pbWF0aW9uKXt0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sby5ERUZBVUxUUyxlKSx0aGlzLiRlbGVtZW50PW4odCk7dmFyIGk9ZnVuY3Rpb24oKXtzLnV0aWxzLnJBRi5jYWxsKHdpbmRvdyxuLnByb3h5KHRoaXMuY2hlY2tWaWV3LHRoaXMpKX0uYmluZCh0aGlzKTt0aGlzLiR3aW5kb3c9bih3aW5kb3cpLm9uKFwic2Nyb2xsLnNjcm9sbHNweS5hbXVpXCIsaSkub24oXCJyZXNpemUuc2Nyb2xsc3B5LmFtdWkgb3JpZW50YXRpb25jaGFuZ2Uuc2Nyb2xsc3B5LmFtdWlcIixzLnV0aWxzLmRlYm91bmNlKGksNTApKSx0aGlzLnRpbWVyPXRoaXMuaW5WaWV3U3RhdGU9dGhpcy5pbml0SW5WaWV3PW51bGwsaSgpfX07by5ERUZBVUxUUz17YW5pbWF0aW9uOlwiZmFkZVwiLGNsYXNzTmFtZTp7aW5WaWV3OlwiYW0tc2Nyb2xsc3B5LWludmlld1wiLGluaXQ6XCJhbS1zY3JvbGxzcHktaW5pdFwifSxyZXBlYXQ6ITAsZGVsYXk6MCx0b3BPZmZzZXQ6MCxsZWZ0T2Zmc2V0OjB9LG8ucHJvdG90eXBlLmNoZWNrVmlldz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQsZT10aGlzLm9wdGlvbnMsaT1zLnV0aWxzLmlzSW5WaWV3KHQsZSksbj1lLmFuaW1hdGlvbj9cIiBhbS1hbmltYXRpb24tXCIrZS5hbmltYXRpb246XCJcIjtpJiYhdGhpcy5pblZpZXdTdGF0ZSYmKHRoaXMudGltZXImJmNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLmluaXRJblZpZXd8fCh0LmFkZENsYXNzKGUuY2xhc3NOYW1lLmluaXQpLHRoaXMub2Zmc2V0PXQub2Zmc2V0KCksdGhpcy5pbml0SW5WaWV3PSEwLHQudHJpZ2dlcihcImluaXQuc2Nyb2xsc3B5LmFtdWlcIikpLHRoaXMudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2kmJnQuYWRkQ2xhc3MoZS5jbGFzc05hbWUuaW5WaWV3K24pLndpZHRoKCl9LGUuZGVsYXkpLHRoaXMuaW5WaWV3U3RhdGU9ITAsdC50cmlnZ2VyKFwiaW52aWV3LnNjcm9sbHNweS5hbXVpXCIpKSwhaSYmdGhpcy5pblZpZXdTdGF0ZSYmZS5yZXBlYXQmJih0LnJlbW92ZUNsYXNzKGUuY2xhc3NOYW1lLmluVmlldytuKSx0aGlzLmluVmlld1N0YXRlPSExLHQudHJpZ2dlcihcIm91dHZpZXcuc2Nyb2xsc3B5LmFtdWlcIikpfSxvLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3MudXRpbHMuckFGLmNhbGwod2luZG93LG4ucHJveHkodGhpcy5jaGVja1ZpZXcsdGhpcykpfSxzLnBsdWdpbihcInNjcm9sbHNweVwiLG8pLHMucmVhZHkoZnVuY3Rpb24odCl7bihcIltkYXRhLWFtLXNjcm9sbHNweV1cIix0KS5zY3JvbGxzcHkoKX0pLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMik7aSgyMyk7dmFyIG89ZnVuY3Rpb24odCxlKXt0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sby5ERUZBVUxUUyxlKSx0aGlzLiRlbGVtZW50PW4odCksdGhpcy5hbmNob3JzPVtdLHRoaXMuJGxpbmtzPXRoaXMuJGVsZW1lbnQuZmluZCgnYVtocmVmXj1cIiNcIl0nKS5lYWNoKGZ1bmN0aW9uKHQsZSl7dGhpcy5hbmNob3JzLnB1c2gobihlKS5hdHRyKFwiaHJlZlwiKSl9LmJpbmQodGhpcykpLHRoaXMuJHRhcmdldHM9bih0aGlzLmFuY2hvcnMuam9pbihcIiwgXCIpKTt2YXIgaT1mdW5jdGlvbigpe3MudXRpbHMuckFGLmNhbGwod2luZG93LG4ucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpKX0uYmluZCh0aGlzKTt0aGlzLiR3aW5kb3c9bih3aW5kb3cpLm9uKFwic2Nyb2xsLnNjcm9sbHNweW5hdi5hbXVpXCIsaSkub24oXCJyZXNpemUuc2Nyb2xsc3B5bmF2LmFtdWkgb3JpZW50YXRpb25jaGFuZ2Uuc2Nyb2xsc3B5bmF2LmFtdWlcIixzLnV0aWxzLmRlYm91bmNlKGksNTApKSxpKCksdGhpcy5zY3JvbGxQcm9jZXNzKCl9O28uREVGQVVMVFM9e2NsYXNzTmFtZTp7YWN0aXZlOlwiYW0tYWN0aXZlXCJ9LGNsb3Nlc3Q6ITEsc21vb3RoOiEwLG9mZnNldFRvcDowfSxvLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kd2luZG93LnNjcm9sbFRvcCgpLGU9dGhpcy5vcHRpb25zLGk9W10sbz10aGlzLiRsaW5rcyxhPXRoaXMuJHRhcmdldHM7aWYoYS5lYWNoKGZ1bmN0aW9uKHQsbil7cy51dGlscy5pc0luVmlldyhuLGUpJiZpLnB1c2gobil9KSxpLmxlbmd0aCl7dmFyIHI7aWYobi5lYWNoKGksZnVuY3Rpb24oZSxpKXtpZihuKGkpLm9mZnNldCgpLnRvcD49dClyZXR1cm4gcj1uKGkpLCExfSksIXIpcmV0dXJuO2UuY2xvc2VzdD8oby5jbG9zZXN0KGUuY2xvc2VzdCkucmVtb3ZlQ2xhc3MoZS5jbGFzc05hbWUuYWN0aXZlKSxvLmZpbHRlcignYVtocmVmPVwiIycrci5hdHRyKFwiaWRcIikrJ1wiXScpLmNsb3Nlc3QoZS5jbG9zZXN0KS5hZGRDbGFzcyhlLmNsYXNzTmFtZS5hY3RpdmUpKTpvLnJlbW92ZUNsYXNzKGUuY2xhc3NOYW1lLmFjdGl2ZSkuZmlsdGVyKCdhW2hyZWY9XCIjJytyLmF0dHIoXCJpZFwiKSsnXCJdJykuYWRkQ2xhc3MoZS5jbGFzc05hbWUuYWN0aXZlKX19LG8ucHJvdG90eXBlLnNjcm9sbFByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLiRsaW5rcyxlPXRoaXMub3B0aW9ucztlLnNtb290aCYmbi5mbi5zbW9vdGhTY3JvbGwmJnQub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT1uKHRoaXMpLHM9bihpLmF0dHIoXCJocmVmXCIpKTtpZihzKXt2YXIgbz1lLm9mZnNldFRvcCYmIWlzTmFOKHBhcnNlSW50KGUub2Zmc2V0VG9wKSkmJnBhcnNlSW50KGUub2Zmc2V0VG9wKXx8MDtuKHdpbmRvdykuc21vb3RoU2Nyb2xsKHtwb3NpdGlvbjpzLm9mZnNldCgpLnRvcC1vfSl9fSl9LHMucGx1Z2luKFwic2Nyb2xsc3B5bmF2XCIsbykscy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tc2Nyb2xsc3B5bmF2XVwiLHQpLnNjcm9sbHNweW5hdigpfSksdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKSxvPXMudXRpbHMuckFGLGE9cy51dGlscy5jYW5jZWxBRixyPSExLGw9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQpe3JldHVybih0Lz0uNSk8MT8uNSpNYXRoLnBvdyh0LDUpOi41KihNYXRoLnBvdyh0LTIsNSkrMil9ZnVuY3Rpb24gcygpe3Aub2ZmKFwidG91Y2hzdGFydC5zbW9vdGhzY3JvbGwuYW11aVwiLHcpLHI9ITF9ZnVuY3Rpb24gYyh0KXtyJiYodXx8KHU9dCksaD1NYXRoLm1pbigxLE1hdGgubWF4KCh0LXUpL3ksMCkpLGQ9TWF0aC5yb3VuZChmK2cqaShoKSksZz4wJiZkPm0mJihkPW0pLGc8MCYmZDxtJiYoZD1tKSx2IT1kJiZwLnNjcm9sbFRvcChkKSx2PWQsZCE9PW0/KGEoYiksYj1vKGMpKTooYShiKSxzKCkpKX1lPWV8fHt9O3ZhciB1LGgsZCxwPW4odCksbT1wYXJzZUludChlLnBvc2l0aW9uKXx8bC5ERUZBVUxUUy5wb3NpdGlvbixmPXAuc2Nyb2xsVG9wKCksdj1mLGc9bS1mLHk9ZS5zcGVlZHx8TWF0aC5taW4oNzUwLE1hdGgubWluKDE1MDAsTWF0aC5hYnMoZi1tKSkpLHc9ZnVuY3Rpb24oKXtzKCl9O2lmKCFyJiYwIT09Zyl7cC5vbihcInRvdWNoc3RhcnQuc21vb3Roc2Nyb2xsLmFtdWlcIix3KSxyPSEwO3ZhciBiPW8oYyl9fTtsLkRFRkFVTFRTPXtwb3NpdGlvbjowfSxuLmZuLnNtb290aFNjcm9sbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bmV3IGwodGhpcyx0KX0pfSxuKGRvY3VtZW50KS5vbihcImNsaWNrLnNtb290aFNjcm9sbC5hbXVpLmRhdGEtYXBpXCIsXCJbZGF0YS1hbS1zbW9vdGgtc2Nyb2xsXVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1zLnV0aWxzLnBhcnNlT3B0aW9ucyhuKHRoaXMpLmRhdGEoXCJhbVNtb290aFNjcm9sbFwiKSk7bih3aW5kb3cpLnNtb290aFNjcm9sbChlKX0pLHQuZXhwb3J0cz1sfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMik7bi5leHByW1wiOlwiXS5jb250YWluc05DPWZ1bmN0aW9uKHQsZSxpLG4pe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8XCJcIikudG9Mb3dlckNhc2UoKS5pbmRleE9mKChpWzNdfHxcIlwiKS50b0xvd2VyQ2FzZSgpKT49MH07dmFyIG89ZnVuY3Rpb24odCxlKXt0aGlzLiRlbGVtZW50PW4odCksdGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LG8uREVGQVVMVFMse3BsYWNlaG9sZGVyOnQuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIil8fG8uREVGQVVMVFMucGxhY2Vob2xkZXJ9LGUpLHRoaXMuJG9yaWdpbmFsT3B0aW9ucz10aGlzLiRlbGVtZW50LmZpbmQoXCJvcHRpb25cIiksdGhpcy5tdWx0aXBsZT10Lm11bHRpcGxlLHRoaXMuJHNlbGVjdG9yPW51bGwsdGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmluaXQoKX07by5ERUZBVUxUUz17YnRuV2lkdGg6bnVsbCxidG5TaXplOm51bGwsYnRuU3R5bGU6XCJkZWZhdWx0XCIsZHJvcFVwOjAsbWF4SGVpZ2h0Om51bGwsbWF4Q2hlY2tlZDpudWxsLHBsYWNlaG9sZGVyOlwiXFx1NzBiOVxcdTUxZmJcXHU5MDA5XFx1NjJlOS4uLlwiLHNlbGVjdGVkQ2xhc3M6XCJhbS1jaGVja2VkXCIsZGlzYWJsZWRDbGFzczpcImFtLWRpc2FibGVkXCIsc2VhcmNoQm94OiExLHRwbDonPGRpdiBjbGFzcz1cImFtLXNlbGVjdGVkIGFtLWRyb3Bkb3duIDwlPSBkcm9wVXAgPyBcXCdhbS1kcm9wZG93bi11cFxcJzogXFwnXFwnICU+XCIgaWQ9XCI8JT0gaWQgJT5cIiBkYXRhLWFtLWRyb3Bkb3duPiAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJhbS1zZWxlY3RlZC1idG4gYW0tYnRuIGFtLWRyb3Bkb3duLXRvZ2dsZVwiPiAgICA8c3BhbiBjbGFzcz1cImFtLXNlbGVjdGVkLXN0YXR1cyBhbS1mbFwiPjwvc3Bhbj4gICAgPGkgY2xhc3M9XCJhbS1zZWxlY3RlZC1pY29uIGFtLWljb24tY2FyZXQtPCU9IGRyb3BVcCA/IFxcJ3VwXFwnIDogXFwnZG93blxcJyAlPlwiPjwvaT4gIDwvYnV0dG9uPiAgPGRpdiBjbGFzcz1cImFtLXNlbGVjdGVkLWNvbnRlbnQgYW0tZHJvcGRvd24tY29udGVudFwiPiAgICA8aDIgY2xhc3M9XCJhbS1zZWxlY3RlZC1oZWFkZXJcIj48c3BhbiBjbGFzcz1cImFtLWljb24tY2hldnJvbi1sZWZ0XCI+XFx1OGZkNFxcdTU2ZGU8L3NwYW4+PC9oMj4gICA8JSBpZiAoc2VhcmNoQm94KSB7ICU+ICAgPGRpdiBjbGFzcz1cImFtLXNlbGVjdGVkLXNlYXJjaFwiPiAgICAgPGlucHV0IGF1dG9jb21wbGV0ZT1cIm9mZlwiIGNsYXNzPVwiYW0tZm9ybS1maWVsZCBhbS1pbnB1dC1zbVwiIC8+ICAgPC9kaXY+ICAgPCUgfSAlPiAgICA8dWwgY2xhc3M9XCJhbS1zZWxlY3RlZC1saXN0XCI+ICAgICAgPCUgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7ICU+ICAgICAgIDwlIHZhciBvcHRpb24gPSBvcHRpb25zW2ldICU+ICAgICAgIDwlIGlmIChvcHRpb24uaGVhZGVyKSB7ICU+ICA8bGkgZGF0YS1ncm91cD1cIjwlPSBvcHRpb24uZ3JvdXAgJT5cIiBjbGFzcz1cImFtLXNlbGVjdGVkLWxpc3QtaGVhZGVyXCI+ICAgICAgIDwlPSBvcHRpb24udGV4dCAlPjwvbGk+ICAgICAgIDwlIH0gZWxzZSB7ICU+ICAgICAgIDxsaSBjbGFzcz1cIjwlPSBvcHRpb24uY2xhc3NOYW1lcyU+XCIgICAgICAgICAgZGF0YS1pbmRleD1cIjwlPSBvcHRpb24uaW5kZXggJT5cIiAgICAgICAgICBkYXRhLWdyb3VwPVwiPCU9IG9wdGlvbi5ncm91cCB8fCAwICU+XCIgICAgICAgICAgZGF0YS12YWx1ZT1cIjwlPSBvcHRpb24udmFsdWUgJT5cIiA+ICAgICAgICAgPHNwYW4gY2xhc3M9XCJhbS1zZWxlY3RlZC10ZXh0XCI+PCU9IG9wdGlvbi50ZXh0ICU+PC9zcGFuPiAgICAgICAgIDxpIGNsYXNzPVwiYW0taWNvbi1jaGVja1wiPjwvaT48L2xpPiAgICAgIDwlIH0gJT4gICAgICA8JSB9ICU+ICAgIDwvdWw+ICAgIDxkaXYgY2xhc3M9XCJhbS1zZWxlY3RlZC1oaW50XCI+PC9kaXY+ICA8L2Rpdj48L2Rpdj4nLGxpc3RUcGw6JzwlIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykgeyAlPiAgICAgICA8JSB2YXIgb3B0aW9uID0gb3B0aW9uc1tpXSAlPiAgICAgICA8JSBpZiAob3B0aW9uLmhlYWRlcikgeyAlPiAgPGxpIGRhdGEtZ3JvdXA9XCI8JT0gb3B0aW9uLmdyb3VwICU+XCIgY2xhc3M9XCJhbS1zZWxlY3RlZC1saXN0LWhlYWRlclwiPiAgICAgICA8JT0gb3B0aW9uLnRleHQgJT48L2xpPiAgICAgICA8JSB9IGVsc2UgeyAlPiAgICAgICA8bGkgY2xhc3M9XCI8JT0gb3B0aW9uLmNsYXNzTmFtZXMgJT5cIiAgICAgICAgICBkYXRhLWluZGV4PVwiPCU9IG9wdGlvbi5pbmRleCAlPlwiICAgICAgICAgIGRhdGEtZ3JvdXA9XCI8JT0gb3B0aW9uLmdyb3VwIHx8IDAgJT5cIiAgICAgICAgICBkYXRhLXZhbHVlPVwiPCU9IG9wdGlvbi52YWx1ZSAlPlwiID4gICAgICAgICA8c3BhbiBjbGFzcz1cImFtLXNlbGVjdGVkLXRleHRcIj48JT0gb3B0aW9uLnRleHQgJT48L3NwYW4+ICAgICAgICAgPGkgY2xhc3M9XCJhbS1pY29uLWNoZWNrXCI+PC9pPjwvbGk+ICAgICAgPCUgfSAlPiAgICAgIDwlIH0gJT4nfSxvLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMuJGVsZW1lbnQsaT10aGlzLm9wdGlvbnM7ZS5oaWRlKCk7dmFyIG89e2lkOnMudXRpbHMuZ2VuZXJhdGVHVUlEKFwiYW0tc2VsZWN0ZWRcIiksbXVsdGlwbGU6dGhpcy5tdWx0aXBsZSxvcHRpb25zOltdLHNlYXJjaEJveDppLnNlYXJjaEJveCxkcm9wVXA6aS5kcm9wVXAscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcn07dGhpcy4kc2VsZWN0b3I9bihzLnRlbXBsYXRlKHRoaXMub3B0aW9ucy50cGwsbykpLHRoaXMuJHNlbGVjdG9yLmNzcyh7d2lkdGg6dGhpcy5vcHRpb25zLmJ0bldpZHRofSksdGhpcy4kbGlzdD10aGlzLiRzZWxlY3Rvci5maW5kKFwiLmFtLXNlbGVjdGVkLWxpc3RcIiksdGhpcy4kc2VhcmNoRmllbGQ9dGhpcy4kc2VsZWN0b3IuZmluZChcIi5hbS1zZWxlY3RlZC1zZWFyY2ggaW5wdXRcIiksdGhpcy4kaGludD10aGlzLiRzZWxlY3Rvci5maW5kKFwiLmFtLXNlbGVjdGVkLWhpbnRcIik7dmFyIGE9dGhpcy4kc2VsZWN0b3IuZmluZChcIi5hbS1zZWxlY3RlZC1idG5cIikscj1bXTtpLmJ0blNpemUmJnIucHVzaChcImFtLWJ0bi1cIitpLmJ0blNpemUpLGkuYnRuU3R5bGUmJnIucHVzaChcImFtLWJ0bi1cIitpLmJ0blN0eWxlKSxhLmFkZENsYXNzKHIuam9pbihcIiBcIikpLHRoaXMuJHNlbGVjdG9yLmRyb3Bkb3duKHtqdXN0aWZ5OmF9KSxlWzBdLmRpc2FibGVkJiZ0aGlzLmRpc2FibGUoKSxpLm1heEhlaWdodCYmdGhpcy4kc2VsZWN0b3IuZmluZChcIi5hbS1zZWxlY3RlZC1saXN0XCIpLmNzcyh7XCJtYXgtaGVpZ2h0XCI6aS5tYXhIZWlnaHQsXCJvdmVyZmxvdy15XCI6XCJzY3JvbGxcIn0pO3ZhciBsPVtdLGM9ZS5hdHRyKFwibWluY2hlY2tlZFwiKSx1PWUuYXR0cihcIm1heGNoZWNrZWRcIil8fGkubWF4Q2hlY2tlZDt0aGlzLm1heENoZWNrZWQ9dXx8MS8wLGVbMF0ucmVxdWlyZWQmJmwucHVzaChcIlxcdTVmYzVcXHU5MDA5XCIpLChjfHx1KSYmKGMmJmwucHVzaChcIlxcdTgxZjNcXHU1YzExXFx1OTAwOVxcdTYyZTkgXCIrYytcIiBcXHU5ODc5XCIpLHUmJmwucHVzaChcIlxcdTgxZjNcXHU1OTFhXFx1OTAwOVxcdTYyZTkgXCIrdStcIiBcXHU5ODc5XCIpKSx0aGlzLiRoaW50LnRleHQobC5qb2luKFwiXFx1ZmYwY1wiKSksdGhpcy5yZW5kZXJPcHRpb25zKCksdGhpcy4kZWxlbWVudC5hZnRlcih0aGlzLiRzZWxlY3RvciksdGhpcy5kcm9wZG93bj10aGlzLiRzZWxlY3Rvci5kYXRhKFwiYW11aS5kcm9wZG93blwiKSx0aGlzLiRzdGF0dXM9dGhpcy4kc2VsZWN0b3IuZmluZChcIi5hbS1zZWxlY3RlZC1zdGF0dXNcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3Quc3luY0RhdGEoKSx0LmluaXRpYWxpemVkPSEwfSwwKSx0aGlzLmJpbmRFdmVudHMoKX0sby5wcm90b3R5cGUucmVuZGVyT3B0aW9ucz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHMpe2lmKFwiXCI9PT1lLnZhbHVlKXJldHVybiEwO3ZhciBvPVwiXCI7ZS5kaXNhYmxlZCYmKG8rPWkuZGlzYWJsZWRDbGFzcyksIWUuZGlzYWJsZWQmJmUuc2VsZWN0ZWQmJihvKz1pLnNlbGVjdGVkQ2xhc3MpLG4ucHVzaCh7Z3JvdXA6cyxpbmRleDp0LGNsYXNzTmFtZXM6byx0ZXh0OmUudGV4dCx2YWx1ZTplLnZhbHVlfSl9dmFyIGU9dGhpcy4kZWxlbWVudCxpPXRoaXMub3B0aW9ucyxuPVtdLG89ZS5maW5kKFwib3B0Z3JvdXBcIik7dGhpcy4kb3JpZ2luYWxPcHRpb25zPXRoaXMuJGVsZW1lbnQuZmluZChcIm9wdGlvblwiKSx0aGlzLm11bHRpcGxlfHxudWxsIT09ZS52YWwoKXx8dGhpcy4kb3JpZ2luYWxPcHRpb25zLmxlbmd0aCYmKHRoaXMuJG9yaWdpbmFsT3B0aW9ucy5nZXQoMCkuc2VsZWN0ZWQ9ITApLG8ubGVuZ3RoP28uZWFjaChmdW5jdGlvbihlKXtuLnB1c2goe2hlYWRlcjohMCxncm91cDplKzEsdGV4dDp0aGlzLmxhYmVsfSksby5lcShlKS5maW5kKFwib3B0aW9uXCIpLmVhY2goZnVuY3Rpb24oaSxuKXt0KGksbixlKX0pfSk6dGhpcy4kb3JpZ2luYWxPcHRpb25zLmVhY2goZnVuY3Rpb24oZSxpKXt0KGUsaSxudWxsKX0pLHRoaXMuJGxpc3QuaHRtbChzLnRlbXBsYXRlKGkubGlzdFRwbCx7b3B0aW9uczpufSkpLHRoaXMuJHNoYWRvd09wdGlvbnM9dGhpcy4kbGlzdC5maW5kKFwiPiBsaVwiKS5ub3QoXCIuYW0tc2VsZWN0ZWQtbGlzdC1oZWFkZXJcIil9LG8ucHJvdG90eXBlLnNldENoZWNrZWQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9bih0KSxzPWkuaGFzQ2xhc3MoZS5zZWxlY3RlZENsYXNzKTtpZih0aGlzLm11bHRpcGxlKXt2YXIgbz10aGlzLiRsaXN0LmZpbmQoXCIuXCIrZS5zZWxlY3RlZENsYXNzKS5sZW5ndGg7aWYoIXMmJnRoaXMubWF4Q2hlY2tlZDw9bylyZXR1cm4gdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiY2hlY2tlZE92ZXJmbG93LnNlbGVjdGVkLmFtdWlcIix7c2VsZWN0ZWQ6dGhpc30pLCExfWVsc2V7aWYodGhpcy5kcm9wZG93bi5jbG9zZSgpLHMpcmV0dXJuITE7dGhpcy4kc2hhZG93T3B0aW9ucy5ub3QoaSkucmVtb3ZlQ2xhc3MoZS5zZWxlY3RlZENsYXNzKX1pLnRvZ2dsZUNsYXNzKGUuc2VsZWN0ZWRDbGFzcyksdGhpcy5zeW5jRGF0YSh0KX0sby5wcm90b3R5cGUuc3luY0RhdGE9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMub3B0aW9ucyxzPVtdLG89bihbXSk7aWYodGhpcy4kc2hhZG93T3B0aW9ucy5maWx0ZXIoXCIuXCIraS5zZWxlY3RlZENsYXNzKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKTtzLnB1c2goaS5maW5kKFwiLmFtLXNlbGVjdGVkLXRleHRcIikudGV4dCgpKSx0fHwobz1vLmFkZChlLiRvcmlnaW5hbE9wdGlvbnMuZmlsdGVyKCdbdmFsdWU9XCInK2kuZGF0YShcInZhbHVlXCIpKydcIl0nKS5wcm9wKFwic2VsZWN0ZWRcIiwhMCkpKX0pLHQpe3ZhciBhPW4odCk7dGhpcy4kb3JpZ2luYWxPcHRpb25zLmZpbHRlcignW3ZhbHVlPVwiJythLmRhdGEoXCJ2YWx1ZVwiKSsnXCJdJykucHJvcChcInNlbGVjdGVkXCIsYS5oYXNDbGFzcyhpLnNlbGVjdGVkQ2xhc3MpKX1lbHNlIHRoaXMuJG9yaWdpbmFsT3B0aW9ucy5ub3QobykucHJvcChcInNlbGVjdGVkXCIsITEpO3RoaXMuJGVsZW1lbnQudmFsKCl8fChzPVtpLnBsYWNlaG9sZGVyXSksdGhpcy4kc3RhdHVzLnRleHQocy5qb2luKFwiLCBcIikpLHRoaXMuaW5pdGlhbGl6ZWQmJnRoaXMuJGVsZW1lbnQudHJpZ2dlcihcImNoYW5nZVwiKX0sby5wcm90b3R5cGUuYmluZEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1cImFtLXNlbGVjdGVkLWxpc3QtaGVhZGVyXCIsaT1zLnV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uKGkpe3QuJHNoYWRvd09wdGlvbnMubm90KFwiLlwiK2UpLmhpZGUoKS5maWx0ZXIoJzpjb250YWluc05DKFwiJytpLnRhcmdldC52YWx1ZSsnXCIpJykuc2hvdygpfSwxMDApO3RoaXMuJGxpc3Qub24oXCJjbGlja1wiLFwiPiBsaVwiLGZ1bmN0aW9uKGkpe3ZhciBzPW4odGhpcyk7IXMuaGFzQ2xhc3ModC5vcHRpb25zLmRpc2FibGVkQ2xhc3MpJiYhcy5oYXNDbGFzcyhlKSYmdC5zZXRDaGVja2VkKHRoaXMpfSksdGhpcy4kc2VhcmNoRmllbGQub24oXCJrZXl1cC5zZWxlY3RlZC5hbXVpXCIsaSksdGhpcy4kc2VsZWN0b3Iub24oXCJjbG9zZWQuZHJvcGRvd24uYW11aVwiLGZ1bmN0aW9uKCl7dC4kc2VhcmNoRmllbGQudmFsKFwiXCIpLHQuJHNoYWRvd09wdGlvbnMuY3NzKHtkaXNwbGF5OlwiXCJ9KX0pLHRoaXMuJGVsZW1lbnQub24oXCJ2YWxpZGF0ZWQuZmllbGQudmFsaWRhdG9yLmFtdWlcIixmdW5jdGlvbihlKXtpZihlLnZhbGlkaXR5KXt2YXIgaT1lLnZhbGlkaXR5LnZhbGlkLG49XCJhbS1pbnZhbGlkXCI7dC4kc2VsZWN0b3JbKGk/XCJyZW1vdmVcIjpcImFkZFwiKStcIkNsYXNzXCJdKG4pfX0pLHMuc3VwcG9ydC5tdXRhdGlvbm9ic2VydmVyJiYodGhpcy5vYnNlcnZlcj1uZXcgcy5zdXBwb3J0Lm11dGF0aW9ub2JzZXJ2ZXIoZnVuY3Rpb24oKXt0LiRlbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2VkLnNlbGVjdGVkLmFtdWlcIil9KSx0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy4kZWxlbWVudFswXSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAsY2hhcmFjdGVyRGF0YTohMH0pKSx0aGlzLiRlbGVtZW50Lm9uKFwiY2hhbmdlZC5zZWxlY3RlZC5hbXVpXCIsZnVuY3Rpb24oKXt0LnJlbmRlck9wdGlvbnMoKSx0LnN5bmNEYXRhKCl9KX0sby5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKHQpe3ZhciBlO2U9XCJudW1iZXJcIj09dHlwZW9mIHQ/dGhpcy4kbGlzdC5maW5kKFwiPiBsaVwiKS5ub3QoXCIuYW0tc2VsZWN0ZWQtbGlzdC1oZWFkZXJcIikuZXEodCk6XCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy4kbGlzdC5maW5kKHQpOm4odCksZS50cmlnZ2VyKFwiY2xpY2tcIil9LG8ucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucHJvcChcImRpc2FibGVcIiwhMSksdGhpcy4kc2VsZWN0b3IuZHJvcGRvd24oXCJlbmFibGVcIil9LG8ucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnByb3AoXCJkaXNhYmxlXCIsITApLHRoaXMuJHNlbGVjdG9yLmRyb3Bkb3duKFwiZGlzYWJsZVwiKX0sby5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlRGF0YShcImFtdWkuc2VsZWN0ZWRcIikuc2hvdygpLHRoaXMuJHNlbGVjdG9yLnJlbW92ZSgpfSxzLnBsdWdpbihcInNlbGVjdGVkXCIsbykscy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tc2VsZWN0ZWRdXCIsdCkuc2VsZWN0ZWQoKX0pLHQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7aSgxNSk7dmFyIG49aSgxKSxzPWkoMiksbz1pKDI2KSxhPWRvY3VtZW50LHI9bihhKSxsPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSxsLkRFRkFVTFRTLHR8fHt9KSx0aGlzLiRlbGVtZW50PW51bGwsdGhpcy4kd2VjaGF0UXI9bnVsbCx0aGlzLnBpY3M9bnVsbCx0aGlzLmluaXRlZD0hMSx0aGlzLmFjdGl2ZT0hMX07bC5ERUZBVUxUUz17c25zOltcIndlaWJvXCIsXCJxcVwiLFwicXpvbmVcIixcInRxcVwiLFwid2VjaGF0XCIsXCJyZW5yZW5cIl0sdGl0bGU6XCJcXHU1MjA2XFx1NGVhYlxcdTUyMzBcIixjYW5jZWw6XCJcXHU1M2Q2XFx1NmQ4OFwiLGNsb3NlT25TaGFyZTohMCxpZDpzLnV0aWxzLmdlbmVyYXRlR1VJRChcImFtLXNoYXJlXCIpLGRlc2M6XCJIaVxcdWZmMGNcXHU1YjY0XFx1NTkxY1xcdTg5YzJcXHU1OTI5XFx1OGM2MVxcdWZmMGNcXHU1M2QxXFx1NzNiMFxcdTRlMDBcXHU0ZTJhXFx1NGUwZFxcdTk1MTlcXHU3Njg0XFx1ODk3ZlxcdTg5N2ZcXHVmZjBjXFx1NTIwNlxcdTRlYWJcXHU0ZTAwXFx1NGUwYlxcdTRlMGIgOy0pXCIsdmlhOlwiQW1hemUgVUlcIix0cGw6JzxkaXYgY2xhc3M9XCJhbS1zaGFyZSBhbS1tb2RhbC1hY3Rpb25zXCIgaWQ9XCI8JT0gaWQgJT5cIj48aDMgY2xhc3M9XCJhbS1zaGFyZS10aXRsZVwiPjwlPSB0aXRsZSAlPjwvaDM+PHVsIGNsYXNzPVwiYW0tc2hhcmUtc25zIGFtLWF2Zy1zbS0zXCI+PCUgZm9yKHZhciBpID0gMDsgaSA8IHNucy5sZW5ndGg7IGkrKykgeyU+PGxpPjxhIGhyZWY9XCI8JT0gc25zW2ldLnNoYXJlVXJsICU+XCIgZGF0YS1hbS1zaGFyZS10bz1cIjwlPSBzbnNbaV0uaWQgJT5cIiA+PGkgY2xhc3M9XCJhbS1pY29uLTwlPSBzbnNbaV0uaWNvbiAlPlwiPjwvaT48c3Bhbj48JT0gc25zW2ldLnRpdGxlICU+PC9zcGFuPjwvYT48L2xpPjwlIH0gJT48L3VsPjxkaXYgY2xhc3M9XCJhbS1zaGFyZS1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYW0tYnRuIGFtLWJ0bi1kZWZhdWx0IGFtLWJ0bi1ibG9ja1wiIGRhdGEtYW0tc2hhcmUtY2xvc2U+PCU9IGNhbmNlbCAlPjwvYnV0dG9uPjwvZGl2PjwvZGl2Pid9LGwuU05TPXt3ZWlibzp7dGl0bGU6XCJcXHU2NWIwXFx1NmQ2YVxcdTVmYWVcXHU1MzVhXCIsdXJsOlwiaHR0cDovL3NlcnZpY2Uud2VpYm8uY29tL3NoYXJlL3NoYXJlLnBocFwiLHdpZHRoOjYyMCxoZWlnaHQ6NDUwLGljb246XCJ3ZWlib1wifSxxcTp7dGl0bGU6XCJRUSBcXHU1OTdkXFx1NTNjYlwiLHVybDpcImh0dHA6Ly9jb25uZWN0LnFxLmNvbS93aWRnZXQvc2hhcmVxcS9pbmRleC5odG1sXCIsaWNvbjpcInFxXCJ9LHF6b25lOnt0aXRsZTpcIlFRIFxcdTdhN2FcXHU5NWY0XCIsdXJsOlwiaHR0cDovL3Nucy5xem9uZS5xcS5jb20vY2dpLWJpbi9xenNoYXJlL2NnaV9xenNoYXJlX29uZWtleVwiLGljb246XCJzdGFyXCJ9LHRxcTp7dGl0bGU6XCJcXHU4MTdlXFx1OGJhZlxcdTVmYWVcXHU1MzVhXCIsdXJsOlwiaHR0cDovL3YudC5xcS5jb20vc2hhcmUvc2hhcmUucGhwXCIsaWNvbjpcInRlbmNlbnQtd2VpYm9cIn0sd2VjaGF0Ont0aXRsZTpcIlxcdTVmYWVcXHU0ZmUxXCIsdXJsOlwiW3FyY29kZV1cIixpY29uOlwid2VjaGF0XCJ9LHJlbnJlbjp7dGl0bGU6XCJcXHU0ZWJhXFx1NGViYVxcdTdmNTFcIix1cmw6XCJodHRwOi8vd2lkZ2V0LnJlbnJlbi5jb20vZGlhbG9nL3NoYXJlXCIsaWNvbjpcInJlbnJlblwifSxkb3ViYW46e3RpdGxlOlwiXFx1OGM0NlxcdTc0ZTNcIix1cmw6XCJodHRwOi8vd3d3LmRvdWJhbi5jb20vcmVjb21tZW5kL1wiLGljb246XCJzaGFyZS1hbHRcIn0sbWFpbDp7dGl0bGU6XCJcXHU5MGFlXFx1NGVmNlxcdTUyMDZcXHU0ZWFiXCIsdXJsOlwibWFpbHRvOlwiLGljb246XCJlbnZlbG9wZS1vXCJ9LHNtczp7dGl0bGU6XCJcXHU3N2VkXFx1NGZlMVxcdTUyMDZcXHU0ZWFiXCIsdXJsOlwic21zOlwiLGljb246XCJjb21tZW50XCJ9fSxsLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsZT1bXSxpPWVuY29kZVVSSUNvbXBvbmVudChhLnRpdGxlKSxvPWVuY29kZVVSSUNvbXBvbmVudChhLmxvY2F0aW9uKSxyPVwiP2JvZHk9XCIraStvO3JldHVybiB0LnNucy5mb3JFYWNoKGZ1bmN0aW9uKG4scyl7aWYobC5TTlNbbl0pe3ZhciBhLGM9bC5TTlNbbl07Yy5pZD1uLGE9XCJtYWlsXCI9PT1uP3IrXCImc3ViamVjdD1cIit0LmRlc2M6XCJzbXNcIj09PW4/cjpcIj91cmw9XCIrbytcIiZ0aXRsZT1cIitpLGMuc2hhcmVVcmw9Yy51cmwrYSxlLnB1c2goYyl9fSkscy50ZW1wbGF0ZSh0LnRwbCxuLmV4dGVuZCh7fSx0LHtzbnM6ZX0pKX0sbC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2lmKCF0aGlzLmluaXRlZCl7dmFyIHQ9dGhpcyxlPVwiW2RhdGEtYW0tc2hhcmUtdG9dXCI7ci5yZWFkeShuLnByb3h5KGZ1bmN0aW9uKCl7bihcImJvZHlcIikuYXBwZW5kKHRoaXMucmVuZGVyKCkpLHRoaXMuJGVsZW1lbnQ9bihcIiNcIit0aGlzLm9wdGlvbnMuaWQpLHRoaXMuJGVsZW1lbnQuZmluZChcIltkYXRhLWFtLXNoYXJlLWNsb3NlXVwiKS5vbihcImNsaWNrLnNoYXJlLmFtdWlcIixmdW5jdGlvbigpe3QuY2xvc2UoKX0pfSx0aGlzKSksci5vbihcImNsaWNrLnNoYXJlLmFtdWlcIixlLG4ucHJveHkoZnVuY3Rpb24odCl7dmFyIGk9bih0LnRhcmdldCkscz1pLmlzKGUpJiZpfHxpLnBhcmVudChlKSxvPXMuYXR0cihcImRhdGEtYW0tc2hhcmUtdG9cIik7XCJtYWlsXCIhPT1vJiZcInNtc1wiIT09byYmKHQucHJldmVudERlZmF1bHQoKSx0aGlzLnNoYXJlVG8obyx0aGlzLnNldERhdGEobykpKSx0aGlzLmNsb3NlKCl9LHRoaXMpKSx0aGlzLmluaXRlZD0hMH19LGwucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXshdGhpcy5pbml0ZWQmJnRoaXMuaW5pdCgpLHRoaXMuJGVsZW1lbnQmJnRoaXMuJGVsZW1lbnQubW9kYWwoXCJvcGVuXCIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihcIm9wZW4uc2hhcmUuYW11aVwiKSx0aGlzLmFjdGl2ZT0hMH0sbC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50JiZ0aGlzLiRlbGVtZW50Lm1vZGFsKFwiY2xvc2VcIiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKFwiY2xvc2Uuc2hhcmUuYW11aVwiKSx0aGlzLmFjdGl2ZT0hMX0sbC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmU/dGhpcy5jbG9zZSgpOnRoaXMub3BlbigpfSxsLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXt1cmw6YS5sb2NhdGlvbix0aXRsZTphLnRpdGxlfSxpPXRoaXMub3B0aW9ucy5kZXNjLG49dGhpcy5waWNzfHxbXSxzPS9eKHF6b25lfHFxfHRxcSkkLztpZihzLnRlc3QodCkmJiFuLmxlbmd0aCl7Zm9yKHZhciBvPWEuaW1hZ2VzLHI9MDtyPG8ubGVuZ3RoJiZyPDEwO3IrKykhIW9bcl0uc3JjJiZuLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG9bcl0uc3JjKSk7dGhpcy5waWNzPW59c3dpdGNoKHQpe2Nhc2VcInF6b25lXCI6ZS5kZXNjPWksZS5zaXRlPXRoaXMub3B0aW9ucy52aWEsZS5waWNzPW4uam9pbihcInxcIik7YnJlYWs7Y2FzZVwicXFcIjplLmRlc2M9aSxlLnNpdGU9dGhpcy5vcHRpb25zLnZpYSxlLnBpY3M9blswXTticmVhaztjYXNlXCJ0cXFcIjplLnBpYz1uLmpvaW4oXCJ8XCIpfXJldHVybiBlfX0sbC5wcm90b3R5cGUuc2hhcmVUbz1mdW5jdGlvbih0LGUpe3ZhciBpPWwuU05TW3RdO2lmKGkpe2lmKFwid2VjaGF0XCI9PT10fHxcIndlaXhpblwiPT09dClyZXR1cm4gdGhpcy53ZWNoYXRRcigpO3ZhciBuPVtdO2Zvcih2YXIgcyBpbiBlKWVbc10mJm4ucHVzaChzLnRvU3RyaW5nKCkrXCI9XCIrKFwicGljXCI9PT1zfHxcInBpY3NcIj09PXM/ZVtzXTplbmNvZGVVUklDb21wb25lbnQoZVtzXSkpKTt3aW5kb3cub3BlbihpLnVybCtcIj9cIituLmpvaW4oXCImXCIpKX19LGwucHJvdG90eXBlLndlY2hhdFFyPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHdlY2hhdFFyKXt2YXIgdD1zLnV0aWxzLmdlbmVyYXRlR1VJRChcImFtLXNoYXJlLXdlY2hhdFwiKSxlPW4oJzxkaXYgY2xhc3M9XCJhbS1tb2RhbCBhbS1tb2RhbC1uby1idG4gYW0tc2hhcmUtd2VjaGF0LXFyXCI+PGRpdiBjbGFzcz1cImFtLW1vZGFsLWRpYWxvZ1wiPjxkaXYgY2xhc3M9XCJhbS1tb2RhbC1oZFwiPlxcdTUyMDZcXHU0ZWFiXFx1NTIzMFxcdTVmYWVcXHU0ZmUxIDxhIGhyZWY9XCJcIiBjbGFzcz1cImFtLWNsb3NlIGFtLWNsb3NlLXNwaW5cIiBkYXRhLWFtLW1vZGFsLWNsb3NlPiZ0aW1lczs8L2E+IDwvZGl2PjxkaXYgY2xhc3M9XCJhbS1tb2RhbC1iZFwiPjxkaXYgY2xhc3M9XCJhbS1zaGFyZS13eC1xclwiPjwvZGl2PjxkaXYgY2xhc3M9XCJhbS1zaGFyZS13ZWNoYXQtdGlwXCI+XFx1NjI1M1xcdTVmMDBcXHU1ZmFlXFx1NGZlMVxcdWZmMGNcXHU3MGI5XFx1NTFmYlxcdTVlOTVcXHU5MGU4XFx1NzY4NDxlbT5cXHU1M2QxXFx1NzNiMDwvZW0+XFx1ZmYwYzxici8+IFxcdTRmN2ZcXHU3NTI4PGVtPlxcdTYyNmJcXHU0ZTAwXFx1NjI2YjwvZW0+XFx1NWMwNlxcdTdmNTFcXHU5ODc1XFx1NTIwNlxcdTRlYWJcXHU4MWYzXFx1NjcwYlxcdTUzY2JcXHU1NzA4PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyk7ZS5hdHRyKFwiaWRcIix0KTt2YXIgaT1uZXcgbyh7cmVuZGVyOlwiY2FudmFzXCIsY29ycmVjdExldmVsOjAsdGV4dDphLmxvY2F0aW9uLmhyZWYsd2lkdGg6MTgwLGhlaWdodDoxODAsYmFja2dyb3VuZDpcIiNmZmZcIixmb3JlZ3JvdW5kOlwiIzAwMFwifSk7ZS5maW5kKFwiLmFtLXNoYXJlLXd4LXFyXCIpLmh0bWwoaSksZS5hcHBlbmRUbyhuKFwiYm9keVwiKSksdGhpcy4kd2VjaGF0UXI9bihcIiNcIit0KX10aGlzLiR3ZWNoYXRRci5tb2RhbChcIm9wZW5cIil9O3ZhciBjPW5ldyBsO3Iub24oXCJjbGljay5zaGFyZS5hbXVpLmRhdGEtYXBpXCIsJ1tkYXRhLWFtLXRvZ2dsZT1cInNoYXJlXCJdJyxmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksYy50b2dnbGUoKX0pLHQuZXhwb3J0cz1zLnNoYXJlPWN9LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQpe3JldHVybiB0PDEyOD9bdF06dDwyMDQ4PyhjMD0xOTIrKHQ+PjYpLGMxPTEyOCsoNjMmdCksW2MwLGMxXSk6KGMwPTIyNCsodD4+MTIpLGMxPTEyOCsodD4+NiY2MyksYzI9MTI4Kyg2MyZ0KSxbYzAsYzEsYzJdKX1mdW5jdGlvbiBzKHQpe2Zvcih2YXIgZT1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspZm9yKHZhciBzPXQuY2hhckNvZGVBdChpKSxvPW4ocyksYT0wO2E8by5sZW5ndGg7YSsrKWUucHVzaChvW2FdKTtyZXR1cm4gZX1mdW5jdGlvbiBvKHQsZSl7dGhpcy50eXBlTnVtYmVyPS0xLHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWw9ZSx0aGlzLm1vZHVsZXM9bnVsbCx0aGlzLm1vZHVsZUNvdW50PTAsdGhpcy5kYXRhQ2FjaGU9bnVsbCx0aGlzLnJzQmxvY2tzPW51bGwsdGhpcy50b3RhbERhdGFDb3VudD0tMSx0aGlzLmRhdGE9dCx0aGlzLnV0ZjhieXRlcz1zKHQpLHRoaXMubWFrZSgpfWZ1bmN0aW9uIGEodCxlKXtpZih2b2lkIDA9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcih0Lmxlbmd0aCtcIi9cIitlKTtmb3IodmFyIGk9MDtpPHQubGVuZ3RoJiYwPT10W2ldOylpKys7dGhpcy5udW09bmV3IEFycmF5KHQubGVuZ3RoLWkrZSk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aC1pO24rKyl0aGlzLm51bVtuXT10W24raV19ZnVuY3Rpb24gcigpe3RoaXMuYnVmZmVyPW5ldyBBcnJheSx0aGlzLmxlbmd0aD0wfWZ1bmN0aW9uIG4odCl7cmV0dXJuIHQ8MTI4P1t0XTp0PDIwNDg/KGMwPTE5MisodD4+NiksYzE9MTI4Kyg2MyZ0KSxbYzAsYzFdKTooYzA9MjI0Kyh0Pj4xMiksYzE9MTI4Kyh0Pj42JjYzKSxjMj0xMjgrKDYzJnQpLFtjMCxjMSxjMl0pfWZ1bmN0aW9uIHModCl7Zm9yKHZhciBlPVtdLGk9MDtpPHQubGVuZ3RoO2krKylmb3IodmFyIHM9dC5jaGFyQ29kZUF0KGkpLG89bihzKSxhPTA7YTxvLmxlbmd0aDthKyspZS5wdXNoKG9bYV0pO3JldHVybiBlfWZ1bmN0aW9uIG8odCxlKXt0aGlzLnR5cGVOdW1iZXI9LTEsdGhpcy5lcnJvckNvcnJlY3RMZXZlbD1lLHRoaXMubW9kdWxlcz1udWxsLHRoaXMubW9kdWxlQ291bnQ9MCx0aGlzLmRhdGFDYWNoZT1udWxsLHRoaXMucnNCbG9ja3M9bnVsbCx0aGlzLnRvdGFsRGF0YUNvdW50PS0xLHRoaXMuZGF0YT10LHRoaXMudXRmOGJ5dGVzPXModCksdGhpcy5tYWtlKCl9ZnVuY3Rpb24gYSh0LGUpe2lmKHZvaWQgMD09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKHQubGVuZ3RoK1wiL1wiK2UpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGgmJjA9PXRbaV07KWkrKzt0aGlzLm51bT1uZXcgQXJyYXkodC5sZW5ndGgtaStlKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoLWk7bisrKXRoaXMubnVtW25dPXRbbitpXX1mdW5jdGlvbiByKCl7dGhpcy5idWZmZXI9bmV3IEFycmF5LHRoaXMubGVuZ3RoPTB9dmFyIGM9aSgxKSx1PWkoMiksaD1bXSxkPWZ1bmN0aW9uKHQpe1wic3RyaW5nXCI9PXR5cGVvZiB0JiYodD17dGV4dDp0fSksdGhpcy5vcHRpb25zPWMuZXh0ZW5kKHt9LHt0ZXh0OlwiXCIscmVuZGVyOlwiXCIsd2lkdGg6MjU2LGhlaWdodDoyNTYsY29ycmVjdExldmVsOjMsYmFja2dyb3VuZDpcIiNmZmZmZmZcIixmb3JlZ3JvdW5kOlwiIzAwMDAwMFwifSx0KTtmb3IodmFyIGU9bnVsbCxpPTAsbj1oLmxlbmd0aDtpPG47aSsrKWlmKGhbaV0udGV4dD09dGhpcy5vcHRpb25zLnRleHQmJmhbaV0udGV4dC5jb3JyZWN0TGV2ZWw9PXRoaXMub3B0aW9ucy5jb3JyZWN0TGV2ZWwpe2U9aFtpXS5vYmo7YnJlYWt9aWYoaT09biYmKGU9bmV3IG8odGhpcy5vcHRpb25zLnRleHQsdGhpcy5vcHRpb25zLmNvcnJlY3RMZXZlbCksaC5wdXNoKHt0ZXh0OnRoaXMub3B0aW9ucy50ZXh0LGNvcnJlY3RMZXZlbDp0aGlzLm9wdGlvbnMuY29ycmVjdExldmVsLG9iajplfSkpLHRoaXMub3B0aW9ucy5yZW5kZXIpc3dpdGNoKHRoaXMub3B0aW9ucy5yZW5kZXIpe2Nhc2VcImNhbnZhc1wiOnJldHVybiB0aGlzLmNyZWF0ZUNhbnZhcyhlKTtjYXNlXCJ0YWJsZVwiOnJldHVybiB0aGlzLmNyZWF0ZVRhYmxlKGUpO2Nhc2VcInN2Z1wiOnJldHVybiB0aGlzLmNyZWF0ZVNWRyhlKTtkZWZhdWx0OnJldHVybiB0aGlzLmNyZWF0ZURlZmF1bHQoZSl9cmV0dXJuIHRoaXMuY3JlYXRlRGVmYXVsdChlKX07ZC5wcm90b3R5cGUuY3JlYXRlRGVmYXVsdD1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiBlLmdldENvbnRleHQ/dGhpcy5jcmVhdGVDYW52YXModCk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TJiZkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLFwic3ZnXCIpLmNyZWF0ZVNWR1JlY3Q/dGhpcy5jcmVhdGVTVkcodCk6dGhpcy5jcmVhdGVUYWJsZSh0KX0sZC5wcm90b3R5cGUuY3JlYXRlQ2FudmFzPWZ1bmN0aW9uKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD10aGlzLm9wdGlvbnMud2lkdGgsZS5oZWlnaHQ9dGhpcy5vcHRpb25zLmhlaWdodDtmb3IodmFyIGk9ZS5nZXRDb250ZXh0KFwiMmRcIiksbj0odGhpcy5vcHRpb25zLndpZHRoL3QuZ2V0TW9kdWxlQ291bnQoKSkudG9QcmVjaXNpb24oNCkscz10aGlzLm9wdGlvbnMuaGVpZ2h0L3QuZ2V0TW9kdWxlQ291bnQoKS50b1ByZWNpc2lvbig0KSxvPTA7bzx0LmdldE1vZHVsZUNvdW50KCk7bysrKWZvcih2YXIgYT0wO2E8dC5nZXRNb2R1bGVDb3VudCgpO2ErKyl7aS5maWxsU3R5bGU9dC5tb2R1bGVzW29dW2FdP3RoaXMub3B0aW9ucy5mb3JlZ3JvdW5kOnRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kO3ZhciByPU1hdGguY2VpbCgoYSsxKSpuKS1NYXRoLmZsb29yKGEqbiksbD1NYXRoLmNlaWwoKG8rMSkqbiktTWF0aC5mbG9vcihvKm4pO2kuZmlsbFJlY3QoTWF0aC5yb3VuZChhKm4pLE1hdGgucm91bmQobypzKSxyLGwpfXJldHVybiBlfSxkLnByb3RvdHlwZS5jcmVhdGVUYWJsZT1mdW5jdGlvbih0KXt2YXIgZT1bXTtlLnB1c2goJzx0YWJsZSBzdHlsZT1cImJvcmRlcjowcHg7IG1hcmdpbjowcHg7IHBhZGRpbmc6MHB4OyBib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7IGJhY2tncm91bmQtY29sb3I6ICcrdGhpcy5vcHRpb25zLmJhY2tncm91bmQrJztcIj4nKTt2YXIgaT0tMSxuPS0xLHM9LTEsbz0tMTtpPXM9TWF0aC5mbG9vcih0aGlzLm9wdGlvbnMud2lkdGgvdC5nZXRNb2R1bGVDb3VudCgpKSxuPW89TWF0aC5mbG9vcih0aGlzLm9wdGlvbnMuaGVpZ2h0L3QuZ2V0TW9kdWxlQ291bnQoKSksczw9MCYmKGk9dC5nZXRNb2R1bGVDb3VudCgpPDgwPzI6MSksbzw9MCYmKG49dC5nZXRNb2R1bGVDb3VudCgpPDgwPzI6MSksZm9yZVRkPSc8dGQgc3R5bGU9XCJib3JkZXI6MHB4OyBtYXJnaW46MHB4OyBwYWRkaW5nOjBweDsgd2lkdGg6JytpK1wicHg7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9ucy5mb3JlZ3JvdW5kKydcIj48L3RkPicsYmFja1RkPSc8dGQgc3R5bGU9XCJib3JkZXI6MHB4OyBtYXJnaW46MHB4OyBwYWRkaW5nOjBweDsgd2lkdGg6JytpK1wicHg7IGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kKydcIj48L3RkPicsbD10LmdldE1vZHVsZUNvdW50KCk7Zm9yKHZhciBhPTA7YTxsO2ErKyl7ZS5wdXNoKCc8dHIgc3R5bGU9XCJib3JkZXI6MHB4OyBtYXJnaW46MHB4OyBwYWRkaW5nOjBweDsgaGVpZ2h0OiAnK24rJ3B4XCI+Jyk7Zm9yKHZhciByPTA7cjxsO3IrKyllLnB1c2godC5tb2R1bGVzW2FdW3JdP2ZvcmVUZDpiYWNrVGQpO2UucHVzaChcIjwvdHI+XCIpfWUucHVzaChcIjwvdGFibGU+XCIpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3JldHVybiBjLmlubmVySFRNTD1lLmpvaW4oXCJcIiksYy5maXJzdENoaWxkfSxkLnByb3RvdHlwZS5jcmVhdGVTVkc9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGksbixzLG89dC5nZXRNb2R1bGVDb3VudCgpLGE9dGhpcy5vcHRpb25zLmhlaWdodC90aGlzLm9wdGlvbnMud2lkdGgscj0nPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCInK3RoaXMub3B0aW9ucy53aWR0aCsncHhcIiBoZWlnaHQ9XCInK3RoaXMub3B0aW9ucy5oZWlnaHQrJ3B4XCIgdmlld2JveD1cIjAgMCAnKzEwKm8rXCIgXCIrMTAqbyphKydcIj4nLGw9XCI8cGF0aCBcIix1PScgc3R5bGU9XCJzdHJva2Utd2lkdGg6MC41O3N0cm9rZTonK3RoaXMub3B0aW9ucy5mb3JlZ3JvdW5kK1wiO2ZpbGw6XCIrdGhpcy5vcHRpb25zLmZvcmVncm91bmQrJztcIj48L3BhdGg+JyxoPScgc3R5bGU9XCJzdHJva2Utd2lkdGg6MC41O3N0cm9rZTonK3RoaXMub3B0aW9ucy5iYWNrZ3JvdW5kK1wiO2ZpbGw6XCIrdGhpcy5vcHRpb25zLmJhY2tncm91bmQrJztcIj48L3BhdGg+JyxkPTA7ZDxvO2QrKylmb3IodmFyIHA9MDtwPG87cCsrKWU9MTAqcCxuPTEwKmQqYSxpPTEwKihwKzEpLHM9MTAqKGQrMSkqYSxyKz1sKydkPVwiTSAnK2UrXCIsXCIrbitcIiBMIFwiK2krXCIsXCIrbitcIiBMIFwiK2krXCIsXCIrcytcIiBMIFwiK2UrXCIsXCIrcysnIFpcIicscis9dC5tb2R1bGVzW2RdW3BdP3U6aDtyZXR1cm4gcis9XCI8L3N2Zz5cIixjKHIpWzBdfSxvLnByb3RvdHlwZT17Y29uc3RydWN0b3I6byxnZXRNb2R1bGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZHVsZUNvdW50fSxtYWtlOmZ1bmN0aW9uKCl7dGhpcy5nZXRSaWdodFR5cGUoKSx0aGlzLmRhdGFDYWNoZT10aGlzLmNyZWF0ZURhdGEoKSx0aGlzLmNyZWF0ZVFyY29kZSgpfSxtYWtlSW1wbDpmdW5jdGlvbih0KXt0aGlzLm1vZHVsZUNvdW50PTQqdGhpcy50eXBlTnVtYmVyKzE3LHRoaXMubW9kdWxlcz1uZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm1vZHVsZUNvdW50O2UrKyl0aGlzLm1vZHVsZXNbZV09bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO3RoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLDApLHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybih0aGlzLm1vZHVsZUNvdW50LTcsMCksdGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKDAsdGhpcy5tb2R1bGVDb3VudC03KSx0aGlzLnNldHVwUG9zaXRpb25BZGp1c3RQYXR0ZXJuKCksdGhpcy5zZXR1cFRpbWluZ1BhdHRlcm4oKSx0aGlzLnNldHVwVHlwZUluZm8oITAsdCksdGhpcy50eXBlTnVtYmVyPj03JiZ0aGlzLnNldHVwVHlwZU51bWJlcighMCksdGhpcy5tYXBEYXRhKHRoaXMuZGF0YUNhY2hlLHQpfSxzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xO2k8PTc7aSsrKWlmKCEodCtpPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9dCtpKSlmb3IodmFyIG49LTE7bjw9NztuKyspZStuPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9ZStufHwoMDw9aSYmaTw9NiYmKDA9PW58fDY9PW4pfHwwPD1uJiZuPD02JiYoMD09aXx8Nj09aSl8fDI8PWkmJmk8PTQmJjI8PW4mJm48PTQ/dGhpcy5tb2R1bGVzW3QraV1bZStuXT0hMDp0aGlzLm1vZHVsZXNbdCtpXVtlK25dPSExKX0sY3JlYXRlUXJjb2RlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT0wLGk9bnVsbCxuPTA7bjw4O24rKyl7dGhpcy5tYWtlSW1wbChuKTt2YXIgcz1mLmdldExvc3RQb2ludCh0aGlzKTsoMD09bnx8dD5zKSYmKHQ9cyxlPW4saT10aGlzLm1vZHVsZXMpfXRoaXMubW9kdWxlcz1pLHRoaXMuc2V0dXBUeXBlSW5mbyghMSxlKSx0aGlzLnR5cGVOdW1iZXI+PTcmJnRoaXMuc2V0dXBUeXBlTnVtYmVyKCExKX0sc2V0dXBUaW1pbmdQYXR0ZXJuOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PTg7dDx0aGlzLm1vZHVsZUNvdW50LTg7dCsrKW51bGw9PXRoaXMubW9kdWxlc1t0XVs2XSYmKHRoaXMubW9kdWxlc1t0XVs2XT10JTI9PTAsbnVsbD09dGhpcy5tb2R1bGVzWzZdW3RdJiYodGhpcy5tb2R1bGVzWzZdW3RdPXQlMj09MCkpfSxzZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybjpmdW5jdGlvbigpe2Zvcih2YXIgdD1mLmdldFBhdHRlcm5Qb3NpdGlvbih0aGlzLnR5cGVOdW1iZXIpLGU9MDtlPHQubGVuZ3RoO2UrKylmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7dmFyIG49dFtlXSxzPXRbaV07aWYobnVsbD09dGhpcy5tb2R1bGVzW25dW3NdKWZvcih2YXIgbz0tMjtvPD0yO28rKylmb3IodmFyIGE9LTI7YTw9MjthKyspbz09LTJ8fDI9PW98fGE9PS0yfHwyPT1hfHwwPT1vJiYwPT1hP3RoaXMubW9kdWxlc1tuK29dW3MrYV09ITA6dGhpcy5tb2R1bGVzW24rb11bcythXT0hMX19LHNldHVwVHlwZU51bWJlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9Zi5nZXRCQ0hUeXBlTnVtYmVyKHRoaXMudHlwZU51bWJlciksaT0wO2k8MTg7aSsrKXt2YXIgbj0hdCYmMT09KGU+PmkmMSk7dGhpcy5tb2R1bGVzW01hdGguZmxvb3IoaS8zKV1baSUzK3RoaXMubW9kdWxlQ291bnQtOC0zXT1uLHRoaXMubW9kdWxlc1tpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdW01hdGguZmxvb3IoaS8zKV09bn19LHNldHVwVHlwZUluZm86ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9cFt0aGlzLmVycm9yQ29ycmVjdExldmVsXTw8M3xlLG49Zi5nZXRCQ0hUeXBlSW5mbyhpKSxzPTA7czwxNTtzKyspe3ZhciBvPSF0JiYxPT0obj4+cyYxKTtzPDY/dGhpcy5tb2R1bGVzW3NdWzhdPW86czw4P3RoaXMubW9kdWxlc1tzKzFdWzhdPW86dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtMTUrc11bOF09bzt2YXIgbz0hdCYmMT09KG4+PnMmMSk7czw4P3RoaXMubW9kdWxlc1s4XVt0aGlzLm1vZHVsZUNvdW50LXMtMV09bzpzPDk/dGhpcy5tb2R1bGVzWzhdWzE1LXMtMSsxXT1vOnRoaXMubW9kdWxlc1s4XVsxNS1zLTFdPW99dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtOF1bOF09IXR9LGNyZWF0ZURhdGE6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgcixlPXRoaXMudHlwZU51bWJlcj45PzE2Ojg7dC5wdXQoNCw0KSx0LnB1dCh0aGlzLnV0ZjhieXRlcy5sZW5ndGgsZSk7Zm9yKHZhciBpPTAsbj10aGlzLnV0ZjhieXRlcy5sZW5ndGg7aTxuO2krKyl0LnB1dCh0aGlzLnV0ZjhieXRlc1tpXSw4KTtmb3IodC5sZW5ndGgrNDw9OCp0aGlzLnRvdGFsRGF0YUNvdW50JiZ0LnB1dCgwLDQpO3QubGVuZ3RoJTghPTA7KXQucHV0Qml0KCExKTtmb3IoOzspe2lmKHQubGVuZ3RoPj04KnRoaXMudG90YWxEYXRhQ291bnQpYnJlYWs7aWYodC5wdXQoby5QQUQwLDgpLHQubGVuZ3RoPj04KnRoaXMudG90YWxEYXRhQ291bnQpYnJlYWs7dC5wdXQoby5QQUQxLDgpfXJldHVybiB0aGlzLmNyZWF0ZUJ5dGVzKHQpfSxjcmVhdGVCeXRlczpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxpPTAsbj0wLHM9dGhpcy5yc0Jsb2NrLmxlbmd0aC8zLG89bmV3IEFycmF5LHI9MDtyPHM7cisrKWZvcih2YXIgbD10aGlzLnJzQmxvY2tbMypyKzBdLGM9dGhpcy5yc0Jsb2NrWzMqcisxXSx1PXRoaXMucnNCbG9ja1szKnIrMl0saD0wO2g8bDtoKyspby5wdXNoKFt1LGNdKTtmb3IodmFyIGQ9bmV3IEFycmF5KG8ubGVuZ3RoKSxwPW5ldyBBcnJheShvLmxlbmd0aCksbT0wO208by5sZW5ndGg7bSsrKXt2YXIgdj1vW21dWzBdLGc9b1ttXVsxXS12O2k9TWF0aC5tYXgoaSx2KSxuPU1hdGgubWF4KG4sZyksZFttXT1uZXcgQXJyYXkodik7Zm9yKHZhciByPTA7cjxkW21dLmxlbmd0aDtyKyspZFttXVtyXT0yNTUmdC5idWZmZXJbcitlXTtlKz12O3ZhciB5PWYuZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbChnKSx3PW5ldyBhKGRbbV0seS5nZXRMZW5ndGgoKS0xKSxiPXcubW9kKHkpO3BbbV09bmV3IEFycmF5KHkuZ2V0TGVuZ3RoKCktMSk7Zm9yKHZhciByPTA7cjxwW21dLmxlbmd0aDtyKyspe3ZhciBUPXIrYi5nZXRMZW5ndGgoKS1wW21dLmxlbmd0aDtwW21dW3JdPVQ+PTA/Yi5nZXQoVCk6MH19Zm9yKHZhciB4PW5ldyBBcnJheSh0aGlzLnRvdGFsRGF0YUNvdW50KSxDPTAscj0wO3I8aTtyKyspZm9yKHZhciBtPTA7bTxvLmxlbmd0aDttKyspcjxkW21dLmxlbmd0aCYmKHhbQysrXT1kW21dW3JdKTtmb3IodmFyIHI9MDtyPG47cisrKWZvcih2YXIgbT0wO208by5sZW5ndGg7bSsrKXI8cFttXS5sZW5ndGgmJih4W0MrK109cFttXVtyXSk7cmV0dXJuIHh9LG1hcERhdGE6ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9LTEsbj10aGlzLm1vZHVsZUNvdW50LTEscz03LG89MCxhPXRoaXMubW9kdWxlQ291bnQtMTthPjA7YS09Milmb3IoNj09YSYmYS0tOzspe2Zvcih2YXIgcj0wO3I8MjtyKyspaWYobnVsbD09dGhpcy5tb2R1bGVzW25dW2Etcl0pe3ZhciBsPSExO288dC5sZW5ndGgmJihsPTE9PSh0W29dPj4+cyYxKSk7dmFyIGM9Zi5nZXRNYXNrKGUsbixhLXIpO2MmJihsPSFsKSx0aGlzLm1vZHVsZXNbbl1bYS1yXT1sLHMtLSxzPT0tMSYmKG8rKyxzPTcpfWlmKG4rPWksbjwwfHx0aGlzLm1vZHVsZUNvdW50PD1uKXtuLT1pLGk9LWk7YnJlYWt9fX19LG8uUEFEMD0yMzYsby5QQUQxPTE3O2Zvcih2YXIgcD1bMSwwLDMsMl0sbT17UEFUVEVSTjAwMDowLFBBVFRFUk4wMDE6MSxQQVRURVJOMDEwOjIsUEFUVEVSTjAxMTozLFBBVFRFUk4xMDA6NCxQQVRURVJOMTAxOjUsUEFUVEVSTjExMDo2LFBBVFRFUk4xMTE6N30sZj17UEFUVEVSTl9QT1NJVElPTl9UQUJMRTpbW10sWzYsMThdLFs2LDIyXSxbNiwyNl0sWzYsMzBdLFs2LDM0XSxbNiwyMiwzOF0sWzYsMjQsNDJdLFs2LDI2LDQ2XSxbNiwyOCw1MF0sWzYsMzAsNTRdLFs2LDMyLDU4XSxbNiwzNCw2Ml0sWzYsMjYsNDYsNjZdLFs2LDI2LDQ4LDcwXSxbNiwyNiw1MCw3NF0sWzYsMzAsNTQsNzhdLFs2LDMwLDU2LDgyXSxbNiwzMCw1OCw4Nl0sWzYsMzQsNjIsOTBdLFs2LDI4LDUwLDcyLDk0XSxbNiwyNiw1MCw3NCw5OF0sWzYsMzAsNTQsNzgsMTAyXSxbNiwyOCw1NCw4MCwxMDZdLFs2LDMyLDU4LDg0LDExMF0sWzYsMzAsNTgsODYsMTE0XSxbNiwzNCw2Miw5MCwxMThdLFs2LDI2LDUwLDc0LDk4LDEyMl0sWzYsMzAsNTQsNzgsMTAyLDEyNl0sWzYsMjYsNTIsNzgsMTA0LDEzMF0sWzYsMzAsNTYsODIsMTA4LDEzNF0sWzYsMzQsNjAsODYsMTEyLDEzOF0sWzYsMzAsNTgsODYsMTE0LDE0Ml0sWzYsMzQsNjIsOTAsMTE4LDE0Nl0sWzYsMzAsNTQsNzgsMTAyLDEyNiwxNTBdLFs2LDI0LDUwLDc2LDEwMiwxMjgsMTU0XSxbNiwyOCw1NCw4MCwxMDYsMTMyLDE1OF0sWzYsMzIsNTgsODQsMTEwLDEzNiwxNjJdLFs2LDI2LDU0LDgyLDExMCwxMzgsMTY2XSxbNiwzMCw1OCw4NiwxMTQsMTQyLDE3MF1dLEcxNToxMzM1LEcxODo3OTczLEcxNV9NQVNLOjIxNTIyLGdldEJDSFR5cGVJbmZvOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10PDwxMDtmLmdldEJDSERpZ2l0KGUpLWYuZ2V0QkNIRGlnaXQoZi5HMTUpPj0wOyllXj1mLkcxNTw8Zi5nZXRCQ0hEaWdpdChlKS1mLmdldEJDSERpZ2l0KGYuRzE1KTtyZXR1cm4odDw8MTB8ZSleZi5HMTVfTUFTS30sZ2V0QkNIVHlwZU51bWJlcjpmdW5jdGlvbih0KXtmb3IodmFyIGU9dDw8MTI7Zi5nZXRCQ0hEaWdpdChlKS1mLmdldEJDSERpZ2l0KGYuRzE4KT49MDspZV49Zi5HMTg8PGYuZ2V0QkNIRGlnaXQoZSktZi5nZXRCQ0hEaWdpdChmLkcxOCk7cmV0dXJuIHQ8PDEyfGV9LGdldEJDSERpZ2l0OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wOzAhPXQ7KWUrKyx0Pj4+PTE7cmV0dXJuIGV9LGdldFBhdHRlcm5Qb3NpdGlvbjpmdW5jdGlvbih0KXtyZXR1cm4gZi5QQVRURVJOX1BPU0lUSU9OX1RBQkxFW3QtMV19LGdldE1hc2s6ZnVuY3Rpb24odCxlLGkpe3N3aXRjaCh0KXtjYXNlIG0uUEFUVEVSTjAwMDpyZXR1cm4oZStpKSUyPT0wO2Nhc2UgbS5QQVRURVJOMDAxOnJldHVybiBlJTI9PTA7Y2FzZSBtLlBBVFRFUk4wMTA6cmV0dXJuIGklMz09MDtjYXNlIG0uUEFUVEVSTjAxMTpyZXR1cm4oZStpKSUzPT0wO2Nhc2UgbS5QQVRURVJOMTAwOnJldHVybihNYXRoLmZsb29yKGUvMikrTWF0aC5mbG9vcihpLzMpKSUyPT0wO2Nhc2UgbS5QQVRURVJOMTAxOnJldHVybiBlKmklMitlKmklMz09MDtjYXNlIG0uUEFUVEVSTjExMDpyZXR1cm4oZSppJTIrZSppJTMpJTI9PTA7Y2FzZSBtLlBBVFRFUk4xMTE6cmV0dXJuKGUqaSUzKyhlK2kpJTIpJTI9PTA7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJiYWQgbWFza1BhdHRlcm46XCIrdCl9fSxnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgYShbMV0sMCksaT0wO2k8dDtpKyspZT1lLm11bHRpcGx5KG5ldyBhKFsxLHYuZ2V4cChpKV0sMCkpO3JldHVybiBlfSxnZXRMb3N0UG9pbnQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuZ2V0TW9kdWxlQ291bnQoKSxpPTAsbj0wLHM9MDtzPGU7cysrKWZvcih2YXIgbz0wLGE9dC5tb2R1bGVzW3NdWzBdLHI9MDtyPGU7cisrKXt2YXIgbD10Lm1vZHVsZXNbc11bcl07aWYocjxlLTYmJmwmJiF0Lm1vZHVsZXNbc11bcisxXSYmdC5tb2R1bGVzW3NdW3IrMl0mJnQubW9kdWxlc1tzXVtyKzNdJiZ0Lm1vZHVsZXNbc11bcis0XSYmIXQubW9kdWxlc1tzXVtyKzVdJiZ0Lm1vZHVsZXNbc11bcis2XSYmKHI8ZS0xMD90Lm1vZHVsZXNbc11bcis3XSYmdC5tb2R1bGVzW3NdW3IrOF0mJnQubW9kdWxlc1tzXVtyKzldJiZ0Lm1vZHVsZXNbc11bcisxMF0mJihpKz00MCk6cj4zJiZ0Lm1vZHVsZXNbc11bci0xXSYmdC5tb2R1bGVzW3NdW3ItMl0mJnQubW9kdWxlc1tzXVtyLTNdJiZ0Lm1vZHVsZXNbc11bci00XSYmKGkrPTQwKSksczxlLTEmJnI8ZS0xKXt2YXIgYz0wO2wmJmMrKyx0Lm1vZHVsZXNbcysxXVtyXSYmYysrLHQubW9kdWxlc1tzXVtyKzFdJiZjKyssdC5tb2R1bGVzW3MrMV1bcisxXSYmYysrLDAhPWMmJjQhPWN8fChpKz0zKX1hXmw/bysrOihhPWwsbz49NSYmKGkrPTMrby01KSxvPTEpLGwmJm4rK31mb3IodmFyIHI9MDtyPGU7cisrKWZvcih2YXIgbz0wLGE9dC5tb2R1bGVzWzBdW3JdLHM9MDtzPGU7cysrKXt2YXIgbD10Lm1vZHVsZXNbc11bcl07czxlLTYmJmwmJiF0Lm1vZHVsZXNbcysxXVtyXSYmdC5tb2R1bGVzW3MrMl1bcl0mJnQubW9kdWxlc1tzKzNdW3JdJiZ0Lm1vZHVsZXNbcys0XVtyXSYmIXQubW9kdWxlc1tzKzVdW3JdJiZ0Lm1vZHVsZXNbcys2XVtyXSYmKHM8ZS0xMD90Lm1vZHVsZXNbcys3XVtyXSYmdC5tb2R1bGVzW3MrOF1bcl0mJnQubW9kdWxlc1tzKzldW3JdJiZ0Lm1vZHVsZXNbcysxMF1bcl0mJihpKz00MCk6cz4zJiZ0Lm1vZHVsZXNbcy0xXVtyXSYmdC5tb2R1bGVzW3MtMl1bcl0mJnQubW9kdWxlc1tzLTNdW3JdJiZ0Lm1vZHVsZXNbcy00XVtyXSYmKGkrPTQwKSksXHJcbmFebD9vKys6KGE9bCxvPj01JiYoaSs9MytvLTUpLG89MSl9dmFyIHU9TWF0aC5hYnMoMTAwKm4vZS9lLTUwKS81O3JldHVybiBpKz0xMCp1fX0sdj17Z2xvZzpmdW5jdGlvbih0KXtpZih0PDEpdGhyb3cgbmV3IEVycm9yKFwiZ2xvZyhcIit0K1wiKVwiKTtyZXR1cm4gdi5MT0dfVEFCTEVbdF19LGdleHA6ZnVuY3Rpb24odCl7Zm9yKDt0PDA7KXQrPTI1NTtmb3IoO3Q+PTI1NjspdC09MjU1O3JldHVybiB2LkVYUF9UQUJMRVt0XX0sRVhQX1RBQkxFOm5ldyBBcnJheSgyNTYpLExPR19UQUJMRTpuZXcgQXJyYXkoMjU2KX0sZz0wO2c8ODtnKyspdi5FWFBfVEFCTEVbZ109MTw8Zztmb3IodmFyIGc9ODtnPDI1NjtnKyspdi5FWFBfVEFCTEVbZ109di5FWFBfVEFCTEVbZy00XV52LkVYUF9UQUJMRVtnLTVdXnYuRVhQX1RBQkxFW2ctNl1edi5FWFBfVEFCTEVbZy04XTtmb3IodmFyIGc9MDtnPDI1NTtnKyspdi5MT0dfVEFCTEVbdi5FWFBfVEFCTEVbZ11dPWc7YS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5udW1bdF19LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm51bS5sZW5ndGh9LG11bHRpcGx5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKSt0LmdldExlbmd0aCgpLTEpLGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKWZvcih2YXIgbj0wO248dC5nZXRMZW5ndGgoKTtuKyspZVtpK25dXj12LmdleHAodi5nbG9nKHRoaXMuZ2V0KGkpKSt2Lmdsb2codC5nZXQobikpKTtyZXR1cm4gbmV3IGEoZSwwKX0sbW9kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGVuZ3RoKCksaT10LmdldExlbmd0aCgpO2lmKGUtaTwwKXJldHVybiB0aGlzO2Zvcih2YXIgbj1uZXcgQXJyYXkoZSkscz0wO3M8ZTtzKyspbltzXT10aGlzLmdldChzKTtmb3IoO24ubGVuZ3RoPj1pOyl7Zm9yKHZhciBvPXYuZ2xvZyhuWzBdKS12Lmdsb2codC5nZXQoMCkpLHM9MDtzPHQuZ2V0TGVuZ3RoKCk7cysrKW5bc11ePXYuZ2V4cCh2Lmdsb2codC5nZXQocykpK28pO2Zvcig7MD09blswXTspbi5zaGlmdCgpfXJldHVybiBuZXcgYShuLDApfX07dmFyIHk9W1sxLDI2LDE5XSxbMSwyNiwxNl0sWzEsMjYsMTNdLFsxLDI2LDldLFsxLDQ0LDM0XSxbMSw0NCwyOF0sWzEsNDQsMjJdLFsxLDQ0LDE2XSxbMSw3MCw1NV0sWzEsNzAsNDRdLFsyLDM1LDE3XSxbMiwzNSwxM10sWzEsMTAwLDgwXSxbMiw1MCwzMl0sWzIsNTAsMjRdLFs0LDI1LDldLFsxLDEzNCwxMDhdLFsyLDY3LDQzXSxbMiwzMywxNSwyLDM0LDE2XSxbMiwzMywxMSwyLDM0LDEyXSxbMiw4Niw2OF0sWzQsNDMsMjddLFs0LDQzLDE5XSxbNCw0MywxNV0sWzIsOTgsNzhdLFs0LDQ5LDMxXSxbMiwzMiwxNCw0LDMzLDE1XSxbNCwzOSwxMywxLDQwLDE0XSxbMiwxMjEsOTddLFsyLDYwLDM4LDIsNjEsMzldLFs0LDQwLDE4LDIsNDEsMTldLFs0LDQwLDE0LDIsNDEsMTVdLFsyLDE0NiwxMTZdLFszLDU4LDM2LDIsNTksMzddLFs0LDM2LDE2LDQsMzcsMTddLFs0LDM2LDEyLDQsMzcsMTNdLFsyLDg2LDY4LDIsODcsNjldLFs0LDY5LDQzLDEsNzAsNDRdLFs2LDQzLDE5LDIsNDQsMjBdLFs2LDQzLDE1LDIsNDQsMTZdLFs0LDEwMSw4MV0sWzEsODAsNTAsNCw4MSw1MV0sWzQsNTAsMjIsNCw1MSwyM10sWzMsMzYsMTIsOCwzNywxM10sWzIsMTE2LDkyLDIsMTE3LDkzXSxbNiw1OCwzNiwyLDU5LDM3XSxbNCw0NiwyMCw2LDQ3LDIxXSxbNyw0MiwxNCw0LDQzLDE1XSxbNCwxMzMsMTA3XSxbOCw1OSwzNywxLDYwLDM4XSxbOCw0NCwyMCw0LDQ1LDIxXSxbMTIsMzMsMTEsNCwzNCwxMl0sWzMsMTQ1LDExNSwxLDE0NiwxMTZdLFs0LDY0LDQwLDUsNjUsNDFdLFsxMSwzNiwxNiw1LDM3LDE3XSxbMTEsMzYsMTIsNSwzNywxM10sWzUsMTA5LDg3LDEsMTEwLDg4XSxbNSw2NSw0MSw1LDY2LDQyXSxbNSw1NCwyNCw3LDU1LDI1XSxbMTEsMzYsMTJdLFs1LDEyMiw5OCwxLDEyMyw5OV0sWzcsNzMsNDUsMyw3NCw0Nl0sWzE1LDQzLDE5LDIsNDQsMjBdLFszLDQ1LDE1LDEzLDQ2LDE2XSxbMSwxMzUsMTA3LDUsMTM2LDEwOF0sWzEwLDc0LDQ2LDEsNzUsNDddLFsxLDUwLDIyLDE1LDUxLDIzXSxbMiw0MiwxNCwxNyw0MywxNV0sWzUsMTUwLDEyMCwxLDE1MSwxMjFdLFs5LDY5LDQzLDQsNzAsNDRdLFsxNyw1MCwyMiwxLDUxLDIzXSxbMiw0MiwxNCwxOSw0MywxNV0sWzMsMTQxLDExMyw0LDE0MiwxMTRdLFszLDcwLDQ0LDExLDcxLDQ1XSxbMTcsNDcsMjEsNCw0OCwyMl0sWzksMzksMTMsMTYsNDAsMTRdLFszLDEzNSwxMDcsNSwxMzYsMTA4XSxbMyw2Nyw0MSwxMyw2OCw0Ml0sWzE1LDU0LDI0LDUsNTUsMjVdLFsxNSw0MywxNSwxMCw0NCwxNl0sWzQsMTQ0LDExNiw0LDE0NSwxMTddLFsxNyw2OCw0Ml0sWzE3LDUwLDIyLDYsNTEsMjNdLFsxOSw0NiwxNiw2LDQ3LDE3XSxbMiwxMzksMTExLDcsMTQwLDExMl0sWzE3LDc0LDQ2XSxbNyw1NCwyNCwxNiw1NSwyNV0sWzM0LDM3LDEzXSxbNCwxNTEsMTIxLDUsMTUyLDEyMl0sWzQsNzUsNDcsMTQsNzYsNDhdLFsxMSw1NCwyNCwxNCw1NSwyNV0sWzE2LDQ1LDE1LDE0LDQ2LDE2XSxbNiwxNDcsMTE3LDQsMTQ4LDExOF0sWzYsNzMsNDUsMTQsNzQsNDZdLFsxMSw1NCwyNCwxNiw1NSwyNV0sWzMwLDQ2LDE2LDIsNDcsMTddLFs4LDEzMiwxMDYsNCwxMzMsMTA3XSxbOCw3NSw0NywxMyw3Niw0OF0sWzcsNTQsMjQsMjIsNTUsMjVdLFsyMiw0NSwxNSwxMyw0NiwxNl0sWzEwLDE0MiwxMTQsMiwxNDMsMTE1XSxbMTksNzQsNDYsNCw3NSw0N10sWzI4LDUwLDIyLDYsNTEsMjNdLFszMyw0NiwxNiw0LDQ3LDE3XSxbOCwxNTIsMTIyLDQsMTUzLDEyM10sWzIyLDczLDQ1LDMsNzQsNDZdLFs4LDUzLDIzLDI2LDU0LDI0XSxbMTIsNDUsMTUsMjgsNDYsMTZdLFszLDE0NywxMTcsMTAsMTQ4LDExOF0sWzMsNzMsNDUsMjMsNzQsNDZdLFs0LDU0LDI0LDMxLDU1LDI1XSxbMTEsNDUsMTUsMzEsNDYsMTZdLFs3LDE0NiwxMTYsNywxNDcsMTE3XSxbMjEsNzMsNDUsNyw3NCw0Nl0sWzEsNTMsMjMsMzcsNTQsMjRdLFsxOSw0NSwxNSwyNiw0NiwxNl0sWzUsMTQ1LDExNSwxMCwxNDYsMTE2XSxbMTksNzUsNDcsMTAsNzYsNDhdLFsxNSw1NCwyNCwyNSw1NSwyNV0sWzIzLDQ1LDE1LDI1LDQ2LDE2XSxbMTMsMTQ1LDExNSwzLDE0NiwxMTZdLFsyLDc0LDQ2LDI5LDc1LDQ3XSxbNDIsNTQsMjQsMSw1NSwyNV0sWzIzLDQ1LDE1LDI4LDQ2LDE2XSxbMTcsMTQ1LDExNV0sWzEwLDc0LDQ2LDIzLDc1LDQ3XSxbMTAsNTQsMjQsMzUsNTUsMjVdLFsxOSw0NSwxNSwzNSw0NiwxNl0sWzE3LDE0NSwxMTUsMSwxNDYsMTE2XSxbMTQsNzQsNDYsMjEsNzUsNDddLFsyOSw1NCwyNCwxOSw1NSwyNV0sWzExLDQ1LDE1LDQ2LDQ2LDE2XSxbMTMsMTQ1LDExNSw2LDE0NiwxMTZdLFsxNCw3NCw0NiwyMyw3NSw0N10sWzQ0LDU0LDI0LDcsNTUsMjVdLFs1OSw0NiwxNiwxLDQ3LDE3XSxbMTIsMTUxLDEyMSw3LDE1MiwxMjJdLFsxMiw3NSw0NywyNiw3Niw0OF0sWzM5LDU0LDI0LDE0LDU1LDI1XSxbMjIsNDUsMTUsNDEsNDYsMTZdLFs2LDE1MSwxMjEsMTQsMTUyLDEyMl0sWzYsNzUsNDcsMzQsNzYsNDhdLFs0Niw1NCwyNCwxMCw1NSwyNV0sWzIsNDUsMTUsNjQsNDYsMTZdLFsxNywxNTIsMTIyLDQsMTUzLDEyM10sWzI5LDc0LDQ2LDE0LDc1LDQ3XSxbNDksNTQsMjQsMTAsNTUsMjVdLFsyNCw0NSwxNSw0Niw0NiwxNl0sWzQsMTUyLDEyMiwxOCwxNTMsMTIzXSxbMTMsNzQsNDYsMzIsNzUsNDddLFs0OCw1NCwyNCwxNCw1NSwyNV0sWzQyLDQ1LDE1LDMyLDQ2LDE2XSxbMjAsMTQ3LDExNyw0LDE0OCwxMThdLFs0MCw3NSw0Nyw3LDc2LDQ4XSxbNDMsNTQsMjQsMjIsNTUsMjVdLFsxMCw0NSwxNSw2Nyw0NiwxNl0sWzE5LDE0OCwxMTgsNiwxNDksMTE5XSxbMTgsNzUsNDcsMzEsNzYsNDhdLFszNCw1NCwyNCwzNCw1NSwyNV0sWzIwLDQ1LDE1LDYxLDQ2LDE2XV07by5wcm90b3R5cGUuZ2V0UmlnaHRUeXBlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTE7dDw0MTt0Kyspe3ZhciBlPXlbNCoodC0xKSt0aGlzLmVycm9yQ29ycmVjdExldmVsXTtpZih2b2lkIDA9PWUpdGhyb3cgbmV3IEVycm9yKFwiYmFkIHJzIGJsb2NrIEAgdHlwZU51bWJlcjpcIit0K1wiL2Vycm9yQ29ycmVjdExldmVsOlwiK3RoaXMuZXJyb3JDb3JyZWN0TGV2ZWwpO2Zvcih2YXIgaT1lLmxlbmd0aC8zLG49MCxzPTA7czxpO3MrKyl7dmFyIG89ZVszKnMrMF0sYT1lWzMqcysyXTtuKz1hKm99dmFyIHI9dD45PzI6MTtpZih0aGlzLnV0ZjhieXRlcy5sZW5ndGgrcjxufHw0MD09dCl7dGhpcy50eXBlTnVtYmVyPXQsdGhpcy5yc0Jsb2NrPWUsdGhpcy50b3RhbERhdGFDb3VudD1uO2JyZWFrfX19LHIucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcih0LzgpO3JldHVybiB0aGlzLmJ1ZmZlcltlXT4+PjctdCU4JjF9LHB1dDpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wO2k8ZTtpKyspdGhpcy5wdXRCaXQodD4+PmUtaS0xJjEpfSxwdXRCaXQ6ZnVuY3Rpb24odCl7dmFyIGU9TWF0aC5mbG9vcih0aGlzLmxlbmd0aC84KTt0aGlzLmJ1ZmZlci5sZW5ndGg8PWUmJnRoaXMuYnVmZmVyLnB1c2goMCksdCYmKHRoaXMuYnVmZmVyW2VdfD0xMjg+Pj50aGlzLmxlbmd0aCU4KSx0aGlzLmxlbmd0aCsrfX0sby5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm8sZ2V0TW9kdWxlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2R1bGVDb3VudH0sbWFrZTpmdW5jdGlvbigpe3RoaXMuZ2V0UmlnaHRUeXBlKCksdGhpcy5kYXRhQ2FjaGU9dGhpcy5jcmVhdGVEYXRhKCksdGhpcy5jcmVhdGVRcmNvZGUoKX0sbWFrZUltcGw6ZnVuY3Rpb24odCl7dGhpcy5tb2R1bGVDb3VudD00KnRoaXMudHlwZU51bWJlcisxNyx0aGlzLm1vZHVsZXM9bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO2Zvcih2YXIgZT0wO2U8dGhpcy5tb2R1bGVDb3VudDtlKyspdGhpcy5tb2R1bGVzW2VdPW5ldyBBcnJheSh0aGlzLm1vZHVsZUNvdW50KTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCwwKSx0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4odGhpcy5tb2R1bGVDb3VudC03LDApLHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLHRoaXMubW9kdWxlQ291bnQtNyksdGhpcy5zZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybigpLHRoaXMuc2V0dXBUaW1pbmdQYXR0ZXJuKCksdGhpcy5zZXR1cFR5cGVJbmZvKCEwLHQpLHRoaXMudHlwZU51bWJlcj49NyYmdGhpcy5zZXR1cFR5cGVOdW1iZXIoITApLHRoaXMubWFwRGF0YSh0aGlzLmRhdGFDYWNoZSx0KX0sc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybjpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0tMTtpPD03O2krKylpZighKHQraTw9LTF8fHRoaXMubW9kdWxlQ291bnQ8PXQraSkpZm9yKHZhciBuPS0xO248PTc7bisrKWUrbjw9LTF8fHRoaXMubW9kdWxlQ291bnQ8PWUrbnx8KDA8PWkmJmk8PTYmJigwPT1ufHw2PT1uKXx8MDw9biYmbjw9NiYmKDA9PWl8fDY9PWkpfHwyPD1pJiZpPD00JiYyPD1uJiZuPD00P3RoaXMubW9kdWxlc1t0K2ldW2Urbl09ITA6dGhpcy5tb2R1bGVzW3QraV1bZStuXT0hMSl9LGNyZWF0ZVFyY29kZTpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGU9MCxpPW51bGwsbj0wO248ODtuKyspe3RoaXMubWFrZUltcGwobik7dmFyIHM9Zi5nZXRMb3N0UG9pbnQodGhpcyk7KDA9PW58fHQ+cykmJih0PXMsZT1uLGk9dGhpcy5tb2R1bGVzKX10aGlzLm1vZHVsZXM9aSx0aGlzLnNldHVwVHlwZUluZm8oITEsZSksdGhpcy50eXBlTnVtYmVyPj03JiZ0aGlzLnNldHVwVHlwZU51bWJlcighMSl9LHNldHVwVGltaW5nUGF0dGVybjpmdW5jdGlvbigpe2Zvcih2YXIgdD04O3Q8dGhpcy5tb2R1bGVDb3VudC04O3QrKyludWxsPT10aGlzLm1vZHVsZXNbdF1bNl0mJih0aGlzLm1vZHVsZXNbdF1bNl09dCUyPT0wLG51bGw9PXRoaXMubW9kdWxlc1s2XVt0XSYmKHRoaXMubW9kdWxlc1s2XVt0XT10JTI9PTApKX0sc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9Zi5nZXRQYXR0ZXJuUG9zaXRpb24odGhpcy50eXBlTnVtYmVyKSxlPTA7ZTx0Lmxlbmd0aDtlKyspZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXRbZV0scz10W2ldO2lmKG51bGw9PXRoaXMubW9kdWxlc1tuXVtzXSlmb3IodmFyIG89LTI7bzw9MjtvKyspZm9yKHZhciBhPS0yO2E8PTI7YSsrKW89PS0yfHwyPT1vfHxhPT0tMnx8Mj09YXx8MD09byYmMD09YT90aGlzLm1vZHVsZXNbbitvXVtzK2FdPSEwOnRoaXMubW9kdWxlc1tuK29dW3MrYV09ITF9fSxzZXR1cFR5cGVOdW1iZXI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPWYuZ2V0QkNIVHlwZU51bWJlcih0aGlzLnR5cGVOdW1iZXIpLGk9MDtpPDE4O2krKyl7dmFyIG49IXQmJjE9PShlPj5pJjEpO3RoaXMubW9kdWxlc1tNYXRoLmZsb29yKGkvMyldW2klMyt0aGlzLm1vZHVsZUNvdW50LTgtM109bix0aGlzLm1vZHVsZXNbaSUzK3RoaXMubW9kdWxlQ291bnQtOC0zXVtNYXRoLmZsb29yKGkvMyldPW59fSxzZXR1cFR5cGVJbmZvOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPXBbdGhpcy5lcnJvckNvcnJlY3RMZXZlbF08PDN8ZSxuPWYuZ2V0QkNIVHlwZUluZm8oaSkscz0wO3M8MTU7cysrKXt2YXIgbz0hdCYmMT09KG4+PnMmMSk7czw2P3RoaXMubW9kdWxlc1tzXVs4XT1vOnM8OD90aGlzLm1vZHVsZXNbcysxXVs4XT1vOnRoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LTE1K3NdWzhdPW87dmFyIG89IXQmJjE9PShuPj5zJjEpO3M8OD90aGlzLm1vZHVsZXNbOF1bdGhpcy5tb2R1bGVDb3VudC1zLTFdPW86czw5P3RoaXMubW9kdWxlc1s4XVsxNS1zLTErMV09bzp0aGlzLm1vZHVsZXNbOF1bMTUtcy0xXT1vfXRoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LThdWzhdPSF0fSxjcmVhdGVEYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHIsZT10aGlzLnR5cGVOdW1iZXI+OT8xNjo4O3QucHV0KDQsNCksdC5wdXQodGhpcy51dGY4Ynl0ZXMubGVuZ3RoLGUpO2Zvcih2YXIgaT0wLG49dGhpcy51dGY4Ynl0ZXMubGVuZ3RoO2k8bjtpKyspdC5wdXQodGhpcy51dGY4Ynl0ZXNbaV0sOCk7Zm9yKHQubGVuZ3RoKzQ8PTgqdGhpcy50b3RhbERhdGFDb3VudCYmdC5wdXQoMCw0KTt0Lmxlbmd0aCU4IT0wOyl0LnB1dEJpdCghMSk7Zm9yKDs7KXtpZih0Lmxlbmd0aD49OCp0aGlzLnRvdGFsRGF0YUNvdW50KWJyZWFrO2lmKHQucHV0KG8uUEFEMCw4KSx0Lmxlbmd0aD49OCp0aGlzLnRvdGFsRGF0YUNvdW50KWJyZWFrO3QucHV0KG8uUEFEMSw4KX1yZXR1cm4gdGhpcy5jcmVhdGVCeXRlcyh0KX0sY3JlYXRlQnl0ZXM6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT0wLG49MCxzPXRoaXMucnNCbG9jay5sZW5ndGgvMyxvPW5ldyBBcnJheSxyPTA7cjxzO3IrKylmb3IodmFyIGw9dGhpcy5yc0Jsb2NrWzMqciswXSxjPXRoaXMucnNCbG9ja1szKnIrMV0sdT10aGlzLnJzQmxvY2tbMypyKzJdLGg9MDtoPGw7aCsrKW8ucHVzaChbdSxjXSk7Zm9yKHZhciBkPW5ldyBBcnJheShvLmxlbmd0aCkscD1uZXcgQXJyYXkoby5sZW5ndGgpLG09MDttPG8ubGVuZ3RoO20rKyl7dmFyIHY9b1ttXVswXSxnPW9bbV1bMV0tdjtpPU1hdGgubWF4KGksdiksbj1NYXRoLm1heChuLGcpLGRbbV09bmV3IEFycmF5KHYpO2Zvcih2YXIgcj0wO3I8ZFttXS5sZW5ndGg7cisrKWRbbV1bcl09MjU1JnQuYnVmZmVyW3IrZV07ZSs9djt2YXIgeT1mLmdldEVycm9yQ29ycmVjdFBvbHlub21pYWwoZyksdz1uZXcgYShkW21dLHkuZ2V0TGVuZ3RoKCktMSksYj13Lm1vZCh5KTtwW21dPW5ldyBBcnJheSh5LmdldExlbmd0aCgpLTEpO2Zvcih2YXIgcj0wO3I8cFttXS5sZW5ndGg7cisrKXt2YXIgVD1yK2IuZ2V0TGVuZ3RoKCktcFttXS5sZW5ndGg7cFttXVtyXT1UPj0wP2IuZ2V0KFQpOjB9fWZvcih2YXIgeD1uZXcgQXJyYXkodGhpcy50b3RhbERhdGFDb3VudCksQz0wLHI9MDtyPGk7cisrKWZvcih2YXIgbT0wO208by5sZW5ndGg7bSsrKXI8ZFttXS5sZW5ndGgmJih4W0MrK109ZFttXVtyXSk7Zm9yKHZhciByPTA7cjxuO3IrKylmb3IodmFyIG09MDttPG8ubGVuZ3RoO20rKylyPHBbbV0ubGVuZ3RoJiYoeFtDKytdPXBbbV1bcl0pO3JldHVybiB4fSxtYXBEYXRhOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPS0xLG49dGhpcy5tb2R1bGVDb3VudC0xLHM9NyxvPTAsYT10aGlzLm1vZHVsZUNvdW50LTE7YT4wO2EtPTIpZm9yKDY9PWEmJmEtLTs7KXtmb3IodmFyIHI9MDtyPDI7cisrKWlmKG51bGw9PXRoaXMubW9kdWxlc1tuXVthLXJdKXt2YXIgbD0hMTtvPHQubGVuZ3RoJiYobD0xPT0odFtvXT4+PnMmMSkpO3ZhciBjPWYuZ2V0TWFzayhlLG4sYS1yKTtjJiYobD0hbCksdGhpcy5tb2R1bGVzW25dW2Etcl09bCxzLS0scz09LTEmJihvKysscz03KX1pZihuKz1pLG48MHx8dGhpcy5tb2R1bGVDb3VudDw9bil7bi09aSxpPS1pO2JyZWFrfX19fSxvLlBBRDA9MjM2LG8uUEFEMT0xNztmb3IodmFyIHA9WzEsMCwzLDJdLG09e1BBVFRFUk4wMDA6MCxQQVRURVJOMDAxOjEsUEFUVEVSTjAxMDoyLFBBVFRFUk4wMTE6MyxQQVRURVJOMTAwOjQsUEFUVEVSTjEwMTo1LFBBVFRFUk4xMTA6NixQQVRURVJOMTExOjd9LGY9e1BBVFRFUk5fUE9TSVRJT05fVEFCTEU6W1tdLFs2LDE4XSxbNiwyMl0sWzYsMjZdLFs2LDMwXSxbNiwzNF0sWzYsMjIsMzhdLFs2LDI0LDQyXSxbNiwyNiw0Nl0sWzYsMjgsNTBdLFs2LDMwLDU0XSxbNiwzMiw1OF0sWzYsMzQsNjJdLFs2LDI2LDQ2LDY2XSxbNiwyNiw0OCw3MF0sWzYsMjYsNTAsNzRdLFs2LDMwLDU0LDc4XSxbNiwzMCw1Niw4Ml0sWzYsMzAsNTgsODZdLFs2LDM0LDYyLDkwXSxbNiwyOCw1MCw3Miw5NF0sWzYsMjYsNTAsNzQsOThdLFs2LDMwLDU0LDc4LDEwMl0sWzYsMjgsNTQsODAsMTA2XSxbNiwzMiw1OCw4NCwxMTBdLFs2LDMwLDU4LDg2LDExNF0sWzYsMzQsNjIsOTAsMTE4XSxbNiwyNiw1MCw3NCw5OCwxMjJdLFs2LDMwLDU0LDc4LDEwMiwxMjZdLFs2LDI2LDUyLDc4LDEwNCwxMzBdLFs2LDMwLDU2LDgyLDEwOCwxMzRdLFs2LDM0LDYwLDg2LDExMiwxMzhdLFs2LDMwLDU4LDg2LDExNCwxNDJdLFs2LDM0LDYyLDkwLDExOCwxNDZdLFs2LDMwLDU0LDc4LDEwMiwxMjYsMTUwXSxbNiwyNCw1MCw3NiwxMDIsMTI4LDE1NF0sWzYsMjgsNTQsODAsMTA2LDEzMiwxNThdLFs2LDMyLDU4LDg0LDExMCwxMzYsMTYyXSxbNiwyNiw1NCw4MiwxMTAsMTM4LDE2Nl0sWzYsMzAsNTgsODYsMTE0LDE0MiwxNzBdXSxHMTU6MTMzNSxHMTg6Nzk3MyxHMTVfTUFTSzoyMTUyMixnZXRCQ0hUeXBlSW5mbzpmdW5jdGlvbih0KXtmb3IodmFyIGU9dDw8MTA7Zi5nZXRCQ0hEaWdpdChlKS1mLmdldEJDSERpZ2l0KGYuRzE1KT49MDspZV49Zi5HMTU8PGYuZ2V0QkNIRGlnaXQoZSktZi5nZXRCQ0hEaWdpdChmLkcxNSk7cmV0dXJuKHQ8PDEwfGUpXmYuRzE1X01BU0t9LGdldEJDSFR5cGVOdW1iZXI6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQ8PDEyO2YuZ2V0QkNIRGlnaXQoZSktZi5nZXRCQ0hEaWdpdChmLkcxOCk+PTA7KWVePWYuRzE4PDxmLmdldEJDSERpZ2l0KGUpLWYuZ2V0QkNIRGlnaXQoZi5HMTgpO3JldHVybiB0PDwxMnxlfSxnZXRCQ0hEaWdpdDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MDswIT10OyllKyssdD4+Pj0xO3JldHVybiBlfSxnZXRQYXR0ZXJuUG9zaXRpb246ZnVuY3Rpb24odCl7cmV0dXJuIGYuUEFUVEVSTl9QT1NJVElPTl9UQUJMRVt0LTFdfSxnZXRNYXNrOmZ1bmN0aW9uKHQsZSxpKXtzd2l0Y2godCl7Y2FzZSBtLlBBVFRFUk4wMDA6cmV0dXJuKGUraSklMj09MDtjYXNlIG0uUEFUVEVSTjAwMTpyZXR1cm4gZSUyPT0wO2Nhc2UgbS5QQVRURVJOMDEwOnJldHVybiBpJTM9PTA7Y2FzZSBtLlBBVFRFUk4wMTE6cmV0dXJuKGUraSklMz09MDtjYXNlIG0uUEFUVEVSTjEwMDpyZXR1cm4oTWF0aC5mbG9vcihlLzIpK01hdGguZmxvb3IoaS8zKSklMj09MDtjYXNlIG0uUEFUVEVSTjEwMTpyZXR1cm4gZSppJTIrZSppJTM9PTA7Y2FzZSBtLlBBVFRFUk4xMTA6cmV0dXJuKGUqaSUyK2UqaSUzKSUyPT0wO2Nhc2UgbS5QQVRURVJOMTExOnJldHVybihlKmklMysoZStpKSUyKSUyPT0wO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiYmFkIG1hc2tQYXR0ZXJuOlwiK3QpfX0sZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbDpmdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGEoWzFdLDApLGk9MDtpPHQ7aSsrKWU9ZS5tdWx0aXBseShuZXcgYShbMSx2LmdleHAoaSldLDApKTtyZXR1cm4gZX0sZ2V0TG9zdFBvaW50OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LmdldE1vZHVsZUNvdW50KCksaT0wLG49MCxzPTA7czxlO3MrKylmb3IodmFyIG89MCxhPXQubW9kdWxlc1tzXVswXSxyPTA7cjxlO3IrKyl7dmFyIGw9dC5tb2R1bGVzW3NdW3JdO2lmKHI8ZS02JiZsJiYhdC5tb2R1bGVzW3NdW3IrMV0mJnQubW9kdWxlc1tzXVtyKzJdJiZ0Lm1vZHVsZXNbc11bciszXSYmdC5tb2R1bGVzW3NdW3IrNF0mJiF0Lm1vZHVsZXNbc11bcis1XSYmdC5tb2R1bGVzW3NdW3IrNl0mJihyPGUtMTA/dC5tb2R1bGVzW3NdW3IrN10mJnQubW9kdWxlc1tzXVtyKzhdJiZ0Lm1vZHVsZXNbc11bcis5XSYmdC5tb2R1bGVzW3NdW3IrMTBdJiYoaSs9NDApOnI+MyYmdC5tb2R1bGVzW3NdW3ItMV0mJnQubW9kdWxlc1tzXVtyLTJdJiZ0Lm1vZHVsZXNbc11bci0zXSYmdC5tb2R1bGVzW3NdW3ItNF0mJihpKz00MCkpLHM8ZS0xJiZyPGUtMSl7dmFyIGM9MDtsJiZjKyssdC5tb2R1bGVzW3MrMV1bcl0mJmMrKyx0Lm1vZHVsZXNbc11bcisxXSYmYysrLHQubW9kdWxlc1tzKzFdW3IrMV0mJmMrKywwIT1jJiY0IT1jfHwoaSs9Myl9YV5sP28rKzooYT1sLG8+PTUmJihpKz0zK28tNSksbz0xKSxsJiZuKyt9Zm9yKHZhciByPTA7cjxlO3IrKylmb3IodmFyIG89MCxhPXQubW9kdWxlc1swXVtyXSxzPTA7czxlO3MrKyl7dmFyIGw9dC5tb2R1bGVzW3NdW3JdO3M8ZS02JiZsJiYhdC5tb2R1bGVzW3MrMV1bcl0mJnQubW9kdWxlc1tzKzJdW3JdJiZ0Lm1vZHVsZXNbcyszXVtyXSYmdC5tb2R1bGVzW3MrNF1bcl0mJiF0Lm1vZHVsZXNbcys1XVtyXSYmdC5tb2R1bGVzW3MrNl1bcl0mJihzPGUtMTA/dC5tb2R1bGVzW3MrN11bcl0mJnQubW9kdWxlc1tzKzhdW3JdJiZ0Lm1vZHVsZXNbcys5XVtyXSYmdC5tb2R1bGVzW3MrMTBdW3JdJiYoaSs9NDApOnM+MyYmdC5tb2R1bGVzW3MtMV1bcl0mJnQubW9kdWxlc1tzLTJdW3JdJiZ0Lm1vZHVsZXNbcy0zXVtyXSYmdC5tb2R1bGVzW3MtNF1bcl0mJihpKz00MCkpLGFebD9vKys6KGE9bCxvPj01JiYoaSs9MytvLTUpLG89MSl9dmFyIHU9TWF0aC5hYnMoMTAwKm4vZS9lLTUwKS81O3JldHVybiBpKz0xMCp1fX0sdj17Z2xvZzpmdW5jdGlvbih0KXtpZih0PDEpdGhyb3cgbmV3IEVycm9yKFwiZ2xvZyhcIit0K1wiKVwiKTtyZXR1cm4gdi5MT0dfVEFCTEVbdF19LGdleHA6ZnVuY3Rpb24odCl7Zm9yKDt0PDA7KXQrPTI1NTtmb3IoO3Q+PTI1NjspdC09MjU1O3JldHVybiB2LkVYUF9UQUJMRVt0XX0sRVhQX1RBQkxFOm5ldyBBcnJheSgyNTYpLExPR19UQUJMRTpuZXcgQXJyYXkoMjU2KX0sZz0wO2c8ODtnKyspdi5FWFBfVEFCTEVbZ109MTw8Zztmb3IodmFyIGc9ODtnPDI1NjtnKyspdi5FWFBfVEFCTEVbZ109di5FWFBfVEFCTEVbZy00XV52LkVYUF9UQUJMRVtnLTVdXnYuRVhQX1RBQkxFW2ctNl1edi5FWFBfVEFCTEVbZy04XTtmb3IodmFyIGc9MDtnPDI1NTtnKyspdi5MT0dfVEFCTEVbdi5FWFBfVEFCTEVbZ11dPWc7YS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5udW1bdF19LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm51bS5sZW5ndGh9LG11bHRpcGx5OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKSt0LmdldExlbmd0aCgpLTEpLGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKWZvcih2YXIgbj0wO248dC5nZXRMZW5ndGgoKTtuKyspZVtpK25dXj12LmdleHAodi5nbG9nKHRoaXMuZ2V0KGkpKSt2Lmdsb2codC5nZXQobikpKTtyZXR1cm4gbmV3IGEoZSwwKX0sbW9kOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0TGVuZ3RoKCksaT10LmdldExlbmd0aCgpO2lmKGUtaTwwKXJldHVybiB0aGlzO2Zvcih2YXIgbj1uZXcgQXJyYXkoZSkscz0wO3M8ZTtzKyspbltzXT10aGlzLmdldChzKTtmb3IoO24ubGVuZ3RoPj1pOyl7Zm9yKHZhciBvPXYuZ2xvZyhuWzBdKS12Lmdsb2codC5nZXQoMCkpLHM9MDtzPHQuZ2V0TGVuZ3RoKCk7cysrKW5bc11ePXYuZ2V4cCh2Lmdsb2codC5nZXQocykpK28pO2Zvcig7MD09blswXTspbi5zaGlmdCgpfXJldHVybiBuZXcgYShuLDApfX0seT1bWzEsMjYsMTldLFsxLDI2LDE2XSxbMSwyNiwxM10sWzEsMjYsOV0sWzEsNDQsMzRdLFsxLDQ0LDI4XSxbMSw0NCwyMl0sWzEsNDQsMTZdLFsxLDcwLDU1XSxbMSw3MCw0NF0sWzIsMzUsMTddLFsyLDM1LDEzXSxbMSwxMDAsODBdLFsyLDUwLDMyXSxbMiw1MCwyNF0sWzQsMjUsOV0sWzEsMTM0LDEwOF0sWzIsNjcsNDNdLFsyLDMzLDE1LDIsMzQsMTZdLFsyLDMzLDExLDIsMzQsMTJdLFsyLDg2LDY4XSxbNCw0MywyN10sWzQsNDMsMTldLFs0LDQzLDE1XSxbMiw5OCw3OF0sWzQsNDksMzFdLFsyLDMyLDE0LDQsMzMsMTVdLFs0LDM5LDEzLDEsNDAsMTRdLFsyLDEyMSw5N10sWzIsNjAsMzgsMiw2MSwzOV0sWzQsNDAsMTgsMiw0MSwxOV0sWzQsNDAsMTQsMiw0MSwxNV0sWzIsMTQ2LDExNl0sWzMsNTgsMzYsMiw1OSwzN10sWzQsMzYsMTYsNCwzNywxN10sWzQsMzYsMTIsNCwzNywxM10sWzIsODYsNjgsMiw4Nyw2OV0sWzQsNjksNDMsMSw3MCw0NF0sWzYsNDMsMTksMiw0NCwyMF0sWzYsNDMsMTUsMiw0NCwxNl0sWzQsMTAxLDgxXSxbMSw4MCw1MCw0LDgxLDUxXSxbNCw1MCwyMiw0LDUxLDIzXSxbMywzNiwxMiw4LDM3LDEzXSxbMiwxMTYsOTIsMiwxMTcsOTNdLFs2LDU4LDM2LDIsNTksMzddLFs0LDQ2LDIwLDYsNDcsMjFdLFs3LDQyLDE0LDQsNDMsMTVdLFs0LDEzMywxMDddLFs4LDU5LDM3LDEsNjAsMzhdLFs4LDQ0LDIwLDQsNDUsMjFdLFsxMiwzMywxMSw0LDM0LDEyXSxbMywxNDUsMTE1LDEsMTQ2LDExNl0sWzQsNjQsNDAsNSw2NSw0MV0sWzExLDM2LDE2LDUsMzcsMTddLFsxMSwzNiwxMiw1LDM3LDEzXSxbNSwxMDksODcsMSwxMTAsODhdLFs1LDY1LDQxLDUsNjYsNDJdLFs1LDU0LDI0LDcsNTUsMjVdLFsxMSwzNiwxMl0sWzUsMTIyLDk4LDEsMTIzLDk5XSxbNyw3Myw0NSwzLDc0LDQ2XSxbMTUsNDMsMTksMiw0NCwyMF0sWzMsNDUsMTUsMTMsNDYsMTZdLFsxLDEzNSwxMDcsNSwxMzYsMTA4XSxbMTAsNzQsNDYsMSw3NSw0N10sWzEsNTAsMjIsMTUsNTEsMjNdLFsyLDQyLDE0LDE3LDQzLDE1XSxbNSwxNTAsMTIwLDEsMTUxLDEyMV0sWzksNjksNDMsNCw3MCw0NF0sWzE3LDUwLDIyLDEsNTEsMjNdLFsyLDQyLDE0LDE5LDQzLDE1XSxbMywxNDEsMTEzLDQsMTQyLDExNF0sWzMsNzAsNDQsMTEsNzEsNDVdLFsxNyw0NywyMSw0LDQ4LDIyXSxbOSwzOSwxMywxNiw0MCwxNF0sWzMsMTM1LDEwNyw1LDEzNiwxMDhdLFszLDY3LDQxLDEzLDY4LDQyXSxbMTUsNTQsMjQsNSw1NSwyNV0sWzE1LDQzLDE1LDEwLDQ0LDE2XSxbNCwxNDQsMTE2LDQsMTQ1LDExN10sWzE3LDY4LDQyXSxbMTcsNTAsMjIsNiw1MSwyM10sWzE5LDQ2LDE2LDYsNDcsMTddLFsyLDEzOSwxMTEsNywxNDAsMTEyXSxbMTcsNzQsNDZdLFs3LDU0LDI0LDE2LDU1LDI1XSxbMzQsMzcsMTNdLFs0LDE1MSwxMjEsNSwxNTIsMTIyXSxbNCw3NSw0NywxNCw3Niw0OF0sWzExLDU0LDI0LDE0LDU1LDI1XSxbMTYsNDUsMTUsMTQsNDYsMTZdLFs2LDE0NywxMTcsNCwxNDgsMTE4XSxbNiw3Myw0NSwxNCw3NCw0Nl0sWzExLDU0LDI0LDE2LDU1LDI1XSxbMzAsNDYsMTYsMiw0NywxN10sWzgsMTMyLDEwNiw0LDEzMywxMDddLFs4LDc1LDQ3LDEzLDc2LDQ4XSxbNyw1NCwyNCwyMiw1NSwyNV0sWzIyLDQ1LDE1LDEzLDQ2LDE2XSxbMTAsMTQyLDExNCwyLDE0MywxMTVdLFsxOSw3NCw0Niw0LDc1LDQ3XSxbMjgsNTAsMjIsNiw1MSwyM10sWzMzLDQ2LDE2LDQsNDcsMTddLFs4LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjIsNzMsNDUsMyw3NCw0Nl0sWzgsNTMsMjMsMjYsNTQsMjRdLFsxMiw0NSwxNSwyOCw0NiwxNl0sWzMsMTQ3LDExNywxMCwxNDgsMTE4XSxbMyw3Myw0NSwyMyw3NCw0Nl0sWzQsNTQsMjQsMzEsNTUsMjVdLFsxMSw0NSwxNSwzMSw0NiwxNl0sWzcsMTQ2LDExNiw3LDE0NywxMTddLFsyMSw3Myw0NSw3LDc0LDQ2XSxbMSw1MywyMywzNyw1NCwyNF0sWzE5LDQ1LDE1LDI2LDQ2LDE2XSxbNSwxNDUsMTE1LDEwLDE0NiwxMTZdLFsxOSw3NSw0NywxMCw3Niw0OF0sWzE1LDU0LDI0LDI1LDU1LDI1XSxbMjMsNDUsMTUsMjUsNDYsMTZdLFsxMywxNDUsMTE1LDMsMTQ2LDExNl0sWzIsNzQsNDYsMjksNzUsNDddLFs0Miw1NCwyNCwxLDU1LDI1XSxbMjMsNDUsMTUsMjgsNDYsMTZdLFsxNywxNDUsMTE1XSxbMTAsNzQsNDYsMjMsNzUsNDddLFsxMCw1NCwyNCwzNSw1NSwyNV0sWzE5LDQ1LDE1LDM1LDQ2LDE2XSxbMTcsMTQ1LDExNSwxLDE0NiwxMTZdLFsxNCw3NCw0NiwyMSw3NSw0N10sWzI5LDU0LDI0LDE5LDU1LDI1XSxbMTEsNDUsMTUsNDYsNDYsMTZdLFsxMywxNDUsMTE1LDYsMTQ2LDExNl0sWzE0LDc0LDQ2LDIzLDc1LDQ3XSxbNDQsNTQsMjQsNyw1NSwyNV0sWzU5LDQ2LDE2LDEsNDcsMTddLFsxMiwxNTEsMTIxLDcsMTUyLDEyMl0sWzEyLDc1LDQ3LDI2LDc2LDQ4XSxbMzksNTQsMjQsMTQsNTUsMjVdLFsyMiw0NSwxNSw0MSw0NiwxNl0sWzYsMTUxLDEyMSwxNCwxNTIsMTIyXSxbNiw3NSw0NywzNCw3Niw0OF0sWzQ2LDU0LDI0LDEwLDU1LDI1XSxbMiw0NSwxNSw2NCw0NiwxNl0sWzE3LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjksNzQsNDYsMTQsNzUsNDddLFs0OSw1NCwyNCwxMCw1NSwyNV0sWzI0LDQ1LDE1LDQ2LDQ2LDE2XSxbNCwxNTIsMTIyLDE4LDE1MywxMjNdLFsxMyw3NCw0NiwzMiw3NSw0N10sWzQ4LDU0LDI0LDE0LDU1LDI1XSxbNDIsNDUsMTUsMzIsNDYsMTZdLFsyMCwxNDcsMTE3LDQsMTQ4LDExOF0sWzQwLDc1LDQ3LDcsNzYsNDhdLFs0Myw1NCwyNCwyMiw1NSwyNV0sWzEwLDQ1LDE1LDY3LDQ2LDE2XSxbMTksMTQ4LDExOCw2LDE0OSwxMTldLFsxOCw3NSw0NywzMSw3Niw0OF0sWzM0LDU0LDI0LDM0LDU1LDI1XSxbMjAsNDUsMTUsNjEsNDYsMTZdXSxvLnByb3RvdHlwZS5nZXRSaWdodFR5cGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MTt0PDQxO3QrKyl7dmFyIGU9eVs0Kih0LTEpK3RoaXMuZXJyb3JDb3JyZWN0TGV2ZWxdO2lmKHZvaWQgMD09ZSl0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcnMgYmxvY2sgQCB0eXBlTnVtYmVyOlwiK3QrXCIvZXJyb3JDb3JyZWN0TGV2ZWw6XCIrdGhpcy5lcnJvckNvcnJlY3RMZXZlbCk7Zm9yKHZhciBpPWUubGVuZ3RoLzMsbj0wLHM9MDtzPGk7cysrKXt2YXIgbz1lWzMqcyswXSxhPWVbMypzKzJdO24rPWEqb312YXIgcj10Pjk/MjoxO2lmKHRoaXMudXRmOGJ5dGVzLmxlbmd0aCtyPG58fDQwPT10KXt0aGlzLnR5cGVOdW1iZXI9dCx0aGlzLnJzQmxvY2s9ZSx0aGlzLnRvdGFsRGF0YUNvdW50PW47YnJlYWt9fX0sci5wcm90b3R5cGU9e2dldDpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvOCk7cmV0dXJuIHRoaXMuYnVmZmVyW2VdPj4+Ny10JTgmMX0scHV0OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBpPTA7aTxlO2krKyl0aGlzLnB1dEJpdCh0Pj4+ZS1pLTEmMSl9LHB1dEJpdDpmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHRoaXMubGVuZ3RoLzgpO3RoaXMuYnVmZmVyLmxlbmd0aDw9ZSYmdGhpcy5idWZmZXIucHVzaCgwKSx0JiYodGhpcy5idWZmZXJbZV18PTEyOD4+PnRoaXMubGVuZ3RoJTgpLHRoaXMubGVuZ3RoKyt9fSxjLmZuLnFyY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yyh0aGlzKS5hcHBlbmQobmV3IGQodCkpfSl9LHQuZXhwb3J0cz11LnFyY29kZT1kfSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgxKSxzPWkoMiksbz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXM7dGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LG8uREVGQVVMVFMsZSksdGhpcy4kZWxlbWVudD1uKHQpLHRoaXMuc3RpY2tlZD1udWxsLHRoaXMuaW5pdGVkPW51bGwsdGhpcy4kaG9sZGVyPXZvaWQgMCx0aGlzLiR3aW5kb3c9bih3aW5kb3cpLm9uKFwic2Nyb2xsLnN0aWNreS5hbXVpXCIscy51dGlscy5kZWJvdW5jZShuLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSwxMCkpLm9uKFwicmVzaXplLnN0aWNreS5hbXVpIG9yaWVudGF0aW9uY2hhbmdlLnN0aWNreS5hbXVpXCIscy51dGlscy5kZWJvdW5jZShmdW5jdGlvbigpe2kucmVzZXQoITAsZnVuY3Rpb24oKXtpLmNoZWNrUG9zaXRpb24oKX0pfSw1MCkpLm9uKFwibG9hZC5zdGlja3kuYW11aVwiLG4ucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpKSx0aGlzLm9mZnNldD10aGlzLiRlbGVtZW50Lm9mZnNldCgpLHRoaXMuaW5pdCgpfTtvLkRFRkFVTFRTPXt0b3A6MCxib3R0b206MCxhbmltYXRpb246XCJcIixjbGFzc05hbWU6e3N0aWNreTpcImFtLXN0aWNreVwiLHJlc2V0dGluZzpcImFtLXN0aWNreS1yZXNldHRpbmdcIixzdGlja3lCdG06XCJhbS1zdGlja3ktYm90dG9tXCIsYW5pbWF0aW9uUmV2OlwiYW0tYW5pbWF0aW9uLXJldmVyc2VcIn19LG8ucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNoZWNrKCk7aWYoIXQpcmV0dXJuITE7dmFyIGU9dGhpcy4kZWxlbWVudCxpPVwiXCI7bi5lYWNoKGUuY3NzKFtcIm1hcmdpblRvcFwiLFwibWFyZ2luUmlnaHRcIixcIm1hcmdpbkJvdHRvbVwiLFwibWFyZ2luTGVmdFwiXSksZnVuY3Rpb24odCxlKXtyZXR1cm4gaSs9XCIgXCIrZX0pO3ZhciBzPW4oJzxkaXYgY2xhc3M9XCJhbS1zdGlja3ktcGxhY2Vob2xkZXJcIj48L2Rpdj4nKS5jc3Moe2hlaWdodDpcImFic29sdXRlXCIhPT1lLmNzcyhcInBvc2l0aW9uXCIpP2Uub3V0ZXJIZWlnaHQoKTpcIlwiLFwiZmxvYXRcIjpcIm5vbmVcIiE9ZS5jc3MoXCJmbG9hdFwiKT9lLmNzcyhcImZsb2F0XCIpOlwiXCIsbWFyZ2luOml9KTtyZXR1cm4gdGhpcy4kaG9sZGVyPWUuY3NzKFwibWFyZ2luXCIsMCkud3JhcChzKS5wYXJlbnQoKSx0aGlzLmluaXRlZD0xLCEwfSxvLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMub3B0aW9ucyxuPXRoaXMuJGVsZW1lbnQsbz1pLmFuaW1hdGlvbj9cIiBhbS1hbmltYXRpb24tXCIraS5hbmltYXRpb246XCJcIixhPWZ1bmN0aW9uKCl7bi5jc3Moe3Bvc2l0aW9uOlwiXCIsdG9wOlwiXCIsd2lkdGg6XCJcIixsZWZ0OlwiXCIsbWFyZ2luOjB9KSxuLnJlbW92ZUNsYXNzKFtvLGkuY2xhc3NOYW1lLmFuaW1hdGlvblJldixpLmNsYXNzTmFtZS5zdGlja3ksaS5jbGFzc05hbWUucmVzZXR0aW5nXS5qb2luKFwiIFwiKSksdGhpcy5hbmltYXRpbmc9ITEsdGhpcy5zdGlja2VkPSExLHRoaXMub2Zmc2V0PW4ub2Zmc2V0KCksZSYmZSgpfS5iaW5kKHRoaXMpO24uYWRkQ2xhc3MoaS5jbGFzc05hbWUucmVzZXR0aW5nKSwhdCYmaS5hbmltYXRpb24mJnMuc3VwcG9ydC5hbmltYXRpb24/KHRoaXMuYW5pbWF0aW5nPSEwLG4ucmVtb3ZlQ2xhc3Mobykub25lKHMuc3VwcG9ydC5hbmltYXRpb24uZW5kLGZ1bmN0aW9uKCl7YSgpfSkud2lkdGgoKSxuLmFkZENsYXNzKG8rXCIgXCIraS5jbGFzc05hbWUuYW5pbWF0aW9uUmV2KSk6YSgpfSxvLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLiRlbGVtZW50LmlzKFwiOnZpc2libGVcIikpcmV0dXJuITE7dmFyIHQ9dGhpcy5vcHRpb25zLm1lZGlhO2lmKHQpc3dpdGNoKHR5cGVvZiB0KXtjYXNlXCJudW1iZXJcIjppZih3aW5kb3cuaW5uZXJXaWR0aDx0KXJldHVybiExO2JyZWFrO2Nhc2VcInN0cmluZ1wiOmlmKHdpbmRvdy5tYXRjaE1lZGlhJiYhd2luZG93Lm1hdGNoTWVkaWEodCkubWF0Y2hlcylyZXR1cm4hMX1yZXR1cm4hMH0sby5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbj1mdW5jdGlvbigpe2lmKCF0aGlzLmluaXRlZCl7dmFyIHQ9dGhpcy5pbml0KCk7aWYoIXQpcmV0dXJufXZhciBlPXRoaXMub3B0aW9ucyxpPXRoaXMuJHdpbmRvdy5zY3JvbGxUb3AoKSxuPWUudG9wLHM9ZS5ib3R0b20sbz10aGlzLiRlbGVtZW50LGE9ZS5hbmltYXRpb24/XCIgYW0tYW5pbWF0aW9uLVwiK2UuYW5pbWF0aW9uOlwiXCIscj1bZS5jbGFzc05hbWUuc3RpY2t5LGFdLmpvaW4oXCIgXCIpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHMmJihzPXModGhpcy4kZWxlbWVudCkpO3ZhciBsPWk+dGhpcy4kaG9sZGVyLm9mZnNldCgpLnRvcDshdGhpcy5zdGlja2VkJiZsP28uYWRkQ2xhc3Mocik6dGhpcy5zdGlja2VkJiYhbCYmdGhpcy5yZXNldCgpLHRoaXMuJGhvbGRlci5jc3Moe2hlaWdodDpvLmlzKFwiOnZpc2libGVcIikmJlwiYWJzb2x1dGVcIiE9PW8uY3NzKFwicG9zaXRpb25cIik/by5vdXRlckhlaWdodCgpOlwiXCJ9KSxsJiZvLmNzcyh7dG9wOm4sbGVmdDp0aGlzLiRob2xkZXIub2Zmc2V0KCkubGVmdCx3aWR0aDp0aGlzLiRob2xkZXIud2lkdGgoKX0pLHRoaXMuc3RpY2tlZD1sfSxzLnBsdWdpbihcInN0aWNreVwiLG8pLG4od2luZG93KS5vbihcImxvYWRcIixmdW5jdGlvbigpe24oXCJbZGF0YS1hbS1zdGlja3ldXCIpLnN0aWNreSgpfSksdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlLGk9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1zKHRoaXMpLGE9bi5pcyhcIi5hbS10YWJzXCIpJiZufHxuLmNsb3Nlc3QoXCIuYW0tdGFic1wiKSxyPWEuZGF0YShcImFtdWkudGFic1wiKSxsPXMuZXh0ZW5kKHt9LG8udXRpbHMucGFyc2VPcHRpb25zKG4uZGF0YShcImFtVGFic1wiKSkscy5pc1BsYWluT2JqZWN0KHQpJiZ0KTtyfHxhLmRhdGEoXCJhbXVpLnRhYnNcIixyPW5ldyBjKGFbMF0sbCkpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYoXCJvcGVuXCI9PT10JiZuLmlzKFwiLmFtLXRhYnMtbmF2IGFcIik/ci5vcGVuKG4pOmU9XCJmdW5jdGlvblwiPT10eXBlb2Ygclt0XT9yW3RdLmFwcGx5KHIsaSk6clt0XSl9KSx2b2lkIDA9PT1lP3RoaXM6ZX12YXIgcz1pKDEpLG89aSgyKSxhPWkoMykscj1vLnN1cHBvcnQudHJhbnNpdGlvbixsPW8uc3VwcG9ydC5hbmltYXRpb24sYz1mdW5jdGlvbih0LGUpe3RoaXMuJGVsZW1lbnQ9cyh0KSx0aGlzLm9wdGlvbnM9cy5leHRlbmQoe30sYy5ERUZBVUxUUyxlfHx7fSksdGhpcy50cmFuc2l0aW9uaW5nPXRoaXMuYWN0aXZlSW5kZXg9bnVsbCx0aGlzLnJlZnJlc2goKSx0aGlzLmluaXQoKX07Yy5ERUZBVUxUUz17c2VsZWN0b3I6e25hdjpcIj4gLmFtLXRhYnMtbmF2XCIsY29udGVudDpcIj4gLmFtLXRhYnMtYmRcIixwYW5lbDpcIj4gLmFtLXRhYi1wYW5lbFwifSxhY3RpdmVDbGFzczpcImFtLWFjdGl2ZVwifSxjLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLnNlbGVjdG9yO3RoaXMuJHRhYk5hdj10aGlzLiRlbGVtZW50LmZpbmQodC5uYXYpLHRoaXMuJG5hdnM9dGhpcy4kdGFiTmF2LmZpbmQoXCJhXCIpLHRoaXMuJGNvbnRlbnQ9dGhpcy4kZWxlbWVudC5maW5kKHQuY29udGVudCksdGhpcy4kdGFiUGFuZWxzPXRoaXMuJGNvbnRlbnQuZmluZCh0LnBhbmVsKTt2YXIgZT10aGlzLiR0YWJOYXYuZmluZChcIj4gLlwiK3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyk7MSE9PWUubGVuZ3RoP3RoaXMub3BlbigwKTp0aGlzLmFjdGl2ZUluZGV4PXRoaXMuJG5hdnMuaW5kZXgoZS5jaGlsZHJlbihcImFcIikpfSxjLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMub3B0aW9ucztpZih0aGlzLiRlbGVtZW50Lm9uKFwiY2xpY2sudGFicy5hbXVpXCIsZS5zZWxlY3Rvci5uYXYrXCIgYVwiLGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0Lm9wZW4ocyh0aGlzKSl9KSwhZS5ub1N3aXBlKXtpZighdGhpcy4kY29udGVudC5sZW5ndGgpcmV0dXJuIHRoaXM7dmFyIGk9bmV3IGEuTWFuYWdlcih0aGlzLiRjb250ZW50WzBdKSxuPW5ldyBhLlN3aXBlKHtkaXJlY3Rpb246YS5ESVJFQ1RJT05fSE9SSVpPTlRBTH0pO2kuYWRkKG4pLGkub24oXCJzd2lwZWxlZnRcIixvLnV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSx0LmdvVG8oXCJuZXh0XCIpfSwxMDApKSxpLm9uKFwic3dpcGVyaWdodFwiLG8udXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLHQuZ29UbyhcInByZXZcIil9LDEwMCkpLHRoaXMuX2hhbW1lcj1pfX0sYy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MsaT1cIm51bWJlclwiPT10eXBlb2YgdD90OnRoaXMuJG5hdnMuaW5kZXgocyh0KSk7aWYodD1cIm51bWJlclwiPT10eXBlb2YgdD90aGlzLiRuYXZzLmVxKGkpOnModCksdCYmdC5sZW5ndGgmJiF0aGlzLnRyYW5zaXRpb25pbmcmJiF0LnBhcmVudChcImxpXCIpLmhhc0NsYXNzKGUpKXt2YXIgbj10aGlzLiR0YWJOYXYsbz10LmF0dHIoXCJocmVmXCIpLGE9L14jLiskLyxyPWEudGVzdChvKSYmdGhpcy4kY29udGVudC5maW5kKG8pfHx0aGlzLiR0YWJQYW5lbHMuZXEoaSksbD1uLmZpbmQoXCIuXCIrZStcIiBhXCIpWzBdLGM9cy5FdmVudChcIm9wZW4udGFicy5hbXVpXCIse3JlbGF0ZWRUYXJnZXQ6bH0pO3QudHJpZ2dlcihjKSxjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodGhpcy5hY3RpdmF0ZSh0LmNsb3Nlc3QoXCJsaVwiKSxuKSx0aGlzLmFjdGl2YXRlKHIsdGhpcy4kY29udGVudCxmdW5jdGlvbigpe3QudHJpZ2dlcih7dHlwZTpcIm9wZW5lZC50YWJzLmFtdWlcIixyZWxhdGVkVGFyZ2V0Omx9KX0pLHRoaXMuYWN0aXZlSW5kZXg9aSl9fSxjLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0LGUsaSl7dGhpcy50cmFuc2l0aW9uaW5nPSEwO3ZhciBuPXRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyxvPWUuZmluZChcIj4gLlwiK24pLGE9aSYmciYmISFvLmxlbmd0aDtvLnJlbW92ZUNsYXNzKG4rXCIgYW0taW5cIiksdC5hZGRDbGFzcyhuKSxhPyh0LnJlZHJhdygpLHQuYWRkQ2xhc3MoXCJhbS1pblwiKSk6dC5yZW1vdmVDbGFzcyhcImFtLWZhZGVcIik7dmFyIGw9cy5wcm94eShmdW5jdGlvbigpe2kmJmkoKSx0aGlzLnRyYW5zaXRpb25pbmc9ITF9LHRoaXMpO2EmJiF0aGlzLiRjb250ZW50LmlzKFwiLmFtLXRhYnMtYmQtb2Z2XCIpP28ub25lKHIuZW5kLGwpOmwoKX0sYy5wcm90b3R5cGUuZ29Ubz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmFjdGl2ZUluZGV4LGk9XCJuZXh0XCI9PT10LG49aT9cImFtLWFuaW1hdGlvbi1yaWdodC1zcHJpbmdcIjpcImFtLWFuaW1hdGlvbi1sZWZ0LXNwcmluZ1wiO2lmKGkmJmUrMT49dGhpcy4kbmF2cy5sZW5ndGh8fCFpJiYwPT09ZSl7dmFyIHM9dGhpcy4kdGFiUGFuZWxzLmVxKGUpO2wmJnMuYWRkQ2xhc3Mobikub24obC5lbmQsZnVuY3Rpb24oKXtzLnJlbW92ZUNsYXNzKG4pfSl9ZWxzZSB0aGlzLm9wZW4oaT9lKzE6ZS0xKX0sYy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQub2ZmKFwiLnRhYnMuYW11aVwiKSxhLm9mZih0aGlzLiRjb250ZW50WzBdLFwic3dpcGVsZWZ0IHN3aXBlcmlnaHRcIiksdGhpcy5faGFtbWVyJiZ0aGlzLl9oYW1tZXIuZGVzdHJveSgpLHMucmVtb3ZlRGF0YSh0aGlzLiRlbGVtZW50LFwiYW11aS50YWJzXCIpfSxzLmZuLnRhYnM9bixvLnJlYWR5KGZ1bmN0aW9uKHQpe3MoXCJbZGF0YS1hbS10YWJzXVwiLHQpLnRhYnMoKX0pLHMoZG9jdW1lbnQpLm9uKFwiY2xpY2sudGFicy5hbXVpLmRhdGEtYXBpXCIsXCJbZGF0YS1hbS10YWJzXSAuYW0tdGFicy1uYXYgYVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxuLmNhbGwocyh0aGlzKSxcIm9wZW5cIil9KSx0LmV4cG9ydHM9by50YWJzPWN9LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKSxvPWZ1bmN0aW9uKHQsZSl7dGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LG8uREVGQVVMVFMsZSksdGhpcy4kZWxlbWVudD1uKHQpLHRoaXMuaW5pdCgpfTtvLkRFRkFVTFRTPXtjaGVja2JveENsYXNzOlwiYW0tdWNoZWNrLWNoZWNrYm94XCIscmFkaW9DbGFzczpcImFtLXVjaGVjay1yYWRpb1wiLGNoZWNrYm94VHBsOic8c3BhbiBjbGFzcz1cImFtLXVjaGVjay1pY29uc1wiPjxpIGNsYXNzPVwiYW0taWNvbi11bmNoZWNrZWRcIj48L2k+PGkgY2xhc3M9XCJhbS1pY29uLWNoZWNrZWRcIj48L2k+PC9zcGFuPicscmFkaW9UcGw6JzxzcGFuIGNsYXNzPVwiYW0tdWNoZWNrLWljb25zXCI+PGkgY2xhc3M9XCJhbS1pY29uLXVuY2hlY2tlZFwiPjwvaT48aSBjbGFzcz1cImFtLWljb24tY2hlY2tlZFwiPjwvaT48L3NwYW4+J30sby5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJGVsZW1lbnQsZT10WzBdLGk9dGhpcy5vcHRpb25zO1wiY2hlY2tib3hcIj09PWUudHlwZT90LmFkZENsYXNzKGkuY2hlY2tib3hDbGFzcykuYWZ0ZXIoaS5jaGVja2JveFRwbCk6XCJyYWRpb1wiPT09ZS50eXBlJiZ0LmFkZENsYXNzKGkucmFkaW9DbGFzcykuYWZ0ZXIoaS5yYWRpb1RwbCl9LG8ucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5wcm9wKFwiY2hlY2tlZFwiLCEwKS50cmlnZ2VyKFwiY2hhbmdlLnVjaGVjay5hbXVpXCIpLnRyaWdnZXIoXCJjaGVja2VkLnVjaGVjay5hbXVpXCIpfSxvLnByb3RvdHlwZS51bmNoZWNrPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5wcm9wKFwiY2hlY2tlZFwiLCExKS50cmlnZ2VyKFwiY2hhbmdlXCIpLnRyaWdnZXIoXCJ1bmNoZWNrZWQudWNoZWNrLmFtdWlcIil9LG8ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucHJvcChcImNoZWNrZWRcIixmdW5jdGlvbih0LGUpe3JldHVybiFlfSkudHJpZ2dlcihcImNoYW5nZS51Y2hlY2suYW11aVwiKS50cmlnZ2VyKFwidG9nZ2xlZC51Y2hlY2suYW11aVwiKX0sby5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsITApLnRyaWdnZXIoXCJjaGFuZ2UudWNoZWNrLmFtdWlcIikudHJpZ2dlcihcImRpc2FibGVkLnVjaGVjay5hbXVpXCIpfSxvLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnByb3AoXCJkaXNhYmxlZFwiLCExKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoXCJjaGFuZ2UudWNoZWNrLmFtdWlcIikudHJpZ2dlcihcImVuYWJsZWQudWNoZWNrLmFtdWlcIil9LG8ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoXCJhbXVpLnVjaGVja1wiKS5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2hlY2tib3hDbGFzcytcIiBcIit0aGlzLm9wdGlvbnMucmFkaW9DbGFzcykubmV4dChcIi5hbS11Y2hlY2staWNvbnNcIikucmVtb3ZlKCkuZW5kKCkudHJpZ2dlcihcImRlc3Ryb3llZC51Y2hlY2suYW11aVwiKX0scy5wbHVnaW4oXCJ1Q2hlY2tcIixvLHthZnRlcjpmdW5jdGlvbigpe3Muc3VwcG9ydC50b3VjaCYmdGhpcy5wYXJlbnQoKS5ob3ZlcihmdW5jdGlvbigpe24odGhpcykuYWRkQ2xhc3MoXCJhbS1ub2hvdmVyXCIpfSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoXCJhbS1ub2hvdmVyXCIpfSl9fSkscy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tdWNoZWNrXVwiLHQpLnVDaGVjaygpfSksdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDEpLHM9aSgyKSxvPWZ1bmN0aW9uKHQsZSl7dGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LG8uREVGQVVMVFMsZSksdGhpcy5vcHRpb25zLnBhdHRlcm5zPW4uZXh0ZW5kKHt9LG8ucGF0dGVybnMsdGhpcy5vcHRpb25zLnBhdHRlcm5zKTt2YXIgaT10aGlzLm9wdGlvbnMubG9jYWxlczshby52YWxpZGF0aW9uTWVzc2FnZXNbaV0mJih0aGlzLm9wdGlvbnMubG9jYWxlcz1cInpoX0NOXCIpLHRoaXMuJGVsZW1lbnQ9bih0KSx0aGlzLmluaXQoKX07by5ERUZBVUxUUz17ZGVidWc6ITEsbG9jYWxlczpcInpoX0NOXCIsSDV2YWxpZGF0aW9uOiExLEg1aW5wdXRUeXBlOltcImVtYWlsXCIsXCJ1cmxcIixcIm51bWJlclwiXSxwYXR0ZXJuczp7fSxwYXR0ZXJuQ2xhc3NQcmVmaXg6XCJqcy1wYXR0ZXJuLVwiLGFjdGl2ZUNsYXNzOlwiYW0tYWN0aXZlXCIsaW5WYWxpZENsYXNzOlwiYW0tZmllbGQtZXJyb3JcIix2YWxpZENsYXNzOlwiYW0tZmllbGQtdmFsaWRcIix2YWxpZGF0ZU9uU3VibWl0OiEwLGFsd2F5c1JldmFsaWRhdGU6ITEsYWxsRmllbGRzOlwiOmlucHV0Om5vdCg6c3VibWl0LCA6YnV0dG9uLCA6ZGlzYWJsZWQsIC5hbS1ub3ZhbGlkYXRlKVwiLGlnbm9yZTpcIjpoaWRkZW46bm90KFtkYXRhLWFtLXNlbGVjdGVkXSwgLmFtLXZhbGlkYXRlKVwiLGN1c3RvbUV2ZW50czpcInZhbGlkYXRlXCIsa2V5Ym9hcmRGaWVsZHM6XCI6aW5wdXQ6bm90KDpzdWJtaXQsIDpidXR0b24sIDpkaXNhYmxlZCwgLmFtLW5vdmFsaWRhdGUpXCIsa2V5Ym9hcmRFdmVudHM6XCJmb2N1c291dCwgY2hhbmdlXCIsYWN0aXZlS2V5dXA6ITEsdGV4dGFyZWFNYXhsZW50aEtleXVwOiEwLHBvaW50ZXJGaWVsZHM6J2lucHV0W3R5cGU9XCJyYW5nZVwiXTpub3QoOmRpc2FibGVkLCAuYW0tbm92YWxpZGF0ZSksIGlucHV0W3R5cGU9XCJyYWRpb1wiXTpub3QoOmRpc2FibGVkLCAuYW0tbm92YWxpZGF0ZSksIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoOmRpc2FibGVkLCAuYW0tbm92YWxpZGF0ZSksIHNlbGVjdDpub3QoOmRpc2FibGVkLCAuYW0tbm92YWxpZGF0ZSksIG9wdGlvbjpub3QoOmRpc2FibGVkLCAuYW0tbm92YWxpZGF0ZSknLHBvaW50ZXJFdmVudHM6XCJjbGlja1wiLG9uVmFsaWQ6ZnVuY3Rpb24odCl7fSxvbkluVmFsaWQ6ZnVuY3Rpb24odCl7fSxtYXJrVmFsaWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9bih0LmZpZWxkKSxzPWkuY2xvc2VzdChcIi5hbS1mb3JtLWdyb3VwXCIpO2kuYWRkQ2xhc3MoZS52YWxpZENsYXNzKS5yZW1vdmVDbGFzcyhlLmluVmFsaWRDbGFzcykscy5hZGRDbGFzcyhcImFtLWZvcm0tc3VjY2Vzc1wiKS5yZW1vdmVDbGFzcyhcImFtLWZvcm0tZXJyb3JcIiksZS5vblZhbGlkLmNhbGwodGhpcyx0KX0sbWFya0luVmFsaWQ6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5vcHRpb25zLGk9bih0LmZpZWxkKSxzPWkuY2xvc2VzdChcIi5hbS1mb3JtLWdyb3VwXCIpO2kuYWRkQ2xhc3MoZS5pblZhbGlkQ2xhc3MrXCIgXCIrZS5hY3RpdmVDbGFzcykucmVtb3ZlQ2xhc3MoZS52YWxpZENsYXNzKSxzLmFkZENsYXNzKFwiYW0tZm9ybS1lcnJvclwiKS5yZW1vdmVDbGFzcyhcImFtLWZvcm0tc3VjY2Vzc1wiKSxlLm9uSW5WYWxpZC5jYWxsKHRoaXMsdCl9LHZhbGlkYXRlOmZ1bmN0aW9uKHQpe30sc3VibWl0Om51bGx9LG8uVkVSU0lPTj1cIjIuNy4yXCIsby5wYXR0ZXJucz17ZW1haWw6L14oKChbYS16QS1aXXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKFxcLihbYS16QS1aXXxcXGR8WyEjXFwkJSYnXFwqXFwrXFwtXFwvPVxcP1xcXl9ge1xcfH1+XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkrKSopfCgoXFx4MjIpKCgoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oKFtcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDdmXXxcXHgyMXxbXFx4MjMtXFx4NWJdfFtcXHg1ZC1cXHg3ZV18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfChcXFxcKFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZC1cXHg3Zl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkpKigoKFxceDIwfFxceDA5KSooXFx4MGRcXHgwYSkpPyhcXHgyMHxcXHgwOSkrKT8oXFx4MjIpKSlAKCgoW2EtekEtWl18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpBLVpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpBLVpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKVxcLikrKChbYS16QS1aXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16QS1aXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkqKFthLXpBLVpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuPyQvLHVybDovXihodHRwcz98ZnRwKTpcXC9cXC8oKCgoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OikqQCk/KCgoXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pKXwoKChbYS16QS1aXXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2EtekEtWl18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2EtekEtWl18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpBLVpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpBLVpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2EtekEtWl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4/KSg6XFxkKik/KShcXC8oKChbYS16QS1aXXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKyhcXC8oKFthLXpBLVpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkqKSopPyk/KFxcPygoKFthLXpBLVpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8W1xcdUUwMDAtXFx1RjhGRl18XFwvfFxcPykqKT8oXFwjKCgoW2EtekEtWl18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OnxAKXxcXC98XFw/KSopPyQvLG51bWJlcjovXi0/KD86XFxkK3xcXGR7MSwzfSg/OixcXGR7M30pKyk/KD86XFwuXFxkKyk/JC8sZGF0ZUlTTzovXlxcZHs0fVtcXC9cXC1dXFxkezEsMn1bXFwvXFwtXVxcZHsxLDJ9JC8saW50ZWdlcjovXi0/XFxkKyQvfSxvLnZhbGlkYXRpb25NZXNzYWdlcz17emhfQ046e3ZhbHVlTWlzc2luZzpcIlxcdThiZjdcXHU1ODZiXFx1NTE5OVxcdWZmMDhcXHU5MDA5XFx1NjJlOVxcdWZmMDlcXHU2YjY0XFx1NWI1N1xcdTZiYjVcIixjdXN0b21FcnJvcjp7dG9vU2hvcnQ6XCJcXHU4MWYzXFx1NWMxMVxcdTU4NmJcXHU1MTk5ICVzIFxcdTRlMmFcXHU1YjU3XFx1N2IyNlwiLGNoZWNrZWRPdmVyZmxvdzpcIlxcdTgxZjNcXHU1OTFhXFx1OTAwOVxcdTYyZTkgJXMgXFx1OTg3OVwiLGNoZWNrZWRVbmRlcmZsb3c6XCJcXHU4MWYzXFx1NWMxMVxcdTkwMDlcXHU2MmU5ICVzIFxcdTk4NzlcIn0scGF0dGVybk1pc21hdGNoOlwiXFx1OGJmN1xcdTYzMDlcXHU3MTY3XFx1ODk4MVxcdTZjNDJcXHU3Njg0XFx1NjgzY1xcdTVmMGZcXHU1ODZiXFx1NTE5OVwiLHJhbmdlT3ZlcmZsb3c6XCJcXHU4YmY3XFx1NTg2YlxcdTUxOTlcXHU1YzBmXFx1NGU4ZVxcdTdiNDlcXHU0ZThlICVzIFxcdTc2ODRcXHU1MDNjXCIscmFuZ2VVbmRlcmZsb3c6XCJcXHU4YmY3XFx1NTg2YlxcdTUxOTlcXHU1OTI3XFx1NGU4ZVxcdTdiNDlcXHU0ZThlICVzIFxcdTc2ODRcXHU1MDNjXCIsc3RlcE1pc21hdGNoOlwiXCIsdG9vTG9uZzpcIlxcdTgxZjNcXHU1OTFhXFx1NTg2YlxcdTUxOTkgJXMgXFx1NGUyYVxcdTViNTdcXHU3YjI2XCIsdHlwZU1pc21hdGNoOlwiXFx1OGJmN1xcdTYzMDlcXHU3MTY3XFx1ODk4MVxcdTZjNDJcXHU3Njg0XFx1N2M3YlxcdTU3OGJcXHU1ODZiXFx1NTE5OVwifX0sby5FUlJPUl9NQVA9e3Rvb1Nob3J0OlwibWlubGVuZ3RoXCIsY2hlY2tlZE92ZXJmbG93OlwibWF4Y2hlY2tlZFwiLGNoZWNrZWRVbmRlcmZsb3c6XCJtaW5jaGVja2VkXCIscmFuZ2VPdmVyZmxvdzpcIm1heFwiLHJhbmdlVW5kZXJmbG93OlwibWluXCIsdG9vTG9uZzpcIm1heGxlbmd0aFwifSxvLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgZT10LnRvU3RyaW5nKCk7cmV0dXJuIGUuc3Vic3RyaW5nKDEsZS5sZW5ndGgtMSl9ZnVuY3Rpb24gZSh0LGUsYSl7dmFyIHI9ZS5zcGxpdChcIixcIiksbD1mdW5jdGlvbih0KXtpLnZhbGlkYXRlKHRoaXMpfTthJiYobD1zLnV0aWxzLmRlYm91bmNlKGwsYSkpLG4uZWFjaChyLGZ1bmN0aW9uKGUsaSl7by5vbihpK1wiLnZhbGlkYXRvci5hbXVpXCIsdCxsKX0pfXZhciBpPXRoaXMsbz10aGlzLiRlbGVtZW50LGE9dGhpcy5vcHRpb25zO3JldHVybighYS5INXZhbGlkYXRpb258fCFzLnN1cHBvcnQuZm9ybVZhbGlkYXRpb24pJiYoby5hdHRyKFwibm92YWxpZGF0ZVwiLFwibm92YWxpZGF0ZVwiKSxuLmVhY2goYS5INWlucHV0VHlwZSxmdW5jdGlvbihlLGkpe3ZhciBuPW8uZmluZChcImlucHV0W3R5cGU9XCIraStcIl1cIik7bi5hdHRyKFwicGF0dGVyblwiKXx8bi5pcyhcIltjbGFzcyo9XCIrYS5wYXR0ZXJuQ2xhc3NQcmVmaXgrXCJdXCIpfHxuLmF0dHIoXCJwYXR0ZXJuXCIsdChhLnBhdHRlcm5zW2ldKSl9KSxuLmVhY2goYS5wYXR0ZXJucyxmdW5jdGlvbihlLGkpe3ZhciBuPW8uZmluZChcIi5cIithLnBhdHRlcm5DbGFzc1ByZWZpeCtlKTshbi5hdHRyKFwicGF0dGVyblwiKSYmbi5hdHRyKFwicGF0dGVyblwiLHQoaSkpfSksby5vbihcInN1Ym1pdC52YWxpZGF0b3IuYW11aVwiLGZ1bmN0aW9uKHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuc3VibWl0KXJldHVybiBhLnN1Ym1pdC5jYWxsKGksdCk7aWYoYS52YWxpZGF0ZU9uU3VibWl0KXt2YXIgZT1pLmlzRm9ybVZhbGlkKCk7cmV0dXJuXCJib29sZWFuXCI9PT1uLnR5cGUoZSk/ZTohIW8uZGF0YShcImFtdWkuY2hlY2tlZFwiKXx8KG4ud2hlbihlKS50aGVuKGZ1bmN0aW9uKCl7by5kYXRhKFwiYW11aS5jaGVja2VkXCIsITApLnN1Ym1pdCgpfSxmdW5jdGlvbigpe28uZGF0YShcImFtdWkuY2hlY2tlZFwiLCExKS5maW5kKFwiLlwiK2EuaW5WYWxpZENsYXNzKS5lcSgwKS5mb2N1cygpfSksITEpfX0pLGUoXCI6aW5wdXRcIixhLmN1c3RvbUV2ZW50cyksZShhLmtleWJvYXJkRmllbGRzLGEua2V5Ym9hcmRFdmVudHMpLGUoYS5wb2ludGVyRmllbGRzLGEucG9pbnRlckV2ZW50cyksYS50ZXh0YXJlYU1heGxlbnRoS2V5dXAmJmUoXCJ0ZXh0YXJlYVttYXhsZW5ndGhdXCIsXCJrZXl1cFwiLDUwKSx2b2lkKGEuYWN0aXZlS2V5dXAmJmUoXCIuYW0tYWN0aXZlXCIsXCJrZXl1cFwiLDUwKSkpfSxvLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3ZhciBlPW4odCksaT10aGlzLm9wdGlvbnM7cmV0dXJuKHZvaWQgMD09PWUuZGF0YShcInZhbGlkaXR5XCIpfHxpLmFsd2F5c1JldmFsaWRhdGUpJiZ0aGlzLnZhbGlkYXRlKHQpLGUuZGF0YShcInZhbGlkaXR5XCIpJiZlLmRhdGEoXCJ2YWxpZGl0eVwiKS52YWxpZH0sby5wcm90b3R5cGUudmFsaWRhdGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxpPXRoaXMuJGVsZW1lbnQscz10aGlzLm9wdGlvbnMsbz1uKHQpLGE9by5kYXRhKFwiZXF1YWxUb1wiKTthJiZvLmF0dHIoXCJwYXR0ZXJuXCIsXCJeXCIraS5maW5kKGEpLnZhbCgpK1wiJFwiKTt2YXIgcj1vLmF0dHIoXCJwYXR0ZXJuXCIpfHwhMSxsPW5ldyBSZWdFeHAociksYz1udWxsLHU9bnVsbCxoPW8uaXMoXCJbdHlwZT1jaGVja2JveF1cIik/KHU9aS5maW5kKCdpbnB1dFtuYW1lPVwiJyt0Lm5hbWUrJ1wiXScpKS5maWx0ZXIoXCI6Y2hlY2tlZFwiKS5sZW5ndGg6by5pcyhcIlt0eXBlPXJhZGlvXVwiKT8oYz10aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0W25hbWU9XCInK3QubmFtZSsnXCJdJykpLmZpbHRlcihcIjpjaGVja2VkXCIpLmxlbmd0aD4wOm8udmFsKCk7bz11JiZ1Lmxlbmd0aD91LmZpcnN0KCk6bzt2YXIgZD12b2lkIDAhPT1vLmF0dHIoXCJyZXF1aXJlZFwiKSYmXCJmYWxzZVwiIT09by5hdHRyKFwicmVxdWlyZWRcIikscD1wYXJzZUludChvLmF0dHIoXCJtYXhsZW5ndGhcIiksMTApLG09cGFyc2VJbnQoby5hdHRyKFwibWlubGVuZ3RoXCIpLDEwKSxmPU51bWJlcihvLmF0dHIoXCJtaW5cIikpLHY9TnVtYmVyKG8uYXR0cihcIm1heFwiKSksZz10aGlzLmNyZWF0ZVZhbGlkaXR5KHtmaWVsZDpvWzBdLHZhbGlkOiEwfSk7aWYocy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJihjb25zb2xlLmxvZyhcIlZhbGlkYXRlOiB2YWx1ZSAtPiBbXCIraCtcIiwgcmVnZXggLT4gW1wiK2wrXCJdLCByZXF1aXJlZCAtPiBcIitkKSxjb25zb2xlLmxvZyhcIlJlZ2V4IHRlc3Q6IFwiK2wudGVzdChoKStcIiwgUGF0dGVybjogXCIrcikpLCFpc05hTihwKSYmaC5sZW5ndGg+cCYmKGcudmFsaWQ9ITEsZy50b29Mb25nPSEwKSwhaXNOYU4obSkmJmgubGVuZ3RoPG0mJihnLnZhbGlkPSExLGcuY3VzdG9tRXJyb3I9XCJ0b29TaG9ydFwiKSwhaXNOYU4oZikmJk51bWJlcihoKTxmJiYoZy52YWxpZD0hMSxnLnJhbmdlVW5kZXJmbG93PSEwKSwhaXNOYU4odikmJk51bWJlcihoKT52JiYoZy52YWxpZD0hMSxnLnJhbmdlT3ZlcmZsb3c9ITApLGQmJiFoKWcudmFsaWQ9ITEsZy52YWx1ZU1pc3Npbmc9ITA7ZWxzZSBpZigodXx8by5pcygnc2VsZWN0W211bHRpcGxlPVwibXVsdGlwbGVcIl0nKSkmJmgpe2g9dT9oOmgubGVuZ3RoO3ZhciB5PXBhcnNlSW50KG8uYXR0cihcIm1pbmNoZWNrZWRcIiksMTApLHc9cGFyc2VJbnQoby5hdHRyKFwibWF4Y2hlY2tlZFwiKSwxMCk7IWlzTmFOKHkpJiZoPHkmJihnLnZhbGlkPSExLGcuY3VzdG9tRXJyb3I9XCJjaGVja2VkVW5kZXJmbG93XCIpLCFpc05hTih3KSYmaD53JiYoZy52YWxpZD0hMSxnLmN1c3RvbUVycm9yPVwiY2hlY2tlZE92ZXJmbG93XCIpfWVsc2UgciYmIWwudGVzdChoKSYmaCYmKGcudmFsaWQ9ITEsZy5wYXR0ZXJuTWlzbWF0Y2g9ITApO3ZhciBiLFQ9ZnVuY3Rpb24odCl7dGhpcy5tYXJrRmllbGQodCk7dmFyIGk9bi5FdmVudChcInZhbGlkYXRlZC5maWVsZC52YWxpZGF0b3IuYW11aVwiKTtpLnZhbGlkaXR5PXQsby50cmlnZ2VyKGkpLmRhdGEoXCJ2YWxpZGl0eVwiLHQpO3ZhciBzPWN8fHU7cmV0dXJuIHMmJnMubm90KG8pLmRhdGEoXCJ2YWxpZGl0eVwiLHQpLmVhY2goZnVuY3Rpb24oKXt0LmZpZWxkPXRoaXMsZS5tYXJrRmllbGQodCl9KSx0fTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLnZhbGlkYXRlJiYoYj1zLnZhbGlkYXRlLmNhbGwodGhpcyxnKSksYil7dmFyIHg9bmV3IG4uRGVmZXJyZWQ7cmV0dXJuIG8uZGF0YShcImFtdWkuZGZkVmFsaWRpdHlcIix4LnByb21pc2UoKSksbi53aGVuKGIpLmFsd2F5cyhmdW5jdGlvbih0KXt4W3QudmFsaWQ/XCJyZXNvbHZlXCI6XCJyZWplY3RcIl0odCksVC5jYWxsKGUsdCl9KX1ULmNhbGwodGhpcyxnKX0sby5wcm90b3R5cGUubWFya0ZpZWxkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMub3B0aW9ucyxpPVwibWFya1wiKyh0LnZhbGlkP1wiXCI6XCJJblwiKStcIlZhbGlkXCI7ZVtpXSYmZVtpXS5jYWxsKHRoaXMsdCl9LG8ucHJvdG90eXBlLnZhbGlkYXRlRm9ybT1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10aGlzLiRlbGVtZW50LGk9dGhpcy5vcHRpb25zLHM9ZS5maW5kKGkuYWxsRmllbGRzKS5ub3QoaS5pZ25vcmUpLG89W10sYT0hMCxyPVtdLGw9bihbXSksYz1bXSx1PSExO2UudHJpZ2dlcihcInZhbGlkYXRlLmZvcm0udmFsaWRhdG9yLmFtdWlcIik7dmFyIGg9cy5maWx0ZXIoZnVuY3Rpb24odCl7dmFyIGU7aWYoXCJJTlBVVFwiPT09dGhpcy50YWdOYW1lJiZcInJhZGlvXCI9PT10aGlzLnR5cGUpe2lmKGU9dGhpcy5uYW1lLG9bZV09PT0hMClyZXR1cm4hMTtvW2VdPSEwO1xyXG59cmV0dXJuITB9KTtoLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHM9dC5pc1ZhbGlkKHRoaXMpLG89aS5kYXRhKFwidmFsaWRpdHlcIik7YT0hIXMmJmEsci5wdXNoKG8pLHN8fChsPWwuYWRkKG4odGhpcyksZSkpO3ZhciBoPWkuZGF0YShcImFtdWkuZGZkVmFsaWRpdHlcIik7aWYoaCljLnB1c2goaCksdT0hMDtlbHNle3ZhciBkPW5ldyBuLkRlZmVycmVkO2MucHVzaChkLnByb21pc2UoKSksZFtzP1wicmVzb2x2ZVwiOlwicmVqZWN0XCJdKG8pfX0pO3ZhciBkPXt2YWxpZDphLCRpbnZhbGlkRmllbGRzOmwsdmFsaWRpdHk6cixwcm9taXNlczpjLGFzeW5jOnV9O3JldHVybiBlLnRyaWdnZXIoXCJ2YWxpZGF0ZWQuZm9ybS52YWxpZGF0b3IuYW11aVwiLGQpLGR9LG8ucHJvdG90eXBlLmlzRm9ybVZhbGlkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMudmFsaWRhdGVGb3JtKCksaT1mdW5jdGlvbihlKXt0LiRlbGVtZW50LnRyaWdnZXIoZStcIi52YWxpZGF0b3IuYW11aVwiKX07aWYoZS5hc3luYyl7dmFyIHM9bmV3IG4uRGVmZXJyZWQ7cmV0dXJuIG4ud2hlbi5hcHBseShudWxsLGUucHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oKXtzLnJlc29sdmUoKSxpKFwidmFsaWRcIil9LGZ1bmN0aW9uKCl7cy5yZWplY3QoKSxpKFwiaW52YWxpZFwiKX0pLHMucHJvbWlzZSgpfWlmKCFlLnZhbGlkKXt2YXIgbz1lLiRpbnZhbGlkRmllbGRzLmZpcnN0KCk7cmV0dXJuIG8uaXMoXCJbZGF0YS1hbS1zZWxlY3RlZF1cIikmJihvPW8ubmV4dChcIi5hbS1zZWxlY3RlZFwiKS5maW5kKFwiLmFtLXNlbGVjdGVkLWJ0blwiKSksby5mb2N1cygpLGkoXCJpbnZhbGlkXCIpLCExfXJldHVybiBpKFwidmFsaWRcIiksITB9LG8ucHJvdG90eXBlLmNyZWF0ZVZhbGlkaXR5PWZ1bmN0aW9uKHQpe3JldHVybiBuLmV4dGVuZCh7Y3VzdG9tRXJyb3I6dC5jdXN0b21FcnJvcnx8ITEscGF0dGVybk1pc21hdGNoOnQucGF0dGVybk1pc21hdGNofHwhMSxyYW5nZU92ZXJmbG93OnQucmFuZ2VPdmVyZmxvd3x8ITEscmFuZ2VVbmRlcmZsb3c6dC5yYW5nZVVuZGVyZmxvd3x8ITEsc3RlcE1pc21hdGNoOnQuc3RlcE1pc21hdGNofHwhMSx0b29Mb25nOnQudG9vTG9uZ3x8ITEsdHlwZU1pc21hdGNoOnQudHlwZU1pc21hdGNofHwhMSx2YWxpZDp0LnZhbGlkfHwhMCx2YWx1ZU1pc3Npbmc6dC52YWx1ZU1pc3Npbmd8fCExfSx0KX0sby5wcm90b3R5cGUuZ2V0VmFsaWRhdGlvbk1lc3NhZ2U9ZnVuY3Rpb24odCl7dmFyIGUsaSxzPW8udmFsaWRhdGlvbk1lc3NhZ2VzW3RoaXMub3B0aW9ucy5sb2NhbGVzXSxhPVwiJXNcIixyPW4odC5maWVsZCk7cmV0dXJuKHIuaXMoJ1t0eXBlPVwiY2hlY2tib3hcIl0nKXx8ci5pcygnW3R5cGU9XCJyYWRpb1wiXScpKSYmKHI9dGhpcy4kZWxlbWVudC5maW5kKFwiW25hbWU9XCIrci5hdHRyKFwibmFtZVwiKStcIl1cIikuZmlyc3QoKSksbi5lYWNoKHQsZnVuY3Rpb24odCxpKXtyZXR1cm5cImZpZWxkXCI9PT10fHxcInZhbGlkXCI9PT10P3Q6XCJjdXN0b21FcnJvclwiPT09dCYmaT8oZT1pLHM9cy5jdXN0b21FcnJvciwhMSk6aT09PSEwPyhlPXQsITEpOnZvaWQgMH0pLGk9c1tlXXx8dm9pZCAwLGkmJm8uRVJST1JfTUFQW2VdJiYoaT1pLnJlcGxhY2UoYSxyLmF0dHIoby5FUlJPUl9NQVBbZV0pfHxcIlxcdTg5YzRcXHU1YjlhXFx1NzY4NFwiKSksaX0sby5wcm90b3R5cGUucmVtb3ZlTWFyaz1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQuZmluZChcIi5hbS1mb3JtLXN1Y2Nlc3MsIC5hbS1mb3JtLWVycm9yLCAuXCIrdGhpcy5vcHRpb25zLmluVmFsaWRDbGFzcytcIiwgLlwiK3RoaXMub3B0aW9ucy52YWxpZENsYXNzKS5yZW1vdmVDbGFzcyhbXCJhbS1mb3JtLXN1Y2Nlc3NcIixcImFtLWZvcm0tZXJyb3JcIix0aGlzLm9wdGlvbnMuaW5WYWxpZENsYXNzLHRoaXMub3B0aW9ucy52YWxpZENsYXNzXS5qb2luKFwiIFwiKSl9LG8ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZU1hcmsoKSx0aGlzLiRlbGVtZW50LnJlbW92ZURhdGEoXCJhbXVpLnZhbGlkYXRvciBhbXVpLmNoZWNrZWRcIikub2ZmKFwiLnZhbGlkYXRvci5hbXVpXCIpLmZpbmQodGhpcy5vcHRpb25zLmFsbEZpZWxkcykucmVtb3ZlRGF0YShcInZhbGlkaXR5IGFtdWkuZGZkVmFsaWRpdHlcIil9LHMucGx1Z2luKFwidmFsaWRhdG9yXCIsbykscy5yZWFkeShmdW5jdGlvbih0KXtuKFwiW2RhdGEtYW0tdmFsaWRhdG9yXVwiLHQpLnZhbGlkYXRvcigpfSksdC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDIpLHM9e2dldDpmdW5jdGlvbih0KXt2YXIgZSxpPWVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIixuPWRvY3VtZW50LmNvb2tpZS5pbmRleE9mKGkpLHM9bnVsbDtyZXR1cm4gbj4tMSYmKGU9ZG9jdW1lbnQuY29va2llLmluZGV4T2YoXCI7XCIsbiksZT09LTEmJihlPWRvY3VtZW50LmNvb2tpZS5sZW5ndGgpLHM9ZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZS5zdWJzdHJpbmcobitpLmxlbmd0aCxlKSkpLHN9LHNldDpmdW5jdGlvbih0LGUsaSxuLHMsbyl7dmFyIGE9ZW5jb2RlVVJJQ29tcG9uZW50KHQpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChlKTtpIGluc3RhbmNlb2YgRGF0ZSYmKGErPVwiOyBleHBpcmVzPVwiK2kudG9VVENTdHJpbmcoKSksbiYmKGErPVwiOyBwYXRoPVwiK24pLHMmJihhKz1cIjsgZG9tYWluPVwiK3MpLG8mJihhKz1cIjsgc2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1hfSx1bnNldDpmdW5jdGlvbih0LGUsaSxuKXt0aGlzLnNldCh0LFwiXCIsbmV3IERhdGUoMCksZSxpLG4pfX07bi51dGlscz1uLnV0aWxzfHx7fSx0LmV4cG9ydHM9bi51dGlscy5jb29raWU9c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMikscz1mdW5jdGlvbigpe3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBFbGVtZW50JiZcIkFMTE9XX0tFWUJPQVJEX0lOUFVUXCJpbiBFbGVtZW50LGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQsZSxpPVtbXCJyZXF1ZXN0RnVsbHNjcmVlblwiLFwiZXhpdEZ1bGxzY3JlZW5cIixcImZ1bGxzY3JlZW5FbGVtZW50XCIsXCJmdWxsc2NyZWVuRW5hYmxlZFwiLFwiZnVsbHNjcmVlbmNoYW5nZVwiLFwiZnVsbHNjcmVlbmVycm9yXCJdLFtcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXCJ3ZWJraXRFeGl0RnVsbHNjcmVlblwiLFwid2Via2l0RnVsbHNjcmVlbkVsZW1lbnRcIixcIndlYmtpdEZ1bGxzY3JlZW5FbmFibGVkXCIsXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIl0sW1wid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudFwiLFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFwid2Via2l0ZnVsbHNjcmVlbmVycm9yXCJdLFtcIm1velJlcXVlc3RGdWxsU2NyZWVuXCIsXCJtb3pDYW5jZWxGdWxsU2NyZWVuXCIsXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiLFwibW96RnVsbFNjcmVlbkVuYWJsZWRcIixcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcIm1vemZ1bGxzY3JlZW5lcnJvclwiXSxbXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCIsXCJtc0V4aXRGdWxsc2NyZWVuXCIsXCJtc0Z1bGxzY3JlZW5FbGVtZW50XCIsXCJtc0Z1bGxzY3JlZW5FbmFibGVkXCIsXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIixcIk1TRnVsbHNjcmVlbkVycm9yXCJdXSxuPTAscz1pLmxlbmd0aCxvPXt9O248cztuKyspaWYodD1pW25dLHQmJnRbMV1pbiBkb2N1bWVudCl7Zm9yKG49MCxlPXQubGVuZ3RoO248ZTtuKyspb1tpWzBdW25dXT10W25dO3JldHVybiBvfXJldHVybiExfSgpLGk9e3JlcXVlc3Q6ZnVuY3Rpb24oaSl7dmFyIG49ZS5yZXF1ZXN0RnVsbHNjcmVlbjtpPWl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwvNVxcLjFbXFwuXFxkXSogU2FmYXJpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP2lbbl0oKTppW25dKHQmJkVsZW1lbnQuQUxMT1dfS0VZQk9BUkRfSU5QVVQpfSxleGl0OmZ1bmN0aW9uKCl7ZG9jdW1lbnRbZS5leGl0RnVsbHNjcmVlbl0oKX0sdG9nZ2xlOmZ1bmN0aW9uKHQpe3RoaXMuaXNGdWxsc2NyZWVuP3RoaXMuZXhpdCgpOnRoaXMucmVxdWVzdCh0KX0scmF3OmV9O3JldHVybiEhZSYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkse2lzRnVsbHNjcmVlbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuISFkb2N1bWVudFtlLmZ1bGxzY3JlZW5FbGVtZW50XX19LGVsZW1lbnQ6e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50W2UuZnVsbHNjcmVlbkVsZW1lbnRdfX0sZW5hYmxlZDp7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50W2UuZnVsbHNjcmVlbkVuYWJsZWRdfX19KSxpLlZFUlNJT049XCIzLjAuMFwiLGkpfSgpO3QuZXhwb3J0cz1uLmZ1bGxzY3JlZW49c30sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpO3Muc3VwcG9ydC5nZW9sb2NhdGlvbj13aW5kb3cubmF2aWdhdG9yJiZ3aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9uO3ZhciBvPXMuc3VwcG9ydC5nZW9sb2NhdGlvbixhPWZ1bmN0aW9uKHQpe3RoaXMub3B0aW9ucz10fHx7fX07YS5NRVNTQUdFUz17dW5zdXBwb3J0ZWRCcm93c2VyOlwiQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGxvY2F0aW9uIHNlcnZpY2VzXCIscGVybWlzc2lvbkRlbmllZDpcIllvdSBoYXZlIHJlamVjdGVkIGFjY2VzcyB0byB5b3VyIGxvY2F0aW9uXCIscG9zaXRpb25VbmF2YWlsYWJsZTpcIlVuYWJsZSB0byBkZXRlcm1pbmUgeW91ciBsb2NhdGlvblwiLHRpbWVvdXQ6XCJTZXJ2aWNlIHRpbWVvdXQgaGFzIGJlZW4gcmVhY2hlZFwifSxhLkVSUk9SX0NPREU9ezA6XCJ1bnN1cHBvcnRlZEJyb3dzZXJcIiwxOlwicGVybWlzc2lvbkRlbmllZFwiLDI6XCJwb3NpdGlvblVuYXZhaWxhYmxlXCIsMzpcInRpbWVvdXRcIn0sYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dD1uLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdCk7dmFyIGk9bmV3IG4uRGVmZXJyZWQ7cmV0dXJuIG8/dGhpcy53YXRjaElEPW8uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHQpe2kucmVzb2x2ZS5jYWxsKGUsdCl9LGZ1bmN0aW9uKHQpe2kucmVqZWN0KGEuTUVTU0FHRVNbYS5FUlJPUl9DT0RFW3QuY29kZV1dKX0sdCk6aS5yZWplY3QoYS5NRVNTQUdFUy51bnN1cHBvcnRlZEJyb3dzZXIpLGkucHJvbWlzZSgpfSxhLnByb3RvdHlwZS53YXRjaD1mdW5jdGlvbih0KXtpZihvJiYodD1uLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMsdCksbi5pc0Z1bmN0aW9uKHQuZG9uZSkpKXt0aGlzLmNsZWFyV2F0Y2goKTt2YXIgZT1uLmlzRnVuY3Rpb24odC5mYWlsKT90LmZhaWw6bnVsbDtyZXR1cm4gdGhpcy53YXRjaElEPW8ud2F0Y2hQb3NpdGlvbih0LmRvbmUsZSx0KSx0aGlzLndhdGNoSUR9fSxhLnByb3RvdHlwZS5jbGVhcldhdGNoPWZ1bmN0aW9uKCl7byYmdGhpcy53YXRjaElEJiYoby5jbGVhcldhdGNoKHRoaXMud2F0Y2hJRCksdGhpcy53YXRjaElEPW51bGwpfSx0LmV4cG9ydHM9cy5HZW9sb2NhdGlvbj1hfSxmdW5jdGlvbih0LGUsaSl7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt0cnl7cmV0dXJuIGwgaW4gciYmcltsXX1jYXRjaCh0KXtyZXR1cm4hMX19dmFyIHMsbz1pKDIpLGE9e30scj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzplLGw9XCJsb2NhbFN0b3JhZ2VcIjthLmRpc2FibGVkPSExLGEudmVyc2lvbj1cIjEuMy4yMFwiLGEuc2V0PWZ1bmN0aW9uKHQsZSl7fSxhLmdldD1mdW5jdGlvbih0LGUpe30sYS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PWEuZ2V0KHQpfSxhLnJlbW92ZT1mdW5jdGlvbih0KXt9LGEuY2xlYXI9ZnVuY3Rpb24oKXt9LGEudHJhbnNhY3Q9ZnVuY3Rpb24odCxlLGkpe251bGw9PWkmJihpPWUsZT1udWxsKSxudWxsPT1lJiYoZT17fSk7dmFyIG49YS5nZXQodCxlKTtpKG4pLGEuc2V0KHQsbil9LGEuZ2V0QWxsPWZ1bmN0aW9uKCl7fSxhLmZvckVhY2g9ZnVuY3Rpb24oKXt9LGEuc2VyaWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0sYS5kZXNlcmlhbGl6ZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuIHR8fHZvaWQgMH19LG4oKSYmKHM9cltsXSxhLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lP2EucmVtb3ZlKHQpOihzLnNldEl0ZW0odCxhLnNlcmlhbGl6ZShlKSksZSl9LGEuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9YS5kZXNlcmlhbGl6ZShzLmdldEl0ZW0odCkpO3JldHVybiB2b2lkIDA9PT1pP2U6aX0sYS5yZW1vdmU9ZnVuY3Rpb24odCl7cy5yZW1vdmVJdGVtKHQpfSxhLmNsZWFyPWZ1bmN0aW9uKCl7cy5jbGVhcigpfSxhLmdldEFsbD1mdW5jdGlvbigpe3ZhciB0PXt9O3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24oZSxpKXt0W2VdPWl9KSx0fSxhLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspe3ZhciBpPXMua2V5KGUpO3QoaSxhLmdldChpKSl9fSk7dHJ5e3ZhciBjPVwiX19zdG9yZWpzX19cIjthLnNldChjLGMpLGEuZ2V0KGMpIT1jJiYoYS5kaXNhYmxlZD0hMCksYS5yZW1vdmUoYyl9Y2F0Y2godSl7YS5kaXNhYmxlZD0hMH1hLmVuYWJsZWQ9IWEuZGlzYWJsZWQsdC5leHBvcnRzPW8uc3RvcmU9YX0pLmNhbGwoZSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgdD1zKCdbZGF0YS1hbS13aWRnZXQ9XCJhY2NvcmRpb25cIl0nKSxlPXtpdGVtOlwiLmFtLWFjY29yZGlvbi1pdGVtXCIsdGl0bGU6XCIuYW0tYWNjb3JkaW9uLXRpdGxlXCIsYm9keTpcIi5hbS1hY2NvcmRpb24tYmRcIixkaXNhYmxlZDpcIi5hbS1kaXNhYmxlZFwifTt0LmVhY2goZnVuY3Rpb24odCxpKXt2YXIgbj1vLnV0aWxzLnBhcnNlT3B0aW9ucyhzKGkpLmF0dHIoXCJkYXRhLWFtLWFjY29yZGlvblwiKSksYT1zKGkpLmZpbmQoZS50aXRsZSk7YS5vbihcImNsaWNrLmFjY29yZGlvbi5hbXVpXCIsZnVuY3Rpb24oKXt2YXIgdD1zKHRoaXMpLm5leHQoZS5ib2R5KSxvPXModGhpcykucGFyZW50KGUuaXRlbSksYT10LmRhdGEoXCJhbXVpLmNvbGxhcHNlXCIpO28uaXMoZS5kaXNhYmxlZCl8fChvLnRvZ2dsZUNsYXNzKFwiYW0tYWN0aXZlXCIpLGE/dC5jb2xsYXBzZShcInRvZ2dsZVwiKTp0LmNvbGxhcHNlKCksIW4ubXVsdGlwbGUmJnMoaSkuY2hpbGRyZW4oXCIuYW0tYWN0aXZlXCIpLm5vdChvKS5ub3QoZS5kaXNhYmxlZCkucmVtb3ZlQ2xhc3MoXCJhbS1hY3RpdmVcIikuZmluZChlLmJvZHkrXCIuYW0taW5cIikuY29sbGFwc2UoXCJjbG9zZVwiKSl9KX0pfXZhciBzPWkoMSksbz1pKDIpO2koNykscyhuKSx0LmV4cG9ydHM9by5hY2NvcmRpb249e1ZFUlNJT046XCIyLjEuMFwiLGluaXQ6bn19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPXtWRVJTSU9OOlwiMi4wLjFcIn19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIHQ9cyhcIi5kcy10aHJlYWRcIiksZT10LnBhcmVudCgnW2RhdGEtYW0td2lkZ2V0PVwiZHVvc2h1b1wiXScpLmF0dHIoXCJkYXRhLWRzLXNob3J0LW5hbWVcIiksaT0oXCJodHRwczpcIj09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/XCJodHRwczpcIjpcImh0dHA6XCIpK1wiLy9zdGF0aWMuZHVvc2h1by5jb20vZW1iZWQuanNcIjtpZih0Lmxlbmd0aCYmZSYmKHdpbmRvdy5kdW9zaHVvUXVlcnk9e3Nob3J0X25hbWU6ZX0sIXMoJ3NjcmlwdFtzcmM9XCInK2krJ1wiXScpLmxlbmd0aCkpe3ZhciBuPXMoXCI8c2NyaXB0PlwiLHthc3luYzohMCx0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsc3JjOmksY2hhcnNldDpcInV0Zi04XCJ9KTtzKFwiYm9keVwiKS5hcHBlbmQobil9fXZhciBzPWkoMSksbz1pKDIpO3Mod2luZG93KS5vbihcImxvYWRcIixuKSx0LmV4cG9ydHM9by5kdW9zaHVvPXtWRVJTSU9OOlwiMi4wLjFcIixpbml0Om59fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3MoXCIuYW0tZmlndXJlXCIpLmVhY2goZnVuY3Rpb24odCxlKXt2YXIgaSxuPW8udXRpbHMucGFyc2VPcHRpb25zKHMoZSkuYXR0cihcImRhdGEtYW0tZmlndXJlXCIpKSxhPXMoZSk7aWYobi5wdXJldmlldylpZihcImF1dG9cIj09PW4ucHVyZXZpZXcpe3ZhciByPXMuaXNJbWdab29tQWJsZShhLmZpbmQoXCJpbWdcIilbMF0pO3ImJmEucHVyZXZpZXcoKX1lbHNlIGEuYWRkQ2xhc3MoXCJhbS1maWd1cmUtem9vbWFibGVcIikucHVyZXZpZXcoKTtpPWEuZGF0YShcImFtdWkucHVyZXZpZXdcIiksaSYmYS5vbihcImNsaWNrXCIsXCI6bm90KGltZylcIixmdW5jdGlvbigpe2kub3BlbigwKX0pfSl9dmFyIHM9aSgxKSxvPWkoMik7aSgyMCkscy5pc0ltZ1pvb21BYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBJbWFnZTtlLnNyYz10LnNyYzt2YXIgaT1zKHQpLndpZHRoKCk8ZS53aWR0aDtyZXR1cm4gaSYmcyh0KS5jbG9zZXN0KFwiLmFtLWZpZ3VyZVwiKS5hZGRDbGFzcyhcImFtLWZpZ3VyZS16b29tYWJsZVwiKSxpfSxzKHdpbmRvdykub24oXCJsb2FkXCIsbiksdC5leHBvcnRzPW8uZmlndXJlPXtWRVJTSU9OOlwiMi4wLjNcIixpbml0Om59fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3MoXCIuYW0tZm9vdGVyLXlzcFwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oKXtzKFwiI2FtLWZvb3Rlci1tb2RhbFwiKS5tb2RhbCgpfSk7dmFyIHQ9by51dGlscy5wYXJzZU9wdGlvbnMocyhcIi5hbS1mb290ZXJcIikuZGF0YShcImFtRm9vdGVyXCIpKTt0LmFkZFRvSFMmJmEoKSxzKCdbZGF0YS1yZWw9XCJkZXNrdG9wXCJdJykub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSx3aW5kb3cuQU1QbGF0Zm9ybT93aW5kb3cuQU1QbGF0Zm9ybS51dGlsLmdvRGVza3RvcCgpOihyLnNldChcImFsbG1vYmlsaXplXCIsXCJkZXNrdG9wXCIsXCJcIixcIi9cIiksd2luZG93LmxvY2F0aW9uPXdpbmRvdy5sb2NhdGlvbil9KX12YXIgcz1pKDEpLG89aSgyKTtpKDE1KTt2YXIgYT1pKDQpLHI9aSgzMSk7cyhuKSx0LmV4cG9ydHM9by5mb290ZXI9e1ZFUlNJT046XCIzLjEuMlwiLGluaXQ6bn19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIHQ9cygnW2RhdGEtYW0td2lkZ2V0PVwiZ2FsbGVyeVwiXScpO3QuZWFjaChmdW5jdGlvbigpe3ZhciB0PW8udXRpbHMucGFyc2VPcHRpb25zKHModGhpcykuYXR0cihcImRhdGEtYW0tZ2FsbGVyeVwiKSk7dC5wdXJldmlldyYmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnB1cmV2aWV3P3ModGhpcykucHVyZXZpZXcodC5wdXJldmlldyk6cyh0aGlzKS5wdXJldmlldygpKX0pfXZhciBzPWkoMSksbz1pKDIpO2koMjApLHMobiksdC5leHBvcnRzPW8uZ2FsbGVyeT17VkVSU0lPTjpcIjMuMC4wXCIsaW5pdDpufX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtmdW5jdGlvbiB0KCl7aVsobi5zY3JvbGxUb3AoKT41MD9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJhbS1hY3RpdmVcIil9dmFyIGU9cygnW2RhdGEtYW0td2lkZ2V0PVwiZ290b3BcIl0nKSxpPWUuZmlsdGVyKFwiLmFtLWdvdG9wLWZpeGVkXCIpLG49cyh3aW5kb3cpO2UuZGF0YShcImluaXRcIil8fChlLmZpbmQoXCJhXCIpLm9uKFwiY2xpY2tcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksbi5zbW9vdGhTY3JvbGwoKX0pLHQoKSxuLm9uKFwic2Nyb2xsLmdvdG9wLmFtdWlcIixvLnV0aWxzLmRlYm91bmNlKHQsMTAwKSksZS5kYXRhKFwiaW5pdFwiLCEwKSl9dmFyIHM9aSgxKSxvPWkoMik7aSgyMykscyhuKSx0LmV4cG9ydHM9by5nb3RvcD17VkVSU0lPTjpcIjQuMC4yXCIsaW5pdDpufX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtzKCdbZGF0YS1hbS13aWRnZXQ9XCJoZWFkZXJcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7aWYocyh0aGlzKS5oYXNDbGFzcyhcImFtLWhlYWRlci1maXhlZFwiKSlyZXR1cm4gcyhcImJvZHlcIikuYWRkQ2xhc3MoXCJhbS13aXRoLWZpeGVkLWhlYWRlclwiKSwhMX0pfXZhciBzPWkoMSksbz1pKDIpO3MobiksdC5leHBvcnRzPW8uaGVhZGVyPXtWRVJTSU9OOlwiMi4wLjBcIixpbml0Om59fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyKTt0LmV4cG9ydHM9bi5pbnRybz17VkVSU0lPTjpcIjQuMC4yXCIsaW5pdDpmdW5jdGlvbigpe319fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyKTt0LmV4cG9ydHM9bi5saXN0TmV3cz17VkVSU0lPTjpcIjQuMC4wXCIsaW5pdDpmdW5jdGlvbigpe319fSxmdW5jdGlvbih0LGUsaSl7ZnVuY3Rpb24gbih0KXt2YXIgZT1vKFwiPHNjcmlwdCAvPlwiLHtpZDpcImFtLW1hcC1hcGktMFwifSk7byhcImJvZHlcIikuYXBwZW5kKGUpLGUub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcImxvYWRcIik7dmFyIGU9byhcIjxzY3JpcHQvPlwiLHtpZDpcImFtLW1hcC1hcGktMVwifSk7byhcImJvZHlcIikuYXBwZW5kKGUpLGUub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2UudGV4dENvbnRlbnQ9XCIoXCIrdC50b1N0cmluZygpK1wiKSgpO1wiLG8oXCJib2R5XCIpWzBdLmFwcGVuZENoaWxkKGUpfSkuYXR0cihcInNyY1wiLFwiaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL2dldHNjcmlwdD90eXBlPXF1aWNrJmZpbGU9ZmVhdHVyZSZhaz1XVkFYWjA1b3lOUlhTNWVnTEltbWVudGcmdD0yMDE0MDEwOTA5MjAwMlwiKX0pLmF0dHIoXCJzcmNcIixcImh0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9nZXRzY3JpcHQ/dHlwZT1xdWljayZmaWxlPWFwaSZhaz1XVkFYWjA1b3lOUlhTNWVnTEltbWVudGcmdD0yMDE0MDEwOTA5MjAwMlwiKX1mdW5jdGlvbiBzKCl7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbS1tYXBcIiksZT0xMTYuMzMxMzk4LGk9MzkuODk3NDQ1LG49dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5hbWVcIikscz10LmdldEF0dHJpYnV0ZShcImRhdGEtYWRkcmVzc1wiKSxvPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sb25naXR1ZGVcIil8fGUsYT10LmdldEF0dHJpYnV0ZShcImRhdGEtbGF0aXR1ZGVcIil8fGkscj10LmdldEF0dHJpYnV0ZShcImRhdGEtc2V0Wm9vbVwiKXx8MTcsbD10LmdldEF0dHJpYnV0ZShcImRhdGEtaWNvblwiKSxjPW5ldyBCTWFwLk1hcChcImJkLW1hcFwiKSx1PW5ldyBCTWFwLlBvaW50KG8sYSk7Yy5jZW50ZXJBbmRab29tKHUsciksdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXpvb21Db250cm9sXCIpJiZjLmFkZENvbnRyb2wobmV3IEJNYXAuWm9vbUNvbnRyb2wpLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1zY2FsZUNvbnRyb2xcIikmJmMuYWRkQ29udHJvbChuZXcgQk1hcC5TY2FsZUNvbnRyb2wpO3ZhciBoPW5ldyBCTWFwLk1hcmtlcih1KTtsJiZoLnNldEljb24obmV3IEJNYXAuSWNvbihsLG5ldyBCTWFwLlNpemUoNDAsNDApKSk7dmFyIGQ9e3dpZHRoOjIwMCx0aXRsZTpufSxwPW5ldyBCTWFwLkluZm9XaW5kb3coXCJcXHU1NzMwXFx1NTc0MFxcdWZmMWFcIitzLGQpLG09bmV3IEJNYXAuR2VvY29kZXI7bz09ZSYmYT09aT9tLmdldFBvaW50KHMsZnVuY3Rpb24odCl7dCYmKGMuY2VudGVyQW5kWm9vbSh0LHIpLGguc2V0UG9zaXRpb24odCksYy5hZGRPdmVybGF5KGgpLGMub3BlbkluZm9XaW5kb3cocCx0KSl9LFwiXCIpOm0uZ2V0TG9jYXRpb24odSxmdW5jdGlvbih0KXtjLmNlbnRlckFuZFpvb20odSxyKSxoLnNldFBvc2l0aW9uKHUpLGMuYWRkT3ZlcmxheShoKSxzP2Mub3BlbkluZm9XaW5kb3cocCx1KTpjLm9wZW5JbmZvV2luZG93KG5ldyBCTWFwLkluZm9XaW5kb3cocyxkKSx1KX0pfXZhciBvPWkoMSksYT1pKDIpLHI9ZnVuY3Rpb24oKXtvKFwiLmFtLW1hcFwiKS5sZW5ndGgmJm4ocyl9O28ociksdC5leHBvcnRzPWEubWFwPXtWRVJTSU9OOlwiMi4wLjJcIixpbml0OnJ9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe2lmKHMoXCIjbWVjaGF0XCIpLmxlbmd0aCl7dmFyIHQ9cygnW2RhdGEtYW0td2lkZ2V0PVwibWVjaGF0XCJdJyksZT10LmRhdGEoXCJhbS1tZWNoYXQtdW5pdGlkXCIpLGk9cyhcIjxzY3JpcHQ+XCIse2NoYXJzZXQ6XCJ1dGYtOFwiLHNyYzpcImh0dHA6Ly9tZWNoYXRpbS5jb20vanMvdW5pdC9idXR0b24uanM/aWQ9XCIrZX0pO3MoXCJib2R5XCIpLmFwcGVuZChpKX19dmFyIHM9aSgxKSxvPWkoMik7cyh3aW5kb3cpLm9uKFwibG9hZFwiLG4pLHQuZXhwb3J0cz1vLm1lY2hhdD17VkVSU0lPTjpcIjIuMC4xXCIsaW5pdDpufX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoMSkscz1pKDIpLG89aSgxNCk7aSgxNiksaSg3KTt2YXIgYT1mdW5jdGlvbigpe3ZhciB0PW4oJ1tkYXRhLWFtLXdpZGdldD1cIm1lbnVcIl0nKTt0LmZpbmQoXCIuYW0tbWVudS1uYXYgLmFtLXBhcmVudCA+IGFcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1uKHRoaXMpLGk9ZS5wYXJlbnQoKSxzPWUubmV4dChcIi5hbS1tZW51LXN1YlwiKTtpLnRvZ2dsZUNsYXNzKFwiYW0tb3BlblwiKSxzLmNvbGxhcHNlKFwidG9nZ2xlXCIpLGkuc2libGluZ3MoXCIuYW0tcGFyZW50XCIpLnJlbW92ZUNsYXNzKFwiYW0tb3BlblwiKS5jaGlsZHJlbihcIi5hbS1tZW51LXN1Yi5hbS1pblwiKS5jb2xsYXBzZShcImNsb3NlXCIpfSksdC5maWx0ZXIoXCJbZGF0YS1hbS1tZW51LWNvbGxhcHNlXVwiKS5maW5kKFwiPiAuYW0tbWVudS10b2dnbGVcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1uKHRoaXMpLGk9ZS5uZXh0KFwiLmFtLW1lbnUtbmF2XCIpO2UudG9nZ2xlQ2xhc3MoXCJhbS1hY3RpdmVcIiksaS5jb2xsYXBzZShcInRvZ2dsZVwiKX0pLHQuZmlsdGVyKFwiW2RhdGEtYW0tbWVudS1vZmZjYW52YXNdXCIpLmZpbmQoXCI+IC5hbS1tZW51LXRvZ2dsZVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlPW4odGhpcyksaT1lLm5leHQoXCIuYW0tb2ZmY2FudmFzXCIpO2UudG9nZ2xlQ2xhc3MoXCJhbS1hY3RpdmVcIiksaS5vZmZDYW52YXMoXCJvcGVuXCIpfSk7dmFyIGU9Jy5hbS1vZmZjYW52YXNbZGF0YS1kaXNtaXNzLW9uPVwiY2xpY2tcIl0nLGk9bihlKTtpLmZpbmQoXCJhXCIpLm5vdChcIi5hbS1wYXJlbnQ+YVwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24odCl7bih0aGlzKS5wYXJlbnRzKGUpLm9mZkNhbnZhcyhcImNsb3NlXCIpfSksdC5maWx0ZXIoXCIuYW0tbWVudS1vbmVcIikuZWFjaChmdW5jdGlvbih0KXt2YXIgZSxpPW4odGhpcykscz1uKCc8ZGl2IGNsYXNzPVwiYW0tbWVudS1uYXYtc3ViLXdyYXBcIj48L2Rpdj4nKSxhPTAscj1pLmZpbmQoXCIuYW0tbWVudS1uYXZcIiksbD1yLmNoaWxkcmVuKFwibGlcIik7bC5maWx0ZXIoXCIuYW0tcGFyZW50XCIpLmVhY2goZnVuY3Rpb24odCl7bih0aGlzKS5hdHRyKFwiZGF0YS1yZWxcIixcIiNhbS1tZW51LXN1Yi1cIit0KSxuKHRoaXMpLmZpbmQoXCIuYW0tbWVudS1zdWJcIikuYXR0cihcImlkXCIsXCJhbS1tZW51LXN1Yi1cIit0KS5hcHBlbmRUbyhzKX0pLGkuYXBwZW5kKHMpLHIud3JhcCgnPGRpdiBjbGFzcz1cImFtLW1lbnUtbmF2LXdyYXBcIiBpZD1cImFtLW1lbnUtJyt0KydcIj4nKSxsLmVhY2goZnVuY3Rpb24odCl7YSs9cGFyc2VGbG9hdChuKHRoaXMpLmNzcyhcIndpZHRoXCIpKX0pLHIud2lkdGgoYSk7dmFyIGM9bmV3IG8oXCIjYW0tbWVudS1cIit0LHtldmVudFBhc3N0aHJvdWdoOiEwLHNjcm9sbFg6ITAsc2Nyb2xsWTohMSxwcmV2ZW50RGVmYXVsdDohMX0pO2wub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmFkZENsYXNzKFwiYW0tYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhbS1hY3RpdmVcIikscy5maW5kKFwiLmFtLW1lbnUtc3ViLmFtLWluXCIpLmNvbGxhcHNlKFwiY2xvc2VcIiksdC5pcyhcIi5hbS1wYXJlbnRcIik/IXQuaGFzQ2xhc3MoXCIuYW0tb3BlblwiKSYmcy5maW5kKHQuYXR0cihcImRhdGEtcmVsXCIpKS5jb2xsYXBzZShcIm9wZW5cIik6dC5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYW0tb3BlblwiKSx2b2lkIDA9PT1lJiYoZT1uKHRoaXMpLmluZGV4KCk/MDoxKTt2YXIgbyxhPW4odGhpcykuaW5kZXgoKT5lLGw9bih0aGlzKVthP1wibmV4dFwiOlwicHJldlwiXSgpLHU9bC5vZmZzZXQoKXx8bih0aGlzKS5vZmZzZXQoKSxoPWkub2Zmc2V0KCksZD1wYXJzZUludChpLmNzcyhcInBhZGRpbmctbGVmdFwiKSk7KGE/dS5sZWZ0K3Uud2lkdGg+aC5sZWZ0K2gud2lkdGg6dS5sZWZ0PGgubGVmdCkmJihvPXIub2Zmc2V0KCksYy5zY3JvbGxUbyhhP2gud2lkdGgtdS5sZWZ0K28ubGVmdC11LndpZHRoLWQ6by5sZWZ0LXUubGVmdCwwLDQwMCkpLGU9bih0aGlzKS5pbmRleCgpfSksaS5vbihcInRvdWNobW92ZVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKX0pfSl9O24oYSksdC5leHBvcnRzPXMubWVudT17VkVSU0lPTjpcIjQuMC4zXCIsaW5pdDphfX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXtmdW5jdGlvbiB0KCl7dS5hcHBlbmQoYiksdS5maW5kKFwibGlcIikubm90KFwiLmFtLW5hdmJhci1tb3JlXCIpLnNsaWNlKGkoKS0xKS5hcHBlbmRUbyh3KSxuLmFwcGVuZCh3KX1mdW5jdGlvbiBlKCl7cmV0dXJuIGkoKT49ZD8oYi5oaWRlKCksdm9pZCB3LmZpbmQoXCJsaVwiKS5pbnNlcnRCZWZvcmUoYikpOighbi5maW5kKFwiLmFtLW5hdmJhci1hY3Rpb25zXCIpLmxlbmd0aCYmdCgpLGIuc2hvdygpLHZvaWQodS5maW5kKFwibGlcIikubGVuZ3RoPGkoKT93LmZpbmQoXCJsaVwiKS5zbGljZSgwLGkoKS11LmZpbmQoXCJsaVwiKS5sZW5ndGgpLmluc2VydEJlZm9yZShiKTp1LmZpbmQoXCJsaVwiKS5sZW5ndGg+aSgpJiYody5maW5kKFwibGlcIikubGVuZ3RoP3UuZmluZChcImxpXCIpLm5vdChiKS5zbGljZShpKCktMSkuaW5zZXJ0QmVmb3JlKHcuZmluZChcImxpXCIpLmZpcnN0KCkpOnUuZmluZChcImxpXCIpLm5vdChiKS5zbGljZShpKCktMSkuYXBwZW5kVG8odykpKSl9ZnVuY3Rpb24gaSgpe3JldHVybiBNYXRoLmZsb29yKChsLndpZHRoKCktZikvbSl9dmFyIG49cygnW2RhdGEtYW0td2lkZ2V0PVwibmF2YmFyXCJdJyk7aWYobi5sZW5ndGgpe3ZhciBsPXMod2luZG93KSxjPXMoXCJib2R5XCIpLHU9bi5maW5kKFwiLmFtLW5hdmJhci1uYXZcIiksaD1uLmZpbmQoXCJsaVwiKSxkPWgubGVuZ3RoLHA9dS5hdHRyKFwiY2xhc3NcIikmJnBhcnNlSW50KHUuYXR0cihcImNsYXNzXCIpLm1hdGNoKC9hbS1hdmctc20tKFxcZCspLylbMV0pfHwzLG09NjAsZj0xNix2PWguZmlsdGVyKFwiW2RhdGEtYW0tbmF2YmFyLXNoYXJlXVwiKSxnPWguZmlsdGVyKFwiW2RhdGEtYW0tbmF2YmFyLXFyY29kZV1cIikseT1cImFtLWFjdGl2ZVwiLHc9cygnPHVsIGNsYXNzPVwiYW0tbmF2YmFyLWFjdGlvbnNcIj48L3VsPicse2lkOm8udXRpbHMuZ2VuZXJhdGVHVUlEKFwiYW0tbmF2YmFyLWFjdGlvbnNcIil9KSxiPXMoJzxsaSBjbGFzcz1cImFtLW5hdmJhci1sYWJlbHMgYW0tbmF2YmFyLW1vcmVcIj48YSBocmVmPVwiamF2YXNjcmlwdDogdm9pZCgwKTtcIj48c3BhbiBjbGFzcz1cImFtLWljb24tYW5nbGUtdXBcIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJhbS1uYXZiYXItbGFiZWxcIj5cXHU2NmY0XFx1NTkxYTwvc3Bhbj48L2E+PC9saT4nKTtpZihcImZpeGVkXCI9PW4uY3NzKFwicG9zaXRpb25cIikmJmMuYWRkQ2xhc3MoXCJhbS13aXRoLWZpeGVkLW5hdmJhclwiKSxnLmxlbmd0aCl7dmFyIFQ9XCJhbS1uYXZiYXItcXJjb2RlXCI7aWYoQz1zKFwiI1wiK1QpLCFDLmxlbmd0aCl7dmFyIHg9Zy5hdHRyKFwiZGF0YS1hbS1uYXZiYXItcXJjb2RlXCIpLEM9cygnPGRpdiBjbGFzcz1cImFtLW1vZGFsIGFtLW1vZGFsLW5vLWJ0blwiIGlkPVwiXCI+PGRpdiBjbGFzcz1cImFtLW1vZGFsLWRpYWxvZ1wiPjxkaXYgY2xhc3M9XCJhbS1tb2RhbC1iZFwiPjwvZGl2PjwvZGl2PjwvZGl2Picse2lkOlR9KSxFPUMuZmluZChcIi5hbS1tb2RhbC1iZFwiKTtpZih4KUUuaHRtbCgnPGltZyBzcmM9XCInK3grJ1wiLz4nKTtlbHNle3ZhciBTPW5ldyByKHtyZW5kZXI6XCJjYW52YXNcIixjb3JyZWN0TGV2ZWw6MCx0ZXh0OndpbmRvdy5sb2NhdGlvbi5ocmVmLHdpZHRoOjIwMCxoZWlnaHQ6MjAwLGJhY2tncm91bmQ6XCIjZmZmXCIsZm9yZWdyb3VuZDpcIiMwMDBcIn0pO0UuaHRtbChTKX1jLmFwcGVuZChDKX1nLm9uKFwiY2xpY2tcIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksQy5tb2RhbCgpfSl9ZD5wJiZkPmkoKSYmdCgpLG4ub24oXCJjbGljay5uYXZiYXIuYW11aVwiLFwiLmFtLW5hdmJhci1tb3JlXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGJbdy5oYXNDbGFzcyh5KT9cInJlbW92ZUNsYXNzXCI6XCJhZGRDbGFzc1wiXSh5KSx3LnRvZ2dsZUNsYXNzKHkpfSksdi5sZW5ndGgmJnYub24oXCJjbGljay5uYXZiYXIuYW11aVwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxhLnRvZ2dsZSgpfSksbC5vbihcInJlc2l6ZS5uYXZiYXIuYW11aSBvcmllbnRhdGlvbmNoYW5nZS5uYXZiYXIuYW11aVwiLG8udXRpbHMuZGVib3VuY2UoZSwxNTApKX19dmFyIHM9aSgxKSxvPWkoMiksYT1pKDI1KSxyPWkoMjYpO2koMTUpLHMobiksdC5leHBvcnRzPW8ubmF2YmFyPXtWRVJTSU9OOlwiMi4wLjJcIixpbml0Om59fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyKTt0LmV4cG9ydHM9bi5wYWdpbmF0aW9uPXtWRVJTSU9OOlwiMy4wLjFcIn19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIHQ9cygnW2RhdGEtYW0td2lkZ2V0PVwicGFyYWdyYXBoXCJdJyk7dC5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXModGhpcyksaT1vLnV0aWxzLnBhcnNlT3B0aW9ucyhlLmF0dHIoXCJkYXRhLWFtLXBhcmFncmFwaFwiKSksbj10O2kucHVyZXZpZXcmJmUucHVyZXZpZXcoKSxpLnRhYmxlU2Nyb2xsYWJsZSYmZS5maW5kKFwidGFibGVcIikuZWFjaChmdW5jdGlvbih0KXtzKHRoaXMpLndpZHRoKCk+cyh3aW5kb3cpLndpZHRoKCkmJnModGhpcykuc2Nyb2xsVGFibGUobitcIi1cIit0KX0pfSl9dmFyIHM9aSgxKSxvPWkoMiksYT1pKDE0KTtpKDIwKSxzLmZuLnNjcm9sbFRhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlLGk9cyh0aGlzKTtpLndyYXAoJzxkaXYgY2xhc3M9XCJhbS1wYXJhZ3JhcGgtdGFibGUtY29udGFpbmVyXCIgaWQ9XCJhbS1wYXJhZ3JhcGgtdGFibGUtJyt0KydcIj48ZGl2IGNsYXNzPVwiYW0tcGFyYWdyYXBoLXRhYmxlLXNjcm9sbGVyXCI+PC9kaXY+PC9kaXY+JyksZT1pLnBhcmVudCgpLGUud2lkdGgoaS53aWR0aCgpKSxlLmhlaWdodChpLmhlaWdodCgpKSxuZXcgYShcIiNhbS1wYXJhZ3JhcGgtdGFibGUtXCIrdCx7ZXZlbnRQYXNzdGhyb3VnaDohMCxzY3JvbGxYOiEwLHNjcm9sbFk6ITEscHJldmVudERlZmF1bHQ6ITF9KX0scyh3aW5kb3cpLm9uKFwibG9hZFwiLG4pLHQuZXhwb3J0cz1vLnBhcmFncmFwaD17VkVSU0lPTjpcIjIuMC4xXCIsaW5pdDpufX0sZnVuY3Rpb24odCxlLGkpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgdD1zKCdbZGF0YS1hbS13aWRnZXQ9XCJzbGlkZXJcIl0nKTt0Lm5vdChcIi5hbS1zbGlkZXItbWFudWFsXCIpLmVhY2goZnVuY3Rpb24odCxlKXt2YXIgaT1vLnV0aWxzLnBhcnNlT3B0aW9ucyhzKGUpLmF0dHIoXCJkYXRhLWFtLXNsaWRlclwiKSk7cyhlKS5mbGV4c2xpZGVyKGkpfSl9dmFyIHM9aSgxKSxvPWkoMik7aSgxMSkscyhuKSx0LmV4cG9ydHM9by5zbGlkZXI9e1ZFUlNJT046XCIzLjAuMVwiLGluaXQ6bn19LGZ1bmN0aW9uKHQsZSxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cygnW2RhdGEtYW0td2lkZ2V0PVwidGFic1wiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1zKHRoaXMpLmRhdGEoXCJhbVRhYnNOb3N3aXBlXCIpP3tub1N3aXBlOjF9Ont9O3ModGhpcykudGFicyh0KX0pfXZhciBzPWkoMSksbz1pKDIpO2koMjgpLHMobiksdC5leHBvcnRzPW8udGFiPXtWRVJTSU9OOlwiNC4wLjFcIixpbml0Om59fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49aSgyKTt0LmV4cG9ydHM9bi50aXRsZWJhcj17VkVSU0lPTjpcIjQuMC4xXCJ9fSxmdW5jdGlvbih0LGUsaSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3ZhciB0PXMoJ1tkYXRhLWFtLXdpZGdldD1cIndlY2hhdHBheVwiXScpO3JldHVybiBhP3ZvaWQgdC5vbihcImNsaWNrXCIsXCIuYW0td2VjaGF0cGF5LWJ0blwiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgZT1vLnV0aWxzLnBhcnNlT3B0aW9ucyhzKHRoaXMpLnBhcmVudCgpLmRhdGEoXCJ3ZWNoYXRQYXlcIikpO3JldHVybiB3aW5kb3cud3g/dm9pZCB3eC5jaGVja0pzQXBpKHtqc0FwaUxpc3Q6W1wiY2hvb3NlV1hQYXlcIl0sc3VjY2VzczpmdW5jdGlvbih0KXt0LmNoZWNrUmVzdWx0LmNob29zZVdYUGF5P3d4LmNob29zZVdYUGF5KGUpOmFsZXJ0KFwiXFx1NWZhZVxcdTRmZTFcXHU3MjQ4XFx1NjcyY1xcdTRlMGRcXHU2NTJmXFx1NjMwMVxcdTY1MmZcXHU0ZWQ4XFx1NjNhNVxcdTUzZTNcXHU2MjE2XFx1NmNhMVxcdTY3MDlcXHU1ZjAwXFx1NTQyZlxcdWZmMDFcIil9LGZhaWw6ZnVuY3Rpb24oKXthbGVydChcIlxcdThjMDNcXHU3NTI4IGNoZWNrSnNBcGkgXFx1NjNhNVxcdTUzZTNcXHU2NWY2XFx1NTNkMVxcdTc1MWZcXHU5NTE5XFx1OGJlZiFcIil9fSk6dm9pZCBhbGVydChcIlxcdTZjYTFcXHU2NzA5XFx1NWZhZVxcdTRmZTEgSlMgU0RLXCIpfSk6KHQuaGlkZSgpLCExKX12YXIgcz1pKDEpLG89aSgyKSxhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNaWNyb01lc3NlbmdlclwiKT4tMSxyPW47cyhyKSx0LmV4cG9ydHM9by5wYXk9e1ZFUlNJT046XCIxLjAuMFwiLGluaXQ6cn19XSl9KTsiLCIvKiFcclxuICogdHlwZWFoZWFkLmpzIDAuMTEuMVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdHdpdHRlci90eXBlYWhlYWQuanNcclxuICogQ29weXJpZ2h0IDIwMTMtMjAxNSBUd2l0dGVyLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnM7IExpY2Vuc2VkIE1JVFxyXG4gKi9cclxuXHJcbiFmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJibG9vZGhvdW5kXCIsW1wianF1ZXJ5XCJdLGZ1bmN0aW9uKGMpe3JldHVybiBhLkJsb29kaG91bmQ9YihjKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIocmVxdWlyZShcImpxdWVyeVwiKSk6YS5CbG9vZGhvdW5kPWIoalF1ZXJ5KX0odGhpcyxmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybntpc01zaWU6ZnVuY3Rpb24oKXtyZXR1cm4vKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhtc2llIHxydjopKFxcZCsoLlxcZCspPykvaSlbMl06ITF9LGlzQmxhbmtTdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fC9eXFxzKiQvLnRlc3QoYSl9LGVzY2FwZVJlZ0V4Q2hhcnM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csXCJcXFxcJCZcIil9LGlzU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX0saXNBcnJheTphLmlzQXJyYXksaXNGdW5jdGlvbjphLmlzRnVuY3Rpb24saXNPYmplY3Q6YS5pc1BsYWluT2JqZWN0LGlzVW5kZWZpbmVkOmZ1bmN0aW9uKGEpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBhfSxpc0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISghYXx8MSE9PWEubm9kZVR5cGUpfSxpc0pRdWVyeTpmdW5jdGlvbihiKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGF9LHRvU3RyOmZ1bmN0aW9uKGEpe3JldHVybiBiLmlzVW5kZWZpbmVkKGEpfHxudWxsPT09YT9cIlwiOmErXCJcIn0sYmluZDphLnByb3h5LGVhY2g6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEsYil7cmV0dXJuIGMoYixhKX1hLmVhY2goYixkKX0sbWFwOmEubWFwLGZpbHRlcjphLmdyZXAsZXZlcnk6ZnVuY3Rpb24oYixjKXt2YXIgZD0hMDtyZXR1cm4gYj8oYS5lYWNoKGIsZnVuY3Rpb24oYSxlKXtyZXR1cm4oZD1jLmNhbGwobnVsbCxlLGEsYikpP3ZvaWQgMDohMX0pLCEhZCk6ZH0sc29tZTpmdW5jdGlvbihiLGMpe3ZhciBkPSExO3JldHVybiBiPyhhLmVhY2goYixmdW5jdGlvbihhLGUpe3JldHVybihkPWMuY2FsbChudWxsLGUsYSxiKSk/ITE6dm9pZCAwfSksISFkKTpkfSxtaXhpbjphLmV4dGVuZCxpZGVudGl0eTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZXh0ZW5kKCEwLHt9LGIpfSxnZXRJZEdlbmVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGErK319LHRlbXBsYXRpZnk6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe3JldHVybiBTdHJpbmcoYil9cmV0dXJuIGEuaXNGdW5jdGlvbihiKT9iOmN9LGRlZmVyOmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX0sZGVib3VuY2U6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGYsZyxoPXRoaXMsaT1hcmd1bWVudHM7cmV0dXJuIGY9ZnVuY3Rpb24oKXtkPW51bGwsY3x8KGU9YS5hcHBseShoLGkpKX0sZz1jJiYhZCxjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGYsYiksZyYmKGU9YS5hcHBseShoLGkpKSxlfX0sdGhyb3R0bGU6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGg7cmV0dXJuIGc9MCxoPWZ1bmN0aW9uKCl7Zz1uZXcgRGF0ZSxlPW51bGwsZj1hLmFwcGx5KGMsZCl9LGZ1bmN0aW9uKCl7dmFyIGk9bmV3IERhdGUsaj1iLShpLWcpO3JldHVybiBjPXRoaXMsZD1hcmd1bWVudHMsMD49aj8oY2xlYXJUaW1lb3V0KGUpLGU9bnVsbCxnPWksZj1hLmFwcGx5KGMsZCkpOmV8fChlPXNldFRpbWVvdXQoaCxqKSksZn19LHN0cmluZ2lmeTpmdW5jdGlvbihhKXtyZXR1cm4gYi5pc1N0cmluZyhhKT9hOkpTT04uc3RyaW5naWZ5KGEpfSxub29wOmZ1bmN0aW9uKCl7fX19KCksYz1cIjAuMTEuMVwiLGQ9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGEpe3JldHVybiBhPWIudG9TdHIoYSksYT9hLnNwbGl0KC9cXHMrLyk6W119ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYT1iLnRvU3RyKGEpLGE/YS5zcGxpdCgvXFxXKy8pOltdfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiBjPWIuaXNBcnJheShjKT9jOltdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApLGZ1bmN0aW9uKGQpe3ZhciBlPVtdO3JldHVybiBiLmVhY2goYyxmdW5jdGlvbihjKXtlPWUuY29uY2F0KGEoYi50b1N0cihkW2NdKSkpfSksZX19fXJldHVybntub253b3JkOmMsd2hpdGVzcGFjZTphLG9iajp7bm9ud29yZDpkKGMpLHdoaXRlc3BhY2U6ZChhKX19fSgpLGU9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGMpe3RoaXMubWF4U2l6ZT1iLmlzTnVtYmVyKGMpP2M6MTAwLHRoaXMucmVzZXQoKSx0aGlzLm1heFNpemU8PTAmJih0aGlzLnNldD10aGlzLmdldD1hLm5vb3ApfWZ1bmN0aW9uIGQoKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGx9ZnVuY3Rpb24gZShhLGIpe3RoaXMua2V5PWEsdGhpcy52YWw9Yix0aGlzLnByZXY9dGhpcy5uZXh0PW51bGx9cmV0dXJuIGIubWl4aW4oYy5wcm90b3R5cGUse3NldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9dGhpcy5saXN0LnRhaWw7dGhpcy5zaXplPj10aGlzLm1heFNpemUmJih0aGlzLmxpc3QucmVtb3ZlKGQpLGRlbGV0ZSB0aGlzLmhhc2hbZC5rZXldLHRoaXMuc2l6ZS0tKSwoYz10aGlzLmhhc2hbYV0pPyhjLnZhbD1iLHRoaXMubGlzdC5tb3ZlVG9Gcm9udChjKSk6KGM9bmV3IGUoYSxiKSx0aGlzLmxpc3QuYWRkKGMpLHRoaXMuaGFzaFthXT1jLHRoaXMuc2l6ZSsrKX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaGFzaFthXTtyZXR1cm4gYj8odGhpcy5saXN0Lm1vdmVUb0Zyb250KGIpLGIudmFsKTp2b2lkIDB9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5oYXNoPXt9LHRoaXMubGlzdD1uZXcgZH19KSxiLm1peGluKGQucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSl7dGhpcy5oZWFkJiYoYS5uZXh0PXRoaXMuaGVhZCx0aGlzLmhlYWQucHJldj1hKSx0aGlzLmhlYWQ9YSx0aGlzLnRhaWw9dGhpcy50YWlsfHxhfSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5wcmV2P2EucHJldi5uZXh0PWEubmV4dDp0aGlzLmhlYWQ9YS5uZXh0LGEubmV4dD9hLm5leHQucHJldj1hLnByZXY6dGhpcy50YWlsPWEucHJldn0sbW92ZVRvRnJvbnQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmUoYSksdGhpcy5hZGQoYSl9fSksY30oKSxmPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYyhhLGMpe3RoaXMucHJlZml4PVtcIl9fXCIsYSxcIl9fXCJdLmpvaW4oXCJcIiksdGhpcy50dGxLZXk9XCJfX3R0bF9fXCIsdGhpcy5rZXlNYXRjaGVyPW5ldyBSZWdFeHAoXCJeXCIrYi5lc2NhcGVSZWdFeENoYXJzKHRoaXMucHJlZml4KSksdGhpcy5scz1jfHxoLCF0aGlzLmxzJiZ0aGlzLl9ub29wKCl9ZnVuY3Rpb24gZCgpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGIuaXNVbmRlZmluZWQoYSk/bnVsbDphKX1mdW5jdGlvbiBmKGIpe3JldHVybiBhLnBhcnNlSlNPTihiKX1mdW5jdGlvbiBnKGEpe3ZhciBiLGMsZD1bXSxlPWgubGVuZ3RoO2ZvcihiPTA7ZT5iO2IrKykoYz1oLmtleShiKSkubWF0Y2goYSkmJmQucHVzaChjLnJlcGxhY2UoYSxcIlwiKSk7cmV0dXJuIGR9dmFyIGg7dHJ5e2g9d2luZG93LmxvY2FsU3RvcmFnZSxoLnNldEl0ZW0oXCJ+fn5cIixcIiFcIiksaC5yZW1vdmVJdGVtKFwifn5+XCIpfWNhdGNoKGkpe2g9bnVsbH1yZXR1cm4gYi5taXhpbihjLnByb3RvdHlwZSx7X3ByZWZpeDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wcmVmaXgrYX0sX3R0bEtleTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fcHJlZml4KGEpK3RoaXMudHRsS2V5fSxfbm9vcDpmdW5jdGlvbigpe3RoaXMuZ2V0PXRoaXMuc2V0PXRoaXMucmVtb3ZlPXRoaXMuY2xlYXI9dGhpcy5pc0V4cGlyZWQ9Yi5ub29wfSxfc2FmZVNldDpmdW5jdGlvbihhLGIpe3RyeXt0aGlzLmxzLnNldEl0ZW0oYSxiKX1jYXRjaChjKXtcIlF1b3RhRXhjZWVkZWRFcnJvclwiPT09Yy5uYW1lJiYodGhpcy5jbGVhcigpLHRoaXMuX25vb3AoKSl9fSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNFeHBpcmVkKGEpJiZ0aGlzLnJlbW92ZShhKSxmKHRoaXMubHMuZ2V0SXRlbSh0aGlzLl9wcmVmaXgoYSkpKX0sc2V0OmZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gYi5pc051bWJlcihmKT90aGlzLl9zYWZlU2V0KHRoaXMuX3R0bEtleShhKSxlKGQoKStmKSk6dGhpcy5scy5yZW1vdmVJdGVtKHRoaXMuX3R0bEtleShhKSksdGhpcy5fc2FmZVNldCh0aGlzLl9wcmVmaXgoYSksZShjKSl9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5scy5yZW1vdmVJdGVtKHRoaXMuX3R0bEtleShhKSksdGhpcy5scy5yZW1vdmVJdGVtKHRoaXMuX3ByZWZpeChhKSksdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgYSxiPWcodGhpcy5rZXlNYXRjaGVyKTtmb3IoYT1iLmxlbmd0aDthLS07KXRoaXMucmVtb3ZlKGJbYV0pO3JldHVybiB0aGlzfSxpc0V4cGlyZWQ6ZnVuY3Rpb24oYSl7dmFyIGM9Zih0aGlzLmxzLmdldEl0ZW0odGhpcy5fdHRsS2V5KGEpKSk7cmV0dXJuIGIuaXNOdW1iZXIoYykmJmQoKT5jPyEwOiExfX0pLGN9KCksZz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGMoYSl7YT1hfHx7fSx0aGlzLmNhbmNlbGxlZD0hMSx0aGlzLmxhc3RSZXE9bnVsbCx0aGlzLl9zZW5kPWEudHJhbnNwb3J0LHRoaXMuX2dldD1hLmxpbWl0ZXI/YS5saW1pdGVyKHRoaXMuX2dldCk6dGhpcy5fZ2V0LHRoaXMuX2NhY2hlPWEuY2FjaGU9PT0hMT9uZXcgZSgwKTpofXZhciBkPTAsZj17fSxnPTYsaD1uZXcgZSgxMCk7cmV0dXJuIGMuc2V0TWF4UGVuZGluZ1JlcXVlc3RzPWZ1bmN0aW9uKGEpe2c9YX0sYy5yZXNldENhY2hlPWZ1bmN0aW9uKCl7aC5yZXNldCgpfSxiLm1peGluKGMucHJvdG90eXBlLHtfZmluZ2VycHJpbnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGI9Ynx8e30sYi51cmwrYi50eXBlK2EucGFyYW0oYi5kYXRhfHx7fSl9LF9nZXQ6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2IobnVsbCxhKSxrLl9jYWNoZS5zZXQoaSxhKX1mdW5jdGlvbiBlKCl7YighMCl9ZnVuY3Rpb24gaCgpe2QtLSxkZWxldGUgZltpXSxrLm9uRGVja1JlcXVlc3RBcmdzJiYoay5fZ2V0LmFwcGx5KGssay5vbkRlY2tSZXF1ZXN0QXJncyksay5vbkRlY2tSZXF1ZXN0QXJncz1udWxsKX12YXIgaSxqLGs9dGhpcztpPXRoaXMuX2ZpbmdlcnByaW50KGEpLHRoaXMuY2FuY2VsbGVkfHxpIT09dGhpcy5sYXN0UmVxfHwoKGo9ZltpXSk/ai5kb25lKGMpLmZhaWwoZSk6Zz5kPyhkKyssZltpXT10aGlzLl9zZW5kKGEpLmRvbmUoYykuZmFpbChlKS5hbHdheXMoaCkpOnRoaXMub25EZWNrUmVxdWVzdEFyZ3M9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfSxnZXQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxmO2Q9ZHx8YS5ub29wLGM9Yi5pc1N0cmluZyhjKT97dXJsOmN9OmN8fHt9LGY9dGhpcy5fZmluZ2VycHJpbnQoYyksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5sYXN0UmVxPWYsKGU9dGhpcy5fY2FjaGUuZ2V0KGYpKT9kKG51bGwsZSk6dGhpcy5fZ2V0KGMsZCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuY2FuY2VsbGVkPSEwfX0pLGN9KCksaD13aW5kb3cuU2VhcmNoSW5kZXg9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGMpe2M9Y3x8e30sYy5kYXR1bVRva2VuaXplciYmYy5xdWVyeVRva2VuaXplcnx8YS5lcnJvcihcImRhdHVtVG9rZW5pemVyIGFuZCBxdWVyeVRva2VuaXplciBhcmUgYm90aCByZXF1aXJlZFwiKSx0aGlzLmlkZW50aWZ5PWMuaWRlbnRpZnl8fGIuc3RyaW5naWZ5LHRoaXMuZGF0dW1Ub2tlbml6ZXI9Yy5kYXR1bVRva2VuaXplcix0aGlzLnF1ZXJ5VG9rZW5pemVyPWMucXVlcnlUb2tlbml6ZXIsdGhpcy5yZXNldCgpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGE9Yi5maWx0ZXIoYSxmdW5jdGlvbihhKXtyZXR1cm4hIWF9KSxhPWIubWFwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIGUoKXt2YXIgYT17fTtyZXR1cm4gYVtpXT1bXSxhW2hdPXt9LGF9ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9e30sYz1bXSxkPTAsZT1hLmxlbmd0aDtlPmQ7ZCsrKWJbYVtkXV18fChiW2FbZF1dPSEwLGMucHVzaChhW2RdKSk7cmV0dXJuIGN9ZnVuY3Rpb24gZyhhLGIpe3ZhciBjPTAsZD0wLGU9W107YT1hLnNvcnQoKSxiPWIuc29ydCgpO2Zvcih2YXIgZj1hLmxlbmd0aCxnPWIubGVuZ3RoO2Y+YyYmZz5kOylhW2NdPGJbZF0/YysrOmFbY10+YltkXT9kKys6KGUucHVzaChhW2NdKSxjKyssZCsrKTtyZXR1cm4gZX12YXIgaD1cImNcIixpPVwiaVwiO3JldHVybiBiLm1peGluKGMucHJvdG90eXBlLHtib290c3RyYXA6ZnVuY3Rpb24oYSl7dGhpcy5kYXR1bXM9YS5kYXR1bXMsdGhpcy50cmllPWEudHJpZX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7YT1iLmlzQXJyYXkoYSk/YTpbYV0sYi5lYWNoKGEsZnVuY3Rpb24oYSl7dmFyIGYsZztjLmRhdHVtc1tmPWMuaWRlbnRpZnkoYSldPWEsZz1kKGMuZGF0dW1Ub2tlbml6ZXIoYSkpLGIuZWFjaChnLGZ1bmN0aW9uKGEpe3ZhciBiLGQsZztmb3IoYj1jLnRyaWUsZD1hLnNwbGl0KFwiXCIpO2c9ZC5zaGlmdCgpOyliPWJbaF1bZ118fChiW2hdW2ddPWUoKSksYltpXS5wdXNoKGYpfSl9KX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXM7cmV0dXJuIGIubWFwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGMuZGF0dW1zW2FdfSl9LHNlYXJjaDpmdW5jdGlvbihhKXt2YXIgYyxlLGo9dGhpcztyZXR1cm4gYz1kKHRoaXMucXVlcnlUb2tlbml6ZXIoYSkpLGIuZWFjaChjLGZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxmO2lmKGUmJjA9PT1lLmxlbmd0aClyZXR1cm4hMTtmb3IoYj1qLnRyaWUsYz1hLnNwbGl0KFwiXCIpO2ImJihkPWMuc2hpZnQoKSk7KWI9YltoXVtkXTtyZXR1cm4gYiYmMD09PWMubGVuZ3RoPyhmPWJbaV0uc2xpY2UoMCksdm9pZChlPWU/ZyhlLGYpOmYpKTooZT1bXSwhMSl9KSxlP2IubWFwKGYoZSksZnVuY3Rpb24oYSl7cmV0dXJuIGouZGF0dW1zW2FdfSk6W119LGFsbDpmdW5jdGlvbigpe3ZhciBhPVtdO2Zvcih2YXIgYiBpbiB0aGlzLmRhdHVtcylhLnB1c2godGhpcy5kYXR1bXNbYl0pO3JldHVybiBhfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZGF0dW1zPXt9LHRoaXMudHJpZT1lKCl9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybntkYXR1bXM6dGhpcy5kYXR1bXMsdHJpZTp0aGlzLnRyaWV9fX0pLGN9KCksaT1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYSl7dGhpcy51cmw9YS51cmwsdGhpcy50dGw9YS50dGwsdGhpcy5jYWNoZT1hLmNhY2hlLHRoaXMucHJlcGFyZT1hLnByZXBhcmUsdGhpcy50cmFuc2Zvcm09YS50cmFuc2Zvcm0sdGhpcy50cmFuc3BvcnQ9YS50cmFuc3BvcnQsdGhpcy50aHVtYnByaW50PWEudGh1bWJwcmludCx0aGlzLnN0b3JhZ2U9bmV3IGYoYS5jYWNoZUtleSl9dmFyIGM7cmV0dXJuIGM9e2RhdGE6XCJkYXRhXCIscHJvdG9jb2w6XCJwcm90b2NvbFwiLHRodW1icHJpbnQ6XCJ0aHVtYnByaW50XCJ9LGIubWl4aW4oYS5wcm90b3R5cGUse19zZXR0aW5nczpmdW5jdGlvbigpe3JldHVybnt1cmw6dGhpcy51cmwsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwianNvblwifX0sc3RvcmU6ZnVuY3Rpb24oYSl7dGhpcy5jYWNoZSYmKHRoaXMuc3RvcmFnZS5zZXQoYy5kYXRhLGEsdGhpcy50dGwpLHRoaXMuc3RvcmFnZS5zZXQoYy5wcm90b2NvbCxsb2NhdGlvbi5wcm90b2NvbCx0aGlzLnR0bCksdGhpcy5zdG9yYWdlLnNldChjLnRodW1icHJpbnQsdGhpcy50aHVtYnByaW50LHRoaXMudHRsKSl9LGZyb21DYWNoZTpmdW5jdGlvbigpe3ZhciBhLGI9e307cmV0dXJuIHRoaXMuY2FjaGU/KGIuZGF0YT10aGlzLnN0b3JhZ2UuZ2V0KGMuZGF0YSksYi5wcm90b2NvbD10aGlzLnN0b3JhZ2UuZ2V0KGMucHJvdG9jb2wpLGIudGh1bWJwcmludD10aGlzLnN0b3JhZ2UuZ2V0KGMudGh1bWJwcmludCksYT1iLnRodW1icHJpbnQhPT10aGlzLnRodW1icHJpbnR8fGIucHJvdG9jb2whPT1sb2NhdGlvbi5wcm90b2NvbCxiLmRhdGEmJiFhP2IuZGF0YTpudWxsKTpudWxsfSxmcm9tTmV0d29yazpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7YSghMCl9ZnVuY3Rpb24gYyhiKXthKG51bGwsZS50cmFuc2Zvcm0oYikpfXZhciBkLGU9dGhpczthJiYoZD10aGlzLnByZXBhcmUodGhpcy5fc2V0dGluZ3MoKSksdGhpcy50cmFuc3BvcnQoZCkuZmFpbChiKS5kb25lKGMpKX0sY2xlYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmNsZWFyKCksdGhpc319KSxhfSgpLGo9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGEpe3RoaXMudXJsPWEudXJsLHRoaXMucHJlcGFyZT1hLnByZXBhcmUsdGhpcy50cmFuc2Zvcm09YS50cmFuc2Zvcm0sdGhpcy50cmFuc3BvcnQ9bmV3IGcoe2NhY2hlOmEuY2FjaGUsbGltaXRlcjphLmxpbWl0ZXIsdHJhbnNwb3J0OmEudHJhbnNwb3J0fSl9cmV0dXJuIGIubWl4aW4oYS5wcm90b3R5cGUse19zZXR0aW5nczpmdW5jdGlvbigpe3JldHVybnt1cmw6dGhpcy51cmwsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwianNvblwifX0sZ2V0OmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGMpe2IoYT9bXTplLnRyYW5zZm9ybShjKSl9dmFyIGQsZT10aGlzO2lmKGIpcmV0dXJuIGE9YXx8XCJcIixkPXRoaXMucHJlcGFyZShhLHRoaXMuX3NldHRpbmdzKCkpLHRoaXMudHJhbnNwb3J0LmdldChkLGMpfSxjYW5jZWxMYXN0UmVxdWVzdDpmdW5jdGlvbigpe3RoaXMudHJhbnNwb3J0LmNhbmNlbCgpfX0pLGF9KCksaz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGQoZCl7dmFyIGU7cmV0dXJuIGQ/KGU9e3VybDpudWxsLHR0bDo4NjRlNSxjYWNoZTohMCxjYWNoZUtleTpudWxsLHRodW1icHJpbnQ6XCJcIixwcmVwYXJlOmIuaWRlbnRpdHksdHJhbnNmb3JtOmIuaWRlbnRpdHksdHJhbnNwb3J0Om51bGx9LGQ9Yi5pc1N0cmluZyhkKT97dXJsOmR9OmQsZD1iLm1peGluKGUsZCksIWQudXJsJiZhLmVycm9yKFwicHJlZmV0Y2ggcmVxdWlyZXMgdXJsIHRvIGJlIHNldFwiKSxkLnRyYW5zZm9ybT1kLmZpbHRlcnx8ZC50cmFuc2Zvcm0sZC5jYWNoZUtleT1kLmNhY2hlS2V5fHxkLnVybCxkLnRodW1icHJpbnQ9YytkLnRodW1icHJpbnQsZC50cmFuc3BvcnQ9ZC50cmFuc3BvcnQ/aChkLnRyYW5zcG9ydCk6YS5hamF4LGQpOm51bGx9ZnVuY3Rpb24gZShjKXt2YXIgZDtpZihjKXJldHVybiBkPXt1cmw6bnVsbCxjYWNoZTohMCxwcmVwYXJlOm51bGwscmVwbGFjZTpudWxsLHdpbGRjYXJkOm51bGwsbGltaXRlcjpudWxsLHJhdGVMaW1pdEJ5OlwiZGVib3VuY2VcIixyYXRlTGltaXRXYWl0OjMwMCx0cmFuc2Zvcm06Yi5pZGVudGl0eSx0cmFuc3BvcnQ6bnVsbH0sYz1iLmlzU3RyaW5nKGMpP3t1cmw6Y306YyxjPWIubWl4aW4oZCxjKSwhYy51cmwmJmEuZXJyb3IoXCJyZW1vdGUgcmVxdWlyZXMgdXJsIHRvIGJlIHNldFwiKSxjLnRyYW5zZm9ybT1jLmZpbHRlcnx8Yy50cmFuc2Zvcm0sYy5wcmVwYXJlPWYoYyksYy5saW1pdGVyPWcoYyksYy50cmFuc3BvcnQ9Yy50cmFuc3BvcnQ/aChjLnRyYW5zcG9ydCk6YS5hamF4LGRlbGV0ZSBjLnJlcGxhY2UsZGVsZXRlIGMud2lsZGNhcmQsZGVsZXRlIGMucmF0ZUxpbWl0QnksZGVsZXRlIGMucmF0ZUxpbWl0V2FpdCxjfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiLnVybD1mKGIudXJsLGEpLGJ9ZnVuY3Rpb24gYyhhLGIpe3JldHVybiBiLnVybD1iLnVybC5yZXBsYWNlKGcsZW5jb2RlVVJJQ29tcG9uZW50KGEpKSxifWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYn12YXIgZSxmLGc7cmV0dXJuIGU9YS5wcmVwYXJlLGY9YS5yZXBsYWNlLGc9YS53aWxkY2FyZCxlP2U6ZT1mP2I6YS53aWxkY2FyZD9jOmR9ZnVuY3Rpb24gZyhhKXtmdW5jdGlvbiBjKGEpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYi5kZWJvdW5jZShjLGEpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYi50aHJvdHRsZShjLGEpfX12YXIgZSxmLGc7cmV0dXJuIGU9YS5saW1pdGVyLGY9YS5yYXRlTGltaXRCeSxnPWEucmF0ZUxpbWl0V2FpdCxlfHwoZT0vXnRocm90dGxlJC9pLnRlc3QoZik/ZChnKTpjKGcpKSxlfWZ1bmN0aW9uIGgoYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGUoYSl7Yi5kZWZlcihmdW5jdGlvbigpe2cucmVzb2x2ZShhKX0pfWZ1bmN0aW9uIGYoYSl7Yi5kZWZlcihmdW5jdGlvbigpe2cucmVqZWN0KGEpfSl9dmFyIGc9YS5EZWZlcnJlZCgpO3JldHVybiBjKGQsZSxmKSxnfX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGYsZztyZXR1cm4gZj17aW5pdGlhbGl6ZTohMCxpZGVudGlmeTpiLnN0cmluZ2lmeSxkYXR1bVRva2VuaXplcjpudWxsLHF1ZXJ5VG9rZW5pemVyOm51bGwsc3VmZmljaWVudDo1LHNvcnRlcjpudWxsLGxvY2FsOltdLHByZWZldGNoOm51bGwscmVtb3RlOm51bGx9LGM9Yi5taXhpbihmLGN8fHt9KSwhYy5kYXR1bVRva2VuaXplciYmYS5lcnJvcihcImRhdHVtVG9rZW5pemVyIGlzIHJlcXVpcmVkXCIpLCFjLnF1ZXJ5VG9rZW5pemVyJiZhLmVycm9yKFwicXVlcnlUb2tlbml6ZXIgaXMgcmVxdWlyZWRcIiksZz1jLnNvcnRlcixjLnNvcnRlcj1nP2Z1bmN0aW9uKGEpe3JldHVybiBhLnNvcnQoZyl9OmIuaWRlbnRpdHksYy5sb2NhbD1iLmlzRnVuY3Rpb24oYy5sb2NhbCk/Yy5sb2NhbCgpOmMubG9jYWwsYy5wcmVmZXRjaD1kKGMucHJlZmV0Y2gpLGMucmVtb3RlPWUoYy5yZW1vdGUpLGN9fSgpLGw9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGEpe2E9ayhhKSx0aGlzLnNvcnRlcj1hLnNvcnRlcix0aGlzLmlkZW50aWZ5PWEuaWRlbnRpZnksdGhpcy5zdWZmaWNpZW50PWEuc3VmZmljaWVudCx0aGlzLmxvY2FsPWEubG9jYWwsdGhpcy5yZW1vdGU9YS5yZW1vdGU/bmV3IGooYS5yZW1vdGUpOm51bGwsdGhpcy5wcmVmZXRjaD1hLnByZWZldGNoP25ldyBpKGEucHJlZmV0Y2gpOm51bGwsdGhpcy5pbmRleD1uZXcgaCh7aWRlbnRpZnk6dGhpcy5pZGVudGlmeSxkYXR1bVRva2VuaXplcjphLmRhdHVtVG9rZW5pemVyLHF1ZXJ5VG9rZW5pemVyOmEucXVlcnlUb2tlbml6ZXJ9KSxhLmluaXRpYWxpemUhPT0hMSYmdGhpcy5pbml0aWFsaXplKCl9dmFyIGU7cmV0dXJuIGU9d2luZG93JiZ3aW5kb3cuQmxvb2Rob3VuZCxjLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiYod2luZG93LkJsb29kaG91bmQ9ZSksY30sYy50b2tlbml6ZXJzPWQsYi5taXhpbihjLnByb3RvdHlwZSx7X190dEFkYXB0ZXI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixkKXtyZXR1cm4gYy5zZWFyY2goYSxiLGQpfWZ1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYy5zZWFyY2goYSxiKX12YXIgYz10aGlzO3JldHVybiB0aGlzLnJlbW90ZT9hOmJ9LF9sb2FkUHJlZmV0Y2g6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7cmV0dXJuIGE/Yy5yZWplY3QoKTooZS5hZGQoYiksZS5wcmVmZXRjaC5zdG9yZShlLmluZGV4LnNlcmlhbGl6ZSgpKSx2b2lkIGMucmVzb2x2ZSgpKX12YXIgYyxkLGU9dGhpcztyZXR1cm4gYz1hLkRlZmVycmVkKCksdGhpcy5wcmVmZXRjaD8oZD10aGlzLnByZWZldGNoLmZyb21DYWNoZSgpKT8odGhpcy5pbmRleC5ib290c3RyYXAoZCksYy5yZXNvbHZlKCkpOnRoaXMucHJlZmV0Y2guZnJvbU5ldHdvcmsoYik6Yy5yZXNvbHZlKCksYy5wcm9taXNlKCl9LF9pbml0aWFsaXplOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2IuYWRkKGIubG9jYWwpfXZhciBiPXRoaXM7cmV0dXJuIHRoaXMuY2xlYXIoKSwodGhpcy5pbml0UHJvbWlzZT10aGlzLl9sb2FkUHJlZmV0Y2goKSkuZG9uZShhKSx0aGlzLmluaXRQcm9taXNlfSxpbml0aWFsaXplOmZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmluaXRQcm9taXNlfHxhP3RoaXMuX2luaXRpYWxpemUoKTp0aGlzLmluaXRQcm9taXNlfSxhZGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5kZXguYWRkKGEpLHRoaXN9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT1iLmlzQXJyYXkoYSk/YTpbXS5zbGljZS5jYWxsKGFyZ3VtZW50cyksdGhpcy5pbmRleC5nZXQoYSl9LHNlYXJjaDpmdW5jdGlvbihhLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYz1bXTtiLmVhY2goYSxmdW5jdGlvbihhKXshYi5zb21lKGYsZnVuY3Rpb24oYil7cmV0dXJuIGcuaWRlbnRpZnkoYSk9PT1nLmlkZW50aWZ5KGIpfSkmJmMucHVzaChhKX0pLGQmJmQoYyl9dmFyIGYsZz10aGlzO3JldHVybiBmPXRoaXMuc29ydGVyKHRoaXMuaW5kZXguc2VhcmNoKGEpKSxjKHRoaXMucmVtb3RlP2Yuc2xpY2UoKTpmKSx0aGlzLnJlbW90ZSYmZi5sZW5ndGg8dGhpcy5zdWZmaWNpZW50P3RoaXMucmVtb3RlLmdldChhLGUpOnRoaXMucmVtb3RlJiZ0aGlzLnJlbW90ZS5jYW5jZWxMYXN0UmVxdWVzdCgpLHRoaXN9LGFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4LmFsbCgpfSxjbGVhcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4LnJlc2V0KCksdGhpc30sY2xlYXJQcmVmZXRjaENhY2hlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlZmV0Y2gmJnRoaXMucHJlZmV0Y2guY2xlYXIoKSx0aGlzfSxjbGVhclJlbW90ZUNhY2hlOmZ1bmN0aW9uKCl7cmV0dXJuIGcucmVzZXRDYWNoZSgpLHRoaXN9LHR0QWRhcHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fdHRBZGFwdGVyKCl9fSksY30oKTtyZXR1cm4gbH0pOyIsIjsgdmFyIF9fYnJvd3NlcmlmeV9zaGltX3JlcXVpcmVfXz1yZXF1aXJlOyhmdW5jdGlvbiBicm93c2VyaWZ5U2hpbShtb2R1bGUsIGV4cG9ydHMsIHJlcXVpcmUsIGRlZmluZSwgYnJvd3NlcmlmeV9zaGltX19kZWZpbmVfX21vZHVsZV9fZXhwb3J0X18pIHtcbi8qIVxyXG4gKiBjbGlwYm9hcmQuanMgdjEuNS4xMlxyXG4gKiBodHRwczovL3plbm9yb2NoYS5naXRodWIuaW8vY2xpcGJvYXJkLmpzXHJcbiAqXHJcbiAqIExpY2Vuc2VkIE1JVCDCqSBaZW5vIFJvY2hhXHJcbiAqL1xyXG4hZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBlO2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLGUuQ2xpcGJvYXJkPXQoKX19KGZ1bmN0aW9uKCl7dmFyIHQsZSxuO3JldHVybiBmdW5jdGlvbiB0KGUsbixvKXtmdW5jdGlvbiBpKGEsYyl7aWYoIW5bYV0pe2lmKCFlW2FdKXt2YXIgcz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZzKXJldHVybiBzKGEsITApO2lmKHIpcmV0dXJuIHIoYSwhMCk7dmFyIGw9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKTt0aHJvdyBsLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsbH12YXIgdT1uW2FdPXtleHBvcnRzOnt9fTtlW2FdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBuPWVbYV1bMV1bdF07cmV0dXJuIGkobj9uOnQpfSx1LHUuZXhwb3J0cyx0LGUsbixvKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGE9MDthPG8ubGVuZ3RoO2ErKylpKG9bYV0pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24odCxlLG4pe3ZhciBvPXQoXCJtYXRjaGVzLXNlbGVjdG9yXCIpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciBpPW4/dDp0LnBhcmVudE5vZGU7aSYmaSE9PWRvY3VtZW50Oyl7aWYobyhpLGUpKXJldHVybiBpO2k9aS5wYXJlbnROb2RlfX19LHtcIm1hdGNoZXMtc2VsZWN0b3JcIjo1fV0sMjpbZnVuY3Rpb24odCxlLG4pe2Z1bmN0aW9uIG8odCxlLG4sbyxyKXt2YXIgYT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKG4sYSxyKSx7ZGVzdHJveTpmdW5jdGlvbigpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGEscil9fX1mdW5jdGlvbiBpKHQsZSxuLG8pe3JldHVybiBmdW5jdGlvbihuKXtuLmRlbGVnYXRlVGFyZ2V0PXIobi50YXJnZXQsZSwhMCksbi5kZWxlZ2F0ZVRhcmdldCYmby5jYWxsKHQsbil9fXZhciByPXQoXCJjbG9zZXN0XCIpO2UuZXhwb3J0cz1vfSx7Y2xvc2VzdDoxfV0sMzpbZnVuY3Rpb24odCxlLG4pe24ubm9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmdCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYxPT09dC5ub2RlVHlwZX0sbi5ub2RlTGlzdD1mdW5jdGlvbih0KXt2YXIgZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk7cmV0dXJuIHZvaWQgMCE9PXQmJihcIltvYmplY3QgTm9kZUxpc3RdXCI9PT1lfHxcIltvYmplY3QgSFRNTENvbGxlY3Rpb25dXCI9PT1lKSYmXCJsZW5ndGhcImluIHQmJigwPT09dC5sZW5ndGh8fG4ubm9kZSh0WzBdKSl9LG4uc3RyaW5nPWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PT1lfX0se31dLDQ6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSxuKXtpZighdCYmIWUmJiFuKXRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzXCIpO2lmKCFjLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmdcIik7aWYoIWMuZm4obikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvblwiKTtpZihjLm5vZGUodCkpcmV0dXJuIGkodCxlLG4pO2lmKGMubm9kZUxpc3QodCkpcmV0dXJuIHIodCxlLG4pO2lmKGMuc3RyaW5nKHQpKXJldHVybiBhKHQsZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZywgSFRNTEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBvciBOb2RlTGlzdFwiKX1mdW5jdGlvbiBpKHQsZSxuKXtyZXR1cm4gdC5hZGRFdmVudExpc3RlbmVyKGUsbikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX19fWZ1bmN0aW9uIHIodCxlLG4pe3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHQsZnVuY3Rpb24odCl7dC5hZGRFdmVudExpc3RlbmVyKGUsbil9KSx7ZGVzdHJveTpmdW5jdGlvbigpe0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwodCxmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxuKX0pfX19ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIHMoZG9jdW1lbnQuYm9keSx0LGUsbil9dmFyIGM9dChcIi4vaXNcIikscz10KFwiZGVsZWdhdGVcIik7ZS5leHBvcnRzPW99LHtcIi4vaXNcIjozLGRlbGVnYXRlOjJ9XSw1OltmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe2lmKHIpcmV0dXJuIHIuY2FsbCh0LGUpO2Zvcih2YXIgbj10LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChlKSxvPTA7bzxuLmxlbmd0aDsrK28paWYobltvXT09dClyZXR1cm4hMDtyZXR1cm4hMX12YXIgaT1FbGVtZW50LnByb3RvdHlwZSxyPWkubWF0Y2hlc1NlbGVjdG9yfHxpLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8aS5tb3pNYXRjaGVzU2VsZWN0b3J8fGkubXNNYXRjaGVzU2VsZWN0b3J8fGkub01hdGNoZXNTZWxlY3RvcjtlLmV4cG9ydHM9b30se31dLDY6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQpe3ZhciBlO2lmKFwiSU5QVVRcIj09PXQubm9kZU5hbWV8fFwiVEVYVEFSRUFcIj09PXQubm9kZU5hbWUpdC5mb2N1cygpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksZT10LnZhbHVlO2Vsc2V7dC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJnQuZm9jdXMoKTt2YXIgbj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksbz1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO28uc2VsZWN0Tm9kZUNvbnRlbnRzKHQpLG4ucmVtb3ZlQWxsUmFuZ2VzKCksbi5hZGRSYW5nZShvKSxlPW4udG9TdHJpbmcoKX1yZXR1cm4gZX1lLmV4cG9ydHM9b30se31dLDc6W2Z1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKCl7fW8ucHJvdG90eXBlPXtvbjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4ob1t0XXx8KG9bdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbygpe2kub2ZmKHQsbyksZS5hcHBseShuLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gby5fPWUsdGhpcy5vbih0LG8sbil9LGVtaXQ6ZnVuY3Rpb24odCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW3RdfHxbXSkuc2xpY2UoKSxvPTAsaT1uLmxlbmd0aDtmb3IobztpPm87bysrKW5bb10uZm4uYXBwbHkobltvXS5jdHgsZSk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuZXx8KHRoaXMuZT17fSksbz1uW3RdLGk9W107aWYobyYmZSlmb3IodmFyIHI9MCxhPW8ubGVuZ3RoO2E+cjtyKyspb1tyXS5mbiE9PWUmJm9bcl0uZm4uXyE9PWUmJmkucHVzaChvW3JdKTtyZXR1cm4gaS5sZW5ndGg/blt0XT1pOmRlbGV0ZSBuW3RdLHRoaXN9fSxlLmV4cG9ydHM9b30se31dLDg6W2Z1bmN0aW9uKGUsbixvKXshZnVuY3Rpb24oaSxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LmFtZCl0KFtcIm1vZHVsZVwiLFwic2VsZWN0XCJdLHIpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG8pcihuLGUoXCJzZWxlY3RcIikpO2Vsc2V7dmFyIGE9e2V4cG9ydHM6e319O3IoYSxpLnNlbGVjdCksaS5jbGlwYm9hcmRBY3Rpb249YS5leHBvcnRzfX0odGhpcyxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiBvKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX12YXIgaT1uKGUpLHI9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbD9cInN5bWJvbFwiOnR5cGVvZiB0fSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gbiYmdChlLnByb3RvdHlwZSxuKSxvJiZ0KGUsbyksZX19KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7byh0aGlzLHQpLHRoaXMucmVzb2x2ZU9wdGlvbnMoZSksdGhpcy5pbml0U2VsZWN0aW9uKCl9cmV0dXJuIHQucHJvdG90eXBlLnJlc29sdmVPcHRpb25zPWZ1bmN0aW9uIHQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdO3RoaXMuYWN0aW9uPWUuYWN0aW9uLHRoaXMuZW1pdHRlcj1lLmVtaXR0ZXIsdGhpcy50YXJnZXQ9ZS50YXJnZXQsdGhpcy50ZXh0PWUudGV4dCx0aGlzLnRyaWdnZXI9ZS50cmlnZ2VyLHRoaXMuc2VsZWN0ZWRUZXh0PVwiXCJ9LHQucHJvdG90eXBlLmluaXRTZWxlY3Rpb249ZnVuY3Rpb24gdCgpe3RoaXMudGV4dD90aGlzLnNlbGVjdEZha2UoKTp0aGlzLnRhcmdldCYmdGhpcy5zZWxlY3RUYXJnZXQoKX0sdC5wcm90b3R5cGUuc2VsZWN0RmFrZT1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcyxuPVwicnRsXCI9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlRmFrZSgpfSx0aGlzLmZha2VIYW5kbGVyPWRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKXx8ITAsdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZT1cIjEycHRcIix0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlcj1cIjBcIix0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmc9XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW49XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5mYWtlRWxlbS5zdHlsZVtuP1wicmlnaHRcIjpcImxlZnRcIl09XCItOTk5OXB4XCIsdGhpcy5mYWtlRWxlbS5zdHlsZS50b3A9KHdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkrXCJweFwiLHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIixcIlwiKSx0aGlzLmZha2VFbGVtLnZhbHVlPXRoaXMudGV4dCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuc2VsZWN0ZWRUZXh0PSgwLGkuZGVmYXVsdCkodGhpcy5mYWtlRWxlbSksdGhpcy5jb3B5VGV4dCgpfSx0LnByb3RvdHlwZS5yZW1vdmVGYWtlPWZ1bmN0aW9uIHQoKXt0aGlzLmZha2VIYW5kbGVyJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spLHRoaXMuZmFrZUhhbmRsZXI9bnVsbCx0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2s9bnVsbCksdGhpcy5mYWtlRWxlbSYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5mYWtlRWxlbSksdGhpcy5mYWtlRWxlbT1udWxsKX0sdC5wcm90b3R5cGUuc2VsZWN0VGFyZ2V0PWZ1bmN0aW9uIHQoKXt0aGlzLnNlbGVjdGVkVGV4dD0oMCxpLmRlZmF1bHQpKHRoaXMudGFyZ2V0KSx0aGlzLmNvcHlUZXh0KCl9LHQucHJvdG90eXBlLmNvcHlUZXh0PWZ1bmN0aW9uIHQoKXt2YXIgZT12b2lkIDA7dHJ5e2U9ZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pfWNhdGNoKG4pe2U9ITF9dGhpcy5oYW5kbGVSZXN1bHQoZSl9LHQucHJvdG90eXBlLmhhbmRsZVJlc3VsdD1mdW5jdGlvbiB0KGUpe2U/dGhpcy5lbWl0dGVyLmVtaXQoXCJzdWNjZXNzXCIse2FjdGlvbjp0aGlzLmFjdGlvbix0ZXh0OnRoaXMuc2VsZWN0ZWRUZXh0LHRyaWdnZXI6dGhpcy50cmlnZ2VyLGNsZWFyU2VsZWN0aW9uOnRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKX0pOnRoaXMuZW1pdHRlci5lbWl0KFwiZXJyb3JcIix7YWN0aW9uOnRoaXMuYWN0aW9uLHRyaWdnZXI6dGhpcy50cmlnZ2VyLGNsZWFyU2VsZWN0aW9uOnRoaXMuY2xlYXJTZWxlY3Rpb24uYmluZCh0aGlzKX0pfSx0LnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbiB0KCl7dGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24gdCgpe3RoaXMucmVtb3ZlRmFrZSgpfSxhKHQsW3trZXk6XCJhY3Rpb25cIixzZXQ6ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT9cImNvcHlcIjphcmd1bWVudHNbMF07aWYodGhpcy5fYWN0aW9uPWUsXCJjb3B5XCIhPT10aGlzLl9hY3Rpb24mJlwiY3V0XCIhPT10aGlzLl9hY3Rpb24pdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpfSxnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl9hY3Rpb259fSx7a2V5OlwidGFyZ2V0XCIsc2V0OmZ1bmN0aW9uIHQoZSl7aWYodm9pZCAwIT09ZSl7aWYoIWV8fFwib2JqZWN0XCIhPT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpyKGUpKXx8MSE9PWUubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtpZihcImNvcHlcIj09PXRoaXMuYWN0aW9uJiZlLmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSBcInJlYWRvbmx5XCIgaW5zdGVhZCBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlJyk7aWYoXCJjdXRcIj09PXRoaXMuYWN0aW9uJiYoZS5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKXx8ZS5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBZb3UgY2FuXFwndCBjdXQgdGV4dCBmcm9tIGVsZW1lbnRzIHdpdGggXCJyZWFkb25seVwiIG9yIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGVzJyk7dGhpcy5fdGFyZ2V0PWV9fSxnZXQ6ZnVuY3Rpb24gdCgpe3JldHVybiB0aGlzLl90YXJnZXR9fV0pLHR9KCk7dC5leHBvcnRzPWN9KX0se3NlbGVjdDo2fV0sOTpbZnVuY3Rpb24oZSxuLG8peyFmdW5jdGlvbihpLHIpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuYW1kKXQoW1wibW9kdWxlXCIsXCIuL2NsaXBib2FyZC1hY3Rpb25cIixcInRpbnktZW1pdHRlclwiLFwiZ29vZC1saXN0ZW5lclwiXSxyKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBvKXIobixlKFwiLi9jbGlwYm9hcmQtYWN0aW9uXCIpLGUoXCJ0aW55LWVtaXR0ZXJcIiksZShcImdvb2QtbGlzdGVuZXJcIikpO2Vsc2V7dmFyIGE9e2V4cG9ydHM6e319O3IoYSxpLmNsaXBib2FyZEFjdGlvbixpLnRpbnlFbWl0dGVyLGkuZ29vZExpc3RlbmVyKSxpLmNsaXBib2FyZD1hLmV4cG9ydHN9fSh0aGlzLGZ1bmN0aW9uKHQsZSxuLG8pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQmJnQuX19lc01vZHVsZT90OntcImRlZmF1bHRcIjp0fX1mdW5jdGlvbiByKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBhKHQsZSl7aWYoIXQpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiFlfHxcIm9iamVjdFwiIT10eXBlb2YgZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT90OmV9ZnVuY3Rpb24gYyh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiBlKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZih0LGUpOnQuX19wcm90b19fPWUpfWZ1bmN0aW9uIHModCxlKXt2YXIgbj1cImRhdGEtY2xpcGJvYXJkLVwiK3Q7aWYoZS5oYXNBdHRyaWJ1dGUobikpcmV0dXJuIGUuZ2V0QXR0cmlidXRlKG4pfXZhciBsPWkoZSksdT1pKG4pLGY9aShvKSxkPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobixvKXtyKHRoaXMsZSk7dmFyIGk9YSh0aGlzLHQuY2FsbCh0aGlzKSk7cmV0dXJuIGkucmVzb2x2ZU9wdGlvbnMobyksaS5saXN0ZW5DbGljayhuKSxpfXJldHVybiBjKGUsdCksZS5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnM9ZnVuY3Rpb24gdCgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF07dGhpcy5hY3Rpb249XCJmdW5jdGlvblwiPT10eXBlb2YgZS5hY3Rpb24/ZS5hY3Rpb246dGhpcy5kZWZhdWx0QWN0aW9uLHRoaXMudGFyZ2V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGFyZ2V0P2UudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgZS50ZXh0P2UudGV4dDp0aGlzLmRlZmF1bHRUZXh0fSxlLnByb3RvdHlwZS5saXN0ZW5DbGljaz1mdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXM7dGhpcy5saXN0ZW5lcj0oMCxmLmRlZmF1bHQpKGUsXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3JldHVybiBuLm9uQ2xpY2sodCl9KX0sZS5wcm90b3R5cGUub25DbGljaz1mdW5jdGlvbiB0KGUpe3ZhciBuPWUuZGVsZWdhdGVUYXJnZXR8fGUuY3VycmVudFRhcmdldDt0aGlzLmNsaXBib2FyZEFjdGlvbiYmKHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW5ldyBsLmRlZmF1bHQoe2FjdGlvbjp0aGlzLmFjdGlvbihuKSx0YXJnZXQ6dGhpcy50YXJnZXQobiksdGV4dDp0aGlzLnRleHQobiksdHJpZ2dlcjpuLGVtaXR0ZXI6dGhpc30pfSxlLnByb3RvdHlwZS5kZWZhdWx0QWN0aW9uPWZ1bmN0aW9uIHQoZSl7cmV0dXJuIHMoXCJhY3Rpb25cIixlKX0sZS5wcm90b3R5cGUuZGVmYXVsdFRhcmdldD1mdW5jdGlvbiB0KGUpe3ZhciBuPXMoXCJ0YXJnZXRcIixlKTtyZXR1cm4gbj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pOnZvaWQgMH0sZS5wcm90b3R5cGUuZGVmYXVsdFRleHQ9ZnVuY3Rpb24gdChlKXtyZXR1cm4gcyhcInRleHRcIixlKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbiB0KCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCksdGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbi5kZXN0cm95KCksdGhpcy5jbGlwYm9hcmRBY3Rpb249bnVsbCl9LGV9KHUuZGVmYXVsdCk7dC5leHBvcnRzPWR9KX0se1wiLi9jbGlwYm9hcmQtYWN0aW9uXCI6OCxcImdvb2QtbGlzdGVuZXJcIjo0LFwidGlueS1lbWl0dGVyXCI6N31dfSx7fSxbOV0pKDkpfSk7XG47IGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKHR5cGVvZiBjbGlwYm9hcmQgIT0gXCJ1bmRlZmluZWRcIiA/IGNsaXBib2FyZCA6IHdpbmRvdy5jbGlwYm9hcmQpO1xuXG59KS5jYWxsKGdsb2JhbCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbiBkZWZpbmVFeHBvcnQoZXgpIHsgbW9kdWxlLmV4cG9ydHMgPSBleDsgfSk7XG4iLCIvKiFcclxuICogalF1ZXJ5IENvb2tpZSBQbHVnaW4gdjEuNC4xXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jYXJoYXJ0bC9qcXVlcnktY29va2llXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDEzIEtsYXVzIEhhcnRsXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKi9cclxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0Ly8gQU1EXHJcblx0XHRkZWZpbmUoWydqcXVlcnknXSwgZmFjdG9yeSk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuXHRcdC8vIENvbW1vbkpTXHJcblx0XHRmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzXHJcblx0XHRmYWN0b3J5KGpRdWVyeSk7XHJcblx0fVxyXG59KGZ1bmN0aW9uICgkKSB7XHJcblxyXG5cdHZhciBwbHVzZXMgPSAvXFwrL2c7XHJcblxyXG5cdGZ1bmN0aW9uIGVuY29kZShzKSB7XHJcblx0XHRyZXR1cm4gY29uZmlnLnJhdyA/IHMgOiBlbmNvZGVVUklDb21wb25lbnQocyk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBkZWNvZGUocykge1xyXG5cdFx0cmV0dXJuIGNvbmZpZy5yYXcgPyBzIDogZGVjb2RlVVJJQ29tcG9uZW50KHMpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpIHtcclxuXHRcdHJldHVybiBlbmNvZGUoY29uZmlnLmpzb24gPyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgOiBTdHJpbmcodmFsdWUpKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBhcnNlQ29va2llVmFsdWUocykge1xyXG5cdFx0aWYgKHMuaW5kZXhPZignXCInKSA9PT0gMCkge1xyXG5cdFx0XHQvLyBUaGlzIGlzIGEgcXVvdGVkIGNvb2tpZSBhcyBhY2NvcmRpbmcgdG8gUkZDMjA2OCwgdW5lc2NhcGUuLi5cclxuXHRcdFx0cyA9IHMuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKS5yZXBsYWNlKC9cXFxcXFxcXC9nLCAnXFxcXCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIFJlcGxhY2Ugc2VydmVyLXNpZGUgd3JpdHRlbiBwbHVzZXMgd2l0aCBzcGFjZXMuXHJcblx0XHRcdC8vIElmIHdlIGNhbid0IGRlY29kZSB0aGUgY29va2llLCBpZ25vcmUgaXQsIGl0J3MgdW51c2FibGUuXHJcblx0XHRcdC8vIElmIHdlIGNhbid0IHBhcnNlIHRoZSBjb29raWUsIGlnbm9yZSBpdCwgaXQncyB1bnVzYWJsZS5cclxuXHRcdFx0cyA9IGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UocGx1c2VzLCAnICcpKTtcclxuXHRcdFx0cmV0dXJuIGNvbmZpZy5qc29uID8gSlNPTi5wYXJzZShzKSA6IHM7XHJcblx0XHR9IGNhdGNoKGUpIHt9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZWFkKHMsIGNvbnZlcnRlcikge1xyXG5cdFx0dmFyIHZhbHVlID0gY29uZmlnLnJhdyA/IHMgOiBwYXJzZUNvb2tpZVZhbHVlKHMpO1xyXG5cdFx0cmV0dXJuICQuaXNGdW5jdGlvbihjb252ZXJ0ZXIpID8gY29udmVydGVyKHZhbHVlKSA6IHZhbHVlO1xyXG5cdH1cclxuXHJcblx0dmFyIGNvbmZpZyA9ICQuY29va2llID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIG9wdGlvbnMpIHtcclxuXHJcblx0XHQvLyBXcml0ZVxyXG5cclxuXHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICEkLmlzRnVuY3Rpb24odmFsdWUpKSB7XHJcblx0XHRcdG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgY29uZmlnLmRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcblx0XHRcdGlmICh0eXBlb2Ygb3B0aW9ucy5leHBpcmVzID09PSAnbnVtYmVyJykge1xyXG5cdFx0XHRcdHZhciBkYXlzID0gb3B0aW9ucy5leHBpcmVzLCB0ID0gb3B0aW9ucy5leHBpcmVzID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHR0LnNldFRpbWUoK3QgKyBkYXlzICogODY0ZSs1KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIChkb2N1bWVudC5jb29raWUgPSBbXHJcblx0XHRcdFx0ZW5jb2RlKGtleSksICc9Jywgc3RyaW5naWZ5Q29va2llVmFsdWUodmFsdWUpLFxyXG5cdFx0XHRcdG9wdGlvbnMuZXhwaXJlcyA/ICc7IGV4cGlyZXM9JyArIG9wdGlvbnMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJycsIC8vIHVzZSBleHBpcmVzIGF0dHJpYnV0ZSwgbWF4LWFnZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXHJcblx0XHRcdFx0b3B0aW9ucy5wYXRoICAgID8gJzsgcGF0aD0nICsgb3B0aW9ucy5wYXRoIDogJycsXHJcblx0XHRcdFx0b3B0aW9ucy5kb21haW4gID8gJzsgZG9tYWluPScgKyBvcHRpb25zLmRvbWFpbiA6ICcnLFxyXG5cdFx0XHRcdG9wdGlvbnMuc2VjdXJlICA/ICc7IHNlY3VyZScgOiAnJ1xyXG5cdFx0XHRdLmpvaW4oJycpKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZWFkXHJcblxyXG5cdFx0dmFyIHJlc3VsdCA9IGtleSA/IHVuZGVmaW5lZCA6IHt9O1xyXG5cclxuXHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcclxuXHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLiBBbHNvIHByZXZlbnRzIG9kZCByZXN1bHQgd2hlblxyXG5cdFx0Ly8gY2FsbGluZyAkLmNvb2tpZSgpLlxyXG5cdFx0dmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcclxuXHJcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IGNvb2tpZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcclxuXHRcdFx0dmFyIG5hbWUgPSBkZWNvZGUocGFydHMuc2hpZnQoKSk7XHJcblx0XHRcdHZhciBjb29raWUgPSBwYXJ0cy5qb2luKCc9Jyk7XHJcblxyXG5cdFx0XHRpZiAoa2V5ICYmIGtleSA9PT0gbmFtZSkge1xyXG5cdFx0XHRcdC8vIElmIHNlY29uZCBhcmd1bWVudCAodmFsdWUpIGlzIGEgZnVuY3Rpb24gaXQncyBhIGNvbnZlcnRlci4uLlxyXG5cdFx0XHRcdHJlc3VsdCA9IHJlYWQoY29va2llLCB2YWx1ZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFByZXZlbnQgc3RvcmluZyBhIGNvb2tpZSB0aGF0IHdlIGNvdWxkbid0IGRlY29kZS5cclxuXHRcdFx0aWYgKCFrZXkgJiYgKGNvb2tpZSA9IHJlYWQoY29va2llKSkgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJlc3VsdFtuYW1lXSA9IGNvb2tpZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fTtcclxuXHJcblx0Y29uZmlnLmRlZmF1bHRzID0ge307XHJcblxyXG5cdCQucmVtb3ZlQ29va2llID0gZnVuY3Rpb24gKGtleSwgb3B0aW9ucykge1xyXG5cdFx0aWYgKCQuY29va2llKGtleSkgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTXVzdCBub3QgYWx0ZXIgb3B0aW9ucywgdGh1cyBleHRlbmRpbmcgYSBmcmVzaCBvYmplY3QuLi5cclxuXHRcdCQuY29va2llKGtleSwgJycsICQuZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGV4cGlyZXM6IC0xIH0pKTtcclxuXHRcdHJldHVybiAhJC5jb29raWUoa2V5KTtcclxuXHR9O1xyXG5cclxufSkpO1xyXG4iLCIvKiFcclxuICogalF1ZXJ5IEZvcm0gUGx1Z2luXHJcbiAqIHZlcnNpb246IDMuNTEuMC0yMDE0LjA2LjIwXHJcbiAqIFJlcXVpcmVzIGpRdWVyeSB2MS41IG9yIGxhdGVyXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNCBNLiBBbHN1cFxyXG4gKiBFeGFtcGxlcyBhbmQgZG9jdW1lbnRhdGlvbiBhdDogaHR0cDovL21hbHN1cC5jb20vanF1ZXJ5L2Zvcm0vXHJcbiAqIFByb2plY3QgcmVwb3NpdG9yeTogaHR0cHM6Ly9naXRodWIuY29tL21hbHN1cC9mb3JtXHJcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLlxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWFsc3VwL2Zvcm0jY29weXJpZ2h0LWFuZC1saWNlbnNlXHJcbiAqL1xyXG4hZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJqcXVlcnlcIl0sZSk6ZShcInVuZGVmaW5lZFwiIT10eXBlb2YgalF1ZXJ5P2pRdWVyeTp3aW5kb3cuWmVwdG8pfShmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3ZhciByPXQuZGF0YTt0LmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodC5wcmV2ZW50RGVmYXVsdCgpLGUodC50YXJnZXQpLmFqYXhTdWJtaXQocikpfWZ1bmN0aW9uIHIodCl7dmFyIHI9dC50YXJnZXQsYT1lKHIpO2lmKCFhLmlzKFwiW3R5cGU9c3VibWl0XSxbdHlwZT1pbWFnZV1cIikpe3ZhciBuPWEuY2xvc2VzdChcIlt0eXBlPXN1Ym1pdF1cIik7aWYoMD09PW4ubGVuZ3RoKXJldHVybjtyPW5bMF19dmFyIGk9dGhpcztpZihpLmNsaz1yLFwiaW1hZ2VcIj09ci50eXBlKWlmKHZvaWQgMCE9PXQub2Zmc2V0WClpLmNsa194PXQub2Zmc2V0WCxpLmNsa195PXQub2Zmc2V0WTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZm4ub2Zmc2V0KXt2YXIgbz1hLm9mZnNldCgpO2kuY2xrX3g9dC5wYWdlWC1vLmxlZnQsaS5jbGtfeT10LnBhZ2VZLW8udG9wfWVsc2UgaS5jbGtfeD10LnBhZ2VYLXIub2Zmc2V0TGVmdCxpLmNsa195PXQucGFnZVktci5vZmZzZXRUb3A7c2V0VGltZW91dChmdW5jdGlvbigpe2kuY2xrPWkuY2xrX3g9aS5jbGtfeT1udWxsfSwxMDApfWZ1bmN0aW9uIGEoKXtpZihlLmZuLmFqYXhTdWJtaXQuZGVidWcpe3ZhciB0PVwiW2pxdWVyeS5mb3JtXSBcIitBcnJheS5wcm90b3R5cGUuam9pbi5jYWxsKGFyZ3VtZW50cyxcIlwiKTt3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nP3dpbmRvdy5jb25zb2xlLmxvZyh0KTp3aW5kb3cub3BlcmEmJndpbmRvdy5vcGVyYS5wb3N0RXJyb3ImJndpbmRvdy5vcGVyYS5wb3N0RXJyb3IodCl9fXZhciBuPXt9O24uZmlsZWFwaT12b2lkIDAhPT1lKFwiPGlucHV0IHR5cGU9J2ZpbGUnLz5cIikuZ2V0KDApLmZpbGVzLG4uZm9ybWRhdGE9dm9pZCAwIT09d2luZG93LkZvcm1EYXRhO3ZhciBpPSEhZS5mbi5wcm9wO2UuZm4uYXR0cjI9ZnVuY3Rpb24oKXtpZighaSlyZXR1cm4gdGhpcy5hdHRyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLnByb3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlJiZlLmpxdWVyeXx8XCJzdHJpbmdcIj09dHlwZW9mIGU/ZTp0aGlzLmF0dHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmZuLmFqYXhTdWJtaXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyKXt2YXIgYSxuLGk9ZS5wYXJhbShyLHQudHJhZGl0aW9uYWwpLnNwbGl0KFwiJlwiKSxvPWkubGVuZ3RoLHM9W107Zm9yKGE9MDtvPmE7YSsrKWlbYV09aVthXS5yZXBsYWNlKC9cXCsvZyxcIiBcIiksbj1pW2FdLnNwbGl0KFwiPVwiKSxzLnB1c2goW2RlY29kZVVSSUNvbXBvbmVudChuWzBdKSxkZWNvZGVVUklDb21wb25lbnQoblsxXSldKTtyZXR1cm4gc31mdW5jdGlvbiBvKGEpe2Zvcih2YXIgbj1uZXcgRm9ybURhdGEsaT0wO2k8YS5sZW5ndGg7aSsrKW4uYXBwZW5kKGFbaV0ubmFtZSxhW2ldLnZhbHVlKTtpZih0LmV4dHJhRGF0YSl7dmFyIG89cih0LmV4dHJhRGF0YSk7Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKylvW2ldJiZuLmFwcGVuZChvW2ldWzBdLG9baV1bMV0pfXQuZGF0YT1udWxsO3ZhciBzPWUuZXh0ZW5kKCEwLHt9LGUuYWpheFNldHRpbmdzLHQse2NvbnRlbnRUeXBlOiExLHByb2Nlc3NEYXRhOiExLGNhY2hlOiExLHR5cGU6dXx8XCJQT1NUXCJ9KTt0LnVwbG9hZFByb2dyZXNzJiYocy54aHI9ZnVuY3Rpb24oKXt2YXIgcj1lLmFqYXhTZXR0aW5ncy54aHIoKTtyZXR1cm4gci51cGxvYWQmJnIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLGZ1bmN0aW9uKGUpe3ZhciByPTAsYT1lLmxvYWRlZHx8ZS5wb3NpdGlvbixuPWUudG90YWw7ZS5sZW5ndGhDb21wdXRhYmxlJiYocj1NYXRoLmNlaWwoYS9uKjEwMCkpLHQudXBsb2FkUHJvZ3Jlc3MoZSxhLG4scil9LCExKSxyfSkscy5kYXRhPW51bGw7dmFyIGM9cy5iZWZvcmVTZW5kO3JldHVybiBzLmJlZm9yZVNlbmQ9ZnVuY3Rpb24oZSxyKXt0LmZvcm1EYXRhP3IuZGF0YT10LmZvcm1EYXRhOnIuZGF0YT1uLGMmJmMuY2FsbCh0aGlzLGUscil9LGUuYWpheChzKX1mdW5jdGlvbiBzKHIpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9bnVsbDt0cnl7ZS5jb250ZW50V2luZG93JiYodD1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpfWNhdGNoKHIpe2EoXCJjYW5ub3QgZ2V0IGlmcmFtZS5jb250ZW50V2luZG93IGRvY3VtZW50OiBcIityKX1pZih0KXJldHVybiB0O3RyeXt0PWUuY29udGVudERvY3VtZW50P2UuY29udGVudERvY3VtZW50OmUuZG9jdW1lbnR9Y2F0Y2gocil7YShcImNhbm5vdCBnZXQgaWZyYW1lLmNvbnRlbnREb2N1bWVudDogXCIrciksdD1lLmRvY3VtZW50fXJldHVybiB0fWZ1bmN0aW9uIG8oKXtmdW5jdGlvbiB0KCl7dHJ5e3ZhciBlPW4oZykucmVhZHlTdGF0ZTthKFwic3RhdGUgPSBcIitlKSxlJiZcInVuaW5pdGlhbGl6ZWRcIj09ZS50b0xvd2VyQ2FzZSgpJiZzZXRUaW1lb3V0KHQsNTApfWNhdGNoKHIpe2EoXCJTZXJ2ZXIgYWJvcnQ6IFwiLHIsXCIgKFwiLHIubmFtZSxcIilcIikscyhrKSxqJiZjbGVhclRpbWVvdXQoaiksaj12b2lkIDB9fXZhciByPWYuYXR0cjIoXCJ0YXJnZXRcIiksaT1mLmF0dHIyKFwiYWN0aW9uXCIpLG89XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsYz1mLmF0dHIoXCJlbmN0eXBlXCIpfHxmLmF0dHIoXCJlbmNvZGluZ1wiKXx8bzt3LnNldEF0dHJpYnV0ZShcInRhcmdldFwiLHApLCghdXx8L3Bvc3QvaS50ZXN0KHUpKSYmdy5zZXRBdHRyaWJ1dGUoXCJtZXRob2RcIixcIlBPU1RcIiksaSE9bS51cmwmJncuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsbS51cmwpLG0uc2tpcEVuY29kaW5nT3ZlcnJpZGV8fHUmJiEvcG9zdC9pLnRlc3QodSl8fGYuYXR0cih7ZW5jb2Rpbmc6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsZW5jdHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGFcIn0pLG0udGltZW91dCYmKGo9c2V0VGltZW91dChmdW5jdGlvbigpe1Q9ITAscyhEKX0sbS50aW1lb3V0KSk7dmFyIGw9W107dHJ5e2lmKG0uZXh0cmFEYXRhKWZvcih2YXIgZCBpbiBtLmV4dHJhRGF0YSltLmV4dHJhRGF0YS5oYXNPd25Qcm9wZXJ0eShkKSYmKGUuaXNQbGFpbk9iamVjdChtLmV4dHJhRGF0YVtkXSkmJm0uZXh0cmFEYXRhW2RdLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmbS5leHRyYURhdGFbZF0uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT9sLnB1c2goZSgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJyttLmV4dHJhRGF0YVtkXS5uYW1lKydcIj4nKS52YWwobS5leHRyYURhdGFbZF0udmFsdWUpLmFwcGVuZFRvKHcpWzBdKTpsLnB1c2goZSgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJytkKydcIj4nKS52YWwobS5leHRyYURhdGFbZF0pLmFwcGVuZFRvKHcpWzBdKSk7bS5pZnJhbWVUYXJnZXR8fHYuYXBwZW5kVG8oXCJib2R5XCIpLGcuYXR0YWNoRXZlbnQ/Zy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLHMpOmcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSxzZXRUaW1lb3V0KHQsMTUpO3RyeXt3LnN1Ym1pdCgpfWNhdGNoKGgpe3ZhciB4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpLnN1Ym1pdDt4LmFwcGx5KHcpfX1maW5hbGx5e3cuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsaSksdy5zZXRBdHRyaWJ1dGUoXCJlbmN0eXBlXCIsYykscj93LnNldEF0dHJpYnV0ZShcInRhcmdldFwiLHIpOmYucmVtb3ZlQXR0cihcInRhcmdldFwiKSxlKGwpLnJlbW92ZSgpfX1mdW5jdGlvbiBzKHQpe2lmKCF4LmFib3J0ZWQmJiFGKXtpZihNPW4oZyksTXx8KGEoXCJjYW5ub3QgYWNjZXNzIHJlc3BvbnNlIGRvY3VtZW50XCIpLHQ9ayksdD09PUQmJngpcmV0dXJuIHguYWJvcnQoXCJ0aW1lb3V0XCIpLHZvaWQgUy5yZWplY3QoeCxcInRpbWVvdXRcIik7aWYodD09ayYmeClyZXR1cm4geC5hYm9ydChcInNlcnZlciBhYm9ydFwiKSx2b2lkIFMucmVqZWN0KHgsXCJlcnJvclwiLFwic2VydmVyIGFib3J0XCIpO2lmKE0mJk0ubG9jYXRpb24uaHJlZiE9bS5pZnJhbWVTcmN8fFQpe2cuZGV0YWNoRXZlbnQ/Zy5kZXRhY2hFdmVudChcIm9ubG9hZFwiLHMpOmcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKTt2YXIgcixpPVwic3VjY2Vzc1wiO3RyeXtpZihUKXRocm93XCJ0aW1lb3V0XCI7dmFyIG89XCJ4bWxcIj09bS5kYXRhVHlwZXx8TS5YTUxEb2N1bWVudHx8ZS5pc1hNTERvYyhNKTtpZihhKFwiaXNYbWw9XCIrbyksIW8mJndpbmRvdy5vcGVyYSYmKG51bGw9PT1NLmJvZHl8fCFNLmJvZHkuaW5uZXJIVE1MKSYmLS1PKXJldHVybiBhKFwicmVxdWVpbmcgb25Mb2FkIGNhbGxiYWNrLCBET00gbm90IGF2YWlsYWJsZVwiKSx2b2lkIHNldFRpbWVvdXQocywyNTApO3ZhciB1PU0uYm9keT9NLmJvZHk6TS5kb2N1bWVudEVsZW1lbnQ7eC5yZXNwb25zZVRleHQ9dT91LmlubmVySFRNTDpudWxsLHgucmVzcG9uc2VYTUw9TS5YTUxEb2N1bWVudD9NLlhNTERvY3VtZW50Ok0sbyYmKG0uZGF0YVR5cGU9XCJ4bWxcIikseC5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD17XCJjb250ZW50LXR5cGVcIjptLmRhdGFUeXBlfTtyZXR1cm4gdFtlLnRvTG93ZXJDYXNlKCldfSx1JiYoeC5zdGF0dXM9TnVtYmVyKHUuZ2V0QXR0cmlidXRlKFwic3RhdHVzXCIpKXx8eC5zdGF0dXMseC5zdGF0dXNUZXh0PXUuZ2V0QXR0cmlidXRlKFwic3RhdHVzVGV4dFwiKXx8eC5zdGF0dXNUZXh0KTt2YXIgYz0obS5kYXRhVHlwZXx8XCJcIikudG9Mb3dlckNhc2UoKSxsPS8oanNvbnxzY3JpcHR8dGV4dCkvLnRlc3QoYyk7aWYobHx8bS50ZXh0YXJlYSl7dmFyIGY9TS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpWzBdO2lmKGYpeC5yZXNwb25zZVRleHQ9Zi52YWx1ZSx4LnN0YXR1cz1OdW1iZXIoZi5nZXRBdHRyaWJ1dGUoXCJzdGF0dXNcIikpfHx4LnN0YXR1cyx4LnN0YXR1c1RleHQ9Zi5nZXRBdHRyaWJ1dGUoXCJzdGF0dXNUZXh0XCIpfHx4LnN0YXR1c1RleHQ7ZWxzZSBpZihsKXt2YXIgcD1NLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicHJlXCIpWzBdLGg9TS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07cD94LnJlc3BvbnNlVGV4dD1wLnRleHRDb250ZW50P3AudGV4dENvbnRlbnQ6cC5pbm5lclRleHQ6aCYmKHgucmVzcG9uc2VUZXh0PWgudGV4dENvbnRlbnQ/aC50ZXh0Q29udGVudDpoLmlubmVyVGV4dCl9fWVsc2VcInhtbFwiPT1jJiYheC5yZXNwb25zZVhNTCYmeC5yZXNwb25zZVRleHQmJih4LnJlc3BvbnNlWE1MPVgoeC5yZXNwb25zZVRleHQpKTt0cnl7RT1fKHgsYyxtKX1jYXRjaCh5KXtpPVwicGFyc2VyZXJyb3JcIix4LmVycm9yPXI9eXx8aX19Y2F0Y2goeSl7YShcImVycm9yIGNhdWdodDogXCIseSksaT1cImVycm9yXCIseC5lcnJvcj1yPXl8fGl9eC5hYm9ydGVkJiYoYShcInVwbG9hZCBhYm9ydGVkXCIpLGk9bnVsbCkseC5zdGF0dXMmJihpPXguc3RhdHVzPj0yMDAmJnguc3RhdHVzPDMwMHx8MzA0PT09eC5zdGF0dXM/XCJzdWNjZXNzXCI6XCJlcnJvclwiKSxcInN1Y2Nlc3NcIj09PWk/KG0uc3VjY2VzcyYmbS5zdWNjZXNzLmNhbGwobS5jb250ZXh0LEUsXCJzdWNjZXNzXCIseCksUy5yZXNvbHZlKHgucmVzcG9uc2VUZXh0LFwic3VjY2Vzc1wiLHgpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTdWNjZXNzXCIsW3gsbV0pKTppJiYodm9pZCAwPT09ciYmKHI9eC5zdGF0dXNUZXh0KSxtLmVycm9yJiZtLmVycm9yLmNhbGwobS5jb250ZXh0LHgsaSxyKSxTLnJlamVjdCh4LFwiZXJyb3JcIixyKSxkJiZlLmV2ZW50LnRyaWdnZXIoXCJhamF4RXJyb3JcIixbeCxtLHJdKSksZCYmZS5ldmVudC50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3gsbV0pLGQmJiEtLWUuYWN0aXZlJiZlLmV2ZW50LnRyaWdnZXIoXCJhamF4U3RvcFwiKSxtLmNvbXBsZXRlJiZtLmNvbXBsZXRlLmNhbGwobS5jb250ZXh0LHgsaSksRj0hMCxtLnRpbWVvdXQmJmNsZWFyVGltZW91dChqKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS5pZnJhbWVUYXJnZXQ/di5hdHRyKFwic3JjXCIsbS5pZnJhbWVTcmMpOnYucmVtb3ZlKCkseC5yZXNwb25zZVhNTD1udWxsfSwxMDApfX19dmFyIGMsbCxtLGQscCx2LGcseCx5LGIsVCxqLHc9ZlswXSxTPWUuRGVmZXJyZWQoKTtpZihTLmFib3J0PWZ1bmN0aW9uKGUpe3guYWJvcnQoZSl9LHIpZm9yKGw9MDtsPGgubGVuZ3RoO2wrKyljPWUoaFtsXSksaT9jLnByb3AoXCJkaXNhYmxlZFwiLCExKTpjLnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKTtpZihtPWUuZXh0ZW5kKCEwLHt9LGUuYWpheFNldHRpbmdzLHQpLG0uY29udGV4dD1tLmNvbnRleHR8fG0scD1cImpxRm9ybUlPXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksbS5pZnJhbWVUYXJnZXQ/KHY9ZShtLmlmcmFtZVRhcmdldCksYj12LmF0dHIyKFwibmFtZVwiKSxiP3A9Yjp2LmF0dHIyKFwibmFtZVwiLHApKToodj1lKCc8aWZyYW1lIG5hbWU9XCInK3ArJ1wiIHNyYz1cIicrbS5pZnJhbWVTcmMrJ1wiIC8+Jyksdi5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6XCItMTAwMHB4XCIsbGVmdDpcIi0xMDAwcHhcIn0pKSxnPXZbMF0seD17YWJvcnRlZDowLHJlc3BvbnNlVGV4dDpudWxsLHJlc3BvbnNlWE1MOm51bGwsc3RhdHVzOjAsc3RhdHVzVGV4dDpcIm4vYVwiLGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe30sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oKXt9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oKXt9LGFib3J0OmZ1bmN0aW9uKHQpe3ZhciByPVwidGltZW91dFwiPT09dD9cInRpbWVvdXRcIjpcImFib3J0ZWRcIjthKFwiYWJvcnRpbmcgdXBsb2FkLi4uIFwiK3IpLHRoaXMuYWJvcnRlZD0xO3RyeXtnLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZXhlY0NvbW1hbmQmJmcuY29udGVudFdpbmRvdy5kb2N1bWVudC5leGVjQ29tbWFuZChcIlN0b3BcIil9Y2F0Y2gobil7fXYuYXR0cihcInNyY1wiLG0uaWZyYW1lU3JjKSx4LmVycm9yPXIsbS5lcnJvciYmbS5lcnJvci5jYWxsKG0uY29udGV4dCx4LHIsdCksZCYmZS5ldmVudC50cmlnZ2VyKFwiYWpheEVycm9yXCIsW3gsbSxyXSksbS5jb21wbGV0ZSYmbS5jb21wbGV0ZS5jYWxsKG0uY29udGV4dCx4LHIpfX0sZD1tLmdsb2JhbCxkJiYwPT09ZS5hY3RpdmUrKyYmZS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTZW5kXCIsW3gsbV0pLG0uYmVmb3JlU2VuZCYmbS5iZWZvcmVTZW5kLmNhbGwobS5jb250ZXh0LHgsbSk9PT0hMSlyZXR1cm4gbS5nbG9iYWwmJmUuYWN0aXZlLS0sUy5yZWplY3QoKSxTO2lmKHguYWJvcnRlZClyZXR1cm4gUy5yZWplY3QoKSxTO3k9dy5jbGsseSYmKGI9eS5uYW1lLGImJiF5LmRpc2FibGVkJiYobS5leHRyYURhdGE9bS5leHRyYURhdGF8fHt9LG0uZXh0cmFEYXRhW2JdPXkudmFsdWUsXCJpbWFnZVwiPT15LnR5cGUmJihtLmV4dHJhRGF0YVtiK1wiLnhcIl09dy5jbGtfeCxtLmV4dHJhRGF0YVtiK1wiLnlcIl09dy5jbGtfeSkpKTt2YXIgRD0xLGs9MixBPWUoXCJtZXRhW25hbWU9Y3NyZi10b2tlbl1cIikuYXR0cihcImNvbnRlbnRcIiksTD1lKFwibWV0YVtuYW1lPWNzcmYtcGFyYW1dXCIpLmF0dHIoXCJjb250ZW50XCIpO0wmJkEmJihtLmV4dHJhRGF0YT1tLmV4dHJhRGF0YXx8e30sbS5leHRyYURhdGFbTF09QSksbS5mb3JjZVN5bmM/bygpOnNldFRpbWVvdXQobywxMCk7dmFyIEUsTSxGLE89NTAsWD1lLnBhcnNlWE1MfHxmdW5jdGlvbihlLHQpe3JldHVybiB3aW5kb3cuQWN0aXZlWE9iamVjdD8odD1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIiksdC5hc3luYz1cImZhbHNlXCIsdC5sb2FkWE1MKGUpKTp0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSxcInRleHQveG1sXCIpLHQmJnQuZG9jdW1lbnRFbGVtZW50JiZcInBhcnNlcmVycm9yXCIhPXQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lP3Q6bnVsbH0sQz1lLnBhcnNlSlNPTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ldmFsKFwiKFwiK2UrXCIpXCIpfSxfPWZ1bmN0aW9uKHQscixhKXt2YXIgbj10LmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpfHxcIlwiLGk9XCJ4bWxcIj09PXJ8fCFyJiZuLmluZGV4T2YoXCJ4bWxcIik+PTAsbz1pP3QucmVzcG9uc2VYTUw6dC5yZXNwb25zZVRleHQ7cmV0dXJuIGkmJlwicGFyc2VyZXJyb3JcIj09PW8uZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lJiZlLmVycm9yJiZlLmVycm9yKFwicGFyc2VyZXJyb3JcIiksYSYmYS5kYXRhRmlsdGVyJiYobz1hLmRhdGFGaWx0ZXIobyxyKSksXCJzdHJpbmdcIj09dHlwZW9mIG8mJihcImpzb25cIj09PXJ8fCFyJiZuLmluZGV4T2YoXCJqc29uXCIpPj0wP289QyhvKTooXCJzY3JpcHRcIj09PXJ8fCFyJiZuLmluZGV4T2YoXCJqYXZhc2NyaXB0XCIpPj0wKSYmZS5nbG9iYWxFdmFsKG8pKSxvfTtyZXR1cm4gU31pZighdGhpcy5sZW5ndGgpcmV0dXJuIGEoXCJhamF4U3VibWl0OiBza2lwcGluZyBzdWJtaXQgcHJvY2VzcyAtIG5vIGVsZW1lbnQgc2VsZWN0ZWRcIiksdGhpczt2YXIgdSxjLGwsZj10aGlzO1wiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dD17c3VjY2Vzczp0fTp2b2lkIDA9PT10JiYodD17fSksdT10LnR5cGV8fHRoaXMuYXR0cjIoXCJtZXRob2RcIiksYz10LnVybHx8dGhpcy5hdHRyMihcImFjdGlvblwiKSxsPVwic3RyaW5nXCI9PXR5cGVvZiBjP2UudHJpbShjKTpcIlwiLGw9bHx8d2luZG93LmxvY2F0aW9uLmhyZWZ8fFwiXCIsbCYmKGw9KGwubWF0Y2goL14oW14jXSspLyl8fFtdKVsxXSksdD1lLmV4dGVuZCghMCx7dXJsOmwsc3VjY2VzczplLmFqYXhTZXR0aW5ncy5zdWNjZXNzLHR5cGU6dXx8ZS5hamF4U2V0dGluZ3MudHlwZSxpZnJhbWVTcmM6L15odHRwcy9pLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWZ8fFwiXCIpP1wiamF2YXNjcmlwdDpmYWxzZVwiOlwiYWJvdXQ6YmxhbmtcIn0sdCk7dmFyIG09e307aWYodGhpcy50cmlnZ2VyKFwiZm9ybS1wcmUtc2VyaWFsaXplXCIsW3RoaXMsdCxtXSksbS52ZXRvKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc3VibWl0IHZldG9lZCB2aWEgZm9ybS1wcmUtc2VyaWFsaXplIHRyaWdnZXJcIiksdGhpcztpZih0LmJlZm9yZVNlcmlhbGl6ZSYmdC5iZWZvcmVTZXJpYWxpemUodGhpcyx0KT09PSExKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc3VibWl0IGFib3J0ZWQgdmlhIGJlZm9yZVNlcmlhbGl6ZSBjYWxsYmFja1wiKSx0aGlzO3ZhciBkPXQudHJhZGl0aW9uYWw7dm9pZCAwPT09ZCYmKGQ9ZS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpO3ZhciBwLGg9W10sdj10aGlzLmZvcm1Ub0FycmF5KHQuc2VtYW50aWMsaCk7aWYodC5kYXRhJiYodC5leHRyYURhdGE9dC5kYXRhLHA9ZS5wYXJhbSh0LmRhdGEsZCkpLHQuYmVmb3JlU3VibWl0JiZ0LmJlZm9yZVN1Ym1pdCh2LHRoaXMsdCk9PT0hMSlyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCBhYm9ydGVkIHZpYSBiZWZvcmVTdWJtaXQgY2FsbGJhY2tcIiksdGhpcztpZih0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC12YWxpZGF0ZVwiLFt2LHRoaXMsdCxtXSksbS52ZXRvKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc3VibWl0IHZldG9lZCB2aWEgZm9ybS1zdWJtaXQtdmFsaWRhdGUgdHJpZ2dlclwiKSx0aGlzO3ZhciBnPWUucGFyYW0odixkKTtwJiYoZz1nP2crXCImXCIrcDpwKSxcIkdFVFwiPT10LnR5cGUudG9VcHBlckNhc2UoKT8odC51cmwrPSh0LnVybC5pbmRleE9mKFwiP1wiKT49MD9cIiZcIjpcIj9cIikrZyx0LmRhdGE9bnVsbCk6dC5kYXRhPWc7dmFyIHg9W107aWYodC5yZXNldEZvcm0mJngucHVzaChmdW5jdGlvbigpe2YucmVzZXRGb3JtKCl9KSx0LmNsZWFyRm9ybSYmeC5wdXNoKGZ1bmN0aW9uKCl7Zi5jbGVhckZvcm0odC5pbmNsdWRlSGlkZGVuKX0pLCF0LmRhdGFUeXBlJiZ0LnRhcmdldCl7dmFyIHk9dC5zdWNjZXNzfHxmdW5jdGlvbigpe307eC5wdXNoKGZ1bmN0aW9uKHIpe3ZhciBhPXQucmVwbGFjZVRhcmdldD9cInJlcGxhY2VXaXRoXCI6XCJodG1sXCI7ZSh0LnRhcmdldClbYV0ocikuZWFjaCh5LGFyZ3VtZW50cyl9KX1lbHNlIHQuc3VjY2VzcyYmeC5wdXNoKHQuc3VjY2Vzcyk7aWYodC5zdWNjZXNzPWZ1bmN0aW9uKGUscixhKXtmb3IodmFyIG49dC5jb250ZXh0fHx0aGlzLGk9MCxvPXgubGVuZ3RoO28+aTtpKyspeFtpXS5hcHBseShuLFtlLHIsYXx8ZixmXSl9LHQuZXJyb3Ipe3ZhciBiPXQuZXJyb3I7dC5lcnJvcj1mdW5jdGlvbihlLHIsYSl7dmFyIG49dC5jb250ZXh0fHx0aGlzO2IuYXBwbHkobixbZSxyLGEsZl0pfX1pZih0LmNvbXBsZXRlKXt2YXIgVD10LmNvbXBsZXRlO3QuY29tcGxldGU9ZnVuY3Rpb24oZSxyKXt2YXIgYT10LmNvbnRleHR8fHRoaXM7VC5hcHBseShhLFtlLHIsZl0pfX12YXIgaj1lKFwiaW5wdXRbdHlwZT1maWxlXTplbmFibGVkXCIsdGhpcykuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuXCJcIiE9PWUodGhpcykudmFsKCl9KSx3PWoubGVuZ3RoPjAsUz1cIm11bHRpcGFydC9mb3JtLWRhdGFcIixEPWYuYXR0cihcImVuY3R5cGVcIik9PVN8fGYuYXR0cihcImVuY29kaW5nXCIpPT1TLGs9bi5maWxlYXBpJiZuLmZvcm1kYXRhO2EoXCJmaWxlQVBJIDpcIitrKTt2YXIgQSxMPSh3fHxEKSYmIWs7dC5pZnJhbWUhPT0hMSYmKHQuaWZyYW1lfHxMKT90LmNsb3NlS2VlcEFsaXZlP2UuZ2V0KHQuY2xvc2VLZWVwQWxpdmUsZnVuY3Rpb24oKXtBPXModil9KTpBPXModik6QT0od3x8RCkmJms/byh2KTplLmFqYXgodCksZi5yZW1vdmVEYXRhKFwianF4aHJcIikuZGF0YShcImpxeGhyXCIsQSk7Zm9yKHZhciBFPTA7RTxoLmxlbmd0aDtFKyspaFtFXT1udWxsO3JldHVybiB0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC1ub3RpZnlcIixbdGhpcyx0XSksdGhpc30sZS5mbi5hamF4Rm9ybT1mdW5jdGlvbihuKXtpZihuPW58fHt9LG4uZGVsZWdhdGlvbj1uLmRlbGVnYXRpb24mJmUuaXNGdW5jdGlvbihlLmZuLm9uKSwhbi5kZWxlZ2F0aW9uJiYwPT09dGhpcy5sZW5ndGgpe3ZhciBpPXtzOnRoaXMuc2VsZWN0b3IsYzp0aGlzLmNvbnRleHR9O3JldHVybiFlLmlzUmVhZHkmJmkucz8oYShcIkRPTSBub3QgcmVhZHksIHF1ZXVpbmcgYWpheEZvcm1cIiksZShmdW5jdGlvbigpe2UoaS5zLGkuYykuYWpheEZvcm0obil9KSx0aGlzKTooYShcInRlcm1pbmF0aW5nOyB6ZXJvIGVsZW1lbnRzIGZvdW5kIGJ5IHNlbGVjdG9yXCIrKGUuaXNSZWFkeT9cIlwiOlwiIChET00gbm90IHJlYWR5KVwiKSksdGhpcyl9cmV0dXJuIG4uZGVsZWdhdGlvbj8oZShkb2N1bWVudCkub2ZmKFwic3VibWl0LmZvcm0tcGx1Z2luXCIsdGhpcy5zZWxlY3Rvcix0KS5vZmYoXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3Iscikub24oXCJzdWJtaXQuZm9ybS1wbHVnaW5cIix0aGlzLnNlbGVjdG9yLG4sdCkub24oXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3IsbixyKSx0aGlzKTp0aGlzLmFqYXhGb3JtVW5iaW5kKCkuYmluZChcInN1Ym1pdC5mb3JtLXBsdWdpblwiLG4sdCkuYmluZChcImNsaWNrLmZvcm0tcGx1Z2luXCIsbixyKX0sZS5mbi5hamF4Rm9ybVVuYmluZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVuYmluZChcInN1Ym1pdC5mb3JtLXBsdWdpbiBjbGljay5mb3JtLXBsdWdpblwiKX0sZS5mbi5mb3JtVG9BcnJheT1mdW5jdGlvbih0LHIpe3ZhciBhPVtdO2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm4gYTt2YXIgaSxvPXRoaXNbMF0scz10aGlzLmF0dHIoXCJpZFwiKSx1PXQ/by5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIik6by5lbGVtZW50cztpZih1JiYhL01TSUUgWzY3OF0vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJih1PWUodSkuZ2V0KCkpLHMmJihpPWUoJzppbnB1dFtmb3JtPVwiJytzKydcIl0nKS5nZXQoKSxpLmxlbmd0aCYmKHU9KHV8fFtdKS5jb25jYXQoaSkpKSwhdXx8IXUubGVuZ3RoKXJldHVybiBhO3ZhciBjLGwsZixtLGQscCxoO2ZvcihjPTAscD11Lmxlbmd0aDtwPmM7YysrKWlmKGQ9dVtjXSxmPWQubmFtZSxmJiYhZC5kaXNhYmxlZClpZih0JiZvLmNsayYmXCJpbWFnZVwiPT1kLnR5cGUpby5jbGs9PWQmJihhLnB1c2goe25hbWU6Zix2YWx1ZTplKGQpLnZhbCgpLHR5cGU6ZC50eXBlfSksYS5wdXNoKHtuYW1lOmYrXCIueFwiLHZhbHVlOm8uY2xrX3h9LHtuYW1lOmYrXCIueVwiLHZhbHVlOm8uY2xrX3l9KSk7ZWxzZSBpZihtPWUuZmllbGRWYWx1ZShkLCEwKSxtJiZtLmNvbnN0cnVjdG9yPT1BcnJheSlmb3IociYmci5wdXNoKGQpLGw9MCxoPW0ubGVuZ3RoO2g+bDtsKyspYS5wdXNoKHtuYW1lOmYsdmFsdWU6bVtsXX0pO2Vsc2UgaWYobi5maWxlYXBpJiZcImZpbGVcIj09ZC50eXBlKXtyJiZyLnB1c2goZCk7dmFyIHY9ZC5maWxlcztpZih2Lmxlbmd0aClmb3IobD0wO2w8di5sZW5ndGg7bCsrKWEucHVzaCh7bmFtZTpmLHZhbHVlOnZbbF0sdHlwZTpkLnR5cGV9KTtlbHNlIGEucHVzaCh7bmFtZTpmLHZhbHVlOlwiXCIsdHlwZTpkLnR5cGV9KX1lbHNlIG51bGwhPT1tJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbSYmKHImJnIucHVzaChkKSxhLnB1c2goe25hbWU6Zix2YWx1ZTptLHR5cGU6ZC50eXBlLHJlcXVpcmVkOmQucmVxdWlyZWR9KSk7aWYoIXQmJm8uY2xrKXt2YXIgZz1lKG8uY2xrKSx4PWdbMF07Zj14Lm5hbWUsZiYmIXguZGlzYWJsZWQmJlwiaW1hZ2VcIj09eC50eXBlJiYoYS5wdXNoKHtuYW1lOmYsdmFsdWU6Zy52YWwoKX0pLGEucHVzaCh7bmFtZTpmK1wiLnhcIix2YWx1ZTpvLmNsa194fSx7bmFtZTpmK1wiLnlcIix2YWx1ZTpvLmNsa195fSkpfXJldHVybiBhfSxlLmZuLmZvcm1TZXJpYWxpemU9ZnVuY3Rpb24odCl7cmV0dXJuIGUucGFyYW0odGhpcy5mb3JtVG9BcnJheSh0KSl9LGUuZm4uZmllbGRTZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIHI9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBhPXRoaXMubmFtZTtpZihhKXt2YXIgbj1lLmZpZWxkVmFsdWUodGhpcyx0KTtpZihuJiZuLmNvbnN0cnVjdG9yPT1BcnJheSlmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO28+aTtpKyspci5wdXNoKHtuYW1lOmEsdmFsdWU6bltpXX0pO2Vsc2UgbnVsbCE9PW4mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBuJiZyLnB1c2goe25hbWU6dGhpcy5uYW1lLHZhbHVlOm59KX19KSxlLnBhcmFtKHIpfSxlLmZuLmZpZWxkVmFsdWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPVtdLGE9MCxuPXRoaXMubGVuZ3RoO24+YTthKyspe3ZhciBpPXRoaXNbYV0sbz1lLmZpZWxkVmFsdWUoaSx0KTtudWxsPT09b3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIG98fG8uY29uc3RydWN0b3I9PUFycmF5JiYhby5sZW5ndGh8fChvLmNvbnN0cnVjdG9yPT1BcnJheT9lLm1lcmdlKHIsbyk6ci5wdXNoKG8pKX1yZXR1cm4gcn0sZS5maWVsZFZhbHVlPWZ1bmN0aW9uKHQscil7dmFyIGE9dC5uYW1lLG49dC50eXBlLGk9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYodm9pZCAwPT09ciYmKHI9ITApLHImJighYXx8dC5kaXNhYmxlZHx8XCJyZXNldFwiPT1ufHxcImJ1dHRvblwiPT1ufHwoXCJjaGVja2JveFwiPT1ufHxcInJhZGlvXCI9PW4pJiYhdC5jaGVja2VkfHwoXCJzdWJtaXRcIj09bnx8XCJpbWFnZVwiPT1uKSYmdC5mb3JtJiZ0LmZvcm0uY2xrIT10fHxcInNlbGVjdFwiPT1pJiYtMT09dC5zZWxlY3RlZEluZGV4KSlyZXR1cm4gbnVsbDtpZihcInNlbGVjdFwiPT1pKXt2YXIgbz10LnNlbGVjdGVkSW5kZXg7aWYoMD5vKXJldHVybiBudWxsO2Zvcih2YXIgcz1bXSx1PXQub3B0aW9ucyxjPVwic2VsZWN0LW9uZVwiPT1uLGw9Yz9vKzE6dS5sZW5ndGgsZj1jP286MDtsPmY7ZisrKXt2YXIgbT11W2ZdO2lmKG0uc2VsZWN0ZWQpe3ZhciBkPW0udmFsdWU7aWYoZHx8KGQ9bS5hdHRyaWJ1dGVzJiZtLmF0dHJpYnV0ZXMudmFsdWUmJiFtLmF0dHJpYnV0ZXMudmFsdWUuc3BlY2lmaWVkP20udGV4dDptLnZhbHVlKSxjKXJldHVybiBkO3MucHVzaChkKX19cmV0dXJuIHN9cmV0dXJuIGUodCkudmFsKCl9LGUuZm4uY2xlYXJGb3JtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtlKFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhXCIsdGhpcykuY2xlYXJGaWVsZHModCl9KX0sZS5mbi5jbGVhckZpZWxkcz1lLmZuLmNsZWFySW5wdXRzPWZ1bmN0aW9uKHQpe3ZhciByPS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxlbWFpbHxtb250aHxudW1iZXJ8cGFzc3dvcmR8cmFuZ2V8c2VhcmNofHRlbHx0ZXh0fHRpbWV8dXJsfHdlZWspJC9pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGUsbj10aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtyLnRlc3QoYSl8fFwidGV4dGFyZWFcIj09bj90aGlzLnZhbHVlPVwiXCI6XCJjaGVja2JveFwiPT1hfHxcInJhZGlvXCI9PWE/dGhpcy5jaGVja2VkPSExOlwic2VsZWN0XCI9PW4/dGhpcy5zZWxlY3RlZEluZGV4PS0xOlwiZmlsZVwiPT1hPy9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP2UodGhpcykucmVwbGFjZVdpdGgoZSh0aGlzKS5jbG9uZSghMCkpOmUodGhpcykudmFsKFwiXCIpOnQmJih0PT09ITAmJi9oaWRkZW4vLnRlc3QoYSl8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiZlKHRoaXMpLmlzKHQpKSYmKHRoaXMudmFsdWU9XCJcIil9KX0sZS5mbi5yZXNldEZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucmVzZXR8fFwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLnJlc2V0JiYhdGhpcy5yZXNldC5ub2RlVHlwZSkmJnRoaXMucmVzZXQoKX0pfSxlLmZuLmVuYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITApLHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9IWV9KX0sZS5mbi5zZWxlY3RlZD1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPXRoaXMudHlwZTtpZihcImNoZWNrYm94XCI9PXJ8fFwicmFkaW9cIj09cil0aGlzLmNoZWNrZWQ9dDtlbHNlIGlmKFwib3B0aW9uXCI9PXRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgYT1lKHRoaXMpLnBhcmVudChcInNlbGVjdFwiKTt0JiZhWzBdJiZcInNlbGVjdC1vbmVcIj09YVswXS50eXBlJiZhLmZpbmQoXCJvcHRpb25cIikuc2VsZWN0ZWQoITEpLHRoaXMuc2VsZWN0ZWQ9dH19KX0sZS5mbi5hamF4U3VibWl0LmRlYnVnPSExfSk7IiwiLyohXHJcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIEluZmluaXRlIFNjcm9sbFxyXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICArIGh0dHBzOi8vZ2l0aHViLmNvbS9wYXVsaXJpc2gvaW5maW5pdGUtc2Nyb2xsXHJcbiAgICsgdmVyc2lvbiAyLjEuMFxyXG4gICArIENvcHlyaWdodCAyMDExLzEyIFBhdWwgSXJpc2ggJiBMdWtlIFNodW1hcmRcclxuICAgKyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuXHJcbiAgICsgRG9jdW1lbnRhdGlvbjogaHR0cDovL2luZmluaXRlLXNjcm9sbC5jb20vXHJcbiovXHJcbjsoZnVuY3Rpb24oZSl7aWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtcImpxdWVyeVwiXSxlKX1lbHNle2UoalF1ZXJ5KX19KShmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2UuaW5maW5pdGVzY3JvbGw9ZnVuY3Rpb24obixyLGkpe3RoaXMuZWxlbWVudD1lKGkpO2lmKCF0aGlzLl9jcmVhdGUobixyKSl7dGhpcy5mYWlsZWQ9dHJ1ZX19O2UuaW5maW5pdGVzY3JvbGwuZGVmYXVsdHM9e2xvYWRpbmc6e2ZpbmlzaGVkOnQsZmluaXNoZWRNc2c6XCI8ZW0+Q29uZ3JhdHVsYXRpb25zLCB5b3UndmUgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBpbnRlcm5ldC48L2VtPlwiLGltZzpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaDNBQVRBUFFlQVBEeStNblE2TFcvNE4zaDhNelQ2cmpDNHNUTTVyL0k1TkhYN043ajhjN1U2dHZnOE9MbDh1WG85T2pyOWIzRzVNZlA2T3Z1OXRQWjdQVDErdlgyK3RiYjd2ZjQrOC9XNjlqZDdyQzczdm41L08veCtLMjQzYWkwMi8vLy93QUFBQ0gvQzA1RlZGTkRRVkJGTWk0d0F3RUFBQUFoK1FRRUNnRC9BQ3dBQUFBQTNBQVRBQUFGLzZBbmptUnBubWlxcm16cnZuQXN6M1J0MzNpdTczenYvOENnY0VqMEJBU2NwSExKYkRxZjBLaDBTcTFhcjlpc2Rpb0l0QUtHdytNQUtZTUZoYkY2M0NXNDM4ZjBtZzFSMk84RXVYai9hT1B0YUh4N2ZuOTZnb1I0aG11SWQ0cURkWDk1YzQrUkJJR0NCNHlBanBtUWhaTjBZR1lHWGl0ZFpCSVZHQXNMb3E0QkJLUURzd20xQ1FSa2NHNnl0cllLdWJxOHZiZkFjTUs5djdxN0VNTzF5Y3JIdnNXNnpjVEtzY3pOejhIWnc5dkczY2pUc01JWXFRa0NMQndIQ2dzTURRNFJEQVlJcWZZU0Z4RHhFZno4OC9YMzhPbnIxNitCcDRBRENjbzdlQzhoUVlNQUVlNTd5TkNldzRJVkJVN0VHTkRpUm44WjgzMWNHTEhoU0lnZEZmOWNoSWVCZzdvQTdnamFXVVdUVlFBR0UzTHFCRENUbGM5V09IZm03UGtUcU5DaDU0cmVQRHFCNk0rbFI1MzZoQ3BVcXMyZ1ZaTSt4YnJUcXRHb1dxZHkxZW1WYWxlWEt6Z2dZQkJCNXkxYWNGTlptRXZYQW9OMmNHZkpyVHYzYmw2OUZmajJ4WnQzTDErL2Z3M1hSVnc0c0dER2NSMGZKaHhac0YzS3RCVFRoWnhaOG1MTWdDM2ZSYXRDYllNTkZDendMRXFMZ0U0TnNEV3MvdHZxZGV6WmYxM0h2azJBOVN6ZHUyWDNwZzE4Tis2OHhYbjdyaDFjK1BMa3NJL0RoZTZjdU8zb3czTmZWOTJiZEFyVHFDMkViZDNBOHZqZjVRV2ZINkJnN056MTdjMmZqNjkrZm5xKzhOMkx0eStmdVA3OC9lVjJYMTNuZUljQ2VCUnd4b3JiWnJBMUFOb0NER3Jnb0c4UlRzaGFoUTlpU0tFRXpVbVlJWWZOV1ZpVWhoZUNHSnlJUDVFNG9vbTdXV2pnQ2VCRkFKTnYxRFZWMDFNQWRKaGhqZGtwbFdOek8vNW9YSTg0Nm5qalZFSXFSMk9TMkIxcEU1UFZzY2Fqa3hoTXljcUxKZ2hRU3dUNDBQZ2ZBbDRHcU5TWFlkWlhKbjVnU2ttbW1tSnUxYVpZYjE0VjUxZG8rcFRPQ21BNDBBcVZDSWhHNUlKOVB2WW5oSUZPeG1kcWhwYUk2R2VIQ3Rwb29pc3V1dG1nK0VnNjJLT01LdXFvVGFYZ2ljUVdvSVlxNnFpa2xtb3FGVjBVb2VxcXJMYnE2cXV3eGlycnJMVFdhdXV0SjRRQUFDSDVCQVVLQUJ3QUxBY0FCQURPQUFzQUFBWC9JUGQwRDJkeVJDb1VwL2s4Z3BIT0t0c2VSOXlpU21HYnVCeWtsZXI5WExBaGtiRGF2WFRMNWsyb3FGcU5PeHpVWlBVNVlZWmQxWHNENzJyWnBCamJlaDUybVNObk1TQzhsd2JsS1pHd2krMFFmSUo4Q25jbkNvQ0Rnb1ZuQkhtS2ZCeUdKaW1Qa0l3dGlBZUJrSDZaSEphS21DZVZuS0tUSElpaGc1S05xNHVvcW1FdGNSVXRFUkVNQmdndEVyNFFEcmpDdVJDOGg3L0J3eEVOZWljU0Y4REt5ODJweU5MTU94eld5Z3pGbWR2RDJMM1AwZHplNCtYaDFBcmt5ZXBpN2RmRnZ2VHRMUWtaQkMwVC9GWDNDUmdDTU9CSHNKK0VIWVFZN09pbkFHRUNnUXNCK0x1M0FPSytDZXdjV2p3eFFlSkJpaHROR0hTb1FPRStpUTMvLzRYa3dCQmhSWk1jVVM2WVNYT0F3SUw4UEdxRWFTSkNpWXQ5U05vQ21uSlBBZ1VWTENoZGFvRkJVUk44TUF6bDJQUXBod1FMZkRGZDZsVG93Z2xIdmU2cktwYmpoSzcvcEc1VmluWlAxcWtpejFybDQrdHIyTFJ3V1U2NGNGRWlod0V0WmdiZ1IxVWlIYU1WdnhwT1N3QkEzN2t6R3o5ZThHK0I1TUlFS0x1dE9HRXNBSDJBVFF3WWZUbXVYOGFFVFdkR1BabWlaY2NjTlN6ZVRDQTFTdzBiZGlpdEM3TEJXZ3U4alFyOEhSenFncEs2Z1g4OFFickIxNHova0YrRUxwd0I4ZVZRai9Ka3FkeWxBdWRqaS8rdHMzMDM5dkVFZks4VnoyZGx2eFpLRzBDbWJrS0RCdmxsUmQ2ZkN6RHZCTEtCRFNDZWZmaFJKRUZlYkZrMWsvTXY5alZJb0lKWlNlQmdnd1VhTmVCK1FrMzRJRTBjWGxpaGNmUnhrT0FKRkZod0dtS2xtV0RpYWtaaFVKdG5MQnBuV1djbkthQVpjeEkwcGlGR0dMQm0xbWM5MGthalNDdmVlQlZXS2VZRW9VMndxZWFRaTBQZXRvRStycjE0RXBWQzdvQWJBVUhxaFlFeGJuMlhISHNWcWJjVmV3OXR4OCtYSktrNUFac3FxZGxkZEdwcUFLZGJBWUJuMXBjY3ptU1RkV3ZkbVoxN2MxYjNGWjk5dm5UZENSRk04T0VjQWhMd20xTmRYbldjQkJTTVJXbWZrV1pxVmxzbUxJaUFwL28xZ0dWMnZwUzRsYWxHWXNVT3FYcmRkY0tDbUs2MWFaOFNqRXBVcFZGVm9DcFRqNHI2NjFLbTdrQkhqckR5YzFSQUlRQUFJZmtFQlFvQUd3QXNCd0FFQU00QUN3QUFCZi9ndG1VQ2Q0Z29RUWdGS2o2UFlLaTB5cnJiYzhpNG9oUXQxMkVIY2FsK01OU1FpQ1A4Z2lnZHo3aUNpb2FDSXZVbVpMcDhRQnpXMEVOMnZTbEN1RHRGS2FxNFJ5SHpRTEVLWk5kaVFEaFJEVm9vQ3drYmZtNTlFQW1LaTRTR0ltK0FqSXNLamhzcUI0bVNqVDJJT0lPVW5JQ2VDYUIvbVpLRk5UU1JtcVZwbUpxa2xTcXNrcTZQZllZQ0R3WUhEQzRSRVF3R0NCTEd4eElRRHNITXdoQUlYOGJLemNFTmdTTEdGOVBVMWozU3k5elgyTnJnelF6aUNoTGsxQkhXeGNqZjdOMDQ2dHZOODI3MTVjem45UHJ5ejZJbGM0QUNqNEVCT0NaTThLRW5BWVlBREJSS25BQ0FZVU1GdjF3b3RJaENFY2FKQ2lzcXdKRmdBVVNRR3lYL2tDU1ZVVVRJZEtNd0pseW8wb1hIbGhza3dyVEpjaVpIRVhzZ2FxUzRzNlBKaUNBcjF1ellVOGtCQlNnbldGcXBvTUpNVWpHdERtVXdrbWZWbVZ5cGFrV2hFS3ZYc1M0bmhMVzV3TmpWcm9KSW9jMDV3U3pUcjBQdGlpZ3BZZTRFQzJ2ajRpV3JGdTVldVdJTVJCaGFjYVZKaFlRQkVGakE5akhqeVEweEVBQndHY2VHQVpZalkwWUJPclJMQ3hVcDI5UU0rYlJreDVzN1p5WWdWYlRxd3d0aTJ5Ykordkx0RFlweWN5WmJZT2xwdHhkeDBrVitWN2xDNWlKQXl5UnJ3WUt4QWRpejgybmcwL2puQWRNSkZ6MGNQaTEwNEVjMVZqOS9NNkYxNzN2S0wvZmVYdjE1NmR3MTF0bHFlTU1udjRWNUFwNTNHbWpRUUg5N25GZmcrSUZpdWNmZ1JYNVo4S0FnYlVsUTRJVUxJbGdoaGhkT1NCNkFnWDBJVm44ZVJlZ2hlbjNOUklCc1Jnbkg0bDRMdUVpZFpCandScHQ2Tk01V0d3b1cwS1NqQ3dYNnlKU01hYjJHd3dBUERYZmFCQ3RXcGx1UlRRcUM1Sk01b1VaQWpVTlMrVmVPTFdwSkVRN1ZZUUFOVzBJTkpTWlZERlNuWnBoalNpa2ZtekU1TjRFRWJRSTFRSm1uV1hDbUh1bFJwMmVkd0RYRjQzdHh1a2VuSnd2STl4eWc5UTI2WjNNekdVY0JZRkVDaFpoNkRWVHEzNEFVOElmbGg1MVNkK0NuS0ZZUTZtbVpraHFmQktmU3haV3FBOURaYW5XanhtaHJXd2kwcXRDcnQvNDNLNldxVmpqcG1oSXFnRUd2Y3VsYUdLa2xLc3RBQUNFQUFDSDVCQVVLQUJ3QUxBY0FCQURPQUFzQUFBWC9JQ2R5UW1hTVl5QVVxUGdJQmlIUHhOcHk3OWtxUlhIOHdBUHNSbURkWHBBV2dXZEVJWW0ybGxDSHFqVkhVK2pqSmt3cUJUZWN3SXRTaE1Ya0VmTldTaDhlMU5HQWNMZ3BER2xSZ2s3RUovNkFlM1ZLZm9GL2ZEdUZob2hWZURlQ2ZYa2NDUXFEVlFjUWhuK1ZORE9ZbXBTV2FvcUJsVVNmbW93akVBK2lFQUVHRFJHenRBd0dDRGNYRUE2MHRYRWlDcnE4dlJFTUVCTEl5UkxDeE1XU0hNekV4bmJSdlEyU3k3dk4wenZWdE5mVTJ0TFkzclBnTGRuRHZjYTRWUVMvQ3BrM0FCd1NMUWtZQVF3VC9QMzA5dmNJN092WHI5NGpCUU1KL25za2tHQS9CUUJSTE5EbmNBSUFpRGNHNkxzeEFXT0xpUXptZVVSQktXU0xDUWJ2LzFGMGVER2luSlVLUjQ3WVkxSUVnUUFTS2s3WWM3QUNSd1ptN21Id2VSSm96NTlCSlVvZ2lzS0NVYUZNUjB4NFNsSkJWQkZUazhwWml2VFIwSzczck41d3FsWEVBcTVGeTNJWWdIYkV6UTBuTHk0UVNvQ2pYTG9vbTk2Vk9KRWVDb3NLNW40a2tGZnFYamw5NHdhK2wxZ3ZBY0dJQ2Jld0FPQXhZOGwvS3kvUWhBR3o0Y1VrR3h1MkhOb3pod01HQm5DVXFVZEJnOVV1VzllVXlucVN3TEhJQnVqZVBlZjFaR1FaWGNNK09GdUVCZUJoaTNPWWdMeXFjdWF4YlQ5dkxrZjRTZXF5V3hTUXBLR0IyZ1FwbTFLZFdidTcyclBSelI5TmUyTnU5S3pyLzFKcWoweUQvZnZxUDRhWE90NXNXLzVxc1hYVmN2MU5zcDhJQlVBbWdzd0dGM2xsR2dlVTFZVlhYS1ROMUZsaFdGWFczZ0lFK0RWQ2hBcHlzQUNISG83UTRBMzVsTGljaGgrUk9CbUxLQXpnWW1ZRVlEQWhDZ3hLR09PTW40V1I0a2tEYW9CQk94SnRkTktReEZtZzVKSVdJQm5RYzA3R2FPUmZVWTRBRWtkVjZqSGxDRUlTU1o1eVRYcHAxcGJHWmJrV21jdVptUUNhRTZpSjBGaGpNYURqVE1zZ1phTkVIRlJBUVZwM2JxWG5aRUQxcVljRUNPejVWNkJoU1dDb1ZKUUlLdUtRaTJLRktFa0VGQXFvQW83dVlTbU8zams2MXdVVU1LbWtuSjRTR2ltQm1BYTBxVlFCaEFBQUlma0VCUW9BR3dBc0J3QUVBTTRBQ3dBQUJmL2dKbTVGbVJsRXFoSkMrYnl3Z0s1cE80ckhJMEQzcGlpMjIrTWc2LzBFajk2d2VDTUFrN2NEa1hmN2xaVFRuck1sN2VhWW95MTBKTjBaRmRjbzBYQXV2S0k2cWtnVkZKWFlOd2prSUJjTkJnUjhUUW9HZlJzSkNSdUNZWVFRaUkrSUNvc2lDb0dPa0lpS2ZTbDhtSmtIWjRVOWtaTWJLYUkzcEtHWG1KS3JuZ211ZzRXd2toQTBsckNCV2dZRkNDTVFGd29RRFJIR3h3d0dDQkxNelJMRXg4aUd6TU1PMGNZTmVDTUt6QkRXMTlsbkY5RFhESVkvNDhYZzA5M2YwUTNzMWRjUjhPTGU4K1k5MU9UdjV3cmo3bzdCKzdWTlFxQUJJb1JWQ01CZ2dzT0hFMzZrU29DQkljU0gzRWJGYW5neG9nSllGaThDa0pocVFjaUxKRWYvTERESkVlSklCVDBHc093WVVZSkdCUzBmanBRQU1pZEdteVZQNnN4NFk2VlFoenM5VlV3a3dxYUNDaDB0bUtvRnRTTURtQk9mOXBoZzRTclZyUk91YXNSUUFheFhwVlVoZHNVNklzRUNabHZYM2t3TFVXelJ0MEJIT0xUYk5sYlpHM3ZaaW5BcmdlNUR2bjd3YnF0UWtTWUFBZ3RLbW5Tc1lLVktvMkFmVzA0OHVhUG1HMzg2aTRROEVRTUJBSUFuZkI3eEJ4QnF2YXBKOXpYOVdnUlMyWU1wbnZZTUdkUEszYU1qdC8zZFVjTkk0Ymxwajdpd2tNRldEWER2U21nQWxpanJ0OVJUUjc4K1BTNnoxdUFKWkllOTNROGc1emNzV0NpLzRZK0M4YmFoNXpVdjN2djg5dWZ0MzBRUDIzcHVuR0N4NTk1NG9CQndud1lhTkNEWS93WXJzWWVnZ25NOUIyRnBmOEdHMkNFVVZXaGJXQXRHb3VFR0R5N1k0SUVKVnJiU2lYZ2hxR0tJbzd6MUlWY1hJa0tXV1IzNjFRT0xXV25JaHdFUnBMYWFDQ2VlNWlNQkdKUW1KR3lQRlRuYmtmSFZaR1J0SUdyZzVIQUxFSkFaYnUzOUJ1VUVVbXExSkpRSVB0WmlsWTVoR2VTV3NTazUyRzlYcXNtZ2xqZEljQUJ5dHExM0h5SU02UmNVQStyMXFaNEVCRjNXSFdCMjl0QmdBelJoRUdoaWc4S21xS0Z2OFNlQ2VvK21nc0Y3WUZYYTFxV1Nia0Rwb20vbXFSMVBtSENxSjNmd05SVlhqQzdTNkNaaEZWQ1EybFd2WmlpcmhRcTQyU0FDdDI1SUsyaHY4VHBycmlVVjF1c0dnZWthN0xGY05tQ2xkTUxpNnFaTWdGTGdwdzE2Q2lwYjdiQzFrblhzQmlFQUFDSDVCQVVLQUJzQUxBY0FCQURPQUFzQUFBWC80RlpzSlBrVW1VR3NMQ0VVVHl3WGdsRnVTZzdmVzF4QXZOV0xGNnNGRmNQYjQyQzhFWkNqMjRFSmRDcDJ5b2VnV3NvbFMwVXU2Zm1hbWc4bjhZWWNMVTJiWFNpUmFYTUd2cVY2L0tBZUpBaDhWZ1pxQ1grQmV4Q0Zpb1dBWWdxTmk0cUFSNE9SaFJ1SFk0MDhqQWVVaEFtWVlpdVZscGlmbHFHWmE1Q1dremM1ZkttYmJoSXBzQW9RRFJHOHZRd1FDQkxDd3hLNnZiNXF3aGZHeHhFTmFodkNFQTdOenNrU3k3dk56enpLMDlXL1BOSEYxTnZYMmRYY044SzU1Y2ZoNjlMdXZlb2wzdk84endpNFloaitBUXdtQ0J3NElZY2xEQUFKRGxRZ2dWT0NoQW9MS2tnRmtTQ0FIRHdXTEtoSUVPT05BUnNES3J5b2dGUElpQVViLzk1Z0pOSWl3NHduSTc3OEdGUGh6QktGT0FxOHFMSkVoUXBpTkFyak1jSENtbFRDVURJb3VUS0JoQXBFTFN4RldpR2lWS1k0RTJDQWVrUGdVcGhEdTA3NDJuUnJWTEpabnlyRlNxS1Eyb2hvU1lBTVc2SW9EcE5KNGJMZElMVG5BajhLVUY3VWVFTmpBS3VEeXhJZ091R2lPSTBFQkJNZ0xOZXc1QVVyRFRNR3NGaXh3QklhTkNRdUFYSkI1N3FOSjJPV20yQWo0c2t3Q1FDSXlOa2hodE1rZHNJdW9kRTBBTjRMSkRSZ2ZMUHRuNVlETGRCbHJhQUJ5dVViQmd4UXdJQ3hNT25ZcFZPUGVqMDc0T0ZkbGZjMFRxQzYyT0liY3BwSGpWNG8rTHJpZVdoZlQ4SkMvSS9UNlc4b0NsMjl2UTBYakxkQmFBM3MxUmNQQk83bEZ2cFg4QlZvRzRPNWpUWFJRUkR1SjZGRFR6RVdGMS9CQ1poZ2J5QUtFOXFJQ1lMbG9RWU9GdGFoVlJzV1lsWjRLUUpIbHdIUy9JWWFaNnNaZDl0bXU1SFFtMnhpMVVhVGJ6eFl3Smsvd0JGNWc1RUVZT0JaZUVmR1ptTmRGeUZabVpJUjRqaWtiTFRobGg1a1VVVkpHbVJUN3Nla2t6aVJXVUlBQ0FCazNUNHFDc2VkZ080eGhnR2NZN3E1cEhKNGtsQkJUUVJKMENlSGNvWUhIVWg2d2dmZG45dUpkU2RNaWViR0owelVQVGNvUzI4NkZDa3JaeG5Zb1lZS1dMa0Jvd2hRb0JlYU9sWkFnVmhMaWRyWHFnMkdpcXBRcFo0YXB3U3dSdGpxckIzbXVvRjlCYm9hWEttc2hscVdxc1dpR3Qyd3BoSmtRYkFVNWhvQ0FDSDVCQVVLQUJzQUxBY0FCQURPQUFzQUFBWC9vR0Z3MldadVQ1b1pST3NTUW5HYUtqUnZpbEk4OTNNSXRsTk9KNXY1Z0RjRnJIaEtJV2NFWXUveEZFcU52NkIxTjYyYWNseXNGN2ZzWlllNWFPeDJ5TDVhQVVHU2FUMW9UWU1Cd1E1VkdDQUpnWUlKQ254MWdJT0JoWGR3aUlsN2QwcDJpWUdRVUFRQmpvT0ZTUVIvbElRSG5aK1VlNk9hZ3FZelNxU0ppNWVUcFR4R2NqY1NDaEFORWJ1OERCQUlFc0hCQ2hlNXZMMTNHN2ZGdXNjUkRjbkt1TTNIMExhM0VBN096OGtLRXNYYXpyN0N3OS9HenRhcjV1SEh2dGU0N01qa3R6bloydzBHMStEM0JnaXJBcUptSk1BUWdNR0Vnd2duNUVpMGdLREJoQk1BTEdSWUVPSkJiNVFjV2xRbzRjYkFpaFp6M0dnSU1xRkVCU00xLzRaRU9XUEFncElJSlhZVStQSWhSRzhqYTFxVTZWSGx6WmtuSk5RNlVhbkNqUWtXQ0lHU1VHRWpBd1ZMamM0NCtEVHFVUXRQUFM1Z2VqVXJUYTVUSjNnOXNXQ3IxQk5VV1pJMTYxU3RpUVVEbUxZZEdmZXNpYlEzWE1xMU9QWXRocnd1QTJ5VTJMQnMyY0JISXlwWVFQUGxZQUtGRDVjVnZOUHRXOGVWR2JkY1FBREFUc2lOTzRjRkFQa3ZIcGVkUHpjOGtVY1BnTkdnWjVSTkRaRzA1cmVvRTlzMnZTRVA3OU1FR2lRR3kxcVA4TEE0WmNkdHNKRTQ4T05vTFRCdFRWMEI5THNUblBjZW9JREJEUXZTN1c3dmZqVlkzcTNlWjRBMzM5SjRlYUFtS3FVL3NWNThIdkpoMlJjbklCc0RVdzBBQnFoQkE1YVY1VjlYVUZHaUhmVmVBaVd3b0ZnSkpySVhSSDF0RU1pREZWNG9Ib0FFR2xhV2hnSUdTR0JPMm5Gb21ZWTNtS2pWZ2xpZGFOWUpHSkRrV1cyeHhUZmJqQ2JWYU9HTnFvWDJHbG9SOFplVGFFQ1M5cHRoUkdKSDJnMGIzQWdiazZoTkFOdHRlSEQyR0pVdWNmYWpDUUJ5NU9PVFEyNVpnVVB2YVZWUW1iS2g5NTEwL3FRcHdYeDNTUWRmazh0WkpPZDViNkpKRnBsVDNabm1tWDNxZDVsMWVnNXEwMEhydFVrVW4wQUthaUdqQ2xTQWdLTFlaY2dXWHdvY0dSY0NGR0NLd1NCNmNlcXBod21ZUlVGWVQvMVdLbE9kVXBpcG14VzBtbENxSGpZa0FhZW9abHFycVo0cWQrdXBRS2FhcG4vQW1nQWVnWjhLVXRZdEZBUVFBZ0FoK1FRRkNnQWJBQ3dIQUFRQXpnQUxBQUFGLytDMlBVY21pQ2laR1VUckVrS0JpczhqUUVxdUt3VTVIeVhJYkVQZ3lYN0JZYTV3VE5tRU13V3NTWHNxRmJFaDhEWXM5bXJnR2pkSzZHa1BZNUdPZVU2cnl6N1VGb3BTUUV6eWdPR2hKQmpvSWdNREJBY0JNMFYvQ1lxTENRcUZPd29iaVl5S2puMlRsSTZHS0MyWWpKWmtub3VhWkFjUWxKVUhsNmVvb0p3S29vb2Jxb2V3ckpTRW15S2R0NTlOaFJLRk14TEVFQTRSeU1rTUVBakRFaGZHeWNxQUc4VFF4OUlSRFJERTNkM1IyY3REMVJMZzB0dEtFbmJZNXdaRDMreko2TTdYMlJIaTlPYnk3dS9yOWczOFVGalRoMnhaSkJFQk1EQWJvb2dBZ3drUUkwN0lNVU9Sd29jU0p3Q2dXREZCQUl3Wk9hSklzT0JqUm9nS0pQOHdUT0R3NUVTVkhWdG0zQWh6cEVlUUVsT3VORGxUWjB5Y0VVV0tXRkFTcUVhaEd3WVVQYm54b0FnRWRsWVNxREJrZ29VTkNsQWxJSGJTQW9Pc3FDUlFuUUh4cTFheFZiMDZGV0Z4TElxeWF6ZTBUZnQxSlZxeUUrcFdYTUQxcEY2YllsMytIVHFBV05XOGNSVUZ6bWloMFpBQUIyb0dLdWtTQUFHR1JIV0pnTGlSNkF5bEJMcHVIS0tVTWxNQ25nTXBEU0FhOVFJVWdnWlZWdkRhSm9iTGVDM1hacHZnTmdDbXRQY3V3UDNXZ21YU3E0ZG8wREM2bzIvZ3V6Y3NlRUN0VW9PMGhtY3NHS0RnT3Q3c3NCZDA3d3Flc0FJR1pDMVlJQmE3UFFIdmIxK1NGbysrK0hySlNRZkIzM3hmYXYzaTVlWDNIbmI0Q1RKZ2VnRXE4dEgvWVFFT2NJSnpibTJHMkVvWVJMZ0JYRnBWbUZZRGNSRVY0SEljbm1VaGlHQlJvdUVNSkdKR3pISXNwcWdkWHhLMHlDS0hSTlhvSVg0dW9yQ2RUeWpreU50ZFBXckE0VXA4MkViQWJ6TVJ4eFpSUjU0V1hWTERJUm1SY2FnNWQyUjZ1Z2wzWlh6TmhUZWNjaHBNaElHVkFLQVlwZ0pqanNTa2xCRWQ5OW1hWm9vNTM1WnZkYW1qQkVwdXNKeWN0ZzNoNFg4WHFvZEJNeDB0aU5lZy9vR0phS0dBQnBvZ1M0MEtTcWlhRWdCcWxRV0xVdHFvVlFueXRla0Vqem8waEhxaFJvcnBwT1p0MnA5MjNNMkFBVitvQnRwQW5uUE5vQjZIYVU2bUFBSVUrSVhtaTNqMm10Rlh1VW9IS3dYcHpWcnNqY2dHT2F1S0VqUXJ3cTE1N2hpdEdxMk5vV21qaDd6NldteGIwbTV3NjYrMlZSQXVYTi95RlVBSUFDSDVCQVVLQUJzQUxBY0FCQURPQUFzQUFBWC80Q1p1UmlhTTQ1TVpxQmdJUmJzOUFxVGN1RkxFN1ZITE9oN0tCNUVSZGpKYUVhVTRDbE8vbGdLV2pLS2NNaUpROEtndW1jaWVWZFFNRDhjYkJldUFra0M2TFlMaE94b1EyUEY1WXM5UEtQQk1lbjE3ZjBDQ2c0VlNoMzJKVjR0OGpTTnFFSU9FZ0pLUGxrWUJsSldSSW5LZGlKZGttUWx2S0FzTEJ4ZEFCQTRSc2JJTUJnZ3RFaGNRc0xLeERCQzJUQVM2dkxFTmRKTER4TVpBdWJ1OHZqSWJ6Y1FSdE16Sno3OVMwOG9RRXQvZ3VOaXl5N2Zjdk1iaDRPZXpkQXZHcmFrTEFRd3lBQnNFTFFrWTlCUCsvL2NreVBERDRKOUJmQU1oMUdzQm9JbU1lUVVOK2xNZ1VKOUNpUk1hNW1zeG9COUdoL284R214WU1aWElneHRSL3lRNDZTL2dRQVVSUjBwRHdZRGZ5d295TFBpcDVBZG5Dd3NNRlBCVTRCUEZoS0JEaTQ0NHF1Q21ES1pPZndaOUtFR3BDS2djTjFqZEFMU3BQcUlZc2FiUytuU3F2cXBsdllxUVlBZURQZ3dLd2phTXRpRGwwb2FxVUF5byszVHVXd1VBTVBwVkNmZWUwY0VqVkJHUXEyQUJ4N29UV21RazRGZ2xaTUdOOWZHVkRNQ3VpSDJBT1ZPdS9QbXl4TTYzMGd3TTBDQ242cThMalZKOEdYdnBhNVV3bjk1T1RDL25OeGtkYTEvZExTSzQ3NUlqQ0Q2ZEhiSzFaT2E0aFhQOURYczVjaEowMFVwVm01eG8ycVJwb3hwdHdGMkU0L0liSnBCL1NEejkrcTliMWFOZlFIMDgrcDRhOHV2WDhCNTNmTFAreWNBZmVtanNSVUJncDFIMjBLK0JnaEhnVmd0MUdYWlhacFo1bHQ0RUNqeFlSNFNjVVdpU2hFdFpxQmlJSW5SR1duRVJObmppQmdsdytKeUdueFVtR293c3lpaVpnMTg5bE50UEdBQ2pWMitTOVVqYlUwSldGNlNQdkVrM1FaRXFzWllUazNVQWFSU1Vuem5KSTVMbUVTQ2RCVlN5YU9XVVdMSzRJNWdEVVlWZVYxVDlsK0ZaQ2xDQVVWQTA5dVNtUkhCQ0tBRUNGRWhXNTFodDZybm1XQlhrYVIrTmp1SHBKNDBEM0RtblFYdDJGK2loWnhscVZLT2ZRUkFDQUNINUJBVUtBQndBTEFjQUJBRE9BQXNBQUFYL0lDZHlVQ2tVby9nOG1VRzhNQ0drS2dzcGVDNmo2WEVJRUJwQlVlQ05mRUNhZ2xCY09WZkpGSzdZUXdaSFE2SlJaQlVxVHJTdVZFdUQzbkk0NXBZakZ1V0t2ampTa0NvUmFCVU1XeGt3QkdnSkNYc3BRMzZCaDRFRUIwb0tob2lCZ3lOTGpvOEtpNFFFbElpV2ZKcUhuSVNORUkrUWw1SjlvNlNna3FLa2dxWWloYW1Qa1c2b05CZ1NmaU1NRFFrR0NCTEN3eElRRGhISXlRd1FDR01LeHNuS1Z5UENGOURSRVEzTXhNUFgwY3U0d3Q3SjJ1SFd4OWpsS2QzbzM5TWl1ZWZZRWN2Tmt1THQ1TzhjMWVQSTJ0eUVMWEdRd29HREFRZitpRUMyeEJ5RENSQWpUbEFnSVVXQ0JSZ0NQSlE0QVFCRlhBczBjb1Q0MFdMSWpSeEwvNDdBY0hMa3hJb21SWEwwQ0hQRVJaa3BhNHE0aVZLaXlwMHRSLzdrd0hNa1RVQkJKUjVkT0NFQkFWY0tLdENBeU9IcG93WENwazdnb0FCcUJaZGN2V3Bsb0FDcEJLa3BJSkkxcTVPRDJySVdFMFIxdVRadTFMRndiV0w5T2xLdVdiNGM2K285aTNkRWd3MFJDR0RVRzlLbFJ3NTZnRFkycW1DQnlaQmFBU2krVEFDQTBUdWNBYVR0ZUNjeTBadU9LM04ydkpseDU4K0xSUXlZM1htMFpzZ2paZytvUFFMaTdkVWNOWGkwTE9KdzFwZ050QjdYRzZDQnkrVTc1U1lmUFRTUUFnWlROVURuUUh0Njd3bmJaeXZ3TGdLaU1OM29DWkIzQzc2dGRld3BMRmdJUDJDODhyYmk0WStRVDMrOFM1VVNNSUNaWFdqMXBrRURlVVUzbE9ZR0IzYWxTb0VpTUlqZ1g0V2xnTkYyRWliSXdRSVhhdVdYU1JnMlNBT0hJVTVJSUlNb1praGhXaUphaUZWYktvNkFRRWdRWHJUQWF6TzFKaGtCckJHM1kyWTZFc1VoYUduOTVocHJTTjBvV3BGRTdyaGtlYVFCY2hHT0VXbndFbWMwdUtXWmowTGV1TlYzVzRZMmxaSEZsUUNTUmpUSWw4dVora0c1SFUvM3NSbG5URzJ5dHlhZHl0bkQzSHJtdVJjU24rMGgxZHljZXhJSzFLQ2pZYUNuakNDVnFPRkZKVFo1R2tVVWpFU1dhVUlLVTJsZ0NtQUtLUUlVakhhcFhSS0UrdDJvZzFWZ2Fua05Zbm9ocUtKMkNtS3Bsc282R0t6N1dZQ2dxeGV1eW9GOHU5SVFBZ0E3XCIsbXNnOm51bGwsbXNnVGV4dDpcIjxlbT5Mb2FkaW5nIHRoZSBuZXh0IHNldCBvZiBwb3N0cy4uLjwvZW0+XCIsc2VsZWN0b3I6bnVsbCxzcGVlZDpcImZhc3RcIixzdGFydDp0fSxzdGF0ZTp7aXNEdXJpbmdBamF4OmZhbHNlLGlzSW52YWxpZFBhZ2U6ZmFsc2UsaXNEZXN0cm95ZWQ6ZmFsc2UsaXNEb25lOmZhbHNlLGlzUGF1c2VkOmZhbHNlLGlzQmV5b25kTWF4UGFnZTpmYWxzZSxjdXJyUGFnZToxfSxkZWJ1ZzpmYWxzZSxiZWhhdmlvcjp0LGJpbmRlcjplKHdpbmRvdyksbmV4dFNlbGVjdG9yOlwiZGl2Lm5hdmlnYXRpb24gYTpmaXJzdFwiLG5hdlNlbGVjdG9yOlwiZGl2Lm5hdmlnYXRpb25cIixjb250ZW50U2VsZWN0b3I6bnVsbCxleHRyYVNjcm9sbFB4OjE1MCxpdGVtU2VsZWN0b3I6XCJkaXYucG9zdFwiLGFuaW1hdGU6ZmFsc2UscGF0aFBhcnNlOnQsZGF0YVR5cGU6XCJodG1sXCIsYXBwZW5kQ2FsbGJhY2s6dHJ1ZSxidWZmZXJQeDo0MCxlcnJvckNhbGxiYWNrOmZ1bmN0aW9uKCl7fSxpbmZpZDowLHBpeGVsc0Zyb21OYXZUb0JvdHRvbTp0LHBhdGg6dCxwcmVmaWxsOmZhbHNlLG1heFBhZ2U6dH07ZS5pbmZpbml0ZXNjcm9sbC5wcm90b3R5cGU9e19iaW5kaW5nOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1yLm9wdGlvbnM7aS52PVwiMi4wYjIuMTIwNTIwXCI7aWYoISFpLmJlaGF2aW9yJiZ0aGlzW1wiX2JpbmRpbmdfXCIraS5iZWhhdmlvcl0hPT10KXt0aGlzW1wiX2JpbmRpbmdfXCIraS5iZWhhdmlvcl0uY2FsbCh0aGlzKTtyZXR1cm59aWYobiE9PVwiYmluZFwiJiZuIT09XCJ1bmJpbmRcIil7dGhpcy5fZGVidWcoXCJCaW5kaW5nIHZhbHVlICBcIituK1wiIG5vdCB2YWxpZFwiKTtyZXR1cm4gZmFsc2V9aWYobj09PVwidW5iaW5kXCIpe3RoaXMub3B0aW9ucy5iaW5kZXIudW5iaW5kKFwic21hcnRzY3JvbGwuaW5mc2NyLlwiK3Iub3B0aW9ucy5pbmZpZCl9ZWxzZXt0aGlzLm9wdGlvbnMuYmluZGVyW25dKFwic21hcnRzY3JvbGwuaW5mc2NyLlwiK3Iub3B0aW9ucy5pbmZpZCxmdW5jdGlvbigpe3Iuc2Nyb2xsKCl9KX10aGlzLl9kZWJ1ZyhcIkJpbmRpbmdcIixuKX0sX2NyZWF0ZTpmdW5jdGlvbihyLGkpe3ZhciBzPWUuZXh0ZW5kKHRydWUse30sZS5pbmZpbml0ZXNjcm9sbC5kZWZhdWx0cyxyKTt0aGlzLm9wdGlvbnM9czt2YXIgbz1lKHdpbmRvdyk7dmFyIHU9dGhpcztpZighdS5fdmFsaWRhdGUocikpe3JldHVybiBmYWxzZX12YXIgYT1lKHMubmV4dFNlbGVjdG9yKS5hdHRyKFwiaHJlZlwiKTtpZighYSl7dGhpcy5fZGVidWcoXCJOYXZpZ2F0aW9uIHNlbGVjdG9yIG5vdCBmb3VuZFwiKTtyZXR1cm4gZmFsc2V9cy5wYXRoPXMucGF0aHx8dGhpcy5fZGV0ZXJtaW5lcGF0aChhKTtzLmNvbnRlbnRTZWxlY3Rvcj1zLmNvbnRlbnRTZWxlY3Rvcnx8dGhpcy5lbGVtZW50O3MubG9hZGluZy5zZWxlY3Rvcj1zLmxvYWRpbmcuc2VsZWN0b3J8fHMuY29udGVudFNlbGVjdG9yO3MubG9hZGluZy5tc2c9cy5sb2FkaW5nLm1zZ3x8ZSgnPGRpdiBpZD1cImluZnNjci1sb2FkaW5nXCI+PGltZyBhbHQ9XCJMb2FkaW5nLi4uXCIgc3JjPVwiJytzLmxvYWRpbmcuaW1nKydcIiAvPjxkaXY+JytzLmxvYWRpbmcubXNnVGV4dCtcIjwvZGl2PjwvZGl2PlwiKTsobmV3IEltYWdlKS5zcmM9cy5sb2FkaW5nLmltZztpZihzLnBpeGVsc0Zyb21OYXZUb0JvdHRvbT09PXQpe3MucGl4ZWxzRnJvbU5hdlRvQm90dG9tPWUoZG9jdW1lbnQpLmhlaWdodCgpLWUocy5uYXZTZWxlY3Rvcikub2Zmc2V0KCkudG9wO3RoaXMuX2RlYnVnKFwicGl4ZWxzRnJvbU5hdlRvQm90dG9tOiBcIitzLnBpeGVsc0Zyb21OYXZUb0JvdHRvbSl9dmFyIGY9dGhpcztzLmxvYWRpbmcuc3RhcnQ9cy5sb2FkaW5nLnN0YXJ0fHxmdW5jdGlvbigpe2Uocy5uYXZTZWxlY3RvcikuaGlkZSgpO3MubG9hZGluZy5tc2cuYXBwZW5kVG8ocy5sb2FkaW5nLnNlbGVjdG9yKS5zaG93KHMubG9hZGluZy5zcGVlZCxlLnByb3h5KGZ1bmN0aW9uKCl7dGhpcy5iZWdpbkFqYXgocyl9LGYpKX07cy5sb2FkaW5nLmZpbmlzaGVkPXMubG9hZGluZy5maW5pc2hlZHx8ZnVuY3Rpb24oKXtpZighcy5zdGF0ZS5pc0JleW9uZE1heFBhZ2Upcy5sb2FkaW5nLm1zZy5mYWRlT3V0KHMubG9hZGluZy5zcGVlZCl9O3MuY2FsbGJhY2s9ZnVuY3Rpb24obixyLHUpe2lmKCEhcy5iZWhhdmlvciYmbltcIl9jYWxsYmFja19cIitzLmJlaGF2aW9yXSE9PXQpe25bXCJfY2FsbGJhY2tfXCIrcy5iZWhhdmlvcl0uY2FsbChlKHMuY29udGVudFNlbGVjdG9yKVswXSxyLHUpfWlmKGkpe2kuY2FsbChlKHMuY29udGVudFNlbGVjdG9yKVswXSxyLHMsdSl9aWYocy5wcmVmaWxsKXtvLmJpbmQoXCJyZXNpemUuaW5maW5pdGUtc2Nyb2xsXCIsbi5fcHJlZmlsbCl9fTtpZihyLmRlYnVnKXtpZihGdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmKHR5cGVvZiBjb25zb2xlPT09XCJvYmplY3RcInx8dHlwZW9mIGNvbnNvbGU9PT1cImZ1bmN0aW9uXCIpJiZ0eXBlb2YgY29uc29sZS5sb2c9PT1cIm9iamVjdFwiKXtbXCJsb2dcIixcImluZm9cIixcIndhcm5cIixcImVycm9yXCIsXCJhc3NlcnRcIixcImRpclwiLFwiY2xlYXJcIixcInByb2ZpbGVcIixcInByb2ZpbGVFbmRcIl0uZm9yRWFjaChmdW5jdGlvbihlKXtjb25zb2xlW2VdPXRoaXMuY2FsbChjb25zb2xlW2VdLGNvbnNvbGUpfSxGdW5jdGlvbi5wcm90b3R5cGUuYmluZCl9fXRoaXMuX3NldHVwKCk7aWYocy5wcmVmaWxsKXt0aGlzLl9wcmVmaWxsKCl9cmV0dXJuIHRydWV9LF9wcmVmaWxsOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3JldHVybiBlKG4ub3B0aW9ucy5jb250ZW50U2VsZWN0b3IpLmhlaWdodCgpPD1yLmhlaWdodCgpfXZhciBuPXRoaXM7dmFyIHI9ZSh3aW5kb3cpO3RoaXMuX3ByZWZpbGw9ZnVuY3Rpb24oKXtpZihpKCkpe24uc2Nyb2xsKCl9ci5iaW5kKFwicmVzaXplLmluZmluaXRlLXNjcm9sbFwiLGZ1bmN0aW9uKCl7aWYoaSgpKXtyLnVuYmluZChcInJlc2l6ZS5pbmZpbml0ZS1zY3JvbGxcIik7bi5zY3JvbGwoKX19KX07dGhpcy5fcHJlZmlsbCgpfSxfZGVidWc6ZnVuY3Rpb24oKXtpZih0cnVlIT09dGhpcy5vcHRpb25zLmRlYnVnKXtyZXR1cm59aWYodHlwZW9mIGNvbnNvbGUhPT1cInVuZGVmaW5lZFwiJiZ0eXBlb2YgY29uc29sZS5sb2c9PT1cImZ1bmN0aW9uXCIpe2lmKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykubGVuZ3RoPT09MSYmdHlwZW9mIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylbMF09PT1cInN0cmluZ1wiKXtjb25zb2xlLmxvZyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLnRvU3RyaW5nKCkpfWVsc2V7Y29uc29sZS5sb2coQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9fWVsc2UgaWYoIUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiZ0eXBlb2YgY29uc29sZSE9PVwidW5kZWZpbmVkXCImJnR5cGVvZiBjb25zb2xlLmxvZz09PVwib2JqZWN0XCIpe0Z1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmNhbGwoY29uc29sZS5sb2csY29uc29sZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKX19LF9kZXRlcm1pbmVwYXRoOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMub3B0aW9ucztpZighIXIuYmVoYXZpb3ImJnRoaXNbXCJfZGV0ZXJtaW5lcGF0aF9cIityLmJlaGF2aW9yXSE9PXQpe3JldHVybiB0aGlzW1wiX2RldGVybWluZXBhdGhfXCIrci5iZWhhdmlvcl0uY2FsbCh0aGlzLG4pfWlmKCEhci5wYXRoUGFyc2Upe3RoaXMuX2RlYnVnKFwicGF0aFBhcnNlIG1hbnVhbFwiKTtyZXR1cm4gci5wYXRoUGFyc2Uobix0aGlzLm9wdGlvbnMuc3RhdGUuY3VyclBhZ2UrMSl9ZWxzZSBpZihuLm1hdGNoKC9eKC4qPylcXGIyXFxiKC4qPyQpLykpe249bi5tYXRjaCgvXiguKj8pXFxiMlxcYiguKj8kKS8pLnNsaWNlKDEpfWVsc2UgaWYobi5tYXRjaCgvXiguKj8pMiguKj8kKS8pKXtpZihuLm1hdGNoKC9eKC4qP3BhZ2U9KTIoXFwvLip8JCkvKSl7bj1uLm1hdGNoKC9eKC4qP3BhZ2U9KTIoXFwvLip8JCkvKS5zbGljZSgxKTtyZXR1cm4gbn1uPW4ubWF0Y2goL14oLio/KTIoLio/JCkvKS5zbGljZSgxKX1lbHNle2lmKG4ubWF0Y2goL14oLio/cGFnZT0pMShcXC8uKnwkKS8pKXtuPW4ubWF0Y2goL14oLio/cGFnZT0pMShcXC8uKnwkKS8pLnNsaWNlKDEpO3JldHVybiBufWVsc2V7dGhpcy5fZGVidWcoXCJTb3JyeSwgd2UgY291bGRuJ3QgcGFyc2UgeW91ciBOZXh0IChQcmV2aW91cyBQb3N0cykgVVJMLiBWZXJpZnkgeW91ciB0aGUgY3NzIHNlbGVjdG9yIHBvaW50cyB0byB0aGUgY29ycmVjdCBBIHRhZy4gSWYgeW91IHN0aWxsIGdldCB0aGlzIGVycm9yOiB5ZWxsLCBzY3JlYW0sIGFuZCBraW5kbHkgYXNrIGZvciBoZWxwIGF0IGluZmluaXRlLXNjcm9sbC5jb20uXCIpO3Iuc3RhdGUuaXNJbnZhbGlkUGFnZT10cnVlfX10aGlzLl9kZWJ1ZyhcImRldGVybWluZVBhdGhcIixuKTtyZXR1cm4gbn0sX2Vycm9yOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMub3B0aW9ucztpZighIXIuYmVoYXZpb3ImJnRoaXNbXCJfZXJyb3JfXCIrci5iZWhhdmlvcl0hPT10KXt0aGlzW1wiX2Vycm9yX1wiK3IuYmVoYXZpb3JdLmNhbGwodGhpcyxuKTtyZXR1cm59aWYobiE9PVwiZGVzdHJveVwiJiZuIT09XCJlbmRcIil7bj1cInVua25vd25cIn10aGlzLl9kZWJ1ZyhcIkVycm9yXCIsbik7aWYobj09PVwiZW5kXCJ8fHIuc3RhdGUuaXNCZXlvbmRNYXhQYWdlKXt0aGlzLl9zaG93ZG9uZW1zZygpfXIuc3RhdGUuaXNEb25lPXRydWU7ci5zdGF0ZS5jdXJyUGFnZT0xO3Iuc3RhdGUuaXNQYXVzZWQ9ZmFsc2U7ci5zdGF0ZS5pc0JleW9uZE1heFBhZ2U9ZmFsc2U7dGhpcy5fYmluZGluZyhcInVuYmluZFwiKX0sX2xvYWRjYWxsYmFjazpmdW5jdGlvbihyLGkscyl7dmFyIG89dGhpcy5vcHRpb25zLHU9dGhpcy5vcHRpb25zLmNhbGxiYWNrLGE9by5zdGF0ZS5pc0RvbmU/XCJkb25lXCI6IW8uYXBwZW5kQ2FsbGJhY2s/XCJuby1hcHBlbmRcIjpcImFwcGVuZFwiLGY7aWYoISFvLmJlaGF2aW9yJiZ0aGlzW1wiX2xvYWRjYWxsYmFja19cIitvLmJlaGF2aW9yXSE9PXQpe3RoaXNbXCJfbG9hZGNhbGxiYWNrX1wiK28uYmVoYXZpb3JdLmNhbGwodGhpcyxyLGkpO3JldHVybn1zd2l0Y2goYSl7Y2FzZVwiZG9uZVwiOnRoaXMuX3Nob3dkb25lbXNnKCk7cmV0dXJuIGZhbHNlO2Nhc2VcIm5vLWFwcGVuZFwiOmlmKG8uZGF0YVR5cGU9PT1cImh0bWxcIil7aT1cIjxkaXY+XCIraStcIjwvZGl2PlwiO2k9ZShpKS5maW5kKG8uaXRlbVNlbGVjdG9yKX1pZihpLmxlbmd0aD09PTApe3JldHVybiB0aGlzLl9lcnJvcihcImVuZFwiKX1icmVhaztjYXNlXCJhcHBlbmRcIjp2YXIgbD1yLmNoaWxkcmVuKCk7aWYobC5sZW5ndGg9PT0wKXtyZXR1cm4gdGhpcy5fZXJyb3IoXCJlbmRcIil9Zj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7d2hpbGUoclswXS5maXJzdENoaWxkKXtmLmFwcGVuZENoaWxkKHJbMF0uZmlyc3RDaGlsZCl9dGhpcy5fZGVidWcoXCJjb250ZW50U2VsZWN0b3JcIixlKG8uY29udGVudFNlbGVjdG9yKVswXSk7ZShvLmNvbnRlbnRTZWxlY3RvcilbMF0uYXBwZW5kQ2hpbGQoZik7aT1sLmdldCgpO2JyZWFrfW8ubG9hZGluZy5maW5pc2hlZC5jYWxsKGUoby5jb250ZW50U2VsZWN0b3IpWzBdLG8pO2lmKG8uYW5pbWF0ZSl7dmFyIGM9ZSh3aW5kb3cpLnNjcm9sbFRvcCgpK2Uoby5sb2FkaW5nLm1zZykuaGVpZ2h0KCkrby5leHRyYVNjcm9sbFB4K1wicHhcIjtlKFwiaHRtbCxib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDpjfSw4MDAsZnVuY3Rpb24oKXtvLnN0YXRlLmlzRHVyaW5nQWpheD1mYWxzZX0pfWlmKCFvLmFuaW1hdGUpe28uc3RhdGUuaXNEdXJpbmdBamF4PWZhbHNlfXUodGhpcyxpLHMpO2lmKG8ucHJlZmlsbCl7dGhpcy5fcHJlZmlsbCgpfX0sX25lYXJib3R0b206ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm9wdGlvbnMsaT0wK2UoZG9jdW1lbnQpLmhlaWdodCgpLXIuYmluZGVyLnNjcm9sbFRvcCgpLWUod2luZG93KS5oZWlnaHQoKTtpZighIXIuYmVoYXZpb3ImJnRoaXNbXCJfbmVhcmJvdHRvbV9cIityLmJlaGF2aW9yXSE9PXQpe3JldHVybiB0aGlzW1wiX25lYXJib3R0b21fXCIrci5iZWhhdmlvcl0uY2FsbCh0aGlzKX10aGlzLl9kZWJ1ZyhcIm1hdGg6XCIsaSxyLnBpeGVsc0Zyb21OYXZUb0JvdHRvbSk7cmV0dXJuIGktci5idWZmZXJQeDxyLnBpeGVsc0Zyb21OYXZUb0JvdHRvbX0sX3BhdXNpbmc6ZnVuY3Rpb24obil7dmFyIHI9dGhpcy5vcHRpb25zO2lmKCEhci5iZWhhdmlvciYmdGhpc1tcIl9wYXVzaW5nX1wiK3IuYmVoYXZpb3JdIT09dCl7dGhpc1tcIl9wYXVzaW5nX1wiK3IuYmVoYXZpb3JdLmNhbGwodGhpcyxuKTtyZXR1cm59aWYobiE9PVwicGF1c2VcIiYmbiE9PVwicmVzdW1lXCImJm4hPT1udWxsKXt0aGlzLl9kZWJ1ZyhcIkludmFsaWQgYXJndW1lbnQuIFRvZ2dsaW5nIHBhdXNlIHZhbHVlIGluc3RlYWRcIil9bj1uJiYobj09PVwicGF1c2VcInx8bj09PVwicmVzdW1lXCIpP246XCJ0b2dnbGVcIjtzd2l0Y2gobil7Y2FzZVwicGF1c2VcIjpyLnN0YXRlLmlzUGF1c2VkPXRydWU7YnJlYWs7Y2FzZVwicmVzdW1lXCI6ci5zdGF0ZS5pc1BhdXNlZD1mYWxzZTticmVhaztjYXNlXCJ0b2dnbGVcIjpyLnN0YXRlLmlzUGF1c2VkPSFyLnN0YXRlLmlzUGF1c2VkO2JyZWFrfXRoaXMuX2RlYnVnKFwiUGF1c2VkXCIsci5zdGF0ZS5pc1BhdXNlZCk7cmV0dXJuIGZhbHNlfSxfc2V0dXA6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnM7aWYoISFuLmJlaGF2aW9yJiZ0aGlzW1wiX3NldHVwX1wiK24uYmVoYXZpb3JdIT09dCl7dGhpc1tcIl9zZXR1cF9cIituLmJlaGF2aW9yXS5jYWxsKHRoaXMpO3JldHVybn10aGlzLl9iaW5kaW5nKFwiYmluZFwiKTtyZXR1cm4gZmFsc2V9LF9zaG93ZG9uZW1zZzpmdW5jdGlvbigpe3ZhciByPXRoaXMub3B0aW9ucztpZighIXIuYmVoYXZpb3ImJnRoaXNbXCJfc2hvd2RvbmVtc2dfXCIrci5iZWhhdmlvcl0hPT10KXt0aGlzW1wiX3Nob3dkb25lbXNnX1wiK3IuYmVoYXZpb3JdLmNhbGwodGhpcyk7cmV0dXJufXIubG9hZGluZy5tc2cuZmluZChcImltZ1wiKS5oaWRlKCkucGFyZW50KCkuZmluZChcImRpdlwiKS5odG1sKHIubG9hZGluZy5maW5pc2hlZE1zZykuYW5pbWF0ZSh7b3BhY2l0eToxfSwyZTMsZnVuY3Rpb24oKXtlKHRoaXMpLnBhcmVudCgpLmZhZGVPdXQoci5sb2FkaW5nLnNwZWVkKX0pO3IuZXJyb3JDYWxsYmFjay5jYWxsKGUoci5jb250ZW50U2VsZWN0b3IpWzBdLFwiZG9uZVwiKX0sX3ZhbGlkYXRlOmZ1bmN0aW9uKG4pe2Zvcih2YXIgciBpbiBuKXtpZihyLmluZGV4T2YmJnIuaW5kZXhPZihcIlNlbGVjdG9yXCIpPi0xJiZlKG5bcl0pLmxlbmd0aD09PTApe3RoaXMuX2RlYnVnKFwiWW91ciBcIityK1wiIGZvdW5kIG5vIGVsZW1lbnRzLlwiKTtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfSxiaW5kOmZ1bmN0aW9uKCl7dGhpcy5fYmluZGluZyhcImJpbmRcIil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RhdGUuaXNEZXN0cm95ZWQ9dHJ1ZTt0aGlzLm9wdGlvbnMubG9hZGluZy5maW5pc2hlZCgpO3JldHVybiB0aGlzLl9lcnJvcihcImRlc3Ryb3lcIil9LHBhdXNlOmZ1bmN0aW9uKCl7dGhpcy5fcGF1c2luZyhcInBhdXNlXCIpfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzaW5nKFwicmVzdW1lXCIpfSxiZWdpbkFqYXg6ZnVuY3Rpb24ocil7dmFyIGk9dGhpcyxzPXIucGF0aCxvLHUsYSxmO3Iuc3RhdGUuY3VyclBhZ2UrKztpZihyLm1heFBhZ2UhPT10JiZyLnN0YXRlLmN1cnJQYWdlPnIubWF4UGFnZSl7ci5zdGF0ZS5pc0JleW9uZE1heFBhZ2U9dHJ1ZTt0aGlzLmRlc3Ryb3koKTtyZXR1cm59bz1lKHIuY29udGVudFNlbGVjdG9yKS5pcyhcInRhYmxlLCB0Ym9keVwiKT9lKFwiPHRib2R5Lz5cIik6ZShcIjxkaXYvPlwiKTt1PXR5cGVvZiBzPT09XCJmdW5jdGlvblwiP3Moci5zdGF0ZS5jdXJyUGFnZSk6cy5qb2luKHIuc3RhdGUuY3VyclBhZ2UpO2kuX2RlYnVnKFwiaGVhZGluZyBpbnRvIGFqYXhcIix1KTthPXIuZGF0YVR5cGU9PT1cImh0bWxcInx8ci5kYXRhVHlwZT09PVwianNvblwiP3IuZGF0YVR5cGU6XCJodG1sK2NhbGxiYWNrXCI7aWYoci5hcHBlbmRDYWxsYmFjayYmci5kYXRhVHlwZT09PVwiaHRtbFwiKXthKz1cIitjYWxsYmFja1wifXN3aXRjaChhKXtjYXNlXCJodG1sK2NhbGxiYWNrXCI6aS5fZGVidWcoXCJVc2luZyBIVE1MIHZpYSAubG9hZCgpIG1ldGhvZFwiKTtvLmxvYWQodStcIiBcIityLml0ZW1TZWxlY3Rvcix0LGZ1bmN0aW9uKHQpe2kuX2xvYWRjYWxsYmFjayhvLHQsdSl9KTticmVhaztjYXNlXCJodG1sXCI6aS5fZGVidWcoXCJVc2luZyBcIithLnRvVXBwZXJDYXNlKCkrXCIgdmlhICQuYWpheCgpIG1ldGhvZFwiKTtlLmFqYXgoe3VybDp1LGRhdGFUeXBlOnIuZGF0YVR5cGUsY29tcGxldGU6ZnVuY3Rpb24odCxuKXtmPXR5cGVvZiB0LmlzUmVzb2x2ZWQhPT1cInVuZGVmaW5lZFwiP3QuaXNSZXNvbHZlZCgpOm49PT1cInN1Y2Nlc3NcInx8bj09PVwibm90bW9kaWZpZWRcIjtpZihmKXtpLl9sb2FkY2FsbGJhY2sobyx0LnJlc3BvbnNlVGV4dCx1KX1lbHNle2kuX2Vycm9yKFwiZW5kXCIpfX19KTticmVhaztjYXNlXCJqc29uXCI6aS5fZGVidWcoXCJVc2luZyBcIithLnRvVXBwZXJDYXNlKCkrXCIgdmlhICQuYWpheCgpIG1ldGhvZFwiKTtlLmFqYXgoe2RhdGFUeXBlOlwianNvblwiLHR5cGU6XCJHRVRcIix1cmw6dSxzdWNjZXNzOmZ1bmN0aW9uKGUsbixzKXtmPXR5cGVvZiBzLmlzUmVzb2x2ZWQhPT1cInVuZGVmaW5lZFwiP3MuaXNSZXNvbHZlZCgpOm49PT1cInN1Y2Nlc3NcInx8bj09PVwibm90bW9kaWZpZWRcIjtpZihyLmFwcGVuZENhbGxiYWNrKXtpZihyLnRlbXBsYXRlIT09dCl7dmFyIGE9ci50ZW1wbGF0ZShlKTtvLmFwcGVuZChhKTtpZihmKXtpLl9sb2FkY2FsbGJhY2sobyxhKX1lbHNle2kuX2Vycm9yKFwiZW5kXCIpfX1lbHNle2kuX2RlYnVnKFwidGVtcGxhdGUgbXVzdCBiZSBkZWZpbmVkLlwiKTtpLl9lcnJvcihcImVuZFwiKX19ZWxzZXtpZihmKXtpLl9sb2FkY2FsbGJhY2sobyxlLHUpfWVsc2V7aS5fZXJyb3IoXCJlbmRcIil9fX0sZXJyb3I6ZnVuY3Rpb24oKXtpLl9kZWJ1ZyhcIkpTT04gYWpheCByZXF1ZXN0IGZhaWxlZC5cIik7aS5fZXJyb3IoXCJlbmRcIil9fSk7YnJlYWt9fSxyZXRyaWV2ZTpmdW5jdGlvbihyKXtyPXJ8fG51bGw7dmFyIGk9dGhpcyxzPWkub3B0aW9ucztpZighIXMuYmVoYXZpb3ImJnRoaXNbXCJyZXRyaWV2ZV9cIitzLmJlaGF2aW9yXSE9PXQpe3RoaXNbXCJyZXRyaWV2ZV9cIitzLmJlaGF2aW9yXS5jYWxsKHRoaXMscik7cmV0dXJufWlmKHMuc3RhdGUuaXNEZXN0cm95ZWQpe3RoaXMuX2RlYnVnKFwiSW5zdGFuY2UgaXMgZGVzdHJveWVkXCIpO3JldHVybiBmYWxzZX1zLnN0YXRlLmlzRHVyaW5nQWpheD10cnVlO3MubG9hZGluZy5zdGFydC5jYWxsKGUocy5jb250ZW50U2VsZWN0b3IpWzBdLHMpfSxzY3JvbGw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMscj1uLnN0YXRlO2lmKCEhbi5iZWhhdmlvciYmdGhpc1tcInNjcm9sbF9cIituLmJlaGF2aW9yXSE9PXQpe3RoaXNbXCJzY3JvbGxfXCIrbi5iZWhhdmlvcl0uY2FsbCh0aGlzKTtyZXR1cm59aWYoci5pc0R1cmluZ0FqYXh8fHIuaXNJbnZhbGlkUGFnZXx8ci5pc0RvbmV8fHIuaXNEZXN0cm95ZWR8fHIuaXNQYXVzZWQpe3JldHVybn1pZighdGhpcy5fbmVhcmJvdHRvbSgpKXtyZXR1cm59dGhpcy5yZXRyaWV2ZSgpfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzLl9wYXVzaW5nKCl9LHVuYmluZDpmdW5jdGlvbigpe3RoaXMuX2JpbmRpbmcoXCJ1bmJpbmRcIil9LHVwZGF0ZTpmdW5jdGlvbihuKXtpZihlLmlzUGxhaW5PYmplY3Qobikpe3RoaXMub3B0aW9ucz1lLmV4dGVuZCh0cnVlLHRoaXMub3B0aW9ucyxuKX19fTtlLmZuLmluZmluaXRlc2Nyb2xsPWZ1bmN0aW9uKG4scil7dmFyIGk9dHlwZW9mIG47c3dpdGNoKGkpe2Nhc2VcInN0cmluZ1wiOnZhciBzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1lLmRhdGEodGhpcyxcImluZmluaXRlc2Nyb2xsXCIpO2lmKCF0KXtyZXR1cm4gZmFsc2V9aWYoIWUuaXNGdW5jdGlvbih0W25dKXx8bi5jaGFyQXQoMCk9PT1cIl9cIil7cmV0dXJuIGZhbHNlfXRbbl0uYXBwbHkodCxzKX0pO2JyZWFrO2Nhc2VcIm9iamVjdFwiOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUuZGF0YSh0aGlzLFwiaW5maW5pdGVzY3JvbGxcIik7aWYodCl7dC51cGRhdGUobil9ZWxzZXt0PW5ldyBlLmluZmluaXRlc2Nyb2xsKG4scix0aGlzKTtpZighdC5mYWlsZWQpe2UuZGF0YSh0aGlzLFwiaW5maW5pdGVzY3JvbGxcIix0KX19fSk7YnJlYWt9cmV0dXJuIHRoaXN9O3ZhciBuPWUuZXZlbnQscjtuLnNwZWNpYWwuc21hcnRzY3JvbGw9e3NldHVwOmZ1bmN0aW9uKCl7ZSh0aGlzKS5iaW5kKFwic2Nyb2xsXCIsbi5zcGVjaWFsLnNtYXJ0c2Nyb2xsLmhhbmRsZXIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2UodGhpcykudW5iaW5kKFwic2Nyb2xsXCIsbi5zcGVjaWFsLnNtYXJ0c2Nyb2xsLmhhbmRsZXIpfSxoYW5kbGVyOmZ1bmN0aW9uKHQsbil7dmFyIGk9dGhpcyxzPWFyZ3VtZW50czt0LnR5cGU9XCJzbWFydHNjcm9sbFwiO2lmKHIpe2NsZWFyVGltZW91dChyKX1yPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGkpLnRyaWdnZXIoXCJzbWFydHNjcm9sbFwiLHMpfSxuPT09XCJleGVjQXNhcFwiPzA6MTAwKX19O2UuZm4uc21hcnRzY3JvbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dGhpcy5iaW5kKFwic21hcnRzY3JvbGxcIixlKTp0aGlzLnRyaWdnZXIoXCJzbWFydHNjcm9sbFwiLFtcImV4ZWNBc2FwXCJdKX19KTtcclxuIiwiLyohXHJcbiAqIEFuIGpRdWVyeSB8IHplcHRvIHBsdWdpbiBmb3IgbGF6eSBsb2FkaW5nIGltYWdlcy5cclxuICogYXV0aG9yIC0+IGppZXlvdVxyXG4gKiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ppZXlvdS9sYXp5bG9hZFxyXG4gKiB1c2Ugc29tZSB0dXVwb2xhJ3MgY29kZSBodHRwczovL2dpdGh1Yi5jb20vdHV1cG9sYS9qcXVlcnlfbGF6eWxvYWQgKEJTRClcclxuICogdXNlIGNvbXBvbmVudCdzIHRocm90dGxlIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvdGhyb3R0bGUgKE1JVClcclxuICovXHJcbiFmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxhKTphKHdpbmRvdy5qUXVlcnl8fHdpbmRvdy5aZXB0byl9KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGcoKXt9ZnVuY3Rpb24gaChhLGIpe3ZhciBlO3JldHVybiBlPWIuXyRjb250YWluZXI9PWQ/KFwiaW5uZXJIZWlnaHRcImluIGM/Yy5pbm5lckhlaWdodDpkLmhlaWdodCgpKStkLnNjcm9sbFRvcCgpOmIuXyRjb250YWluZXIub2Zmc2V0KCkudG9wK2IuXyRjb250YWluZXIuaGVpZ2h0KCksZTw9YS5vZmZzZXQoKS50b3AtYi50aHJlc2hvbGR9ZnVuY3Rpb24gaShiLGUpe3ZhciBmO3JldHVybiBmPWUuXyRjb250YWluZXI9PWQ/ZC53aWR0aCgpKyhhLmZuLnNjcm9sbExlZnQ/ZC5zY3JvbGxMZWZ0KCk6Yy5wYWdlWE9mZnNldCk6ZS5fJGNvbnRhaW5lci5vZmZzZXQoKS5sZWZ0K2UuXyRjb250YWluZXIud2lkdGgoKSxmPD1iLm9mZnNldCgpLmxlZnQtZS50aHJlc2hvbGR9ZnVuY3Rpb24gaihhLGIpe3ZhciBjO3JldHVybiBjPWIuXyRjb250YWluZXI9PWQ/ZC5zY3JvbGxUb3AoKTpiLl8kY29udGFpbmVyLm9mZnNldCgpLnRvcCxjPj1hLm9mZnNldCgpLnRvcCtiLnRocmVzaG9sZCthLmhlaWdodCgpfWZ1bmN0aW9uIGsoYixlKXt2YXIgZjtyZXR1cm4gZj1lLl8kY29udGFpbmVyPT1kP2EuZm4uc2Nyb2xsTGVmdD9kLnNjcm9sbExlZnQoKTpjLnBhZ2VYT2Zmc2V0OmUuXyRjb250YWluZXIub2Zmc2V0KCkubGVmdCxmPj1iLm9mZnNldCgpLmxlZnQrZS50aHJlc2hvbGQrYi53aWR0aCgpfWZ1bmN0aW9uIGwoYSxiKXt2YXIgYz0wO2EuZWFjaChmdW5jdGlvbihkKXtmdW5jdGlvbiBnKCl7Zi50cmlnZ2VyKFwiX2xhenlsb2FkX2FwcGVhclwiKSxjPTB9dmFyIGY9YS5lcShkKTtpZighKGYud2lkdGgoKTw9MCYmZi5oZWlnaHQoKTw9MHx8XCJub25lXCI9PT1mLmNzcyhcImRpc3BsYXlcIikpKWlmKGIudmVydGljYWxfb25seSlpZihqKGYsYikpO2Vsc2UgaWYoaChmLGIpKXtpZigrK2M+Yi5mYWlsdXJlX2xpbWl0KXJldHVybiExfWVsc2UgZygpO2Vsc2UgaWYoaihmLGIpfHxrKGYsYikpO2Vsc2UgaWYoaChmLGIpfHxpKGYsYikpe2lmKCsrYz5iLmZhaWx1cmVfbGltaXQpcmV0dXJuITF9ZWxzZSBnKCl9KX1mdW5jdGlvbiBtKGEpe3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihiKXtyZXR1cm4hYS5lcShiKS5fbGF6eWxvYWRfbG9hZFN0YXJ0ZWR9KX1mdW5jdGlvbiBuKGEsYil7ZnVuY3Rpb24gaCgpe2Y9MCxnPStuZXcgRGF0ZSxlPWEuYXBwbHkoYyxkKSxjPW51bGwsZD1udWxsfXZhciBjLGQsZSxmLGc9MDtyZXR1cm4gZnVuY3Rpb24oKXtjPXRoaXMsZD1hcmd1bWVudHM7dmFyIGE9bmV3IERhdGUtZztyZXR1cm4gZnx8KGE+PWI/aCgpOmY9c2V0VGltZW91dChoLGItYSkpLGV9fXZhciBmLGM9d2luZG93LGQ9YShjKSxlPXt0aHJlc2hvbGQ6MCxmYWlsdXJlX2xpbWl0OjAsZXZlbnQ6XCJzY3JvbGxcIixlZmZlY3Q6XCJzaG93XCIsZWZmZWN0X3BhcmFtczpudWxsLGNvbnRhaW5lcjpjLGRhdGFfYXR0cmlidXRlOlwib3JpZ2luYWxcIixkYXRhX3NyY3NldF9hdHRyaWJ1dGU6XCJvcmlnaW5hbC1zcmNzZXRcIixza2lwX2ludmlzaWJsZTohMCxhcHBlYXI6Zyxsb2FkOmcsdmVydGljYWxfb25seTohMSxjaGVja19hcHBlYXJfdGhyb3R0bGVfdGltZTozMDAsdXJsX3Jld3JpdGVyX2ZuOmcsbm9fZmFrZV9pbWdfbG9hZGVyOiExLHBsYWNlaG9sZGVyX2RhdGFfaW1nOlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzUUFBQTdFQVpVckRoc0FBQUFOU1VSQlZCaFhZemg4K1BCL0FBZmZBMG5OUHVDTEFBQUFBRWxGVGtTdVFtQ0NcIixwbGFjZWhvbGRlcl9yZWFsX2ltZzpcImh0dHA6Ly9kaXR1LmJhaWR1LmNuL3l5Zm0vbGF6eWxvYWQvMC4wLjEvaW1nL3BsYWNlaG9sZGVyLnBuZ1wifTtmPWZ1bmN0aW9uKCl7dmFyIGE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuY2FsbChiKS5yZXBsYWNlKFwiW29iamVjdCBcIixcIlwiKS5yZXBsYWNlKFwiXVwiLFwiXCIpfX0oKSxhLmZuLmhhc093blByb3BlcnR5KFwibGF6eWxvYWRcIil8fChhLmZuLmxhenlsb2FkPWZ1bmN0aW9uKGIpe3ZhciBpLGosayxoPXRoaXM7cmV0dXJuIGEuaXNQbGFpbk9iamVjdChiKXx8KGI9e30pLGEuZWFjaChlLGZ1bmN0aW9uKGcsaCl7dmFyIGk9ZihiW2ddKTstMSE9YS5pbkFycmF5KGcsW1widGhyZXNob2xkXCIsXCJmYWlsdXJlX2xpbWl0XCIsXCJjaGVja19hcHBlYXJfdGhyb3R0bGVfdGltZVwiXSk/XCJTdHJpbmdcIj09aT9iW2ddPXBhcnNlSW50KGJbZ10sMTApOlwiTnVtYmVyXCIhPWkmJihiW2ddPWgpOlwiY29udGFpbmVyXCI9PWc/KGIuXyRjb250YWluZXI9Yi5oYXNPd25Qcm9wZXJ0eShnKT9iW2ddPT1jfHxiW2ddPT1kb2N1bWVudD9kOmEoYltnXSk6ZCxkZWxldGUgYi5jb250YWluZXIpOiFlLmhhc093blByb3BlcnR5KGcpfHxiLmhhc093blByb3BlcnR5KGcpJiZpPT1mKGVbZ10pfHwoYltnXT1oKX0pLGk9XCJzY3JvbGxcIj09Yi5ldmVudCxrPTA9PWIuY2hlY2tfYXBwZWFyX3Rocm90dGxlX3RpbWU/bDpuKGwsYi5jaGVja19hcHBlYXJfdGhyb3R0bGVfdGltZSksaj1pfHxcInNjcm9sbHN0YXJ0XCI9PWIuZXZlbnR8fFwic2Nyb2xsc3RvcFwiPT1iLmV2ZW50LGguZWFjaChmdW5jdGlvbihjKXt2YXIgZT10aGlzLGY9aC5lcShjKSxpPWYuYXR0cihcInNyY1wiKSxrPWYuYXR0cihcImRhdGEtXCIrYi5kYXRhX2F0dHJpYnV0ZSksbD1iLnVybF9yZXdyaXRlcl9mbj09Zz9rOmIudXJsX3Jld3JpdGVyX2ZuLmNhbGwoZSxmLGspLG49Zi5hdHRyKFwiZGF0YS1cIitiLmRhdGFfc3Jjc2V0X2F0dHJpYnV0ZSksbz1mLmlzKFwiaW1nXCIpO3JldHVybiAxPT1mLl9sYXp5bG9hZF9sb2FkU3RhcnRlZHx8aT09bD8oZi5fbGF6eWxvYWRfbG9hZFN0YXJ0ZWQ9ITAsaD1tKGgpLHZvaWQgMCk6KGYuX2xhenlsb2FkX2xvYWRTdGFydGVkPSExLG8mJiFpJiZmLm9uZShcImVycm9yXCIsZnVuY3Rpb24oKXtmLmF0dHIoXCJzcmNcIixiLnBsYWNlaG9sZGVyX3JlYWxfaW1nKX0pLmF0dHIoXCJzcmNcIixiLnBsYWNlaG9sZGVyX2RhdGFfaW1nKSxmLm9uZShcIl9sYXp5bG9hZF9hcHBlYXJcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtkJiZmLmhpZGUoKSxvPyhuJiZmLmF0dHIoXCJzcmNzZXRcIixuKSxsJiZmLmF0dHIoXCJzcmNcIixsKSk6Zi5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsJ3VybChcIicrbCsnXCIpJyksZCYmZltiLmVmZmVjdF0uYXBwbHkoZixjP2IuZWZmZWN0X3BhcmFtczpbXSksaD1tKGgpfXZhciBkLGM9YS5pc0FycmF5KGIuZWZmZWN0X3BhcmFtcyk7Zi5fbGF6eWxvYWRfbG9hZFN0YXJ0ZWR8fChkPVwic2hvd1wiIT1iLmVmZmVjdCYmYS5mbltiLmVmZmVjdF0mJighYi5lZmZlY3RfcGFyYW1zfHxjJiYwPT1iLmVmZmVjdF9wYXJhbXMubGVuZ3RoKSxiLmFwcGVhciE9ZyYmYi5hcHBlYXIuY2FsbChlLGYsaC5sZW5ndGgsYiksZi5fbGF6eWxvYWRfbG9hZFN0YXJ0ZWQ9ITAsYi5ub19mYWtlX2ltZ19sb2FkZXJ8fG4/KGIubG9hZCE9ZyYmZi5vbmUoXCJsb2FkXCIsZnVuY3Rpb24oKXtiLmxvYWQuY2FsbChlLGYsaC5sZW5ndGgsYil9KSxpKCkpOmEoXCI8aW1nIC8+XCIpLm9uZShcImxvYWRcIixmdW5jdGlvbigpe2koKSxiLmxvYWQhPWcmJmIubG9hZC5jYWxsKGUsZixoLmxlbmd0aCxiKX0pLmF0dHIoXCJzcmNcIixsKSl9KSxqfHxmLm9uKGIuZXZlbnQsZnVuY3Rpb24oKXtmLl9sYXp5bG9hZF9sb2FkU3RhcnRlZHx8Zi50cmlnZ2VyKFwiX2xhenlsb2FkX2FwcGVhclwiKX0pLHZvaWQgMCl9KSxqJiZiLl8kY29udGFpbmVyLm9uKGIuZXZlbnQsZnVuY3Rpb24oKXtrKGgsYil9KSxkLm9uKFwicmVzaXplIGxvYWRcIixmdW5jdGlvbigpe2soaCxiKX0pLGEoZnVuY3Rpb24oKXtrKGgsYil9KSx0aGlzfSl9KTsiLCI7IHZhciBfX2Jyb3dzZXJpZnlfc2hpbV9yZXF1aXJlX189cmVxdWlyZTsoZnVuY3Rpb24gYnJvd3NlcmlmeVNoaW0obW9kdWxlLCBleHBvcnRzLCByZXF1aXJlLCBkZWZpbmUsIGJyb3dzZXJpZnlfc2hpbV9fZGVmaW5lX19tb2R1bGVfX2V4cG9ydF9fKSB7XG4vKiEgalF1ZXJ5IHYyLjIuMCB8IChjKSBqUXVlcnkgRm91bmRhdGlvbiB8IGpxdWVyeS5vcmcvbGljZW5zZSAqL1xyXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT1cIjIuMi4wXCIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07bi5mbj1uLnByb3RvdHlwZT17anF1ZXJ5Om0sY29uc3RydWN0b3I6bixzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSxcIm9iamVjdFwiPT10eXBlb2YgZ3x8bi5pc0Z1bmN0aW9uKGcpfHwoZz17fSksaD09PWkmJihnPXRoaXMsaC0tKTtpPmg7aCsrKWlmKG51bGwhPShhPWFyZ3VtZW50c1toXSkpZm9yKGIgaW4gYSljPWdbYl0sZD1hW2JdLGchPT1kJiYoaiYmZCYmKG4uaXNQbGFpbk9iamVjdChkKXx8KGU9bi5pc0FycmF5KGQpKSk/KGU/KGU9ITEsZj1jJiZuLmlzQXJyYXkoYyk/YzpbXSk6Zj1jJiZuLmlzUGxhaW5PYmplY3QoYyk/Yzp7fSxnW2JdPW4uZXh0ZW5kKGosZixkKSk6dm9pZCAwIT09ZCYmKGdbYl09ZCkpO3JldHVybiBnfSxuLmV4dGVuZCh7ZXhwYW5kbzpcImpRdWVyeVwiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xcRC9nLFwiXCIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIiE9PW4udHlwZShhKXx8YS5ub2RlVHlwZXx8bi5pc1dpbmRvdyhhKT8hMTphLmNvbnN0cnVjdG9yJiYhay5jYWxsKGEuY29uc3RydWN0b3IucHJvdG90eXBlLFwiaXNQcm90b3R5cGVPZlwiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErXCJcIjpcIm9iamVjdFwiPT10eXBlb2YgYXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fFwib2JqZWN0XCI6dHlwZW9mIGF9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYz1ldmFsO2E9bi50cmltKGEpLGEmJigxPT09YS5pbmRleE9mKFwidXNlIHN0cmljdFwiKT8oYj1kLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLFwibXMtXCIpLnJlcGxhY2UocSxyKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yi50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wO2lmKHMoYSkpe2ZvcihjPWEubGVuZ3RoO2M+ZDtkKyspaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrfWVsc2UgZm9yKGQgaW4gYSlpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/XCJcIjooYStcIlwiKS5yZXBsYWNlKG8sXCJcIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO3JldHVybiBudWxsIT1hJiYocyhPYmplY3QoYSkpP24ubWVyZ2UoYyxcInN0cmluZ1wiPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iPy0xOmguY2FsbChiLGEsYyl9LG1lcmdlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPStiLmxlbmd0aCxkPTAsZT1hLmxlbmd0aDtjPmQ7ZCsrKWFbZSsrXT1iW2RdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtpW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPSEhYSYmXCJsZW5ndGhcImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9XCJzaXp6bGVcIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPVwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixMPVwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixNPVwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFxcXHgwMC1cXFxceGEwXSkrXCIsTj1cIlxcXFxbXCIrTCtcIiooXCIrTStcIikoPzpcIitMK1wiKihbKl4kfCF+XT89KVwiK0wrXCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIitNK1wiKSl8KVwiK0wrXCIqXFxcXF1cIixPPVwiOihcIitNK1wiKSg/OlxcXFwoKCgnKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfCgoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIitOK1wiKSopfC4qKVxcXFwpfClcIixQPW5ldyBSZWdFeHAoTCtcIitcIixcImdcIiksUT1uZXcgUmVnRXhwKFwiXlwiK0wrXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiK0wrXCIrJFwiLFwiZ1wiKSxSPW5ldyBSZWdFeHAoXCJeXCIrTCtcIiosXCIrTCtcIipcIiksUz1uZXcgUmVnRXhwKFwiXlwiK0wrXCIqKFs+K35dfFwiK0wrXCIpXCIrTCtcIipcIiksVD1uZXcgUmVnRXhwKFwiPVwiK0wrXCIqKFteXFxcXF0nXFxcIl0qPylcIitMK1wiKlxcXFxdXCIsXCJnXCIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoXCJeXCIrTStcIiRcIiksVz17SUQ6bmV3IFJlZ0V4cChcIl4jKFwiK00rXCIpXCIpLENMQVNTOm5ldyBSZWdFeHAoXCJeXFxcXC4oXCIrTStcIilcIiksVEFHOm5ldyBSZWdFeHAoXCJeKFwiK00rXCJ8WypdKVwiKSxBVFRSOm5ldyBSZWdFeHAoXCJeXCIrTiksUFNFVURPOm5ldyBSZWdFeHAoXCJeXCIrTyksQ0hJTEQ6bmV3IFJlZ0V4cChcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIrTCtcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiK0wrXCIqKD86KFsrLV18KVwiK0wrXCIqKFxcXFxkKyl8KSlcIitMK1wiKlxcXFwpfClcIixcImlcIiksYm9vbDpuZXcgUmVnRXhwKFwiXig/OlwiK0srXCIpJFwiLFwiaVwiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cChcIl5cIitMK1wiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIitMK1wiKigoPzotXFxcXGQpP1xcXFxkKilcIitMK1wiKlxcXFwpfCkoPz1bXi1dfCQpXCIsXCJpXCIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcXGQkL2ksWj0vXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLCQ9L14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFxcXC9nLGJhPW5ldyBSZWdFeHAoXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIitMK1wiP3woXCIrTCtcIil8LilcIixcImlnXCIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cIjB4XCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sXCJzdHJpbmdcIiE9dHlwZW9mIGF8fCFhfHwxIT09eCYmOSE9PXgmJjExIT09eClyZXR1cm4gZDtpZighZSYmKChiP2Iub3duZXJEb2N1bWVudHx8Yjp2KSE9PW4mJm0oYiksYj1ifHxuLHApKXtpZigxMSE9PXgmJihvPSQuZXhlYyhhKSkpaWYoZj1vWzFdKXtpZig5PT09eCl7aWYoIShqPWIuZ2V0RWxlbWVudEJ5SWQoZikpKXJldHVybiBkO2lmKGouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNlIGlmKHcmJihqPXcuZ2V0RWxlbWVudEJ5SWQoZikpJiZ0KGIsaikmJmouaWQ9PT1mKXJldHVybiBkLnB1c2goaiksZH1lbHNle2lmKG9bMl0pcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpKSxkO2lmKChmPW9bM10pJiZjLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksZH1pZihjLnFzYSYmIUFbYStcIiBcIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZihcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZShcImlkXCIpKT9rPWsucmVwbGFjZShhYSxcIlxcXFwkJlwiKTpiLnNldEF0dHJpYnV0ZShcImlkXCIsaz11KSxyPWcoYSksaD1yLmxlbmd0aCxsPVYudGVzdChrKT9cIiNcIitrOlwiW2lkPSdcIitrK1wiJ11cIjt3aGlsZShoLS0pcltoXT1sK1wiIFwiK3FhKHJbaF0pO3M9ci5qb2luKFwiLFwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19fXJldHVybiBpKGEucmVwbGFjZShRLFwiJDFcIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYytcIiBcIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrXCIgXCJdPWV9cmV0dXJuIGJ9ZnVuY3Rpb24gaGEoYSl7cmV0dXJuIGFbdV09ITAsYX1mdW5jdGlvbiBpYShhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KFwifFwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1jJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihcImlucHV0XCI9PT1jfHxcImJ1dHRvblwiPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYX1jPWZhLnN1cHBvcnQ9e30sZj1mYS5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKFwidW5sb2FkXCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLGRhKSksYy5hdHRyaWJ1dGVzPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoXCJpZFwiKT09PWJ9fSk6KGRlbGV0ZSBkLmZpbmQuSUQsZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk6Yy5xc2E/Yi5xdWVyeVNlbGVjdG9yQWxsKGEpOnZvaWQgMH06ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9MCxmPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7aWYoXCIqXCI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD1cIjxhIGlkPSdcIit1K1wiJz48L2E+PHNlbGVjdCBpZD0nXCIrdStcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCYmcS5wdXNoKFwiWypeJF09XCIrTCtcIiooPzonJ3xcXFwiXFxcIilcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGh8fHEucHVzaChcIlxcXFxbXCIrTCtcIiooPzp2YWx1ZXxcIitLK1wiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbaWR+PVwiK3UrXCItXVwiKS5sZW5ndGh8fHEucHVzaChcIn49XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8cS5wdXNoKFwiOmNoZWNrZWRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiYSNcIit1K1wiKypcIikubGVuZ3RofHxxLnB1c2goXCIuIy4rWyt+XVwiKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiaGlkZGVuXCIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiRFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGgmJnEucHVzaChcIm5hbWVcIitMK1wiKlsqXiR8IX5dPz1cIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RofHxxLnB1c2goXCI6ZW5hYmxlZFwiLFwiOmRpc2FibGVkXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIikscS5wdXNoKFwiLC4qOlwiKX0pKSwoYy5tYXRjaGVzU2VsZWN0b3I9Wi50ZXN0KHM9by5tYXRjaGVzfHxvLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8by5tb3pNYXRjaGVzU2VsZWN0b3J8fG8ub01hdGNoZXNTZWxlY3Rvcnx8by5tc01hdGNoZXNTZWxlY3RvcikpJiZpYShmdW5jdGlvbihhKXtjLmRpc2Nvbm5lY3RlZE1hdGNoPXMuY2FsbChhLFwiZGl2XCIpLHMuY2FsbChhLFwiW3MhPScnXTp4XCIpLHIucHVzaChcIiE9XCIsTyl9KSxxPXEubGVuZ3RoJiZuZXcgUmVnRXhwKHEuam9pbihcInxcIikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKFwifFwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsXCI9JyQxJ11cIiksYy5tYXRjaGVzU2VsZWN0b3ImJnAmJiFBW2IrXCIgXCJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShiYSxjYSksYVszXT0oYVszXXx8YVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShiYSxjYSksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8XCJcIjpjJiZVLnRlc3QoYykmJihiPWcoYywhMCkpJiYoYj1jLmluZGV4T2YoXCIpXCIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCIqXCI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthK1wiIFwiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cChcIihefFwiK0wrXCIpXCIrYStcIihcIitMK1wifCQpXCIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoXCJzdHJpbmdcIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lP1wiIT1cIj09PWI6Yj8oZSs9XCJcIixcIj1cIj09PWI/ZT09PWM6XCIhPVwiPT09Yj9lIT09YzpcIl49XCI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6XCIqPVwiPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6XCIkPVwiPT09Yj9jJiZlLnNsaWNlKC1jLmxlbmd0aCk9PT1jOlwifj1cIj09PWI/KFwiIFwiK2UucmVwbGFjZShQLFwiIFwiKStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPVwib25seVwiPT09YSYmIW8mJlwibmV4dFNpYmxpbmdcIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLFwiXCIsYl0sZC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/aGEoZnVuY3Rpb24oYSxjKXt2YXIgZCxmPWUoYSxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSlkPUooYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6aGEoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWgoYS5yZXBsYWNlKFEsXCIkMVwiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fFwiXCIpfHxmYS5lcnJvcihcInVuc3VwcG9ydGVkIGxhbmc6IFwiK2EpLGE9YS5yZXBsYWNlKGJhLGNhKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKGIpe3ZhciBjO2RvIGlmKGM9cD9iLmxhbmc6Yi5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhK1wiLVwiKTt3aGlsZSgoYj1iLnBhcmVudE5vZGUpJiYxPT09Yi5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGIpe3ZhciBjPWEubG9jYXRpb24mJmEubG9jYXRpb24uaGFzaDtyZXR1cm4gYyYmYy5zbGljZSgxKT09PWIuaWR9LHJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1vfSxmb2N1czpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW4uYWN0aXZlRWxlbWVudCYmKCFuLmhhc0ZvY3VzfHxuLmhhc0ZvY3VzKCkpJiYhIShhLnR5cGV8fGEuaHJlZnx8fmEudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWImJiEhYS5jaGVja2VkfHxcIm9wdGlvblwiPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiZcImJ1dHRvblwiPT09YS50eXBlfHxcImJ1dHRvblwiPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm5cImlucHV0XCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJlwidGV4dFwiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKXx8XCJ0ZXh0XCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpuYShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bmEoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOm5hKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5bMD5jP2MrYjpjXX0pLGV2ZW46bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxvZGQ6bmEoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MTtiPmM7Yys9MilhLnB1c2goYyk7cmV0dXJuIGF9KSxsdDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzstLWQ+PTA7KWEucHVzaChkKTtyZXR1cm4gYX0pLGd0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOysrZDxiOylhLnB1c2goZCk7cmV0dXJuIGF9KX19LGQucHNldWRvcy5udGg9ZC5wc2V1ZG9zLmVxO2ZvcihiIGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWQucHNldWRvc1tiXT1sYShiKTtmb3IoYiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KWQucHNldWRvc1tiXT1tYShiKTtmdW5jdGlvbiBwYSgpe31wYS5wcm90b3R5cGU9ZC5maWx0ZXJzPWQucHNldWRvcyxkLnNldEZpbHRlcnM9bmV3IHBhLGc9ZmEudG9rZW5pemU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZyxoLGksaixrPXpbYStcIiBcIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVIuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsXCIgXCIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7Zm9yKGcgaW4gZC5maWx0ZXIpIShlPVdbZ10uZXhlYyhoKSl8fGpbZ10mJiEoZT1qW2ddKGUpKXx8KGM9ZS5zaGlmdCgpLGYucHVzaCh7dmFsdWU6Yyx0eXBlOmcsbWF0Y2hlczplfSksaD1oLnNsaWNlKGMubGVuZ3RoKSk7aWYoIWMpYnJlYWt9cmV0dXJuIGI/aC5sZW5ndGg6aD9mYS5lcnJvcihhKTp6KGEsaSkuc2xpY2UoMCl9O2Z1bmN0aW9uIHFhKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGgsZD1cIlwiO2M+YjtiKyspZCs9YVtiXS52YWx1ZTtyZXR1cm4gZH1mdW5jdGlvbiByYShhLGIsYyl7dmFyIGQ9Yi5kaXIsZT1jJiZcInBhcmVudE5vZGVcIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHxcIipcIixoLm5vZGVUeXBlP1toXTpoLFtdKSxxPSFhfHwhZiYmYj9wOnVhKHAsbSxhLGgsaSkscj1jP2V8fChmP2E6b3x8ZCk/W106ZzpxO2lmKGMmJmMocSxyLGgsaSksZCl7aj11YShyLG4pLGQoaixbXSxoLGkpLGs9ai5sZW5ndGg7d2hpbGUoay0tKShsPWpba10pJiYocltuW2tdXT0hKHFbbltrXV09bCkpfWlmKGYpe2lmKGV8fGEpe2lmKGUpe2o9W10saz1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJmoucHVzaChxW2tdPWwpO2UobnVsbCxyPVtdLGosaSl9az1yLmxlbmd0aDt3aGlsZShrLS0pKGw9cltrXSkmJihqPWU/SihmLGwpOm1ba10pPi0xJiYoZltqXT0hKGdbal09bCkpfX1lbHNlIHI9dWEocj09PWc/ci5zcGxpY2UobyxyLmxlbmd0aCk6ciksZT9lKG51bGwsZyxyLGkpOkguYXBwbHkoZyxyKX0pfWZ1bmN0aW9uIHdhKGEpe2Zvcih2YXIgYixjLGUsZj1hLmxlbmd0aCxnPWQucmVsYXRpdmVbYVswXS50eXBlXSxoPWd8fGQucmVsYXRpdmVbXCIgXCJdLGk9Zz8xOjAsaz1yYShmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9LGgsITApLGw9cmEoZnVuY3Rpb24oYSl7cmV0dXJuIEooYixhKT4tMX0saCwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3ZhciBlPSFnJiYoZHx8YyE9PWopfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpO3JldHVybiBiPW51bGwsZX1dO2Y+aTtpKyspaWYoYz1kLnJlbGF0aXZlW2FbaV0udHlwZV0pbT1bcmEoc2EobSksYyldO2Vsc2V7aWYoYz1kLmZpbHRlclthW2ldLnR5cGVdLmFwcGx5KG51bGwsYVtpXS5tYXRjaGVzKSxjW3VdKXtmb3IoZT0rK2k7Zj5lO2UrKylpZihkLnJlbGF0aXZlW2FbZV0udHlwZV0pYnJlYWs7cmV0dXJuIHZhKGk+MSYmc2EobSksaT4xJiZxYShhLnNsaWNlKDAsaS0xKS5jb25jYXQoe3ZhbHVlOlwiIFwiPT09YVtpLTJdLnR5cGU/XCIqXCI6XCJcIn0pKS5yZXBsYWNlKFEsXCIkMVwiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9XCIwXCIsdD1mJiZbXSx1PVtdLHY9aix4PWZ8fGUmJmQuZmluZC5UQUcoXCIqXCIsaykseT13Kz1udWxsPT12PzE6TWF0aC5yYW5kb20oKXx8LjEsej14Lmxlbmd0aDtmb3IoayYmKGo9Zz09PW58fGd8fGspO3MhPT16JiZudWxsIT0obD14W3NdKTtzKyspe2lmKGUmJmwpe289MCxnfHxsLm93bmVyRG9jdW1lbnQ9PT1ufHwobShsKSxoPSFwKTt3aGlsZShxPWFbbysrXSlpZihxKGwsZ3x8bixoKSl7aS5wdXNoKGwpO2JyZWFrfWsmJih3PXkpfWMmJigobD0hcSYmbCkmJnItLSxmJiZ0LnB1c2gobCkpfWlmKHIrPXMsYyYmcyE9PXIpe289MDt3aGlsZShxPWJbbysrXSlxKHQsdSxnLGgpO2lmKGYpe2lmKHI+MCl3aGlsZShzLS0pdFtzXXx8dVtzXXx8KHVbc109Ri5jYWxsKGkpKTt1PXVhKHUpfUguYXBwbHkoaSx1KSxrJiYhZiYmdS5sZW5ndGg+MCYmcitiLmxlbmd0aD4xJiZmYS51bmlxdWVTb3J0KGkpfXJldHVybiBrJiYodz15LGo9diksdH07cmV0dXJuIGM/aGEoZik6Zn1yZXR1cm4gaD1mYS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPVtdLGY9QVthK1wiIFwiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYSxvPSFmJiZnKGE9bi5zZWxlY3Rvcnx8YSk7aWYoZT1lfHxbXSwxPT09by5sZW5ndGgpe2lmKGo9b1swXT1vWzBdLnNsaWNlKDApLGoubGVuZ3RoPjImJlwiSURcIj09PShrPWpbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJnAmJmQucmVsYXRpdmVbalsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKGJhLGNhKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO24mJihiPWIucGFyZW50Tm9kZSksYT1hLnNsaWNlKGouc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9Vy5uZWVkc0NvbnRleHQudGVzdChhKT8wOmoubGVuZ3RoO3doaWxlKGktLSl7aWYoaz1qW2ldLGQucmVsYXRpdmVbbD1rLnR5cGVdKWJyZWFrO2lmKChtPWQuZmluZFtsXSkmJihmPW0oay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLF8udGVzdChqWzBdLnR5cGUpJiZvYShiLnBhcmVudE5vZGUpfHxiKSkpe2lmKGouc3BsaWNlKGksMSksYT1mLmxlbmd0aCYmcWEoaiksIWEpcmV0dXJuIEguYXBwbHkoZSxmKSxlO2JyZWFrfX19cmV0dXJuKG58fGgoYSxvKSkoZixiLCFwLGUsIWJ8fF8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8YiksZX0sYy5zb3J0U3RhYmxlPXUuc3BsaXQoXCJcIikuc29ydChCKS5qb2luKFwiXCIpPT09dSxjLmRldGVjdER1cGxpY2F0ZXM9ISFsLG0oKSxjLnNvcnREZXRhY2hlZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gMSZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4uY3JlYXRlRWxlbWVudChcImRpdlwiKSl9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8YSBocmVmPScjJz48L2E+XCIsXCIjXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX0pfHxqYShcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsXCJ0eXBlXCI9PT1iLnRvTG93ZXJDYXNlKCk/MToyKX0pLGMuYXR0cmlidXRlcyYmaWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGlucHV0Lz5cIixhLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSxcIlwiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpfSl8fGphKFwidmFsdWVcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN8fFwiaW5wdXRcIiE9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT92b2lkIDA6YS5kZWZhdWx0VmFsdWV9KSxpYShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwcltcIjpcIl09bi5leHByLnBzZXVkb3Msbi51bmlxdWVTb3J0PW4udW5pcXVlPXQudW5pcXVlU29ydCxuLnRleHQ9dC5nZXRUZXh0LG4uaXNYTUxEb2M9dC5pc1hNTCxuLmNvbnRhaW5zPXQuY29udGFpbnM7dmFyIHU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJm4oYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSx2PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfSx3PW4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQseD0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8seT0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKHkudGVzdChiKSlyZXR1cm4gbi5maWx0ZXIoYixhLGMpO2I9bi5maWx0ZXIoYixhKX1yZXR1cm4gbi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGguY2FsbChiLGEpPi0xIT09Y30pfW4uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhuKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7Yz5iO2IrKylpZihuLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtjPmI7YisrKW4uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP24udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHoodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXoodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLEM9bi5mbi5pbml0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKCFhKXJldHVybiB0aGlzO2lmKGM9Y3x8QSxcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoZT1cIjxcIj09PWFbMF0mJlwiPlwiPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTpCLmV4ZWMoYSksIWV8fCFlWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8YykuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoZVsxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbj9iWzBdOmIsbi5tZXJnZSh0aGlzLG4ucGFyc2VIVE1MKGVbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6ZCwhMCkpLHgudGVzdChlWzFdKSYmbi5pc1BsYWluT2JqZWN0KGIpKWZvcihlIGluIGIpbi5pc0Z1bmN0aW9uKHRoaXNbZV0pP3RoaXNbZV0oYltlXSk6dGhpcy5hdHRyKGUsYltlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZiksdGhpcy5jb250ZXh0PWQsdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpuLmlzRnVuY3Rpb24oYSk/dm9pZCAwIT09Yy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYj1uKGEsdGhpcyksYz1iLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MDtjPmE7YSsrKWlmKG4uY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MCxlPXRoaXMubGVuZ3RoLGY9W10sZz13LnRlc3QoYSl8fFwic3RyaW5nXCIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP2guY2FsbChuKGEpLHRoaXNbMF0pOmguY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXt3aGlsZSgoYT1hW2JdKSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLFwicGFyZW50Tm9kZVwiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsXCJuZXh0U2libGluZ1wiKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJuZXh0U2libGluZ1wiLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsXCJwcmV2aW91c1NpYmxpbmdcIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHYoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB2KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVyblwiVW50aWxcIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGU9bi5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKEVbYV18fG4udW5pcXVlU29ydChlKSxELnRlc3QoYSkmJmUucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFxTKy9nO2Z1bmN0aW9uIEgoYSl7dmFyIGI9e307cmV0dXJuIG4uZWFjaChhLm1hdGNoKEcpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW4uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOlwiXCIpfSxqPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGMmJiFiJiYoaD1mLmxlbmd0aC0xLGcucHVzaChjKSksZnVuY3Rpb24gZChiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe24uaXNGdW5jdGlvbihjKT9hLnVuaXF1ZSYmai5oYXMoYyl8fGYucHVzaChjKTpjJiZjLmxlbmd0aCYmXCJzdHJpbmdcIiE9PW4udHlwZShjKSYmZChjKX0pfShhcmd1bWVudHMpLGMmJiFiJiZpKCkpLHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe3JldHVybiBuLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGEsYil7dmFyIGM7d2hpbGUoKGM9bi5pbkFycmF5KGIsZixjKSk+LTEpZi5zcGxpY2UoYywxKSxoPj1jJiZoLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bi5pbkFycmF5KGEsZik+LTE6Zi5sZW5ndGg+MH0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGY9W10pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGY9Yz1cIlwiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT1nPVtdLGN8fChmPWM9XCJcIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiBlfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGcucHVzaChjKSxifHxpKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gai5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gan0sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsbi5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLG4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsbi5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxjPVwicGVuZGluZ1wiLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkucHJvZ3Jlc3MoYy5ub3RpZnkpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KTpjW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rXCJXaXRoXCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZS5jYWxsKGFyZ3VtZW50cyksZD1jLmxlbmd0aCxmPTEhPT1kfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9kOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2UuY2FsbChhcmd1bWVudHMpOmQsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihkPjEpZm9yKGk9bmV3IEFycmF5KGQpLGo9bmV3IEFycmF5KGQpLGs9bmV3IEFycmF5KGQpO2Q+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkucHJvZ3Jlc3MoaChiLGosaSkpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBJO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKGQsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihkKS50cmlnZ2VySGFuZGxlcihcInJlYWR5XCIpLG4oZCkub2ZmKFwicmVhZHlcIikpKSl9fSk7ZnVuY3Rpb24gSigpe2QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSiksbi5yZWFkeSgpfW4ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtyZXR1cm4gSXx8KEk9bi5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PWQucmVhZHlTdGF0ZXx8XCJsb2FkaW5nXCIhPT1kLnJlYWR5U3RhdGUmJiFkLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9hLnNldFRpbWVvdXQobi5yZWFkeSk6KGQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixKKSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSikpKSxJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBLPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoXCJvYmplY3RcIj09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKUsoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sTD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIE0oKXt0aGlzLmV4cGFuZG89bi5leHBhbmRvK00udWlkKyt9TS51aWQ9MSxNLnByb3RvdHlwZT17cmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx7fTtyZXR1cm4gYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YzpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYVt0aGlzLmV4cGFuZG9dfSxjYWNoZTpmdW5jdGlvbihhKXtpZighTChhKSlyZXR1cm57fTt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LEwoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWVbYl09YztlbHNlIGZvcihkIGluIGIpZVtkXT1iW2RdO3JldHVybiBlfSxnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwPT09Yj90aGlzLmNhY2hlKGEpOmFbdGhpcy5leHBhbmRvXSYmYVt0aGlzLmV4cGFuZG9dW2JdfSxhY2Nlc3M6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiB2b2lkIDA9PT1ifHxiJiZcInN0cmluZ1wiPT10eXBlb2YgYiYmdm9pZCAwPT09Yz8oZD10aGlzLmdldChhLGIpLHZvaWQgMCE9PWQ/ZDp0aGlzLmdldChhLG4uY2FtZWxDYXNlKGIpKSk6KHRoaXMuc2V0KGEsYixjKSx2b2lkIDAhPT1jP2M6Yil9LHJlbW92ZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmPWFbdGhpcy5leHBhbmRvXTtpZih2b2lkIDAhPT1mKXtpZih2b2lkIDA9PT1iKXRoaXMucmVnaXN0ZXIoYSk7ZWxzZXtuLmlzQXJyYXkoYik/ZD1iLmNvbmNhdChiLm1hcChuLmNhbWVsQ2FzZSkpOihlPW4uY2FtZWxDYXNlKGIpLGIgaW4gZj9kPVtiLGVdOihkPWUsZD1kIGluIGY/W2RdOmQubWF0Y2goRyl8fFtdKSksYz1kLmxlbmd0aDt3aGlsZShjLS0pZGVsZXRlIGZbZFtjXV19KHZvaWQgMD09PWJ8fG4uaXNFbXB0eU9iamVjdChmKSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT12b2lkIDA6ZGVsZXRlIGFbdGhpcy5leHBhbmRvXSl9fSxoYXNEYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5leHBhbmRvXTtyZXR1cm4gdm9pZCAwIT09YiYmIW4uaXNFbXB0eU9iamVjdChiKX19O3ZhciBOPW5ldyBNLE89bmV3IE0sUD0vXig/Olxce1tcXHdcXFddKlxcfXxcXFtbXFx3XFxXXSpcXF0pJC8sUT0vW0EtWl0vZztmdW5jdGlvbiBSKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPVwiZGF0YS1cIitiLnJlcGxhY2UoUSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOlAudGVzdChjKT9uLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31PLnNldChhLGIsYyk7XHJcbn1lbHNlIGM9dm9pZCAwO3JldHVybiBjfW4uZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBPLmhhc0RhdGEoYSl8fE4uaGFzRGF0YShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE8uYWNjZXNzKGEsYixjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe08ucmVtb3ZlKGEsYil9LF9kYXRhOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gTi5hY2Nlc3MoYSxiLGMpfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihhLGIpe04ucmVtb3ZlKGEsYil9fSksbi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj10aGlzWzBdLGc9ZiYmZi5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoZT1PLmdldChmKSwxPT09Zi5ub2RlVHlwZSYmIU4uZ2V0KGYsXCJoYXNEYXRhQXR0cnNcIikpKXtjPWcubGVuZ3RoO3doaWxlKGMtLSlnW2NdJiYoZD1nW2NdLm5hbWUsMD09PWQuaW5kZXhPZihcImRhdGEtXCIpJiYoZD1uLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxSKGYsZCxlW2RdKSkpO04uc2V0KGYsXCJoYXNEYXRhQXR0cnNcIiwhMCl9cmV0dXJuIGV9cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5zZXQodGhpcyxhKX0pOksodGhpcyxmdW5jdGlvbihiKXt2YXIgYyxkO2lmKGYmJnZvaWQgMD09PWIpe2lmKGM9Ty5nZXQoZixhKXx8Ty5nZXQoZixhLnJlcGxhY2UoUSxcIi0kJlwiKS50b0xvd2VyQ2FzZSgpKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGQ9bi5jYW1lbENhc2UoYSksYz1PLmdldChmLGQpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1SKGYsZCx2b2lkIDApLHZvaWQgMCE9PWMpcmV0dXJuIGN9ZWxzZSBkPW4uY2FtZWxDYXNlKGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU8uZ2V0KHRoaXMsZCk7Ty5zZXQodGhpcyxkLGIpLGEuaW5kZXhPZihcIi1cIik+LTEmJnZvaWQgMCE9PWMmJk8uc2V0KHRoaXMsYSxiKX0pfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtPLnJlbW92ZSh0aGlzLGEpfSl9fSksbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYT8oYj0oYnx8XCJmeFwiKStcInF1ZXVlXCIsZD1OLmdldChhLGIpLGMmJighZHx8bi5pc0FycmF5KGMpP2Q9Ti5hY2Nlc3MoYSxiLG4ubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiZnhcIjt2YXIgYz1uLnF1ZXVlKGEsYiksZD1jLmxlbmd0aCxlPWMuc2hpZnQoKSxmPW4uX3F1ZXVlSG9va3MoYSxiKSxnPWZ1bmN0aW9uKCl7bi5kZXF1ZXVlKGEsYil9O1wiaW5wcm9ncmVzc1wiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKFwiZnhcIj09PWImJmMudW5zaGlmdChcImlucHJvZ3Jlc3NcIiksZGVsZXRlIGYuc3RvcCxlLmNhbGwoYSxnLGYpKSwhZCYmZiYmZi5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGEsYil7dmFyIGM9YitcInF1ZXVlSG9va3NcIjtyZXR1cm4gTi5nZXQoYSxjKXx8Ti5hY2Nlc3MoYSxjLHtlbXB0eTpuLkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLmFkZChmdW5jdGlvbigpe04ucmVtb3ZlKGEsW2IrXCJxdWV1ZVwiLGNdKX0pfSl9fSksbi5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7dmFyIGM9MjtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPVwiZnhcIixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9uLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPW4ucXVldWUodGhpcyxhLGIpO24uX3F1ZXVlSG9va3ModGhpcyxhKSxcImZ4XCI9PT1hJiZcImlucHJvZ3Jlc3NcIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8XCJmeFwiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPW4uRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGE9YXx8XCJmeFwiO3doaWxlKGctLSljPU4uZ2V0KGZbZ10sYStcInF1ZXVlSG9va3NcIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8uc291cmNlLFQ9bmV3IFJlZ0V4cChcIl4oPzooWystXSk9fCkoXCIrUytcIikoW2EteiVdKikkXCIsXCJpXCIpLFU9W1wiVG9wXCIsXCJSaWdodFwiLFwiQm90dG9tXCIsXCJMZWZ0XCJdLFY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLFwibm9uZVwiPT09bi5jc3MoYSxcImRpc3BsYXlcIil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gVyhhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLFwiXCIpfSxpPWgoKSxqPWMmJmNbM118fChuLmNzc051bWJlcltiXT9cIlwiOlwicHhcIiksaz0obi5jc3NOdW1iZXJbYl18fFwicHhcIiE9PWomJitpKSYmVC5leGVjKG4uY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8XCIuNVwiLGsvPWYsbi5zdHlsZShhLGIsaytqKTt3aGlsZShmIT09KGY9aCgpL2kpJiYxIT09ZiYmLS1nKX1yZXR1cm4gYyYmKGs9K2t8fCtpfHwwLGU9Y1sxXT9rKyhjWzFdKzEpKmNbMl06K2NbMl0sZCYmKGQudW5pdD1qLGQuc3RhcnQ9ayxkLmVuZD1lKSksZX12YXIgWD0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxZPS88KFtcXHc6LV0rKS8sWj0vXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLCQ9e29wdGlvbjpbMSxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIixcIjwvc2VsZWN0PlwiXSx0aGVhZDpbMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGNvbDpbMixcIjx0YWJsZT48Y29sZ3JvdXA+XCIsXCI8L2NvbGdyb3VwPjwvdGFibGU+XCJdLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxfZGVmYXVsdDpbMCxcIlwiLFwiXCJdfTskLm9wdGdyb3VwPSQub3B0aW9uLCQudGJvZHk9JC50Zm9vdD0kLmNvbGdyb3VwPSQuY2FwdGlvbj0kLnRoZWFkLCQudGg9JC50ZDtmdW5jdGlvbiBfKGEsYil7dmFyIGM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8XCIqXCIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBhYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylOLnNldChhW2NdLFwiZ2xvYmFsRXZhbFwiLCFifHxOLmdldChiW2NdLFwiZ2xvYmFsRXZhbFwiKSl9dmFyIGJhPS88fCYjP1xcdys7LztmdW5jdGlvbiBjYShhLGIsYyxkLGUpe2Zvcih2YXIgZixnLGgsaSxqLGssbD1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxtPVtdLG89MCxwPWEubGVuZ3RoO3A+bztvKyspaWYoZj1hW29dLGZ8fDA9PT1mKWlmKFwib2JqZWN0XCI9PT1uLnR5cGUoZikpbi5tZXJnZShtLGYubm9kZVR5cGU/W2ZdOmYpO2Vsc2UgaWYoYmEudGVzdChmKSl7Zz1nfHxsLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSksaD0oWS5leGVjKGYpfHxbXCJcIixcIlwiXSlbMV0udG9Mb3dlckNhc2UoKSxpPSRbaF18fCQuX2RlZmF1bHQsZy5pbm5lckhUTUw9aVsxXStuLmh0bWxQcmVmaWx0ZXIoZikraVsyXSxrPWlbMF07d2hpbGUoay0tKWc9Zy5sYXN0Q2hpbGQ7bi5tZXJnZShtLGcuY2hpbGROb2RlcyksZz1sLmZpcnN0Q2hpbGQsZy50ZXh0Q29udGVudD1cIlwifWVsc2UgbS5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZikpO2wudGV4dENvbnRlbnQ9XCJcIixvPTA7d2hpbGUoZj1tW28rK10paWYoZCYmbi5pbkFycmF5KGYsZCk+LTEpZSYmZS5wdXNoKGYpO2Vsc2UgaWYoaj1uLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPV8obC5hcHBlbmRDaGlsZChmKSxcInNjcmlwdFwiKSxqJiZhYShnKSxjKXtrPTA7d2hpbGUoZj1nW2srK10pWi50ZXN0KGYudHlwZXx8XCJcIikmJmMucHVzaChmKX1yZXR1cm4gbH0hZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxjPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO2Muc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicmFkaW9cIiksYy5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsXCJjaGVja2VkXCIpLGMuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwidFwiKSxiLmFwcGVuZENoaWxkKGMpLGwuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxiLmlubmVySFRNTD1cIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIixsLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGRhPS9ea2V5LyxlYT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sZmE9L14oW14uXSopKD86XFwuKC4rKXwpLztmdW5jdGlvbiBnYSgpe3JldHVybiEwfWZ1bmN0aW9uIGhhKCl7cmV0dXJuITF9ZnVuY3Rpb24gaWEoKXt0cnl7cmV0dXJuIGQuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIGphKGEsYixjLGQsZSxmKXt2YXIgZyxoO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBiKXtcInN0cmluZ1wiIT10eXBlb2YgYyYmKGQ9ZHx8YyxjPXZvaWQgMCk7Zm9yKGggaW4gYilqYShhLGgsYyxkLGJbaF0sZik7cmV0dXJuIGF9aWYobnVsbD09ZCYmbnVsbD09ZT8oZT1jLGQ9Yz12b2lkIDApOm51bGw9PWUmJihcInN0cmluZ1wiPT10eXBlb2YgYz8oZT1kLGQ9dm9pZCAwKTooZT1kLGQ9YyxjPXZvaWQgMCkpLGU9PT0hMSllPWhhO2Vsc2UgaWYoIWUpcmV0dXJuIHRoaXM7cmV0dXJuIDE9PT1mJiYoZz1lLGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oKS5vZmYoYSksZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGUuZ3VpZD1nLmd1aWR8fChnLmd1aWQ9bi5ndWlkKyspKSxhLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LmFkZCh0aGlzLGIsZSxkLGMpfSl9bi5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaCxpLGosayxsLG0sbyxwLHEscj1OLmdldChhKTtpZihyKXtjLmhhbmRsZXImJihmPWMsYz1mLmhhbmRsZXIsZT1mLnNlbGVjdG9yKSxjLmd1aWR8fChjLmd1aWQ9bi5ndWlkKyspLChpPXIuZXZlbnRzKXx8KGk9ci5ldmVudHM9e30pLChnPXIuaGFuZGxlKXx8KGc9ci5oYW5kbGU9ZnVuY3Rpb24oYil7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fFwiXCIpLm1hdGNoKEcpfHxbXCJcIl0saj1iLmxlbmd0aDt3aGlsZShqLS0paD1mYS5leGVjKGJbal0pfHxbXSxvPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG8mJihsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZT9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30saz1uLmV4dGVuZCh7dHlwZTpvLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZuLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbihcIi5cIil9LGYpLChtPWlbb10pfHwobT1pW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihvLGcpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksbi5ldmVudC5nbG9iYWxbb109ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uaGFzRGF0YShhKSYmTi5nZXQoYSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHxcIlwiKS5tYXRjaChHKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9ZmEuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8XCJcIikuc3BsaXQoXCIuXCIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Auam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpLGc9Zj1tLmxlbmd0aDt3aGlsZShmLS0paz1tW2ZdLCFlJiZxIT09ay5vcmlnVHlwZXx8YyYmYy5ndWlkIT09ay5ndWlkfHxoJiYhaC50ZXN0KGsubmFtZXNwYWNlKXx8ZCYmZCE9PWsuc2VsZWN0b3ImJihcIioqXCIhPT1kfHwhay5zZWxlY3Rvcil8fChtLnNwbGljZShmLDEpLGsuc2VsZWN0b3ImJm0uZGVsZWdhdGVDb3VudC0tLGwucmVtb3ZlJiZsLnJlbW92ZS5jYWxsKGEsaykpO2cmJiFtLmxlbmd0aCYmKGwudGVhcmRvd24mJmwudGVhcmRvd24uY2FsbChhLHAsci5oYW5kbGUpIT09ITF8fG4ucmVtb3ZlRXZlbnQoYSxvLHIuaGFuZGxlKSxkZWxldGUgaVtvXSl9ZWxzZSBmb3IobyBpbiBpKW4uZXZlbnQucmVtb3ZlKGEsbytiW2pdLGMsZCwhMCk7bi5pc0VtcHR5T2JqZWN0KGkpJiZOLnJlbW92ZShhLFwiaGFuZGxlIGV2ZW50c1wiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxkLGYsZyxoPVtdLGk9ZS5jYWxsKGFyZ3VtZW50cyksaj0oTi5nZXQodGhpcyxcImV2ZW50c1wiKXx8e30pW2EudHlwZV18fFtdLGs9bi5ldmVudC5zcGVjaWFsW2EudHlwZV18fHt9O2lmKGlbMF09YSxhLmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWsucHJlRGlzcGF0Y2h8fGsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGEpIT09ITEpe2g9bi5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsYSxqKSxiPTA7d2hpbGUoKGY9aFtiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7YS5jdXJyZW50VGFyZ2V0PWYuZWxlbSxjPTA7d2hpbGUoKGc9Zi5oYW5kbGVyc1tjKytdKSYmIWEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSkoIWEucm5hbWVzcGFjZXx8YS5ybmFtZXNwYWNlLnRlc3QoZy5uYW1lc3BhY2UpKSYmKGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoXCJjbGlja1wiIT09YS50eXBlfHxpc05hTihhLmJ1dHRvbil8fGEuYnV0dG9uPDEpKWZvcig7aSE9PXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrXCIgXCIsdm9pZCAwPT09ZFtlXSYmKGRbZV09Zi5uZWVkc0NvbnRleHQ/bihlLHRoaXMpLmluZGV4KGkpPi0xOm4uZmluZChlLHRoaXMsbnVsbCxbaV0pLmxlbmd0aCksZFtlXSYmZC5wdXNoKGYpO2QubGVuZ3RoJiZnLnB1c2goe2VsZW06aSxoYW5kbGVyczpkfSl9cmV0dXJuIGg8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KSxnfSxwcm9wczpcImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOlwiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50XCIuc3BsaXQoXCIgXCIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnPWIuYnV0dG9uO3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihjPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZT1jLmRvY3VtZW50RWxlbWVudCxmPWMuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxmJiZmLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGYmJmYuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxmJiZmLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxmJiZmLmNsaWVudFRvcHx8MCkpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtuLmV4cGFuZG9dKXJldHVybiBhO3ZhciBiLGMsZSxmPWEudHlwZSxnPWEsaD10aGlzLmZpeEhvb2tzW2ZdO2h8fCh0aGlzLmZpeEhvb2tzW2ZdPWg9ZWEudGVzdChmKT90aGlzLm1vdXNlSG9va3M6ZGEudGVzdChmKT90aGlzLmtleUhvb2tzOnt9KSxlPWgucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQoaC5wcm9wcyk6dGhpcy5wcm9wcyxhPW5ldyBuLkV2ZW50KGcpLGI9ZS5sZW5ndGg7d2hpbGUoYi0tKWM9ZVtiXSxhW2NdPWdbY107cmV0dXJuIGEudGFyZ2V0fHwoYS50YXJnZXQ9ZCksMz09PWEudGFyZ2V0Lm5vZGVUeXBlJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksaC5maWx0ZXI/aC5maWx0ZXIoYSxnKTphfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcyE9PWlhKCkmJnRoaXMuZm9jdXM/KHRoaXMuZm9jdXMoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6XCJmb2N1c2luXCJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcz09PWlhKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm4ubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCIscG9pbnRlcmVudGVyOlwicG9pbnRlcm92ZXJcIixwb2ludGVybGVhdmU6XCJwb2ludGVyb3V0XCJ9LGZ1bmN0aW9uKGEsYil7bi5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhbi5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksbi5mbi5leHRlbmQoe29uOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQpfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGphKHRoaXMsYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBkPWEuaGFuZGxlT2JqLG4oYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrXCIuXCIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYikmJihjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9aGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9fSk7dmFyIGthPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2ksbGE9LzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksbWE9L2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxuYT0vXnRydWVcXC8oLiopLyxvYT0vXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2c7ZnVuY3Rpb24gcGEoYSxiKXtyZXR1cm4gbi5ub2RlTmFtZShhLFwidGFibGVcIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhOmF9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrYS50eXBlLGF9ZnVuY3Rpb24gcmEoYSl7dmFyIGI9bmEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxhfWZ1bmN0aW9uIHNhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTi5oYXNEYXRhKGEpJiYoZj1OLmFjY2VzcyhhKSxnPU4uc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1PLmhhc0RhdGEoYSkmJihoPU8uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTy5zZXQoYixpKSl9fWZ1bmN0aW9uIHRhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiaW5wdXRcIj09PWMmJlgudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KFwiaW5wdXRcIj09PWN8fFwidGV4dGFyZWFcIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHVhKGEsYixjLGQpe2I9Zi5hcHBseShbXSxiKTt2YXIgZSxnLGgsaSxqLGssbT0wLG89YS5sZW5ndGgscD1vLTEscT1iWzBdLHI9bi5pc0Z1bmN0aW9uKHEpO2lmKHJ8fG8+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJm1hLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSx1YShmLGIsYyxkKX0pO2lmKG8mJihlPWNhKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZz1lLmZpcnN0Q2hpbGQsMT09PWUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPWcpLGd8fGQpKXtmb3IoaD1uLm1hcChfKGUsXCJzY3JpcHRcIikscWEpLGk9aC5sZW5ndGg7bz5tO20rKylqPWUsbSE9PXAmJihqPW4uY2xvbmUoaiwhMCwhMCksaSYmbi5tZXJnZShoLF8oaixcInNjcmlwdFwiKSkpLGMuY2FsbChhW21dLGosbSk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoaCxyYSksbT0wO2k+bTttKyspaj1oW21dLFoudGVzdChqLnR5cGV8fFwiXCIpJiYhTi5hY2Nlc3MoaixcImdsb2JhbEV2YWxcIikmJm4uY29udGFpbnMoayxqKSYmKGouc3JjP24uX2V2YWxVcmwmJm4uX2V2YWxVcmwoai5zcmMpOm4uZ2xvYmFsRXZhbChqLnRleHRDb250ZW50LnJlcGxhY2Uob2EsXCJcIikpKX1yZXR1cm4gYX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoXyhkKSksZC5wYXJlbnROb2RlJiYoYyYmbi5jb250YWlucyhkLm93bmVyRG9jdW1lbnQsZCkmJmFhKF8oZCxcInNjcmlwdFwiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGthLFwiPCQxPjwvJDI+XCIpfSxjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNsb25lTm9kZSghMCksaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZighKGwubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fG4uaXNYTUxEb2MoYSkpKWZvcihnPV8oaCksZj1fKGEpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspdGEoZltkXSxnW2RdKTtpZihiKWlmKGMpZm9yKGY9Znx8XyhhKSxnPWd8fF8oaCksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKylzYShmW2RdLGdbZF0pO2Vsc2Ugc2EoYSxoKTtyZXR1cm4gZz1fKGgsXCJzY3JpcHRcIiksZy5sZW5ndGg+MCYmYWEoZywhaSYmXyhhLFwic2NyaXB0XCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGMsZCxlPW4uZXZlbnQuc3BlY2lhbCxmPTA7dm9pZCAwIT09KGM9YVtmXSk7ZisrKWlmKEwoYykpe2lmKGI9Y1tOLmV4cGFuZG9dKXtpZihiLmV2ZW50cylmb3IoZCBpbiBiLmV2ZW50cyllW2RdP24uZXZlbnQucmVtb3ZlKGMsZCk6bi5yZW1vdmVFdmVudChjLGQsYi5oYW5kbGUpO2NbTi5leHBhbmRvXT12b2lkIDB9Y1tPLmV4cGFuZG9dJiYoY1tPLmV4cGFuZG9dPXZvaWQgMCl9fX0pLG4uZm4uZXh0ZW5kKHtkb21NYW5pcDp1YSxkZXRhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSwhMCl9LHJlbW92ZTpmdW5jdGlvbihhKXtyZXR1cm4gdmEodGhpcyxhKX0sdGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP24udGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuZWFjaChmdW5jdGlvbigpeygxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSkmJih0aGlzLnRleHRDb250ZW50PWEpfSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPXBhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdWEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG4uY2xlYW5EYXRhKF8oYSwhMSkpLGEudGV4dENvbnRlbnQ9XCJcIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEmJjE9PT1iLm5vZGVUeXBlKXJldHVybiBiLmlubmVySFRNTDtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoXyhiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGUpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihiKXt2YXIgYz10aGlzLnBhcmVudE5vZGU7bi5pbkFycmF5KHRoaXMsYSk8MCYmKG4uY2xlYW5EYXRhKF8odGhpcykpLGMmJmMucmVwbGFjZUNoaWxkKGIsdGhpcykpfSxhKX19KSxuLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9bihhKSxmPWUubGVuZ3RoLTEsaD0wO2Y+PWg7aCsrKWM9aD09PWY/dGhpczp0aGlzLmNsb25lKCEwKSxuKGVbaF0pW2JdKGMpLGcuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHdhLHhhPXtIVE1MOlwiYmxvY2tcIixCT0RZOlwiYmxvY2tcIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sXCJkaXNwbGF5XCIpO3JldHVybiBjLmRldGFjaCgpLGR9ZnVuY3Rpb24gemEoYSl7dmFyIGI9ZCxjPXhhW2FdO3JldHVybiBjfHwoYz15YShhLGIpLFwibm9uZVwiIT09YyYmY3x8KHdhPSh3YXx8bihcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoXCJeKFwiK1MrXCIpKD8hcHgpW2EteiVdKyRcIixcImlcIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaD1kLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoaC5zdHlsZSl7aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsbC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09aC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxnLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O3BhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJVwiLGguaW5uZXJIVE1MPVwiXCIsRWEuYXBwZW5kQ2hpbGQoZyk7dmFyIGQ9YS5nZXRDb21wdXRlZFN0eWxlKGgpO2I9XCIxJVwiIT09ZC50b3AsZj1cIjJweFwiPT09ZC5tYXJnaW5MZWZ0LGM9XCI0cHhcIj09PWQud2lkdGgsaC5zdHlsZS5tYXJnaW5SaWdodD1cIjUwJVwiLGU9XCI0cHhcIj09PWQubWFyZ2luUmlnaHQsRWEucmVtb3ZlQ2hpbGQoZyl9bi5leHRlbmQobCx7cGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBpKCksYn0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGN9LHBpeGVsTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGV9LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1jJiZpKCksZn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3ZhciBiLGM9aC5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3JldHVybiBjLnN0eWxlLmNzc1RleHQ9aC5zdHlsZS5jc3NUZXh0PVwiLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjBcIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsaC5zdHlsZS53aWR0aD1cIjFweFwiLEVhLmFwcGVuZENoaWxkKGcpLGI9IXBhcnNlRmxvYXQoYS5nZXRDb21wdXRlZFN0eWxlKGMpLm1hcmdpblJpZ2h0KSxFYS5yZW1vdmVDaGlsZChnKSxoLnJlbW92ZUNoaWxkKGMpLGJ9fSl9fSgpO2Z1bmN0aW9uIEZhKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8Q2EoYSksYyYmKGc9Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdLFwiXCIhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSwhbC5waXhlbE1hcmdpblJpZ2h0KCkmJkJhLnRlc3QoZykmJkFhLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9ZikpLHZvaWQgMCE9PWc/ZytcIlwiOmd9ZnVuY3Rpb24gR2EoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIEhhPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxJYT17cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIixkaXNwbGF5OlwiYmxvY2tcIn0sSmE9e2xldHRlclNwYWNpbmc6XCIwXCIsZm9udFdlaWdodDpcIjQwMFwifSxLYT1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl0sTGE9ZC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlO2Z1bmN0aW9uIE1hKGEpe2lmKGEgaW4gTGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1LYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9S2FbY10rYixhIGluIExhKXJldHVybiBhfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1ULmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fFwicHhcIik6Yn1mdW5jdGlvbiBPYShhLGIsYyxkLGUpe2Zvcih2YXIgZj1jPT09KGQ/XCJib3JkZXJcIjpcImNvbnRlbnRcIik/NDpcIndpZHRoXCI9PT1iPzE6MCxnPTA7ND5mO2YrPTIpXCJtYXJnaW5cIj09PWMmJihnKz1uLmNzcyhhLGMrVVtmXSwhMCxlKSksZD8oXCJjb250ZW50XCI9PT1jJiYoZy09bi5jc3MoYSxcInBhZGRpbmdcIitVW2ZdLCEwLGUpKSxcIm1hcmdpblwiIT09YyYmKGctPW4uY3NzKGEsXCJib3JkZXJcIitVW2ZdK1wiV2lkdGhcIiwhMCxlKSkpOihnKz1uLmNzcyhhLFwicGFkZGluZ1wiK1VbZl0sITAsZSksXCJwYWRkaW5nXCIhPT1jJiYoZys9bi5jc3MoYSxcImJvcmRlclwiK1VbZl0rXCJXaWR0aFwiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gUGEoYixjLGUpe3ZhciBmPSEwLGc9XCJ3aWR0aFwiPT09Yz9iLm9mZnNldFdpZHRoOmIub2Zmc2V0SGVpZ2h0LGg9Q2EoYiksaT1cImJvcmRlci1ib3hcIj09PW4uY3NzKGIsXCJib3hTaXppbmdcIiwhMSxoKTtpZihkLm1zRnVsbHNjcmVlbkVsZW1lbnQmJmEudG9wIT09YSYmYi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmKGc9TWF0aC5yb3VuZCgxMDAqYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtjXSkpLDA+PWd8fG51bGw9PWcpe2lmKGc9RmEoYixjLGgpLCgwPmd8fG51bGw9PWcpJiYoZz1iLnN0eWxlW2NdKSxCYS50ZXN0KGcpKXJldHVybiBnO2Y9aSYmKGwuYm94U2l6aW5nUmVsaWFibGUoKXx8Zz09PWIuc3R5bGVbY10pLGc9cGFyc2VGbG9hdChnKXx8MH1yZXR1cm4gZytPYShiLGMsZXx8KGk/XCJib3JkZXJcIjpcImNvbnRlbnRcIiksZixoKStcInB4XCJ9ZnVuY3Rpb24gUWEoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109Ti5nZXQoZCxcIm9sZGRpc3BsYXlcIiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8XCJub25lXCIhPT1jfHwoZC5zdHlsZS5kaXNwbGF5PVwiXCIpLFwiXCI9PT1kLnN0eWxlLmRpc3BsYXkmJlYoZCkmJihmW2ddPU4uYWNjZXNzKGQsXCJvbGRkaXNwbGF5XCIsemEoZC5ub2RlTmFtZSkpKSk6KGU9VihkKSxcIm5vbmVcIj09PWMmJmV8fE4uc2V0KGQsXCJvbGRkaXNwbGF5XCIsZT9jOm4uY3NzKGQsXCJkaXNwbGF5XCIpKSkpO2ZvcihnPTA7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGImJlwibm9uZVwiIT09ZC5zdHlsZS5kaXNwbGF5JiZcIlwiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8XCJcIjpcIm5vbmVcIikpO3JldHVybiBhfW4uZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9RmEoYSxcIm9wYWNpdHlcIik7cmV0dXJuXCJcIj09PWM/XCIxXCI6Y319fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09TWEoaCl8fGgpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSx2b2lkIDA9PT1jP2cmJlwiZ2V0XCJpbiBnJiZ2b2lkIDAhPT0oZT1nLmdldChhLCExLGQpKT9lOmlbYl06KGY9dHlwZW9mIGMsXCJzdHJpbmdcIj09PWYmJihlPVQuZXhlYyhjKSkmJmVbMV0mJihjPVcoYSxiLGUpLGY9XCJudW1iZXJcIiksbnVsbCE9YyYmYz09PWMmJihcIm51bWJlclwiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT9cIlwiOlwicHhcIikpLGwuY2xlYXJDbG9uZVN0eWxlfHxcIlwiIT09Y3x8MCE9PWIuaW5kZXhPZihcImJhY2tncm91bmRcIil8fChpW2JdPVwiaW5oZXJpdFwiKSxnJiZcInNldFwiaW4gZyYmdm9pZCAwPT09KGM9Zy5zZXQoYSxjLGQpKXx8KGlbYl09YykpLHZvaWQgMCl9fSxjc3M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYik7cmV0dXJuIGI9bi5jc3NQcm9wc1toXXx8KG4uY3NzUHJvcHNbaF09TWEoaCl8fGgpLGc9bi5jc3NIb29rc1tiXXx8bi5jc3NIb29rc1toXSxnJiZcImdldFwiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9RmEoYSxiLGQpKSxcIm5vcm1hbFwiPT09ZSYmYiBpbiBKYSYmKGU9SmFbYl0pLFwiXCI9PT1jfHxjPyhmPXBhcnNlRmxvYXQoZSksYz09PSEwfHxpc0Zpbml0ZShmKT9mfHwwOmUpOmV9fSksbi5lYWNoKFtcImhlaWdodFwiLFwid2lkdGhcIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP0hhLnRlc3Qobi5jc3MoYSxcImRpc3BsYXlcIikpJiYwPT09YS5vZmZzZXRXaWR0aD9EYShhLElhLGZ1bmN0aW9uKCl7cmV0dXJuIFBhKGEsYixkKX0pOlBhKGEsYixkKTp2b2lkIDB9LHNldDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZj1kJiZDYShhKSxnPWQmJk9hKGEsYixkLFwiYm9yZGVyLWJveFwiPT09bi5jc3MoYSxcImJveFNpemluZ1wiLCExLGYpLGYpO3JldHVybiBnJiYoZT1ULmV4ZWMoYykpJiZcInB4XCIhPT0oZVszXXx8XCJweFwiKSYmKGEuc3R5bGVbYl09YyxjPW4uY3NzKGEsYikpLE5hKGEsYyxnKX19fSksbi5jc3NIb29rcy5tYXJnaW5MZWZ0PUdhKGwucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/KHBhcnNlRmxvYXQoRmEoYSxcIm1hcmdpbkxlZnRcIikpfHxhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtRGEoYSx7bWFyZ2luTGVmdDowfSxmdW5jdGlvbigpe3JldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnR9KSkrXCJweFwiOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9R2EobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/RGEoYSx7ZGlzcGxheTpcImlubGluZS1ibG9ja1wifSxGYSxbYSxcIm1hcmdpblJpZ2h0XCJdKTp2b2lkIDB9KSxuLmVhY2goe21hcmdpbjpcIlwiLHBhZGRpbmc6XCJcIixib3JkZXI6XCJXaWR0aFwifSxmdW5jdGlvbihhLGIpe24uY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0wLGU9e30sZj1cInN0cmluZ1wiPT10eXBlb2YgYz9jLnNwbGl0KFwiIFwiKTpbY107ND5kO2QrKyllW2ErVVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxBYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1OYSl9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPUNhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYT9hP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpOnRoaXMuZWFjaChmdW5jdGlvbigpe1YodGhpcyk/bih0aGlzKS5zaG93KCk6bih0aGlzKS5oaWRlKCl9KX19KTtmdW5jdGlvbiBSYShhLGIsYyxkLGUpe3JldHVybiBuZXcgUmEucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1uLlR3ZWVuPVJhLFJhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6UmEsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5lbGVtPWEsdGhpcy5wcm9wPWMsdGhpcy5lYXNpbmc9ZXx8bi5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPWIsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPWQsdGhpcy51bml0PWZ8fChuLmNzc051bWJlcltjXT9cIlwiOlwicHhcIil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPVJhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOlJhLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LFJhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1SYS5wcm90b3R5cGUsUmEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCxcIlwiKSxiJiZcImF1dG9cIiE9PWI/YjowKX0sc2V0OmZ1bmN0aW9uKGEpe24uZnguc3RlcFthLnByb3BdP24uZnguc3RlcFthLnByb3BdKGEpOjEhPT1hLmVsZW0ubm9kZVR5cGV8fG51bGw9PWEuZWxlbS5zdHlsZVtuLmNzc1Byb3BzW2EucHJvcF1dJiYhbi5jc3NIb29rc1thLnByb3BdP2EuZWxlbVthLnByb3BdPWEubm93Om4uc3R5bGUoYS5lbGVtLGEucHJvcCxhLm5vdythLnVuaXQpfX19LFJhLnByb3BIb29rcy5zY3JvbGxUb3A9UmEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihhKXthLmVsZW0ubm9kZVR5cGUmJmEuZWxlbS5wYXJlbnROb2RlJiYoYS5lbGVtW2EucHJvcF09YS5ub3cpfX0sbi5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihhKXtyZXR1cm4gYX0sc3dpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuLjUtTWF0aC5jb3MoYSpNYXRoLlBJKS8yfSxfZGVmYXVsdDpcInN3aW5nXCJ9LG4uZng9UmEucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBTYSxUYSxVYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sVmE9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBXYSgpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtTYT12b2lkIDB9KSxTYT1uLm5vdygpfWZ1bmN0aW9uIFhhKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9VVtkXSxlW1wibWFyZ2luXCIrY109ZVtcInBhZGRpbmdcIitjXT1hO3JldHVybiBiJiYoZS5vcGFjaXR5PWUud2lkdGg9YSksZX1mdW5jdGlvbiBZYShhLGIsYyl7Zm9yKHZhciBkLGU9KF9hLnR3ZWVuZXJzW2JdfHxbXSkuY29uY2F0KF9hLnR3ZWVuZXJzW1wiKlwiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gWmEoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmVihhKSxxPU4uZ2V0KGEsXCJmeHNob3dcIik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLFwiZnhcIiksbnVsbD09aC51bnF1ZXVlZCYmKGgudW5xdWV1ZWQ9MCxpPWguZW1wdHkuZmlyZSxoLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtoLnVucXVldWVkfHxpKCl9KSxoLnVucXVldWVkKyssbC5hbHdheXMoZnVuY3Rpb24oKXtsLmFsd2F5cyhmdW5jdGlvbigpe2gudW5xdWV1ZWQtLSxuLnF1ZXVlKGEsXCJmeFwiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJihcImhlaWdodFwiaW4gYnx8XCJ3aWR0aFwiaW4gYikmJihjLm92ZXJmbG93PVtvLm92ZXJmbG93LG8ub3ZlcmZsb3dYLG8ub3ZlcmZsb3dZXSxqPW4uY3NzKGEsXCJkaXNwbGF5XCIpLGs9XCJub25lXCI9PT1qP04uZ2V0KGEsXCJvbGRkaXNwbGF5XCIpfHx6YShhLm5vZGVOYW1lKTpqLFwiaW5saW5lXCI9PT1rJiZcIm5vbmVcIj09PW4uY3NzKGEsXCJmbG9hdFwiKSYmKG8uZGlzcGxheT1cImlubGluZS1ibG9ja1wiKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9XCJoaWRkZW5cIixsLmFsd2F5cyhmdW5jdGlvbigpe28ub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXSxvLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdLG8ub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGQgaW4gYilpZihlPWJbZF0sVWEuZXhlYyhlKSl7aWYoZGVsZXRlIGJbZF0sZj1mfHxcInRvZ2dsZVwiPT09ZSxlPT09KHA/XCJoaWRlXCI6XCJzaG93XCIpKXtpZihcInNob3dcIiE9PWV8fCFxfHx2b2lkIDA9PT1xW2RdKWNvbnRpbnVlO3A9ITB9bVtkXT1xJiZxW2RdfHxuLnN0eWxlKGEsZCl9ZWxzZSBqPXZvaWQgMDtpZihuLmlzRW1wdHlPYmplY3QobSkpXCJpbmxpbmVcIj09PShcIm5vbmVcIj09PWo/emEoYS5ub2RlTmFtZSk6aikmJihvLmRpc3BsYXk9aik7ZWxzZXtxP1wiaGlkZGVuXCJpbiBxJiYocD1xLmhpZGRlbik6cT1OLmFjY2VzcyhhLFwiZnhzaG93XCIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO04ucmVtb3ZlKGEsXCJmeHNob3dcIik7Zm9yKGIgaW4gbSluLnN0eWxlKGEsYixtW2JdKX0pO2ZvcihkIGluIG0pZz1ZYShwP3FbZF06MCxkLGwpLGQgaW4gcXx8KHFbZF09Zy5zdGFydCxwJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PVwid2lkdGhcIj09PWR8fFwiaGVpZ2h0XCI9PT1kPzE6MCkpfX1mdW5jdGlvbiAkYShhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJlwiZXhwYW5kXCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gX2EoYSxiLGMpe3ZhciBkLGUsZj0wLGc9X2EucHJlZmlsdGVycy5sZW5ndGgsaD1uLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGkuZWxlbX0pLGk9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1TYXx8V2EoKSxjPU1hdGgubWF4KDAsai5zdGFydFRpbWUrai5kdXJhdGlvbi1iKSxkPWMvai5kdXJhdGlvbnx8MCxmPTEtZCxnPTAsaT1qLnR3ZWVucy5sZW5ndGg7aT5nO2crKylqLnR3ZWVuc1tnXS5ydW4oZik7cmV0dXJuIGgubm90aWZ5V2l0aChhLFtqLGYsY10pLDE+ZiYmaT9jOihoLnJlc29sdmVXaXRoKGEsW2pdKSwhMSl9LGo9aC5wcm9taXNlKHtlbGVtOmEscHJvcHM6bi5leHRlbmQoe30sYiksb3B0czpuLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fSxlYXNpbmc6bi5lYXNpbmcuX2RlZmF1bHR9LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpTYXx8V2EoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW4uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/KGgubm90aWZ5V2l0aChhLFtqLDEsMF0pLGgucmVzb2x2ZVdpdGgoYSxbaixiXSkpOmgucmVqZWN0V2l0aChhLFtqLGJdKSx0aGlzfX0pLGs9ai5wcm9wcztmb3IoJGEoayxqLm9wdHMuc3BlY2lhbEVhc2luZyk7Zz5mO2YrKylpZihkPV9hLnByZWZpbHRlcnNbZl0uY2FsbChqLGEsayxqLm9wdHMpKXJldHVybiBuLmlzRnVuY3Rpb24oZC5zdG9wKSYmKG4uX3F1ZXVlSG9va3Moai5lbGVtLGoub3B0cy5xdWV1ZSkuc3RvcD1uLnByb3h5KGQuc3RvcCxkKSksZDtyZXR1cm4gbi5tYXAoayxZYSxqKSxuLmlzRnVuY3Rpb24oai5vcHRzLnN0YXJ0KSYmai5vcHRzLnN0YXJ0LmNhbGwoYSxqKSxuLmZ4LnRpbWVyKG4uZXh0ZW5kKGkse2VsZW06YSxhbmltOmoscXVldWU6ai5vcHRzLnF1ZXVlfSkpLGoucHJvZ3Jlc3Moai5vcHRzLnByb2dyZXNzKS5kb25lKGoub3B0cy5kb25lLGoub3B0cy5jb21wbGV0ZSkuZmFpbChqLm9wdHMuZmFpbCkuYWx3YXlzKGoub3B0cy5hbHdheXMpfW4uQW5pbWF0aW9uPW4uZXh0ZW5kKF9hLHt0d2VlbmVyczp7XCIqXCI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBXKGMuZWxlbSxhLFQuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVtcIipcIl0pOmE9YS5tYXRjaChHKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sX2EudHdlZW5lcnNbY109X2EudHdlZW5lcnNbY118fFtdLF9hLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W1phXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP19hLnByZWZpbHRlcnMudW5zaGlmdChhKTpfYS5wcmVmaWx0ZXJzLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmXCJvYmplY3RcIj09dHlwZW9mIGE/bi5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmN8fCFjJiZifHxuLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6YyYmYnx8YiYmIW4uaXNGdW5jdGlvbihiKSYmYn07cmV0dXJuIGQuZHVyYXRpb249bi5meC5vZmY/MDpcIm51bWJlclwiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsKG51bGw9PWQucXVldWV8fGQucXVldWU9PT0hMCkmJihkLnF1ZXVlPVwiZnhcIiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVikuY3NzKFwib3BhY2l0eVwiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9X2EodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8Ti5nZXQodGhpcyxcImZpbmlzaFwiKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPSEwLGU9bnVsbCE9YSYmYStcInF1ZXVlSG9va3NcIixmPW4udGltZXJzLGc9Ti5nZXQodGhpcyk7aWYoZSlnW2VdJiZnW2VdLnN0b3AmJmQoZ1tlXSk7ZWxzZSBmb3IoZSBpbiBnKWdbZV0mJmdbZV0uc3RvcCYmVmEudGVzdChlKSYmZChnW2VdKTtmb3IoZT1mLmxlbmd0aDtlLS07KWZbZV0uZWxlbSE9PXRoaXN8fG51bGwhPWEmJmZbZV0ucXVldWUhPT1hfHwoZltlXS5hbmltLnN0b3AoYyksYj0hMSxmLnNwbGljZShlLDEpKTsoYnx8IWMpJiZuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8XCJmeFwiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thK1wicXVldWVcIl0sZT1jW2ErXCJxdWV1ZUhvb2tzXCJdLGY9bi50aW1lcnMsZz1kP2QubGVuZ3RoOjA7Zm9yKGMuZmluaXNoPSEwLG4ucXVldWUodGhpcyxhLFtdKSxlJiZlLnN0b3AmJmUuc3RvcC5jYWxsKHRoaXMsITApLGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YSYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2c+YjtiKyspZFtiXSYmZFtiXS5maW5pc2gmJmRbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSksbi5lYWNoKFtcInRvZ2dsZVwiLFwic2hvd1wiLFwiaGlkZVwiXSxmdW5jdGlvbihhLGIpe3ZhciBjPW4uZm5bYl07bi5mbltiXT1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIG51bGw9PWF8fFwiYm9vbGVhblwiPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKFwic2hvd1wiKSxzbGlkZVVwOlhhKFwiaGlkZVwiKSxzbGlkZVRvZ2dsZTpYYShcInRvZ2dsZVwiKSxmYWRlSW46e29wYWNpdHk6XCJzaG93XCJ9LGZhZGVPdXQ6e29wYWNpdHk6XCJoaWRlXCJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6XCJ0b2dnbGVcIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8XCJmeFwiLHRoaXMucXVldWUoYyxmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2V0VGltZW91dChjLGIpO2Quc3RvcD1mdW5jdGlvbigpe2EuY2xlYXJUaW1lb3V0KGUpfX0pfSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGI9ZC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2EudHlwZT1cImNoZWNrYm94XCIsbC5jaGVja09uPVwiXCIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxhLnZhbHVlPVwidFwiLGEudHlwZT1cInJhZGlvXCIsbC5yYWRpb1ZhbHVlPVwidFwiPT09YS52YWx1ZX0oKTt2YXIgYWIsYmI9bi5leHByLmF0dHJIYW5kbGU7bi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4uYXR0cixhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KSxuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT9hYjp2b2lkIDApKSx2b2lkIDAhPT1jP251bGw9PT1jP3ZvaWQgbi5yZW1vdmVBdHRyKGEsYik6ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjK1wiXCIpLGMpOmUmJlwiZ2V0XCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDooZD1uLmZpbmQuYXR0cihhLGIpLG51bGw9PWQ/dm9pZCAwOmQpKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oYSxiKXtpZighbC5yYWRpb1ZhbHVlJiZcInJhZGlvXCI9PT1iJiZuLm5vZGVOYW1lKGEsXCJpbnB1dFwiKSl7dmFyIGM9YS52YWx1ZTtyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYiksYyYmKGEudmFsdWU9YyksYn19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChHKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW4ucHJvcEZpeFtjXXx8YyxuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9fSksYWI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9uLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxuLmVhY2gobi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9YmJbYl18fG4uZmluZC5hdHRyO2JiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj1iYltiXSxiYltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsYmJbYl09ZiksZX19KTt2YXIgY2I9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxkYj0vXig/OmF8YXJlYSkkL2k7bi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gSyh0aGlzLG4ucHJvcCxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbbi5wcm9wRml4W2FdfHxhXX0pfX0pLG4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiAxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9bi5wcm9wRml4W2JdfHxiLGU9bi5wcm9wSG9va3NbYl0pLHZvaWQgMCE9PWM/ZSYmXCJzZXRcImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmXCJnZXRcImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOmFbYl07XHJcbn0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsXCJ0YWJpbmRleFwiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpjYi50ZXN0KGEubm9kZU5hbWUpfHxkYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OntcImZvclwiOlwiaHRtbEZvclwiLFwiY2xhc3NcIjpcImNsYXNzTmFtZVwifX0pLGwub3B0U2VsZWN0ZWR8fChuLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG4uZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtuLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGViPS9bXFx0XFxyXFxuXFxmXS9nO2Z1bmN0aW9uIGZiKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIn1uLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixmYih0aGlzKSkpfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJmEpe2I9YS5tYXRjaChHKXx8W107d2hpbGUoYz10aGlzW2krK10paWYoZT1mYihjKSxkPTE9PT1jLm5vZGVUeXBlJiYoXCIgXCIrZStcIiBcIikucmVwbGFjZShlYixcIiBcIikpe2c9MDt3aGlsZShmPWJbZysrXSlkLmluZGV4T2YoXCIgXCIrZitcIiBcIik8MCYmKGQrPWYrXCIgXCIpO2g9bi50cmltKGQpLGUhPT1oJiZjLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLGZiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKFwiY2xhc3NcIixcIlwiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPWZiKGMpLGQ9MT09PWMubm9kZVR5cGUmJihcIiBcIitlK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZihcIiBcIitmK1wiIFwiKT4tMSlkPWQucmVwbGFjZShcIiBcIitmK1wiIFwiLFwiIFwiKTtoPW4udHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGImJlwic3RyaW5nXCI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOm4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLGZiKHRoaXMpLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsZCxlLGY7aWYoXCJzdHJpbmdcIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlKHZvaWQgMD09PWF8fFwiYm9vbGVhblwiPT09YykmJihiPWZiKHRoaXMpLGImJk4uc2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsYiksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixifHxhPT09ITE/XCJcIjpOLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZD0wO2I9XCIgXCIrYStcIiBcIjt3aGlsZShjPXRoaXNbZCsrXSlpZigxPT09Yy5ub2RlVHlwZSYmKFwiIFwiK2ZiKGMpK1wiIFwiKS5yZXBsYWNlKGViLFwiIFwiKS5pbmRleE9mKGIpPi0xKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBnYj0vXFxyL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBlP2UrPVwiXCI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6YStcIlwifSkpLGI9bi52YWxIb29rc1t0aGlzLnR5cGVdfHxuLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJzZXRcImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW4udmFsSG9va3NbZS50eXBlXXx8bi52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwiZ2V0XCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLFwidmFsdWVcIikpP2M6KGM9ZS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2YgYz9jLnJlcGxhY2UoZ2IsXCJcIik6bnVsbD09Yz9cIlwiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBuLnRyaW0oYS52YWx1ZSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPVwic2VsZWN0LW9uZVwiPT09YS50eXBlfHwwPmUsZz1mP251bGw6W10saD1mP2UrMTpkLmxlbmd0aCxpPTA+ZT9oOmY/ZTowO2g+aTtpKyspaWYoYz1kW2ldLChjLnNlbGVjdGVkfHxpPT09ZSkmJihsLm9wdERpc2FibGVkPyFjLmRpc2FibGVkOm51bGw9PT1jLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpKSYmKCFjLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFuLm5vZGVOYW1lKGMucGFyZW50Tm9kZSxcIm9wdGdyb3VwXCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7bi52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uaXNBcnJheShiKT9hLmNoZWNrZWQ9bi5pbkFycmF5KG4oYSkudmFsKCksYik+LTE6dm9pZCAwfX0sbC5jaGVja09ufHwobi52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KTt2YXIgaGI9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO24uZXh0ZW5kKG4uZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYixcInR5cGVcIik/Yi50eXBlOmIscj1rLmNhbGwoYixcIm5hbWVzcGFjZVwiKT9iLm5hbWVzcGFjZS5zcGxpdChcIi5cIik6W107aWYoaD1pPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFoYi50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKFwiLlwiKT4tMSYmKHI9cS5zcGxpdChcIi5cIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGw9cS5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrcSxiPWJbbi5leHBhbmRvXT9iOm5ldyBuLkV2ZW50KHEsXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXIuam9pbihcIi5cIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoXCIoXnxcXFxcLilcIityLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKStcIihcXFxcLnwkKVwiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWUpLGM9bnVsbD09Yz9bYl06bi5tYWtlQXJyYXkoYyxbYl0pLG89bi5ldmVudC5zcGVjaWFsW3FdfHx7fSxmfHwhby50cmlnZ2VyfHxvLnRyaWdnZXIuYXBwbHkoZSxjKSE9PSExKSl7aWYoIWYmJiFvLm5vQnViYmxlJiYhbi5pc1dpbmRvdyhlKSl7Zm9yKGo9by5kZWxlZ2F0ZVR5cGV8fHEsaGIudGVzdChqK3EpfHwoaD1oLnBhcmVudE5vZGUpO2g7aD1oLnBhcmVudE5vZGUpcC5wdXNoKGgpLGk9aDtpPT09KGUub3duZXJEb2N1bWVudHx8ZCkmJnAucHVzaChpLmRlZmF1bHRWaWV3fHxpLnBhcmVudFdpbmRvd3x8YSl9Zz0wO3doaWxlKChoPXBbZysrXSkmJiFiLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpYi50eXBlPWc+MT9qOm8uYmluZFR5cGV8fHEsbT0oTi5nZXQoaCxcImV2ZW50c1wiKXx8e30pW2IudHlwZV0mJk4uZ2V0KGgsXCJoYW5kbGVcIiksbSYmbS5hcHBseShoLGMpLG09bCYmaFtsXSxtJiZtLmFwcGx5JiZMKGgpJiYoYi5yZXN1bHQ9bS5hcHBseShoLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1xLGZ8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG8uX2RlZmF1bHQmJm8uX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxjKSE9PSExfHwhTChlKXx8bCYmbi5pc0Z1bmN0aW9uKGVbcV0pJiYhbi5pc1dpbmRvdyhlKSYmKGk9ZVtsXSxpJiYoZVtsXT1udWxsKSxuLmV2ZW50LnRyaWdnZXJlZD1xLGVbcV0oKSxuLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsaSYmKGVbbF09aSkpLGIucmVzdWx0fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0pLG4uZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO3JldHVybiBjP24uZXZlbnQudHJpZ2dlcihhLGIsYywhMCk6dm9pZCAwfX0pLG4uZWFjaChcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnVcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSksbC5mb2N1c2luPVwib25mb2N1c2luXCJpbiBhLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czpcImZvY3VzaW5cIixibHVyOlwiZm9jdXNvdXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXtuLmV2ZW50LnNpbXVsYXRlKGIsYS50YXJnZXQsbi5ldmVudC5maXgoYSkpfTtuLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKTtlfHxkLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLmFjY2VzcyhkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPU4uYWNjZXNzKGQsYiktMTtlP04uYWNjZXNzKGQsYixlKTooZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMCksTi5yZW1vdmUoZCxiKSl9fX0pO3ZhciBpYj1hLmxvY2F0aW9uLGpiPW4ubm93KCksa2I9L1xcPy87bi5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYStcIlwiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYztpZighYnx8XCJzdHJpbmdcIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2M9KG5ldyBhLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGIsXCJ0ZXh0L3htbFwiKX1jYXRjaChkKXtjPXZvaWQgMH1yZXR1cm4oIWN8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKS5sZW5ndGgpJiZuLmVycm9yKFwiSW52YWxpZCBYTUw6IFwiK2IpLGN9O3ZhciBsYj0vIy4qJC8sbWI9LyhbPyZdKV89W14mXSovLG5iPS9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvZ20sb2I9L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8scGI9L14oPzpHRVR8SEVBRCkkLyxxYj0vXlxcL1xcLy8scmI9e30sc2I9e30sdGI9XCIqL1wiLmNvbmNhdChcIipcIiksdWI9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt1Yi5ocmVmPWliLmhyZWY7ZnVuY3Rpb24gdmIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihjPWIsYj1cIipcIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pXCIrXCI9PT1kWzBdPyhkPWQuc2xpY2UoMSl8fFwiKlwiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09c2I7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2Yganx8Znx8ZVtqXT9mPyEoaT1qKTp2b2lkIDA6KGIuZGF0YVR5cGVzLnVuc2hpZnQoaiksZyhqKSwhMSl9KSxpfXJldHVybiBnKGIuZGF0YVR5cGVzWzBdKXx8IWVbXCIqXCJdJiZnKFwiKlwiKX1mdW5jdGlvbiB4YihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24geWIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKFwiKlwiPT09aVswXSlpLnNoaWZ0KCksdm9pZCAwPT09ZCYmKGQ9YS5taW1lVHlwZXx8Yi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSk7aWYoZClmb3IoZSBpbiBoKWlmKGhbZV0mJmhbZV0udGVzdChkKSl7aS51bnNoaWZ0KGUpO2JyZWFrfWlmKGlbMF1pbiBjKWY9aVswXTtlbHNle2ZvcihlIGluIGMpe2lmKCFpWzBdfHxhLmNvbnZlcnRlcnNbZStcIiBcIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gemIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZihcIipcIj09PWYpZj1pO2Vsc2UgaWYoXCIqXCIhPT1pJiZpIT09Zil7aWYoZz1qW2krXCIgXCIrZl18fGpbXCIqIFwiK2ZdLCFnKWZvcihlIGluIGopaWYoaD1lLnNwbGl0KFwiIFwiKSxoWzFdPT09ZiYmKGc9altpK1wiIFwiK2hbMF1dfHxqW1wiKiBcIitoWzBdXSkpe2c9PT0hMD9nPWpbZV06altlXSE9PSEwJiYoZj1oWzBdLGsudW5zaGlmdChoWzFdKSk7YnJlYWt9aWYoZyE9PSEwKWlmKGcmJmFbXCJ0aHJvd3NcIl0pYj1nKGIpO2Vsc2UgdHJ5e2I9ZyhiKX1jYXRjaChsKXtyZXR1cm57c3RhdGU6XCJwYXJzZXJlcnJvclwiLGVycm9yOmc/bDpcIk5vIGNvbnZlcnNpb24gZnJvbSBcIitpK1wiIHRvIFwiK2Z9fX1yZXR1cm57c3RhdGU6XCJzdWNjZXNzXCIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6aWIuaHJlZix0eXBlOlwiR0VUXCIsaXNMb2NhbDpvYi50ZXN0KGliLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixhY2NlcHRzOntcIipcIjp0Yix0ZXh0OlwidGV4dC9wbGFpblwiLGh0bWw6XCJ0ZXh0L2h0bWxcIix4bWw6XCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsanNvbjpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwifSxjb250ZW50czp7eG1sOi9cXGJ4bWxcXGIvLGh0bWw6L1xcYmh0bWwvLGpzb246L1xcYmpzb25cXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOlwicmVzcG9uc2VYTUxcIix0ZXh0OlwicmVzcG9uc2VUZXh0XCIsanNvbjpcInJlc3BvbnNlSlNPTlwifSxjb252ZXJ0ZXJzOntcIiogdGV4dFwiOlN0cmluZyxcInRleHQgaHRtbFwiOiEwLFwidGV4dCBqc29uXCI6bi5wYXJzZUpTT04sXCJ0ZXh0IHhtbFwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3hiKHhiKGEsbi5hamF4U2V0dGluZ3MpLGIpOnhiKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOnZiKHJiKSxhamF4VHJhbnNwb3J0OnZiKHNiKSxhamF4OmZ1bmN0aW9uKGIsYyl7XCJvYmplY3RcIj09dHlwZW9mIGImJihjPWIsYj12b2lkIDApLGM9Y3x8e307dmFyIGUsZixnLGgsaSxqLGssbCxtPW4uYWpheFNldHVwKHt9LGMpLG89bS5jb250ZXh0fHxtLHA9bS5jb250ZXh0JiYoby5ub2RlVHlwZXx8by5qcXVlcnkpP24obyk6bi5ldmVudCxxPW4uRGVmZXJyZWQoKSxyPW4uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikscz1tLnN0YXR1c0NvZGV8fHt9LHQ9e30sdT17fSx2PTAsdz1cImNhbmNlbGVkXCIseD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT12KXtpZighaCl7aD17fTt3aGlsZShiPW5iLmV4ZWMoZykpaFtiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1oW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXY/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB2fHwoYT11W2NdPXVbY118fGEsdFthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB2fHwobS5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj52KWZvcihiIGluIGEpc1tiXT1bc1tiXSxhW2JdXTtlbHNlIHguYWx3YXlzKGFbeC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dztyZXR1cm4gZSYmZS5hYm9ydChiKSx6KDAsYiksdGhpc319O2lmKHEucHJvbWlzZSh4KS5jb21wbGV0ZT1yLmFkZCx4LnN1Y2Nlc3M9eC5kb25lLHguZXJyb3I9eC5mYWlsLG0udXJsPSgoYnx8bS51cmx8fGliLmhyZWYpK1wiXCIpLnJlcGxhY2UobGIsXCJcIikucmVwbGFjZShxYixpYi5wcm90b2NvbCtcIi8vXCIpLG0udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxtLm1ldGhvZHx8bS50eXBlLG0uZGF0YVR5cGVzPW4udHJpbShtLmRhdGFUeXBlfHxcIipcIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W1wiXCJdLG51bGw9PW0uY3Jvc3NEb21haW4pe2o9ZC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0cnl7ai5ocmVmPW0udXJsLGouaHJlZj1qLmhyZWYsbS5jcm9zc0RvbWFpbj11Yi5wcm90b2NvbCtcIi8vXCIrdWIuaG9zdCE9ai5wcm90b2NvbCtcIi8vXCIrai5ob3N0fWNhdGNoKHkpe20uY3Jvc3NEb21haW49ITB9fWlmKG0uZGF0YSYmbS5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIG0uZGF0YSYmKG0uZGF0YT1uLnBhcmFtKG0uZGF0YSxtLnRyYWRpdGlvbmFsKSksd2IocmIsbSxjLHgpLDI9PT12KXJldHVybiB4O2s9bi5ldmVudCYmbS5nbG9iYWwsayYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxtLnR5cGU9bS50eXBlLnRvVXBwZXJDYXNlKCksbS5oYXNDb250ZW50PSFwYi50ZXN0KG0udHlwZSksZj1tLnVybCxtLmhhc0NvbnRlbnR8fChtLmRhdGEmJihmPW0udXJsKz0oa2IudGVzdChmKT9cIiZcIjpcIj9cIikrbS5kYXRhLGRlbGV0ZSBtLmRhdGEpLG0uY2FjaGU9PT0hMSYmKG0udXJsPW1iLnRlc3QoZik/Zi5yZXBsYWNlKG1iLFwiJDFfPVwiK2piKyspOmYrKGtiLnRlc3QoZik/XCImXCI6XCI/XCIpK1wiXz1cIitqYisrKSksbS5pZk1vZGlmaWVkJiYobi5sYXN0TW9kaWZpZWRbZl0mJnguc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLG4uZXRhZ1tmXSkpLChtLmRhdGEmJm0uaGFzQ29udGVudCYmbS5jb250ZW50VHlwZSE9PSExfHxjLmNvbnRlbnRUeXBlKSYmeC5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsbS5jb250ZW50VHlwZSkseC5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsbS5kYXRhVHlwZXNbMF0mJm0uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0/bS5hY2NlcHRzW20uZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1tLmRhdGFUeXBlc1swXT9cIiwgXCIrdGIrXCI7IHE9MC4wMVwiOlwiXCIpOm0uYWNjZXB0c1tcIipcIl0pO2ZvcihsIGluIG0uaGVhZGVycyl4LnNldFJlcXVlc3RIZWFkZXIobCxtLmhlYWRlcnNbbF0pO2lmKG0uYmVmb3JlU2VuZCYmKG0uYmVmb3JlU2VuZC5jYWxsKG8seCxtKT09PSExfHwyPT09dikpcmV0dXJuIHguYWJvcnQoKTt3PVwiYWJvcnRcIjtmb3IobCBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl4W2xdKG1bbF0pO2lmKGU9d2Ioc2IsbSxjLHgpKXtpZih4LnJlYWR5U3RhdGU9MSxrJiZwLnRyaWdnZXIoXCJhamF4U2VuZFwiLFt4LG1dKSwyPT09dilyZXR1cm4geDttLmFzeW5jJiZtLnRpbWVvdXQ+MCYmKGk9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eC5hYm9ydChcInRpbWVvdXRcIil9LG0udGltZW91dCkpO3RyeXt2PTEsZS5zZW5kKHQseil9Y2F0Y2goeSl7aWYoISgyPnYpKXRocm93IHk7eigtMSx5KX19ZWxzZSB6KC0xLFwiTm8gVHJhbnNwb3J0XCIpO2Z1bmN0aW9uIHooYixjLGQsaCl7dmFyIGosbCx0LHUsdyx5PWM7MiE9PXYmJih2PTIsaSYmYS5jbGVhclRpbWVvdXQoaSksZT12b2lkIDAsZz1ofHxcIlwiLHgucmVhZHlTdGF0ZT1iPjA/NDowLGo9Yj49MjAwJiYzMDA+Ynx8MzA0PT09YixkJiYodT15YihtLHgsZCkpLHU9emIobSx1LHgsaiksaj8obS5pZk1vZGlmaWVkJiYodz14LmdldFJlc3BvbnNlSGVhZGVyKFwiTGFzdC1Nb2RpZmllZFwiKSx3JiYobi5sYXN0TW9kaWZpZWRbZl09dyksdz14LmdldFJlc3BvbnNlSGVhZGVyKFwiZXRhZ1wiKSx3JiYobi5ldGFnW2ZdPXcpKSwyMDQ9PT1ifHxcIkhFQURcIj09PW0udHlwZT95PVwibm9jb250ZW50XCI6MzA0PT09Yj95PVwibm90bW9kaWZpZWRcIjooeT11LnN0YXRlLGw9dS5kYXRhLHQ9dS5lcnJvcixqPSF0KSk6KHQ9eSwoYnx8IXkpJiYoeT1cImVycm9yXCIsMD5iJiYoYj0wKSkpLHguc3RhdHVzPWIseC5zdGF0dXNUZXh0PShjfHx5KStcIlwiLGo/cS5yZXNvbHZlV2l0aChvLFtsLHkseF0pOnEucmVqZWN0V2l0aChvLFt4LHksdF0pLHguc3RhdHVzQ29kZShzKSxzPXZvaWQgMCxrJiZwLnRyaWdnZXIoaj9cImFqYXhTdWNjZXNzXCI6XCJhamF4RXJyb3JcIixbeCxtLGo/bDp0XSksci5maXJlV2l0aChvLFt4LHldKSxrJiYocC50cmlnZ2VyKFwiYWpheENvbXBsZXRlXCIsW3gsbV0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpKSl9cmV0dXJuIHh9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLmdldChhLGIsYyxcImpzb25cIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLFwic2NyaXB0XCIpfX0pLG4uZWFjaChbXCJnZXRcIixcInBvc3RcIl0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxuLmFqYXgobi5leHRlbmQoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9LG4uaXNQbGFpbk9iamVjdChhKSYmYSkpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwic2NyaXB0XCIsYXN5bmM6ITEsZ2xvYmFsOiExLFwidGhyb3dzXCI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLFwiYm9keVwiKXx8bih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9fSksbi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiFuLmV4cHIuZmlsdGVycy52aXNpYmxlKGEpfSxuLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLm9mZnNldFdpZHRoPjB8fGEub2Zmc2V0SGVpZ2h0PjB8fGEuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg+MH07dmFyIEFiPS8lMjAvZyxCYj0vXFxbXFxdJC8sQ2I9L1xccj9cXG4vZyxEYj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksRWI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEZiKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fEJiLnRlc3QoYSk/ZChhLGUpOkZiKGErXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6XCJcIikrXCJdXCIsZSxjLGQpfSk7ZWxzZSBpZihjfHxcIm9iamVjdFwiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpRmIoYStcIltcIitlK1wiXVwiLGJbZV0sYyxkKX1uLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1uLmlzRnVuY3Rpb24oYik/YigpOm51bGw9PWI/XCJcIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUZiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oXCImXCIpLnJlcGxhY2UoQWIsXCIrXCIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcyxcImVsZW1lbnRzXCIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJkViLnRlc3QodGhpcy5ub2RlTmFtZSkmJiFEYi50ZXN0KGEpJiYodGhpcy5jaGVja2VkfHwhWC50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPW4odGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDpuLmlzQXJyYXkoYyk/bi5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKENiLFwiXFxyXFxuXCIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoQ2IsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fTt2YXIgR2I9ezA6MjAwLDEyMjM6MjA0fSxIYj1uLmFqYXhTZXR0aW5ncy54aHIoKTtsLmNvcnM9ISFIYiYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIEhiLGwuYWpheD1IYj0hIUhiLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiBsLmNvcnN8fEhiJiYhYi5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihlLGYpe3ZhciBnLGg9Yi54aHIoKTtpZihoLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZyBpbiBiLnhockZpZWxkcyloW2ddPWIueGhyRmllbGRzW2ddO2IubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGVbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoZVtcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoZyBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihnLGVbZ10pO2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGM9ZD1oLm9ubG9hZD1oLm9uZXJyb3I9aC5vbmFib3J0PWgub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsXCJhYm9ydFwiPT09YT9oLmFib3J0KCk6XCJlcnJvclwiPT09YT9cIm51bWJlclwiIT10eXBlb2YgaC5zdGF0dXM/ZigwLFwiZXJyb3JcIik6ZihoLnN0YXR1cyxoLnN0YXR1c1RleHQpOmYoR2JbaC5zdGF0dXNdfHxoLnN0YXR1cyxoLnN0YXR1c1RleHQsXCJ0ZXh0XCIhPT0oaC5yZXNwb25zZVR5cGV8fFwidGV4dFwiKXx8XCJzdHJpbmdcIiE9dHlwZW9mIGgucmVzcG9uc2VUZXh0P3tiaW5hcnk6aC5yZXNwb25zZX06e3RleHQ6aC5yZXNwb25zZVRleHR9LGguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LGgub25sb2FkPWMoKSxkPWgub25lcnJvcj1jKFwiZXJyb3JcIiksdm9pZCAwIT09aC5vbmFib3J0P2gub25hYm9ydD1kOmgub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PWgucmVhZHlTdGF0ZSYmYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyYmZCgpfSl9LGM9YyhcImFib3J0XCIpO3RyeXtoLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpfWNhdGNoKGkpe2lmKGMpdGhyb3cgaX19LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDpcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvfSxjb252ZXJ0ZXJzOntcInRleHQgc2NyaXB0XCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2xvYmFsRXZhbChhKSxhfX19KSxuLmFqYXhQcmVmaWx0ZXIoXCJzY3JpcHRcIixmdW5jdGlvbihhKXt2b2lkIDA9PT1hLmNhY2hlJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT1cIkdFVFwiKX0pLG4uYWpheFRyYW5zcG9ydChcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXtiPW4oXCI8c2NyaXB0PlwiKS5wcm9wKHtjaGFyc2V0OmEuc2NyaXB0Q2hhcnNldCxzcmM6YS51cmx9KS5vbihcImxvYWQgZXJyb3JcIixjPWZ1bmN0aW9uKGEpe2IucmVtb3ZlKCksYz1udWxsLGEmJmYoXCJlcnJvclwiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGQuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgSWI9W10sSmI9Lyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztuLmFqYXhTZXR1cCh7anNvbnA6XCJjYWxsYmFja1wiLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1JYi5wb3AoKXx8bi5leHBhbmRvK1wiX1wiK2piKys7cmV0dXJuIHRoaXNbYV09ITAsYX19KSxuLmFqYXhQcmVmaWx0ZXIoXCJqc29uIGpzb25wXCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKEpiLnRlc3QoYi51cmwpP1widXJsXCI6XCJzdHJpbmdcIj09dHlwZW9mIGIuZGF0YSYmMD09PShiLmNvbnRlbnRUeXBlfHxcIlwiKS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpJiZKYi50ZXN0KGIuZGF0YSkmJlwiZGF0YVwiKTtyZXR1cm4gaHx8XCJqc29ucFwiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKEpiLFwiJDFcIitlKTpiLmpzb25wIT09ITEmJihiLnVybCs9KGtiLnRlc3QoYi51cmwpP1wiJlwiOlwiP1wiKStiLmpzb25wK1wiPVwiK2UpLGIuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIGd8fG4uZXJyb3IoZStcIiB3YXMgbm90IGNhbGxlZFwiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT1cImpzb25cIixmPWFbZV0sYVtlXT1mdW5jdGlvbigpe2c9YXJndW1lbnRzfSxkLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWY/bihhKS5yZW1vdmVQcm9wKGUpOmFbZV09ZixiW2VdJiYoYi5qc29ucENhbGxiYWNrPWMuanNvbnBDYWxsYmFjayxJYi5wdXNoKGUpKSxnJiZuLmlzRnVuY3Rpb24oZikmJmYoZ1swXSksZz1mPXZvaWQgMH0pLFwic2NyaXB0XCIpOnZvaWQgMH0pLGwuY3JlYXRlSFRNTERvY3VtZW50PWZ1bmN0aW9uKCl7dmFyIGE9ZC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJcIikuYm9keTtyZXR1cm4gYS5pbm5lckhUTUw9XCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiLDI9PT1hLmNoaWxkTm9kZXMubGVuZ3RofSgpLG4ucGFyc2VIVE1MPWZ1bmN0aW9uKGEsYixjKXtpZighYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7XCJib29sZWFuXCI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8KGwuY3JlYXRlSFRNTERvY3VtZW50P2QuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpOmQpO3ZhciBlPXguZXhlYyhhKSxmPSFjJiZbXTtyZXR1cm4gZT9bYi5jcmVhdGVFbGVtZW50KGVbMV0pXTooZT1jYShbYV0sYixmKSxmJiZmLmxlbmd0aCYmbihmKS5yZW1vdmUoKSxuLm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfTt2YXIgS2I9bi5mbi5sb2FkO24uZm4ubG9hZD1mdW5jdGlvbihhLGIsYyl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJktiKXJldHVybiBLYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZihcIiBcIik7cmV0dXJuIGg+LTEmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoZT1cIlBPU1RcIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fFwiR0VUXCIsZGF0YVR5cGU6XCJodG1sXCIsZGF0YTpifSkuZG9uZShmdW5jdGlvbihhKXtmPWFyZ3VtZW50cyxnLmh0bWwoZD9uKFwiPGRpdj5cIikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseShnLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFtcImFqYXhTdGFydFwiLFwiYWpheFN0b3BcIixcImFqYXhDb21wbGV0ZVwiLFwiYWpheEVycm9yXCIsXCJhamF4U3VjY2Vzc1wiLFwiYWpheFNlbmRcIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gTGIoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZSYmYS5kZWZhdWx0Vmlld31uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsXCJwb3NpdGlvblwiKSxsPW4oYSksbT17fTtcInN0YXRpY1wiPT09ayYmKGEuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLFwidG9wXCIpLGk9bi5jc3MoYSxcImxlZnRcIiksaj0oXCJhYnNvbHV0ZVwiPT09a3x8XCJmaXhlZFwiPT09aykmJihmK2kpLmluZGV4T2YoXCJhdXRvXCIpPi0xLGo/KGQ9bC5wb3NpdGlvbigpLGc9ZC50b3AsZT1kLmxlZnQpOihnPXBhcnNlRmxvYXQoZil8fDAsZT1wYXJzZUZsb2F0KGkpfHwwKSxuLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsbi5leHRlbmQoe30saCkpKSxudWxsIT1iLnRvcCYmKG0udG9wPWIudG9wLWgudG9wK2cpLG51bGwhPWIubGVmdCYmKG0ubGVmdD1iLmxlZnQtaC5sZWZ0K2UpLFwidXNpbmdcImluIGI/Yi51c2luZy5jYWxsKGEsbSk6bC5jc3MobSl9fSxuLmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGEpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWE/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oYil7bi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO3ZhciBiLGMsZD10aGlzWzBdLGU9e3RvcDowLGxlZnQ6MH0sZj1kJiZkLm93bmVyRG9jdW1lbnQ7aWYoZilyZXR1cm4gYj1mLmRvY3VtZW50RWxlbWVudCxuLmNvbnRhaW5zKGIsZCk/KGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxjPUxiKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1uLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG4ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1uLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCktYS5zY3JvbGxUb3AoKSxkLmxlZnQrPW4uY3NzKGFbMF0sXCJib3JkZXJMZWZ0V2lkdGhcIiwhMCktYS5zY3JvbGxMZWZ0KCkpLHt0b3A6Yi50b3AtZC50b3Atbi5jc3MoYyxcIm1hcmdpblRvcFwiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtbi5jc3MoYyxcIm1hcmdpbkxlZnRcIiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoYSYmXCJzdGF0aWNcIj09PW4uY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxFYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz1cInBhZ2VZT2Zmc2V0XCI9PT1iO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9TGIoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9mW2JdOmFbZF06dm9pZChmP2Yuc2Nyb2xsVG8oYz9mLnBhZ2VYT2Zmc2V0OmUsYz9lOmYucGFnZVlPZmZzZXQpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoKX19KSxuLmVhY2goW1widG9wXCIsXCJsZWZ0XCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1HYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1GYShhLGIpLEJhLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdK1wicHhcIjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OlwiaGVpZ2h0XCIsV2lkdGg6XCJ3aWR0aFwifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7cGFkZGluZzpcImlubmVyXCIrYSxjb250ZW50OmIsXCJcIjpcIm91dGVyXCIrYX0sZnVuY3Rpb24oYyxkKXtuLmZuW2RdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aCYmKGN8fFwiYm9vbGVhblwiIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/XCJtYXJnaW5cIjpcImJvcmRlclwiKTtyZXR1cm4gSyh0aGlzLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtyZXR1cm4gbi5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtcImNsaWVudFwiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVtcInNjcm9sbFwiK2FdLGVbXCJzY3JvbGxcIithXSxiLmJvZHlbXCJvZmZzZXRcIithXSxlW1wib2Zmc2V0XCIrYV0sZVtcImNsaWVudFwiK2FdKSk6dm9pZCAwPT09ZD9uLmNzcyhiLGMsZyk6bi5zdHlsZShiLGMsZCxnKX0sYixmP2Q6dm9pZCAwLGYsbnVsbCl9fSl9KSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLm9uKGIsYSxjLGQpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSxcIioqXCIpOnRoaXMub2ZmKGIsYXx8XCIqKlwiLGMpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofX0pLG4uZm4uYW5kU2VsZj1uLmZuLmFkZEJhY2ssXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJqcXVlcnlcIixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIE1iPWEualF1ZXJ5LE5iPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU5iKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1NYiksbn0sYnx8KGEualF1ZXJ5PWEuJD1uKSxufSk7XHJcblxuOyBicm93c2VyaWZ5X3NoaW1fX2RlZmluZV9fbW9kdWxlX19leHBvcnRfXyh0eXBlb2YgJCAhPSBcInVuZGVmaW5lZFwiID8gJCA6IHdpbmRvdy4kKTtcblxufSkuY2FsbChnbG9iYWwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gZGVmaW5lRXhwb3J0KGV4KSB7IG1vZHVsZS5leHBvcnRzID0gZXg7IH0pO1xuIiwiLyohIGpRdWVyeSBWYWxpZGF0aW9uIFBsdWdpbiAtIHYxLjEzLjEgLSAxMC8xNC8yMDE0XHJcbiAqIGh0dHA6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9cclxuICogQ29weXJpZ2h0IChjKSAyMDE0IErDtnJuIFphZWZmZXJlcjsgTGljZW5zZWQgTUlUICovXHJcbiFmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxhKTphKGpRdWVyeSl9KGZ1bmN0aW9uKGEpe2EuZXh0ZW5kKGEuZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKGIpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZChiJiZiLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKFwiTm90aGluZyBzZWxlY3RlZCwgY2FuJ3QgdmFsaWRhdGUsIHJldHVybmluZyBub3RoaW5nLlwiKSk7dmFyIGM9YS5kYXRhKHRoaXNbMF0sXCJ2YWxpZGF0b3JcIik7cmV0dXJuIGM/YzoodGhpcy5hdHRyKFwibm92YWxpZGF0ZVwiLFwibm92YWxpZGF0ZVwiKSxjPW5ldyBhLnZhbGlkYXRvcihiLHRoaXNbMF0pLGEuZGF0YSh0aGlzWzBdLFwidmFsaWRhdG9yXCIsYyksYy5zZXR0aW5ncy5vbnN1Ym1pdCYmKHRoaXMudmFsaWRhdGVEZWxlZ2F0ZShcIjpzdWJtaXRcIixcImNsaWNrXCIsZnVuY3Rpb24oYil7Yy5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyJiYoYy5zdWJtaXRCdXR0b249Yi50YXJnZXQpLGEoYi50YXJnZXQpLmhhc0NsYXNzKFwiY2FuY2VsXCIpJiYoYy5jYW5jZWxTdWJtaXQ9ITApLHZvaWQgMCE9PWEoYi50YXJnZXQpLmF0dHIoXCJmb3Jtbm92YWxpZGF0ZVwiKSYmKGMuY2FuY2VsU3VibWl0PSEwKX0pLHRoaXMuc3VibWl0KGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGQoKXt2YXIgZCxlO3JldHVybiBjLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXI/KGMuc3VibWl0QnV0dG9uJiYoZD1hKFwiPGlucHV0IHR5cGU9J2hpZGRlbicvPlwiKS5hdHRyKFwibmFtZVwiLGMuc3VibWl0QnV0dG9uLm5hbWUpLnZhbChhKGMuc3VibWl0QnV0dG9uKS52YWwoKSkuYXBwZW5kVG8oYy5jdXJyZW50Rm9ybSkpLGU9Yy5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyLmNhbGwoYyxjLmN1cnJlbnRGb3JtLGIpLGMuc3VibWl0QnV0dG9uJiZkLnJlbW92ZSgpLHZvaWQgMCE9PWU/ZTohMSk6ITB9cmV0dXJuIGMuc2V0dGluZ3MuZGVidWcmJmIucHJldmVudERlZmF1bHQoKSxjLmNhbmNlbFN1Ym1pdD8oYy5jYW5jZWxTdWJtaXQ9ITEsZCgpKTpjLmZvcm0oKT9jLnBlbmRpbmdSZXF1ZXN0PyhjLmZvcm1TdWJtaXR0ZWQ9ITAsITEpOmQoKTooYy5mb2N1c0ludmFsaWQoKSwhMSl9KSksYyl9LHZhbGlkOmZ1bmN0aW9uKCl7dmFyIGIsYztyZXR1cm4gYSh0aGlzWzBdKS5pcyhcImZvcm1cIik/Yj10aGlzLnZhbGlkYXRlKCkuZm9ybSgpOihiPSEwLGM9YSh0aGlzWzBdLmZvcm0pLnZhbGlkYXRlKCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yj1jLmVsZW1lbnQodGhpcykmJmJ9KSksYn0scmVtb3ZlQXR0cnM6ZnVuY3Rpb24oYil7dmFyIGM9e30sZD10aGlzO3JldHVybiBhLmVhY2goYi5zcGxpdCgvXFxzLyksZnVuY3Rpb24oYSxiKXtjW2JdPWQuYXR0cihiKSxkLnJlbW92ZUF0dHIoYil9KSxjfSxydWxlczpmdW5jdGlvbihiLGMpe3ZhciBkLGUsZixnLGgsaSxqPXRoaXNbMF07aWYoYilzd2l0Y2goZD1hLmRhdGEoai5mb3JtLFwidmFsaWRhdG9yXCIpLnNldHRpbmdzLGU9ZC5ydWxlcyxmPWEudmFsaWRhdG9yLnN0YXRpY1J1bGVzKGopLGIpe2Nhc2VcImFkZFwiOmEuZXh0ZW5kKGYsYS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShjKSksZGVsZXRlIGYubWVzc2FnZXMsZVtqLm5hbWVdPWYsYy5tZXNzYWdlcyYmKGQubWVzc2FnZXNbai5uYW1lXT1hLmV4dGVuZChkLm1lc3NhZ2VzW2oubmFtZV0sYy5tZXNzYWdlcykpO2JyZWFrO2Nhc2VcInJlbW92ZVwiOnJldHVybiBjPyhpPXt9LGEuZWFjaChjLnNwbGl0KC9cXHMvKSxmdW5jdGlvbihiLGMpe2lbY109ZltjXSxkZWxldGUgZltjXSxcInJlcXVpcmVkXCI9PT1jJiZhKGopLnJlbW92ZUF0dHIoXCJhcmlhLXJlcXVpcmVkXCIpfSksaSk6KGRlbGV0ZSBlW2oubmFtZV0sZil9cmV0dXJuIGc9YS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMoYS5leHRlbmQoe30sYS52YWxpZGF0b3IuY2xhc3NSdWxlcyhqKSxhLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhqKSxhLnZhbGlkYXRvci5kYXRhUnVsZXMoaiksYS52YWxpZGF0b3Iuc3RhdGljUnVsZXMoaikpLGopLGcucmVxdWlyZWQmJihoPWcucmVxdWlyZWQsZGVsZXRlIGcucmVxdWlyZWQsZz1hLmV4dGVuZCh7cmVxdWlyZWQ6aH0sZyksYShqKS5hdHRyKFwiYXJpYS1yZXF1aXJlZFwiLFwidHJ1ZVwiKSksZy5yZW1vdGUmJihoPWcucmVtb3RlLGRlbGV0ZSBnLnJlbW90ZSxnPWEuZXh0ZW5kKGcse3JlbW90ZTpofSkpLGd9fSksYS5leHRlbmQoYS5leHByW1wiOlwiXSx7Ymxhbms6ZnVuY3Rpb24oYil7cmV0dXJuIWEudHJpbShcIlwiK2EoYikudmFsKCkpfSxmaWxsZWQ6ZnVuY3Rpb24oYil7cmV0dXJuISFhLnRyaW0oXCJcIithKGIpLnZhbCgpKX0sdW5jaGVja2VkOmZ1bmN0aW9uKGIpe3JldHVybiFhKGIpLnByb3AoXCJjaGVja2VkXCIpfX0pLGEudmFsaWRhdG9yPWZ1bmN0aW9uKGIsYyl7dGhpcy5zZXR0aW5ncz1hLmV4dGVuZCghMCx7fSxhLnZhbGlkYXRvci5kZWZhdWx0cyxiKSx0aGlzLmN1cnJlbnRGb3JtPWMsdGhpcy5pbml0KCl9LGEudmFsaWRhdG9yLmZvcm1hdD1mdW5jdGlvbihiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9mdW5jdGlvbigpe3ZhciBjPWEubWFrZUFycmF5KGFyZ3VtZW50cyk7cmV0dXJuIGMudW5zaGlmdChiKSxhLnZhbGlkYXRvci5mb3JtYXQuYXBwbHkodGhpcyxjKX06KGFyZ3VtZW50cy5sZW5ndGg+MiYmYy5jb25zdHJ1Y3RvciE9PUFycmF5JiYoYz1hLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxjLmNvbnN0cnVjdG9yIT09QXJyYXkmJihjPVtjXSksYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiXFxcXHtcIithK1wiXFxcXH1cIixcImdcIiksZnVuY3Rpb24oKXtyZXR1cm4gY30pfSksYil9LGEuZXh0ZW5kKGEudmFsaWRhdG9yLHtkZWZhdWx0czp7bWVzc2FnZXM6e30sZ3JvdXBzOnt9LHJ1bGVzOnt9LGVycm9yQ2xhc3M6XCJlcnJvclwiLHZhbGlkQ2xhc3M6XCJ2YWxpZFwiLGVycm9yRWxlbWVudDpcImxhYmVsXCIsZm9jdXNDbGVhbnVwOiExLGZvY3VzSW52YWxpZDohMCxlcnJvckNvbnRhaW5lcjphKFtdKSxlcnJvckxhYmVsQ29udGFpbmVyOmEoW10pLG9uc3VibWl0OiEwLGlnbm9yZTpcIjpoaWRkZW5cIixpZ25vcmVUaXRsZTohMSxvbmZvY3VzaW46ZnVuY3Rpb24oYSl7dGhpcy5sYXN0QWN0aXZlPWEsdGhpcy5zZXR0aW5ncy5mb2N1c0NsZWFudXAmJih0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0JiZ0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxhLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpLHRoaXMuaGlkZVRoZXNlKHRoaXMuZXJyb3JzRm9yKGEpKSl9LG9uZm9jdXNvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jaGVja2FibGUoYSl8fCEoYS5uYW1lIGluIHRoaXMuc3VibWl0dGVkKSYmdGhpcy5vcHRpb25hbChhKXx8dGhpcy5lbGVtZW50KGEpfSxvbmtleXVwOmZ1bmN0aW9uKGEsYil7KDkhPT1iLndoaWNofHxcIlwiIT09dGhpcy5lbGVtZW50VmFsdWUoYSkpJiYoYS5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHxhPT09dGhpcy5sYXN0RWxlbWVudCkmJnRoaXMuZWxlbWVudChhKX0sb25jbGljazpmdW5jdGlvbihhKXthLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQ/dGhpcy5lbGVtZW50KGEpOmEucGFyZW50Tm9kZS5uYW1lIGluIHRoaXMuc3VibWl0dGVkJiZ0aGlzLmVsZW1lbnQoYS5wYXJlbnROb2RlKX0saGlnaGxpZ2h0OmZ1bmN0aW9uKGIsYyxkKXtcInJhZGlvXCI9PT1iLnR5cGU/dGhpcy5maW5kQnlOYW1lKGIubmFtZSkuYWRkQ2xhc3MoYykucmVtb3ZlQ2xhc3MoZCk6YShiKS5hZGRDbGFzcyhjKS5yZW1vdmVDbGFzcyhkKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24oYixjLGQpe1wicmFkaW9cIj09PWIudHlwZT90aGlzLmZpbmRCeU5hbWUoYi5uYW1lKS5yZW1vdmVDbGFzcyhjKS5hZGRDbGFzcyhkKTphKGIpLnJlbW92ZUNsYXNzKGMpLmFkZENsYXNzKGQpfX0sc2V0RGVmYXVsdHM6ZnVuY3Rpb24oYil7YS5leHRlbmQoYS52YWxpZGF0b3IuZGVmYXVsdHMsYil9LG1lc3NhZ2VzOntyZXF1aXJlZDpcIlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuXCIscmVtb3RlOlwiUGxlYXNlIGZpeCB0aGlzIGZpZWxkLlwiLGVtYWlsOlwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIix1cmw6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuXCIsZGF0ZTpcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUuXCIsZGF0ZUlTTzpcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUgKCBJU08gKS5cIixudW1iZXI6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIuXCIsZGlnaXRzOlwiUGxlYXNlIGVudGVyIG9ubHkgZGlnaXRzLlwiLGNyZWRpdGNhcmQ6XCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBjcmVkaXQgY2FyZCBudW1iZXIuXCIsZXF1YWxUbzpcIlBsZWFzZSBlbnRlciB0aGUgc2FtZSB2YWx1ZSBhZ2Fpbi5cIixtYXhsZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIG5vIG1vcmUgdGhhbiB7MH0gY2hhcmFjdGVycy5cIiksbWlubGVuZ3RoOmEudmFsaWRhdG9yLmZvcm1hdChcIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy5cIikscmFuZ2VsZW5ndGg6YS52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfSBjaGFyYWN0ZXJzIGxvbmcuXCIpLHJhbmdlOmEudmFsaWRhdG9yLmZvcm1hdChcIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0uXCIpLG1heDphLnZhbGlkYXRvci5mb3JtYXQoXCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LlwiKSxtaW46YS52YWxpZGF0b3IuZm9ybWF0KFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHswfS5cIil9LGF1dG9DcmVhdGVSYW5nZXM6ITEscHJvdG90eXBlOntpbml0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiKXt2YXIgYz1hLmRhdGEodGhpc1swXS5mb3JtLFwidmFsaWRhdG9yXCIpLGQ9XCJvblwiK2IudHlwZS5yZXBsYWNlKC9edmFsaWRhdGUvLFwiXCIpLGU9Yy5zZXR0aW5ncztlW2RdJiYhdGhpcy5pcyhlLmlnbm9yZSkmJmVbZF0uY2FsbChjLHRoaXNbMF0sYil9dGhpcy5sYWJlbENvbnRhaW5lcj1hKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lciksdGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fGEodGhpcy5jdXJyZW50Rm9ybSksdGhpcy5jb250YWluZXJzPWEodGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lciksdGhpcy5zdWJtaXR0ZWQ9e30sdGhpcy52YWx1ZUNhY2hlPXt9LHRoaXMucGVuZGluZ1JlcXVlc3Q9MCx0aGlzLnBlbmRpbmc9e30sdGhpcy5pbnZhbGlkPXt9LHRoaXMucmVzZXQoKTt2YXIgYyxkPXRoaXMuZ3JvdXBzPXt9O2EuZWFjaCh0aGlzLnNldHRpbmdzLmdyb3VwcyxmdW5jdGlvbihiLGMpe1wic3RyaW5nXCI9PXR5cGVvZiBjJiYoYz1jLnNwbGl0KC9cXHMvKSksYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtkW2NdPWJ9KX0pLGM9dGhpcy5zZXR0aW5ncy5ydWxlcyxhLmVhY2goYyxmdW5jdGlvbihiLGQpe2NbYl09YS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShkKX0pLGEodGhpcy5jdXJyZW50Rm9ybSkudmFsaWRhdGVEZWxlZ2F0ZShcIjp0ZXh0LCBbdHlwZT0ncGFzc3dvcmQnXSwgW3R5cGU9J2ZpbGUnXSwgc2VsZWN0LCB0ZXh0YXJlYSwgW3R5cGU9J251bWJlciddLCBbdHlwZT0nc2VhcmNoJ10gLFt0eXBlPSd0ZWwnXSwgW3R5cGU9J3VybCddLCBbdHlwZT0nZW1haWwnXSwgW3R5cGU9J2RhdGV0aW1lJ10sIFt0eXBlPSdkYXRlJ10sIFt0eXBlPSdtb250aCddLCBbdHlwZT0nd2VlayddLCBbdHlwZT0ndGltZSddLCBbdHlwZT0nZGF0ZXRpbWUtbG9jYWwnXSwgW3R5cGU9J3JhbmdlJ10sIFt0eXBlPSdjb2xvciddLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J11cIixcImZvY3VzaW4gZm9jdXNvdXQga2V5dXBcIixiKS52YWxpZGF0ZURlbGVnYXRlKFwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXVwiLFwiY2xpY2tcIixiKSx0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyJiZhKHRoaXMuY3VycmVudEZvcm0pLmJpbmQoXCJpbnZhbGlkLWZvcm0udmFsaWRhdGVcIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKSxhKHRoaXMuY3VycmVudEZvcm0pLmZpbmQoXCJbcmVxdWlyZWRdLCBbZGF0YS1ydWxlLXJlcXVpcmVkXSwgLnJlcXVpcmVkXCIpLmF0dHIoXCJhcmlhLXJlcXVpcmVkXCIsXCJ0cnVlXCIpfSxmb3JtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tGb3JtKCksYS5leHRlbmQodGhpcy5zdWJtaXR0ZWQsdGhpcy5lcnJvck1hcCksdGhpcy5pbnZhbGlkPWEuZXh0ZW5kKHt9LHRoaXMuZXJyb3JNYXApLHRoaXMudmFsaWQoKXx8YSh0aGlzLmN1cnJlbnRGb3JtKS50cmlnZ2VySGFuZGxlcihcImludmFsaWQtZm9ybVwiLFt0aGlzXSksdGhpcy5zaG93RXJyb3JzKCksdGhpcy52YWxpZCgpfSxjaGVja0Zvcm06ZnVuY3Rpb24oKXt0aGlzLnByZXBhcmVGb3JtKCk7Zm9yKHZhciBhPTAsYj10aGlzLmN1cnJlbnRFbGVtZW50cz10aGlzLmVsZW1lbnRzKCk7YlthXTthKyspdGhpcy5jaGVjayhiW2FdKTtyZXR1cm4gdGhpcy52YWxpZCgpfSxlbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuY2xlYW4oYiksZD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoYyksZT0hMDtyZXR1cm4gdGhpcy5sYXN0RWxlbWVudD1kLHZvaWQgMD09PWQ/ZGVsZXRlIHRoaXMuaW52YWxpZFtjLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KGQpLHRoaXMuY3VycmVudEVsZW1lbnRzPWEoZCksZT10aGlzLmNoZWNrKGQpIT09ITEsZT9kZWxldGUgdGhpcy5pbnZhbGlkW2QubmFtZV06dGhpcy5pbnZhbGlkW2QubmFtZV09ITApLGEoYikuYXR0cihcImFyaWEtaW52YWxpZFwiLCFlKSx0aGlzLm51bWJlck9mSW52YWxpZHMoKXx8KHRoaXMudG9IaWRlPXRoaXMudG9IaWRlLmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNob3dFcnJvcnMoKSxlfSxzaG93RXJyb3JzOmZ1bmN0aW9uKGIpe2lmKGIpe2EuZXh0ZW5kKHRoaXMuZXJyb3JNYXAsYiksdGhpcy5lcnJvckxpc3Q9W107Zm9yKHZhciBjIGluIGIpdGhpcy5lcnJvckxpc3QucHVzaCh7bWVzc2FnZTpiW2NdLGVsZW1lbnQ6dGhpcy5maW5kQnlOYW1lKGMpWzBdfSk7dGhpcy5zdWNjZXNzTGlzdD1hLmdyZXAodGhpcy5zdWNjZXNzTGlzdCxmdW5jdGlvbihhKXtyZXR1cm4hKGEubmFtZSBpbiBiKX0pfXRoaXMuc2V0dGluZ3Muc2hvd0Vycm9ycz90aGlzLnNldHRpbmdzLnNob3dFcnJvcnMuY2FsbCh0aGlzLHRoaXMuZXJyb3JNYXAsdGhpcy5lcnJvckxpc3QpOnRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKX0scmVzZXRGb3JtOmZ1bmN0aW9uKCl7YS5mbi5yZXNldEZvcm0mJmEodGhpcy5jdXJyZW50Rm9ybSkucmVzZXRGb3JtKCksdGhpcy5zdWJtaXR0ZWQ9e30sdGhpcy5sYXN0RWxlbWVudD1udWxsLHRoaXMucHJlcGFyZUZvcm0oKSx0aGlzLmhpZGVFcnJvcnMoKSx0aGlzLmVsZW1lbnRzKCkucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5yZW1vdmVEYXRhKFwicHJldmlvdXNWYWx1ZVwiKS5yZW1vdmVBdHRyKFwiYXJpYS1pbnZhbGlkXCIpfSxudW1iZXJPZkludmFsaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKHRoaXMuaW52YWxpZCl9LG9iamVjdExlbmd0aDpmdW5jdGlvbihhKXt2YXIgYixjPTA7Zm9yKGIgaW4gYSljKys7cmV0dXJuIGN9LGhpZGVFcnJvcnM6ZnVuY3Rpb24oKXt0aGlzLmhpZGVUaGVzZSh0aGlzLnRvSGlkZSl9LGhpZGVUaGVzZTpmdW5jdGlvbihhKXthLm5vdCh0aGlzLmNvbnRhaW5lcnMpLnRleHQoXCJcIiksdGhpcy5hZGRXcmFwcGVyKGEpLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e2EodGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoXCI6dmlzaWJsZVwiKS5mb2N1cygpLnRyaWdnZXIoXCJmb2N1c2luXCIpfWNhdGNoKGIpe319LGZpbmRMYXN0QWN0aXZlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5sYXN0QWN0aXZlO3JldHVybiBiJiYxPT09YS5ncmVwKHRoaXMuZXJyb3JMaXN0LGZ1bmN0aW9uKGEpe3JldHVybiBhLmVsZW1lbnQubmFtZT09PWIubmFtZX0pLmxlbmd0aCYmYn0sZWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9e307cmV0dXJuIGEodGhpcy5jdXJyZW50Rm9ybSkuZmluZChcImlucHV0LCBzZWxlY3QsIHRleHRhcmVhXCIpLm5vdChcIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCBbZGlzYWJsZWRdLCBbcmVhZG9ubHldXCIpLm5vdCh0aGlzLnNldHRpbmdzLmlnbm9yZSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMubmFtZSYmYi5zZXR0aW5ncy5kZWJ1ZyYmd2luZG93LmNvbnNvbGUmJmNvbnNvbGUuZXJyb3IoXCIlbyBoYXMgbm8gbmFtZSBhc3NpZ25lZFwiLHRoaXMpLHRoaXMubmFtZSBpbiBjfHwhYi5vYmplY3RMZW5ndGgoYSh0aGlzKS5ydWxlcygpKT8hMTooY1t0aGlzLm5hbWVdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbihiKXtyZXR1cm4gYShiKVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KFwiIFwiKS5qb2luKFwiLlwiKTtyZXR1cm4gYSh0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCtcIi5cIitiLHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdLHRoaXMuZXJyb3JMaXN0PVtdLHRoaXMuZXJyb3JNYXA9e30sdGhpcy50b1Nob3c9YShbXSksdGhpcy50b0hpZGU9YShbXSksdGhpcy5jdXJyZW50RWxlbWVudHM9YShbXSl9LHByZXBhcmVGb3JtOmZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpLHRoaXMudG9IaWRlPXRoaXMuZXJyb3JzKCkuYWRkKHRoaXMuY29udGFpbmVycyl9LHByZXBhcmVFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMucmVzZXQoKSx0aGlzLnRvSGlkZT10aGlzLmVycm9yc0ZvcihhKX0sZWxlbWVudFZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBjLGQ9YShiKSxlPWIudHlwZTtyZXR1cm5cInJhZGlvXCI9PT1lfHxcImNoZWNrYm94XCI9PT1lP2EoXCJpbnB1dFtuYW1lPSdcIitiLm5hbWUrXCInXTpjaGVja2VkXCIpLnZhbCgpOlwibnVtYmVyXCI9PT1lJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgYi52YWxpZGl0eT9iLnZhbGlkaXR5LmJhZElucHV0PyExOmQudmFsKCk6KGM9ZC52YWwoKSxcInN0cmluZ1wiPT10eXBlb2YgYz9jLnJlcGxhY2UoL1xcci9nLFwiXCIpOmMpfSxjaGVjazpmdW5jdGlvbihiKXtiPXRoaXMudmFsaWRhdGlvblRhcmdldEZvcih0aGlzLmNsZWFuKGIpKTt2YXIgYyxkLGUsZj1hKGIpLnJ1bGVzKCksZz1hLm1hcChmLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KS5sZW5ndGgsaD0hMSxpPXRoaXMuZWxlbWVudFZhbHVlKGIpO2ZvcihkIGluIGYpe2U9e21ldGhvZDpkLHBhcmFtZXRlcnM6ZltkXX07dHJ5e2lmKGM9YS52YWxpZGF0b3IubWV0aG9kc1tkXS5jYWxsKHRoaXMsaSxiLGUucGFyYW1ldGVycyksXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI9PT1jJiYxPT09Zyl7aD0hMDtjb250aW51ZX1pZihoPSExLFwicGVuZGluZ1wiPT09YylyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IoYikpKTtpZighYylyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQoYixlKSwhMX1jYXRjaChqKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coXCJFeGNlcHRpb24gb2NjdXJyZWQgd2hlbiBjaGVja2luZyBlbGVtZW50IFwiK2IuaWQrXCIsIGNoZWNrIHRoZSAnXCIrZS5tZXRob2QrXCInIG1ldGhvZC5cIixqKSxqfX1pZighaClyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgoZikmJnRoaXMuc3VjY2Vzc0xpc3QucHVzaChiKSwhMH0sY3VzdG9tRGF0YU1lc3NhZ2U6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYShiKS5kYXRhKFwibXNnXCIrYy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpKXx8YShiKS5kYXRhKFwibXNnXCIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1thXTtyZXR1cm4gYyYmKGMuY29uc3RydWN0b3I9PT1TdHJpbmc/YzpjW2JdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGFyZ3VtZW50cy5sZW5ndGg7YSsrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1thXSlyZXR1cm4gYXJndW1lbnRzW2FdO3JldHVybiB2b2lkIDB9LGRlZmF1bHRNZXNzYWdlOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZmluZERlZmluZWQodGhpcy5jdXN0b21NZXNzYWdlKGIubmFtZSxjKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKGIsYyksIXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUmJmIudGl0bGV8fHZvaWQgMCxhLnZhbGlkYXRvci5tZXNzYWdlc1tjXSxcIjxzdHJvbmc+V2FybmluZzogTm8gbWVzc2FnZSBkZWZpbmVkIGZvciBcIitiLm5hbWUrXCI8L3N0cm9uZz5cIil9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZGVmYXVsdE1lc3NhZ2UoYixjLm1ldGhvZCksZT0vXFwkP1xceyhcXGQrKVxcfS9nO1wiZnVuY3Rpb25cIj09dHlwZW9mIGQ/ZD1kLmNhbGwodGhpcyxjLnBhcmFtZXRlcnMsYik6ZS50ZXN0KGQpJiYoZD1hLnZhbGlkYXRvci5mb3JtYXQoZC5yZXBsYWNlKGUsXCJ7JDF9XCIpLGMucGFyYW1ldGVycykpLHRoaXMuZXJyb3JMaXN0LnB1c2goe21lc3NhZ2U6ZCxlbGVtZW50OmIsbWV0aG9kOmMubWV0aG9kfSksdGhpcy5lcnJvck1hcFtiLm5hbWVdPWQsdGhpcy5zdWJtaXR0ZWRbYi5uYW1lXT1kfSxhZGRXcmFwcGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNldHRpbmdzLndyYXBwZXImJihhPWEuYWRkKGEucGFyZW50KHRoaXMuc2V0dGluZ3Mud3JhcHBlcikpKSxhfSxkZWZhdWx0U2hvd0Vycm9yczpmdW5jdGlvbigpe3ZhciBhLGIsYztmb3IoYT0wO3RoaXMuZXJyb3JMaXN0W2FdO2ErKyljPXRoaXMuZXJyb3JMaXN0W2FdLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0JiZ0aGlzLnNldHRpbmdzLmhpZ2hsaWdodC5jYWxsKHRoaXMsYy5lbGVtZW50LHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpLHRoaXMuc2hvd0xhYmVsKGMuZWxlbWVudCxjLm1lc3NhZ2UpO2lmKHRoaXMuZXJyb3JMaXN0Lmxlbmd0aCYmKHRoaXMudG9TaG93PXRoaXMudG9TaG93LmFkZCh0aGlzLmNvbnRhaW5lcnMpKSx0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpZm9yKGE9MDt0aGlzLnN1Y2Nlc3NMaXN0W2FdO2ErKyl0aGlzLnNob3dMYWJlbCh0aGlzLnN1Y2Nlc3NMaXN0W2FdKTtpZih0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0KWZvcihhPTAsYj10aGlzLnZhbGlkRWxlbWVudHMoKTtiW2FdO2ErKyl0aGlzLnNldHRpbmdzLnVuaGlnaGxpZ2h0LmNhbGwodGhpcyxiW2FdLHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyx0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO3RoaXMudG9IaWRlPXRoaXMudG9IaWRlLm5vdCh0aGlzLnRvU2hvdyksdGhpcy5oaWRlRXJyb3JzKCksdGhpcy5hZGRXcmFwcGVyKHRoaXMudG9TaG93KS5zaG93KCl9LHZhbGlkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50RWxlbWVudHMubm90KHRoaXMuaW52YWxpZEVsZW1lbnRzKCkpfSxpbnZhbGlkRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLmVycm9yTGlzdCkubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0pfSxzaG93TGFiZWw6ZnVuY3Rpb24oYixjKXt2YXIgZCxlLGYsZz10aGlzLmVycm9yc0ZvcihiKSxoPXRoaXMuaWRPck5hbWUoYiksaT1hKGIpLmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIpO2cubGVuZ3RoPyhnLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcykuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKSxnLmh0bWwoYykpOihnPWEoXCI8XCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrXCI+XCIpLmF0dHIoXCJpZFwiLGgrXCItZXJyb3JcIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGN8fFwiXCIpLGQ9Zyx0aGlzLnNldHRpbmdzLndyYXBwZXImJihkPWcuaGlkZSgpLnNob3coKS53cmFwKFwiPFwiK3RoaXMuc2V0dGluZ3Mud3JhcHBlcitcIi8+XCIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZChkKTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQoZCxhKGIpKTpkLmluc2VydEFmdGVyKGIpLGcuaXMoXCJsYWJlbFwiKT9nLmF0dHIoXCJmb3JcIixoKTowPT09Zy5wYXJlbnRzKFwibGFiZWxbZm9yPSdcIitoK1wiJ11cIikubGVuZ3RoJiYoZj1nLmF0dHIoXCJpZFwiKS5yZXBsYWNlKC8oOnxcXC58XFxbfFxcXSkvZyxcIlxcXFwkMVwiKSxpP2kubWF0Y2gobmV3IFJlZ0V4cChcIlxcXFxiXCIrZitcIlxcXFxiXCIpKXx8KGkrPVwiIFwiK2YpOmk9ZixhKGIpLmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsaSksZT10aGlzLmdyb3Vwc1tiLm5hbWVdLGUmJmEuZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihiLGMpe2M9PT1lJiZhKFwiW25hbWU9J1wiK2IrXCInXVwiLHRoaXMuY3VycmVudEZvcm0pLmF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZy5hdHRyKFwiaWRcIikpfSkpKSwhYyYmdGhpcy5zZXR0aW5ncy5zdWNjZXNzJiYoZy50ZXh0KFwiXCIpLFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/Zy5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhnLGIpKSx0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQoZyl9LGVycm9yc0ZvcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmlkT3JOYW1lKGIpLGQ9YShiKS5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiKSxlPVwibGFiZWxbZm9yPSdcIitjK1wiJ10sIGxhYmVsW2Zvcj0nXCIrYytcIiddICpcIjtyZXR1cm4gZCYmKGU9ZStcIiwgI1wiK2QucmVwbGFjZSgvXFxzKy9nLFwiLCAjXCIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihlKX0saWRPck5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JvdXBzW2EubmFtZV18fCh0aGlzLmNoZWNrYWJsZShhKT9hLm5hbWU6YS5pZHx8YS5uYW1lKX0sdmFsaWRhdGlvblRhcmdldEZvcjpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5jaGVja2FibGUoYikmJihiPXRoaXMuZmluZEJ5TmFtZShiLm5hbWUpKSxhKGIpLm5vdCh0aGlzLnNldHRpbmdzLmlnbm9yZSlbMF19LGNoZWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4vcmFkaW98Y2hlY2tib3gvaS50ZXN0KGEudHlwZSl9LGZpbmRCeU5hbWU6ZnVuY3Rpb24oYil7cmV0dXJuIGEodGhpcy5jdXJyZW50Rm9ybSkuZmluZChcIltuYW1lPSdcIitiK1wiJ11cIil9LGdldExlbmd0aDpmdW5jdGlvbihiLGMpe3N3aXRjaChjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2VcInNlbGVjdFwiOnJldHVybiBhKFwib3B0aW9uOnNlbGVjdGVkXCIsYykubGVuZ3RoO2Nhc2VcImlucHV0XCI6aWYodGhpcy5jaGVja2FibGUoYykpcmV0dXJuIHRoaXMuZmluZEJ5TmFtZShjLm5hbWUpLmZpbHRlcihcIjpjaGVja2VkXCIpLmxlbmd0aH1yZXR1cm4gYi5sZW5ndGh9LGRlcGVuZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBhXT90aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBhXShhLGIpOiEwfSxkZXBlbmRUeXBlczp7XCJib29sZWFuXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHN0cmluZzpmdW5jdGlvbihiLGMpe3JldHVybiEhYShiLGMuZm9ybSkubGVuZ3RofSxcImZ1bmN0aW9uXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYShiKX19LG9wdGlvbmFsOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZWxlbWVudFZhbHVlKGIpO3JldHVybiFhLnZhbGlkYXRvci5tZXRob2RzLnJlcXVpcmVkLmNhbGwodGhpcyxjLGIpJiZcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIn0sc3RhcnRSZXF1ZXN0OmZ1bmN0aW9uKGEpe3RoaXMucGVuZGluZ1thLm5hbWVdfHwodGhpcy5wZW5kaW5nUmVxdWVzdCsrLHRoaXMucGVuZGluZ1thLm5hbWVdPSEwKX0sc3RvcFJlcXVlc3Q6ZnVuY3Rpb24oYixjKXt0aGlzLnBlbmRpbmdSZXF1ZXN0LS0sdGhpcy5wZW5kaW5nUmVxdWVzdDwwJiYodGhpcy5wZW5kaW5nUmVxdWVzdD0wKSxkZWxldGUgdGhpcy5wZW5kaW5nW2IubmFtZV0sYyYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3QmJnRoaXMuZm9ybVN1Ym1pdHRlZCYmdGhpcy5mb3JtKCk/KGEodGhpcy5jdXJyZW50Rm9ybSkuc3VibWl0KCksdGhpcy5mb3JtU3VibWl0dGVkPSExKTohYyYmMD09PXRoaXMucGVuZGluZ1JlcXVlc3QmJnRoaXMuZm9ybVN1Ym1pdHRlZCYmKGEodGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoXCJpbnZhbGlkLWZvcm1cIixbdGhpc10pLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSl9LHByZXZpb3VzVmFsdWU6ZnVuY3Rpb24oYil7cmV0dXJuIGEuZGF0YShiLFwicHJldmlvdXNWYWx1ZVwiKXx8YS5kYXRhKGIsXCJwcmV2aW91c1ZhbHVlXCIse29sZDpudWxsLHZhbGlkOiEwLG1lc3NhZ2U6dGhpcy5kZWZhdWx0TWVzc2FnZShiLFwicmVtb3RlXCIpfSl9fSxjbGFzc1J1bGVTZXR0aW5nczp7cmVxdWlyZWQ6e3JlcXVpcmVkOiEwfSxlbWFpbDp7ZW1haWw6ITB9LHVybDp7dXJsOiEwfSxkYXRlOntkYXRlOiEwfSxkYXRlSVNPOntkYXRlSVNPOiEwfSxudW1iZXI6e251bWJlcjohMH0sZGlnaXRzOntkaWdpdHM6ITB9LGNyZWRpdGNhcmQ6e2NyZWRpdGNhcmQ6ITB9fSxhZGRDbGFzc1J1bGVzOmZ1bmN0aW9uKGIsYyl7Yi5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmNsYXNzUnVsZVNldHRpbmdzW2JdPWM6YS5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncyxiKX0sY2xhc3NSdWxlczpmdW5jdGlvbihiKXt2YXIgYz17fSxkPWEoYikuYXR0cihcImNsYXNzXCIpO3JldHVybiBkJiZhLmVhY2goZC5zcGxpdChcIiBcIiksZnVuY3Rpb24oKXt0aGlzIGluIGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzJiZhLmV4dGVuZChjLGEudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzW3RoaXNdKX0pLGN9LGF0dHJpYnV0ZVJ1bGVzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT17fSxmPWEoYiksZz1iLmdldEF0dHJpYnV0ZShcInR5cGVcIik7Zm9yKGMgaW4gYS52YWxpZGF0b3IubWV0aG9kcylcInJlcXVpcmVkXCI9PT1jPyhkPWIuZ2V0QXR0cmlidXRlKGMpLFwiXCI9PT1kJiYoZD0hMCksZD0hIWQpOmQ9Zi5hdHRyKGMpLC9taW58bWF4Ly50ZXN0KGMpJiYobnVsbD09PWd8fC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdChnKSkmJihkPU51bWJlcihkKSksZHx8MD09PWQ/ZVtjXT1kOmc9PT1jJiZcInJhbmdlXCIhPT1nJiYoZVtjXT0hMCk7cmV0dXJuIGUubWF4bGVuZ3RoJiYvLTF8MjE0NzQ4MzY0N3w1MjQyODgvLnRlc3QoZS5tYXhsZW5ndGgpJiZkZWxldGUgZS5tYXhsZW5ndGgsZX0sZGF0YVJ1bGVzOmZ1bmN0aW9uKGIpe3ZhciBjLGQsZT17fSxmPWEoYik7Zm9yKGMgaW4gYS52YWxpZGF0b3IubWV0aG9kcylkPWYuZGF0YShcInJ1bGVcIitjLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpLHZvaWQgMCE9PWQmJihlW2NdPWQpO3JldHVybiBlfSxzdGF0aWNSdWxlczpmdW5jdGlvbihiKXt2YXIgYz17fSxkPWEuZGF0YShiLmZvcm0sXCJ2YWxpZGF0b3JcIik7cmV0dXJuIGQuc2V0dGluZ3MucnVsZXMmJihjPWEudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoZC5zZXR0aW5ncy5ydWxlc1tiLm5hbWVdKXx8e30pLGN9LG5vcm1hbGl6ZVJ1bGVzOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZWFjaChiLGZ1bmN0aW9uKGQsZSl7aWYoZT09PSExKXJldHVybiB2b2lkIGRlbGV0ZSBiW2RdO2lmKGUucGFyYW18fGUuZGVwZW5kcyl7dmFyIGY9ITA7c3dpdGNoKHR5cGVvZiBlLmRlcGVuZHMpe2Nhc2VcInN0cmluZ1wiOmY9ISFhKGUuZGVwZW5kcyxjLmZvcm0pLmxlbmd0aDticmVhaztjYXNlXCJmdW5jdGlvblwiOmY9ZS5kZXBlbmRzLmNhbGwoYyxjKX1mP2JbZF09dm9pZCAwIT09ZS5wYXJhbT9lLnBhcmFtOiEwOmRlbGV0ZSBiW2RdfX0pLGEuZWFjaChiLGZ1bmN0aW9uKGQsZSl7YltkXT1hLmlzRnVuY3Rpb24oZSk/ZShjKTplfSksYS5lYWNoKFtcIm1pbmxlbmd0aFwiLFwibWF4bGVuZ3RoXCJdLGZ1bmN0aW9uKCl7Ylt0aGlzXSYmKGJbdGhpc109TnVtYmVyKGJbdGhpc10pKX0pLGEuZWFjaChbXCJyYW5nZWxlbmd0aFwiLFwicmFuZ2VcIl0sZnVuY3Rpb24oKXt2YXIgYztiW3RoaXNdJiYoYS5pc0FycmF5KGJbdGhpc10pP2JbdGhpc109W051bWJlcihiW3RoaXNdWzBdKSxOdW1iZXIoYlt0aGlzXVsxXSldOlwic3RyaW5nXCI9PXR5cGVvZiBiW3RoaXNdJiYoYz1iW3RoaXNdLnJlcGxhY2UoL1tcXFtcXF1dL2csXCJcIikuc3BsaXQoL1tcXHMsXSsvKSxiW3RoaXNdPVtOdW1iZXIoY1swXSksTnVtYmVyKGNbMV0pXSkpfSksYS52YWxpZGF0b3IuYXV0b0NyZWF0ZVJhbmdlcyYmKG51bGwhPWIubWluJiZudWxsIT1iLm1heCYmKGIucmFuZ2U9W2IubWluLGIubWF4XSxkZWxldGUgYi5taW4sZGVsZXRlIGIubWF4KSxudWxsIT1iLm1pbmxlbmd0aCYmbnVsbCE9Yi5tYXhsZW5ndGgmJihiLnJhbmdlbGVuZ3RoPVtiLm1pbmxlbmd0aCxiLm1heGxlbmd0aF0sZGVsZXRlIGIubWlubGVuZ3RoLGRlbGV0ZSBiLm1heGxlbmd0aCkpLGJ9LG5vcm1hbGl6ZVJ1bGU6ZnVuY3Rpb24oYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe3ZhciBjPXt9O2EuZWFjaChiLnNwbGl0KC9cXHMvKSxmdW5jdGlvbigpe2NbdGhpc109ITB9KSxiPWN9cmV0dXJuIGJ9LGFkZE1ldGhvZDpmdW5jdGlvbihiLGMsZCl7YS52YWxpZGF0b3IubWV0aG9kc1tiXT1jLGEudmFsaWRhdG9yLm1lc3NhZ2VzW2JdPXZvaWQgMCE9PWQ/ZDphLnZhbGlkYXRvci5tZXNzYWdlc1tiXSxjLmxlbmd0aDwzJiZhLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKGIsYS52YWxpZGF0b3Iubm9ybWFsaXplUnVsZShiKSl9LG1ldGhvZHM6e3JlcXVpcmVkOmZ1bmN0aW9uKGIsYyxkKXtpZighdGhpcy5kZXBlbmQoZCxjKSlyZXR1cm5cImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtpZihcInNlbGVjdFwiPT09Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZT1hKGMpLnZhbCgpO3JldHVybiBlJiZlLmxlbmd0aD4wfXJldHVybiB0aGlzLmNoZWNrYWJsZShjKT90aGlzLmdldExlbmd0aChiLGMpPjA6YS50cmltKGIpLmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbmFsKGIpfHwvXlthLXpBLVowLTkuISMkJSYnKitcXC89P15fYHt8fX4tXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLy50ZXN0KGEpfSx1cmw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L14oaHR0cHM/fHM/ZnRwKTpcXC9cXC8oKCgoW2Etel18XFxkfC18XFwufF98fnxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KCVbXFxkYS1mXXsyfSl8WyFcXCQmJ1xcKFxcKVxcKlxcKyw7PV18OikqQCk/KCgoXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHxbMS05XVxcZHwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKVxcLihcXGR8WzEtOV1cXGR8MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC01XSlcXC4oXFxkfFsxLTldXFxkfDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pKXwoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4/KSg6XFxkKik/KShcXC8oKChbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoJVtcXGRhLWZdezJ9KXxbIVxcJCYnXFwoXFwpXFwqXFwrLDs9XXw6fEApKyhcXC8oKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCkqKSopPyk/KFxcPygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8W1xcdUUwMDAtXFx1RjhGRl18XFwvfFxcPykqKT8oIygoKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCglW1xcZGEtZl17Mn0pfFshXFwkJidcXChcXClcXCpcXCssOz1dfDp8QCl8XFwvfFxcPykqKT8kL2kudGVzdChhKX0sZGF0ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9wdGlvbmFsKGIpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKGEpLnRvU3RyaW5nKCkpfSxkYXRlSVNPOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fC9eXFxkezR9W1xcL1xcLV0oMD9bMS05XXwxWzAxMl0pW1xcL1xcLV0oMD9bMS05XXxbMTJdWzAtOV18M1swMV0pJC8udGVzdChhKX0sbnVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fC9eLT8oPzpcXGQrfFxcZHsxLDN9KD86LFxcZHszfSkrKT8oPzpcXC5cXGQrKT8kLy50ZXN0KGEpfSxkaWdpdHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8L15cXGQrJC8udGVzdChhKX0sY3JlZGl0Y2FyZDpmdW5jdGlvbihhLGIpe2lmKHRoaXMub3B0aW9uYWwoYikpcmV0dXJuXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI7aWYoL1teMC05IFxcLV0rLy50ZXN0KGEpKXJldHVybiExO3ZhciBjLGQsZT0wLGY9MCxnPSExO2lmKGE9YS5yZXBsYWNlKC9cXEQvZyxcIlwiKSxhLmxlbmd0aDwxM3x8YS5sZW5ndGg+MTkpcmV0dXJuITE7Zm9yKGM9YS5sZW5ndGgtMTtjPj0wO2MtLSlkPWEuY2hhckF0KGMpLGY9cGFyc2VJbnQoZCwxMCksZyYmKGYqPTIpPjkmJihmLT05KSxlKz1mLGc9IWc7cmV0dXJuIGUlMTA9PT0wfSxtaW5sZW5ndGg6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuaXNBcnJheShiKT9iLmxlbmd0aDp0aGlzLmdldExlbmd0aChiLGMpO3JldHVybiB0aGlzLm9wdGlvbmFsKGMpfHxlPj1kfSxtYXhsZW5ndGg6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuaXNBcnJheShiKT9iLmxlbmd0aDp0aGlzLmdldExlbmd0aChiLGMpO3JldHVybiB0aGlzLm9wdGlvbmFsKGMpfHxkPj1lfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5pc0FycmF5KGIpP2IubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKGIsYyk7cmV0dXJuIHRoaXMub3B0aW9uYWwoYyl8fGU+PWRbMF0mJmU8PWRbMV19LG1pbjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGE+PWN9LG1heDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub3B0aW9uYWwoYil8fGM+PWF9LHJhbmdlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vcHRpb25hbChiKXx8YT49Y1swXSYmYTw9Y1sxXX0sZXF1YWxUbzpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YShkKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZlLnVuYmluZChcIi52YWxpZGF0ZS1lcXVhbFRvXCIpLmJpbmQoXCJibHVyLnZhbGlkYXRlLWVxdWFsVG9cIixmdW5jdGlvbigpe2EoYykudmFsaWQoKX0pLGI9PT1lLnZhbCgpfSxyZW1vdGU6ZnVuY3Rpb24oYixjLGQpe2lmKHRoaXMub3B0aW9uYWwoYykpcmV0dXJuXCJkZXBlbmRlbmN5LW1pc21hdGNoXCI7dmFyIGUsZixnPXRoaXMucHJldmlvdXNWYWx1ZShjKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tjLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tjLm5hbWVdPXt9KSxnLm9yaWdpbmFsTWVzc2FnZT10aGlzLnNldHRpbmdzLm1lc3NhZ2VzW2MubmFtZV0ucmVtb3RlLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbYy5uYW1lXS5yZW1vdGU9Zy5tZXNzYWdlLGQ9XCJzdHJpbmdcIj09dHlwZW9mIGQmJnt1cmw6ZH18fGQsZy5vbGQ9PT1iP2cudmFsaWQ6KGcub2xkPWIsZT10aGlzLHRoaXMuc3RhcnRSZXF1ZXN0KGMpLGY9e30sZltjLm5hbWVdPWIsYS5hamF4KGEuZXh0ZW5kKCEwLHt1cmw6ZCxtb2RlOlwiYWJvcnRcIixwb3J0OlwidmFsaWRhdGVcIitjLm5hbWUsZGF0YVR5cGU6XCJqc29uXCIsZGF0YTpmLGNvbnRleHQ6ZS5jdXJyZW50Rm9ybSxzdWNjZXNzOmZ1bmN0aW9uKGQpe3ZhciBmLGgsaSxqPWQ9PT0hMHx8XCJ0cnVlXCI9PT1kO2Uuc2V0dGluZ3MubWVzc2FnZXNbYy5uYW1lXS5yZW1vdGU9Zy5vcmlnaW5hbE1lc3NhZ2Usaj8oaT1lLmZvcm1TdWJtaXR0ZWQsZS5wcmVwYXJlRWxlbWVudChjKSxlLmZvcm1TdWJtaXR0ZWQ9aSxlLnN1Y2Nlc3NMaXN0LnB1c2goYyksZGVsZXRlIGUuaW52YWxpZFtjLm5hbWVdLGUuc2hvd0Vycm9ycygpKTooZj17fSxoPWR8fGUuZGVmYXVsdE1lc3NhZ2UoYyxcInJlbW90ZVwiKSxmW2MubmFtZV09Zy5tZXNzYWdlPWEuaXNGdW5jdGlvbihoKT9oKGIpOmgsZS5pbnZhbGlkW2MubmFtZV09ITAsZS5zaG93RXJyb3JzKGYpKSxnLnZhbGlkPWosZS5zdG9wUmVxdWVzdChjLGopfX0sZCkpLFwicGVuZGluZ1wiKX19fSksYS5mb3JtYXQ9ZnVuY3Rpb24oKXt0aHJvd1wiJC5mb3JtYXQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAkLnZhbGlkYXRvci5mb3JtYXQgaW5zdGVhZC5cIn07dmFyIGIsYz17fTthLmFqYXhQcmVmaWx0ZXI/YS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGEsYixkKXt2YXIgZT1hLnBvcnQ7XCJhYm9ydFwiPT09YS5tb2RlJiYoY1tlXSYmY1tlXS5hYm9ydCgpLGNbZV09ZCl9KTooYj1hLmFqYXgsYS5hamF4PWZ1bmN0aW9uKGQpe3ZhciBlPShcIm1vZGVcImluIGQ/ZDphLmFqYXhTZXR0aW5ncykubW9kZSxmPShcInBvcnRcImluIGQ/ZDphLmFqYXhTZXR0aW5ncykucG9ydDtyZXR1cm5cImFib3J0XCI9PT1lPyhjW2ZdJiZjW2ZdLmFib3J0KCksY1tmXT1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjW2ZdKTpiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGEuZXh0ZW5kKGEuZm4se3ZhbGlkYXRlRGVsZWdhdGU6ZnVuY3Rpb24oYixjLGQpe3JldHVybiB0aGlzLmJpbmQoYyxmdW5jdGlvbihjKXt2YXIgZT1hKGMudGFyZ2V0KTtyZXR1cm4gZS5pcyhiKT9kLmFwcGx5KGUsYXJndW1lbnRzKTp2b2lkIDB9KX19KX0pOyIsInJlcXVpcmUoJ2pxdWVyeScpO1xyXG5yZXF1aXJlKCdhbWF6ZXVpJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS12YWxpZGF0ZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktbGF6eWxvYWQnKTtcclxucmVxdWlyZSgnanF1ZXJ5LWNvb2tpZScpO1xyXG5yZXF1aXJlKCdqcXVlcnktZm9ybScpO1xyXG5yZXF1aXJlKCdqcXVlcnktaW5maW5pdGVzY3JvbGwnKTtcclxucmVxdWlyZSgnY2xpcGJvYXJkJyk7XHJcbnJlcXVpcmUoJ3R5cGVhaGVhZCcpO1xyXG5yZXF1aXJlKCdibG9vZGhvdW5kJyk7XHJcbnJlcXVpcmUoJ3Bob3Rvc3dpcGUnKTtcclxucmVxdWlyZSgncGhvdG9zd2lwZS11aScpOyIsIi8qISBQaG90b1N3aXBlIERlZmF1bHQgVUkgLSA0LjEuMSAtIDIwMTUtMTItMjRcclxuKiBodHRwOi8vcGhvdG9zd2lwZS5jb21cclxuKiBDb3B5cmlnaHQgKGMpIDIwMTUgRG1pdHJ5IFNlbWVub3Y7ICovXHJcbiFmdW5jdGlvbihhLGIpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYik6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YigpOmEuUGhvdG9Td2lwZVVJX0RlZmF1bHQ9YigpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2PXRoaXMsdz0hMSx4PSEwLHk9ITAsej17YmFyc1NpemU6e3RvcDo0NCxib3R0b206XCJhdXRvXCJ9LGNsb3NlRWxDbGFzc2VzOltcIml0ZW1cIixcImNhcHRpb25cIixcInpvb20td3JhcFwiLFwidWlcIixcInRvcC1iYXJcIl0sdGltZVRvSWRsZTo0ZTMsdGltZVRvSWRsZU91dHNpZGU6MWUzLGxvYWRpbmdJbmRpY2F0b3JEZWxheToxZTMsYWRkQ2FwdGlvbkhUTUxGbjpmdW5jdGlvbihhLGIpe3JldHVybiBhLnRpdGxlPyhiLmNoaWxkcmVuWzBdLmlubmVySFRNTD1hLnRpdGxlLCEwKTooYi5jaGlsZHJlblswXS5pbm5lckhUTUw9XCJcIiwhMSl9LGNsb3NlRWw6ITAsY2FwdGlvbkVsOiEwLGZ1bGxzY3JlZW5FbDohMCx6b29tRWw6ITAsc2hhcmVFbDohMCxjb3VudGVyRWw6ITAsYXJyb3dFbDohMCxwcmVsb2FkZXJFbDohMCx0YXBUb0Nsb3NlOiExLHRhcFRvVG9nZ2xlQ29udHJvbHM6ITAsY2xpY2tUb0Nsb3NlTm9uWm9vbWFibGU6ITAsc2hhcmVCdXR0b25zOlt7aWQ6XCJmYWNlYm9va1wiLGxhYmVsOlwiU2hhcmUgb24gRmFjZWJvb2tcIix1cmw6XCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT17e3VybH19XCJ9LHtpZDpcInR3aXR0ZXJcIixsYWJlbDpcIlR3ZWV0XCIsdXJsOlwiaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dGV4dD17e3RleHR9fSZ1cmw9e3t1cmx9fVwifSx7aWQ6XCJwaW50ZXJlc3RcIixsYWJlbDpcIlBpbiBpdFwiLHVybDpcImh0dHA6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPXt7dXJsfX0mbWVkaWE9e3tpbWFnZV91cmx9fSZkZXNjcmlwdGlvbj17e3RleHR9fVwifSx7aWQ6XCJkb3dubG9hZFwiLGxhYmVsOlwiRG93bmxvYWQgaW1hZ2VcIix1cmw6XCJ7e3Jhd19pbWFnZV91cmx9fVwiLGRvd25sb2FkOiEwfV0sZ2V0SW1hZ2VVUkxGb3JTaGFyZTpmdW5jdGlvbigpe3JldHVybiBhLmN1cnJJdGVtLnNyY3x8XCJcIn0sZ2V0UGFnZVVSTEZvclNoYXJlOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5ocmVmfSxnZXRUZXh0Rm9yU2hhcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jdXJySXRlbS50aXRsZXx8XCJcIn0saW5kZXhJbmRpY2F0b3JTZXA6XCIgLyBcIixmaXRDb250cm9sc1dpZHRoOjEyMDB9LEE9ZnVuY3Rpb24oYSl7aWYocilyZXR1cm4hMDthPWF8fHdpbmRvdy5ldmVudCxxLnRpbWVUb0lkbGUmJnEubW91c2VVc2VkJiYhayYmSygpO2Zvcih2YXIgYyxkLGU9YS50YXJnZXR8fGEuc3JjRWxlbWVudCxmPWUuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIsZz0wO2c8Uy5sZW5ndGg7ZysrKWM9U1tnXSxjLm9uVGFwJiZmLmluZGV4T2YoXCJwc3dwX19cIitjLm5hbWUpPi0xJiYoYy5vblRhcCgpLGQ9ITApO2lmKGQpe2Euc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLHI9ITA7dmFyIGg9Yi5mZWF0dXJlcy5pc09sZEFuZHJvaWQ/NjAwOjMwO3M9c2V0VGltZW91dChmdW5jdGlvbigpe3I9ITF9LGgpfX0sQj1mdW5jdGlvbigpe3JldHVybiFhLmxpa2VseVRvdWNoRGV2aWNlfHxxLm1vdXNlVXNlZHx8c2NyZWVuLndpZHRoPnEuZml0Q29udHJvbHNXaWR0aH0sQz1mdW5jdGlvbihhLGMsZCl7YlsoZD9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oYSxcInBzd3BfX1wiK2MpfSxEPWZ1bmN0aW9uKCl7dmFyIGE9MT09PXEuZ2V0TnVtSXRlbXNGbigpO2EhPT1wJiYoQyhkLFwidWktLW9uZS1zbGlkZVwiLGEpLHA9YSl9LEU9ZnVuY3Rpb24oKXtDKGksXCJzaGFyZS1tb2RhbC0taGlkZGVuXCIseSl9LEY9ZnVuY3Rpb24oKXtyZXR1cm4geT0heSx5PyhiLnJlbW92ZUNsYXNzKGksXCJwc3dwX19zaGFyZS1tb2RhbC0tZmFkZS1pblwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eSYmRSgpfSwzMDApKTooRSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt5fHxiLmFkZENsYXNzKGksXCJwc3dwX19zaGFyZS1tb2RhbC0tZmFkZS1pblwiKX0sMzApKSx5fHxIKCksITF9LEc9ZnVuY3Rpb24oYil7Yj1ifHx3aW5kb3cuZXZlbnQ7dmFyIGM9Yi50YXJnZXR8fGIuc3JjRWxlbWVudDtyZXR1cm4gYS5zaG91dChcInNoYXJlTGlua0NsaWNrXCIsYixjKSxjLmhyZWY/Yy5oYXNBdHRyaWJ1dGUoXCJkb3dubG9hZFwiKT8hMDood2luZG93Lm9wZW4oYy5ocmVmLFwicHN3cF9zaGFyZVwiLFwic2Nyb2xsYmFycz15ZXMscmVzaXphYmxlPXllcyx0b29sYmFyPW5vLGxvY2F0aW9uPXllcyx3aWR0aD01NTAsaGVpZ2h0PTQyMCx0b3A9MTAwLGxlZnQ9XCIrKHdpbmRvdy5zY3JlZW4/TWF0aC5yb3VuZChzY3JlZW4ud2lkdGgvMi0yNzUpOjEwMCkpLHl8fEYoKSwhMSk6ITF9LEg9ZnVuY3Rpb24oKXtmb3IodmFyIGEsYixjLGQsZSxmPVwiXCIsZz0wO2c8cS5zaGFyZUJ1dHRvbnMubGVuZ3RoO2crKylhPXEuc2hhcmVCdXR0b25zW2ddLGM9cS5nZXRJbWFnZVVSTEZvclNoYXJlKGEpLGQ9cS5nZXRQYWdlVVJMRm9yU2hhcmUoYSksZT1xLmdldFRleHRGb3JTaGFyZShhKSxiPWEudXJsLnJlcGxhY2UoXCJ7e3VybH19XCIsZW5jb2RlVVJJQ29tcG9uZW50KGQpKS5yZXBsYWNlKFwie3tpbWFnZV91cmx9fVwiLGVuY29kZVVSSUNvbXBvbmVudChjKSkucmVwbGFjZShcInt7cmF3X2ltYWdlX3VybH19XCIsYykucmVwbGFjZShcInt7dGV4dH19XCIsZW5jb2RlVVJJQ29tcG9uZW50KGUpKSxmKz0nPGEgaHJlZj1cIicrYisnXCIgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJwc3dwX19zaGFyZS0tJythLmlkKydcIicrKGEuZG93bmxvYWQ/XCJkb3dubG9hZFwiOlwiXCIpK1wiPlwiK2EubGFiZWwrXCI8L2E+XCIscS5wYXJzZVNoYXJlQnV0dG9uT3V0JiYoZj1xLnBhcnNlU2hhcmVCdXR0b25PdXQoYSxmKSk7aS5jaGlsZHJlblswXS5pbm5lckhUTUw9ZixpLmNoaWxkcmVuWzBdLm9uY2xpY2s9R30sST1mdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPHEuY2xvc2VFbENsYXNzZXMubGVuZ3RoO2MrKylpZihiLmhhc0NsYXNzKGEsXCJwc3dwX19cIitxLmNsb3NlRWxDbGFzc2VzW2NdKSlyZXR1cm4hMH0sSj0wLEs9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodSksSj0wLGsmJnYuc2V0SWRsZSghMSl9LEw9ZnVuY3Rpb24oYSl7YT1hP2E6d2luZG93LmV2ZW50O3ZhciBiPWEucmVsYXRlZFRhcmdldHx8YS50b0VsZW1lbnQ7YiYmXCJIVE1MXCIhPT1iLm5vZGVOYW1lfHwoY2xlYXJUaW1lb3V0KHUpLHU9c2V0VGltZW91dChmdW5jdGlvbigpe3Yuc2V0SWRsZSghMCl9LHEudGltZVRvSWRsZU91dHNpZGUpKX0sTT1mdW5jdGlvbigpe3EuZnVsbHNjcmVlbkVsJiYhYi5mZWF0dXJlcy5pc09sZEFuZHJvaWQmJihjfHwoYz12LmdldEZ1bGxzY3JlZW5BUEkoKSksYz8oYi5iaW5kKGRvY3VtZW50LGMuZXZlbnRLLHYudXBkYXRlRnVsbHNjcmVlbiksdi51cGRhdGVGdWxsc2NyZWVuKCksYi5hZGRDbGFzcyhhLnRlbXBsYXRlLFwicHN3cC0tc3VwcG9ydHMtZnNcIikpOmIucmVtb3ZlQ2xhc3MoYS50ZW1wbGF0ZSxcInBzd3AtLXN1cHBvcnRzLWZzXCIpKX0sTj1mdW5jdGlvbigpe3EucHJlbG9hZGVyRWwmJihPKCEwKSxsKFwiYmVmb3JlQ2hhbmdlXCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobyksbz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5jdXJySXRlbSYmYS5jdXJySXRlbS5sb2FkaW5nPyghYS5hbGxvd1Byb2dyZXNzaXZlSW1nKCl8fGEuY3Vyckl0ZW0uaW1nJiYhYS5jdXJySXRlbS5pbWcubmF0dXJhbFdpZHRoKSYmTyghMSk6TyghMCl9LHEubG9hZGluZ0luZGljYXRvckRlbGF5KX0pLGwoXCJpbWFnZUxvYWRDb21wbGV0ZVwiLGZ1bmN0aW9uKGIsYyl7YS5jdXJySXRlbT09PWMmJk8oITApfSkpfSxPPWZ1bmN0aW9uKGEpe24hPT1hJiYoQyhtLFwicHJlbG9hZGVyLS1hY3RpdmVcIiwhYSksbj1hKX0sUD1mdW5jdGlvbihhKXt2YXIgYz1hLnZHYXA7aWYoQigpKXt2YXIgZz1xLmJhcnNTaXplO2lmKHEuY2FwdGlvbkVsJiZcImF1dG9cIj09PWcuYm90dG9tKWlmKGZ8fChmPWIuY3JlYXRlRWwoXCJwc3dwX19jYXB0aW9uIHBzd3BfX2NhcHRpb24tLWZha2VcIiksZi5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsKFwicHN3cF9fY2FwdGlvbl9fY2VudGVyXCIpKSxkLmluc2VydEJlZm9yZShmLGUpLGIuYWRkQ2xhc3MoZCxcInBzd3BfX3VpLS1maXRcIikpLHEuYWRkQ2FwdGlvbkhUTUxGbihhLGYsITApKXt2YXIgaD1mLmNsaWVudEhlaWdodDtjLmJvdHRvbT1wYXJzZUludChoLDEwKXx8NDR9ZWxzZSBjLmJvdHRvbT1nLnRvcDtlbHNlIGMuYm90dG9tPVwiYXV0b1wiPT09Zy5ib3R0b20/MDpnLmJvdHRvbTtjLnRvcD1nLnRvcH1lbHNlIGMudG9wPWMuYm90dG9tPTB9LFE9ZnVuY3Rpb24oKXtxLnRpbWVUb0lkbGUmJmwoXCJtb3VzZVVzZWRcIixmdW5jdGlvbigpe2IuYmluZChkb2N1bWVudCxcIm1vdXNlbW92ZVwiLEspLGIuYmluZChkb2N1bWVudCxcIm1vdXNlb3V0XCIsTCksdD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe0orKywyPT09SiYmdi5zZXRJZGxlKCEwKX0scS50aW1lVG9JZGxlLzIpfSl9LFI9ZnVuY3Rpb24oKXtsKFwib25WZXJ0aWNhbERyYWdcIixmdW5jdGlvbihhKXt4JiYuOTU+YT92LmhpZGVDb250cm9scygpOiF4JiZhPj0uOTUmJnYuc2hvd0NvbnRyb2xzKCl9KTt2YXIgYTtsKFwib25QaW5jaENsb3NlXCIsZnVuY3Rpb24oYil7eCYmLjk+Yj8odi5oaWRlQ29udHJvbHMoKSxhPSEwKTphJiYheCYmYj4uOSYmdi5zaG93Q29udHJvbHMoKX0pLGwoXCJ6b29tR2VzdHVyZUVuZGVkXCIsZnVuY3Rpb24oKXthPSExLGEmJiF4JiZ2LnNob3dDb250cm9scygpfSl9LFM9W3tuYW1lOlwiY2FwdGlvblwiLG9wdGlvbjpcImNhcHRpb25FbFwiLG9uSW5pdDpmdW5jdGlvbihhKXtlPWF9fSx7bmFtZTpcInNoYXJlLW1vZGFsXCIsb3B0aW9uOlwic2hhcmVFbFwiLG9uSW5pdDpmdW5jdGlvbihhKXtpPWF9LG9uVGFwOmZ1bmN0aW9uKCl7RigpfX0se25hbWU6XCJidXR0b24tLXNoYXJlXCIsb3B0aW9uOlwic2hhcmVFbFwiLG9uSW5pdDpmdW5jdGlvbihhKXtoPWF9LG9uVGFwOmZ1bmN0aW9uKCl7RigpfX0se25hbWU6XCJidXR0b24tLXpvb21cIixvcHRpb246XCJ6b29tRWxcIixvblRhcDphLnRvZ2dsZURlc2t0b3Bab29tfSx7bmFtZTpcImNvdW50ZXJcIixvcHRpb246XCJjb3VudGVyRWxcIixvbkluaXQ6ZnVuY3Rpb24oYSl7Zz1hfX0se25hbWU6XCJidXR0b24tLWNsb3NlXCIsb3B0aW9uOlwiY2xvc2VFbFwiLG9uVGFwOmEuY2xvc2V9LHtuYW1lOlwiYnV0dG9uLS1hcnJvdy0tbGVmdFwiLG9wdGlvbjpcImFycm93RWxcIixvblRhcDphLnByZXZ9LHtuYW1lOlwiYnV0dG9uLS1hcnJvdy0tcmlnaHRcIixvcHRpb246XCJhcnJvd0VsXCIsb25UYXA6YS5uZXh0fSx7bmFtZTpcImJ1dHRvbi0tZnNcIixvcHRpb246XCJmdWxsc2NyZWVuRWxcIixvblRhcDpmdW5jdGlvbigpe2MuaXNGdWxsc2NyZWVuKCk/Yy5leGl0KCk6Yy5lbnRlcigpfX0se25hbWU6XCJwcmVsb2FkZXJcIixvcHRpb246XCJwcmVsb2FkZXJFbFwiLG9uSW5pdDpmdW5jdGlvbihhKXttPWF9fV0sVD1mdW5jdGlvbigpe3ZhciBhLGMsZSxmPWZ1bmN0aW9uKGQpe2lmKGQpZm9yKHZhciBmPWQubGVuZ3RoLGc9MDtmPmc7ZysrKXthPWRbZ10sYz1hLmNsYXNzTmFtZTtmb3IodmFyIGg9MDtoPFMubGVuZ3RoO2grKyllPVNbaF0sYy5pbmRleE9mKFwicHN3cF9fXCIrZS5uYW1lKT4tMSYmKHFbZS5vcHRpb25dPyhiLnJlbW92ZUNsYXNzKGEsXCJwc3dwX19lbGVtZW50LS1kaXNhYmxlZFwiKSxlLm9uSW5pdCYmZS5vbkluaXQoYSkpOmIuYWRkQ2xhc3MoYSxcInBzd3BfX2VsZW1lbnQtLWRpc2FibGVkXCIpKX19O2YoZC5jaGlsZHJlbik7dmFyIGc9Yi5nZXRDaGlsZEJ5Q2xhc3MoZCxcInBzd3BfX3RvcC1iYXJcIik7ZyYmZihnLmNoaWxkcmVuKX07di5pbml0PWZ1bmN0aW9uKCl7Yi5leHRlbmQoYS5vcHRpb25zLHosITApLHE9YS5vcHRpb25zLGQ9Yi5nZXRDaGlsZEJ5Q2xhc3MoYS5zY3JvbGxXcmFwLFwicHN3cF9fdWlcIiksbD1hLmxpc3RlbixSKCksbChcImJlZm9yZUNoYW5nZVwiLHYudXBkYXRlKSxsKFwiZG91YmxlVGFwXCIsZnVuY3Rpb24oYil7dmFyIGM9YS5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsO2EuZ2V0Wm9vbUxldmVsKCkhPT1jP2Euem9vbVRvKGMsYiwzMzMpOmEuem9vbVRvKHEuZ2V0RG91YmxlVGFwWm9vbSghMSxhLmN1cnJJdGVtKSxiLDMzMyl9KSxsKFwicHJldmVudERyYWdFdmVudFwiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnRhcmdldHx8YS5zcmNFbGVtZW50O2QmJmQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikmJmEudHlwZS5pbmRleE9mKFwibW91c2VcIik+LTEmJihkLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLmluZGV4T2YoXCJfX2NhcHRpb25cIik+MHx8LyhTTUFMTHxTVFJPTkd8RU0pL2kudGVzdChkLnRhZ05hbWUpKSYmKGMucHJldmVudD0hMSl9KSxsKFwiYmluZEV2ZW50c1wiLGZ1bmN0aW9uKCl7Yi5iaW5kKGQsXCJwc3dwVGFwIGNsaWNrXCIsQSksYi5iaW5kKGEuc2Nyb2xsV3JhcCxcInBzd3BUYXBcIix2Lm9uR2xvYmFsVGFwKSxhLmxpa2VseVRvdWNoRGV2aWNlfHxiLmJpbmQoYS5zY3JvbGxXcmFwLFwibW91c2VvdmVyXCIsdi5vbk1vdXNlT3Zlcil9KSxsKFwidW5iaW5kRXZlbnRzXCIsZnVuY3Rpb24oKXt5fHxGKCksdCYmY2xlYXJJbnRlcnZhbCh0KSxiLnVuYmluZChkb2N1bWVudCxcIm1vdXNlb3V0XCIsTCksYi51bmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixLKSxiLnVuYmluZChkLFwicHN3cFRhcCBjbGlja1wiLEEpLGIudW5iaW5kKGEuc2Nyb2xsV3JhcCxcInBzd3BUYXBcIix2Lm9uR2xvYmFsVGFwKSxiLnVuYmluZChhLnNjcm9sbFdyYXAsXCJtb3VzZW92ZXJcIix2Lm9uTW91c2VPdmVyKSxjJiYoYi51bmJpbmQoZG9jdW1lbnQsYy5ldmVudEssdi51cGRhdGVGdWxsc2NyZWVuKSxjLmlzRnVsbHNjcmVlbigpJiYocS5oaWRlQW5pbWF0aW9uRHVyYXRpb249MCxjLmV4aXQoKSksYz1udWxsKX0pLGwoXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtxLmNhcHRpb25FbCYmKGYmJmQucmVtb3ZlQ2hpbGQoZiksYi5yZW1vdmVDbGFzcyhlLFwicHN3cF9fY2FwdGlvbi0tZW1wdHlcIikpLGkmJihpLmNoaWxkcmVuWzBdLm9uY2xpY2s9bnVsbCksYi5yZW1vdmVDbGFzcyhkLFwicHN3cF9fdWktLW92ZXItY2xvc2VcIiksYi5hZGRDbGFzcyhkLFwicHN3cF9fdWktLWhpZGRlblwiKSx2LnNldElkbGUoITEpfSkscS5zaG93QW5pbWF0aW9uRHVyYXRpb258fGIucmVtb3ZlQ2xhc3MoZCxcInBzd3BfX3VpLS1oaWRkZW5cIiksbChcImluaXRpYWxab29tSW5cIixmdW5jdGlvbigpe3Euc2hvd0FuaW1hdGlvbkR1cmF0aW9uJiZiLnJlbW92ZUNsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpfSksbChcImluaXRpYWxab29tT3V0XCIsZnVuY3Rpb24oKXtiLmFkZENsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpfSksbChcInBhcnNlVmVydGljYWxNYXJnaW5cIixQKSxUKCkscS5zaGFyZUVsJiZoJiZpJiYoeT0hMCksRCgpLFEoKSxNKCksTigpfSx2LnNldElkbGU9ZnVuY3Rpb24oYSl7az1hLEMoZCxcInVpLS1pZGxlXCIsYSl9LHYudXBkYXRlPWZ1bmN0aW9uKCl7eCYmYS5jdXJySXRlbT8odi51cGRhdGVJbmRleEluZGljYXRvcigpLHEuY2FwdGlvbkVsJiYocS5hZGRDYXB0aW9uSFRNTEZuKGEuY3Vyckl0ZW0sZSksQyhlLFwiY2FwdGlvbi0tZW1wdHlcIiwhYS5jdXJySXRlbS50aXRsZSkpLHc9ITApOnc9ITEseXx8RigpLEQoKX0sdi51cGRhdGVGdWxsc2NyZWVuPWZ1bmN0aW9uKGQpe2QmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnNldFNjcm9sbE9mZnNldCgwLGIuZ2V0U2Nyb2xsWSgpKX0sNTApLGJbKGMuaXNGdWxsc2NyZWVuKCk/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKGEudGVtcGxhdGUsXCJwc3dwLS1mc1wiKX0sdi51cGRhdGVJbmRleEluZGljYXRvcj1mdW5jdGlvbigpe3EuY291bnRlckVsJiYoZy5pbm5lckhUTUw9YS5nZXRDdXJyZW50SW5kZXgoKSsxK3EuaW5kZXhJbmRpY2F0b3JTZXArcS5nZXROdW1JdGVtc0ZuKCkpfSx2Lm9uR2xvYmFsVGFwPWZ1bmN0aW9uKGMpe2M9Y3x8d2luZG93LmV2ZW50O3ZhciBkPWMudGFyZ2V0fHxjLnNyY0VsZW1lbnQ7aWYoIXIpaWYoYy5kZXRhaWwmJlwibW91c2VcIj09PWMuZGV0YWlsLnBvaW50ZXJUeXBlKXtpZihJKGQpKXJldHVybiB2b2lkIGEuY2xvc2UoKTtiLmhhc0NsYXNzKGQsXCJwc3dwX19pbWdcIikmJigxPT09YS5nZXRab29tTGV2ZWwoKSYmYS5nZXRab29tTGV2ZWwoKTw9YS5jdXJySXRlbS5maXRSYXRpbz9xLmNsaWNrVG9DbG9zZU5vblpvb21hYmxlJiZhLmNsb3NlKCk6YS50b2dnbGVEZXNrdG9wWm9vbShjLmRldGFpbC5yZWxlYXNlUG9pbnQpKX1lbHNlIGlmKHEudGFwVG9Ub2dnbGVDb250cm9scyYmKHg/di5oaWRlQ29udHJvbHMoKTp2LnNob3dDb250cm9scygpKSxxLnRhcFRvQ2xvc2UmJihiLmhhc0NsYXNzKGQsXCJwc3dwX19pbWdcIil8fEkoZCkpKXJldHVybiB2b2lkIGEuY2xvc2UoKX0sdi5vbk1vdXNlT3Zlcj1mdW5jdGlvbihhKXthPWF8fHdpbmRvdy5ldmVudDt2YXIgYj1hLnRhcmdldHx8YS5zcmNFbGVtZW50O0MoZCxcInVpLS1vdmVyLWNsb3NlXCIsSShiKSl9LHYuaGlkZUNvbnRyb2xzPWZ1bmN0aW9uKCl7Yi5hZGRDbGFzcyhkLFwicHN3cF9fdWktLWhpZGRlblwiKSx4PSExfSx2LnNob3dDb250cm9scz1mdW5jdGlvbigpe3g9ITAsd3x8di51cGRhdGUoKSxiLnJlbW92ZUNsYXNzKGQsXCJwc3dwX191aS0taGlkZGVuXCIpfSx2LnN1cHBvcnRzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50O3JldHVybiEhKGEuZXhpdEZ1bGxzY3JlZW58fGEubW96Q2FuY2VsRnVsbFNjcmVlbnx8YS53ZWJraXRFeGl0RnVsbHNjcmVlbnx8YS5tc0V4aXRGdWxsc2NyZWVuKX0sdi5nZXRGdWxsc2NyZWVuQVBJPWZ1bmN0aW9uKCl7dmFyIGIsYz1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZD1cImZ1bGxzY3JlZW5jaGFuZ2VcIjtyZXR1cm4gYy5yZXF1ZXN0RnVsbHNjcmVlbj9iPXtlbnRlcks6XCJyZXF1ZXN0RnVsbHNjcmVlblwiLGV4aXRLOlwiZXhpdEZ1bGxzY3JlZW5cIixlbGVtZW50SzpcImZ1bGxzY3JlZW5FbGVtZW50XCIsZXZlbnRLOmR9OmMubW96UmVxdWVzdEZ1bGxTY3JlZW4/Yj17ZW50ZXJLOlwibW96UmVxdWVzdEZ1bGxTY3JlZW5cIixleGl0SzpcIm1vekNhbmNlbEZ1bGxTY3JlZW5cIixlbGVtZW50SzpcIm1vekZ1bGxTY3JlZW5FbGVtZW50XCIsZXZlbnRLOlwibW96XCIrZH06Yy53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbj9iPXtlbnRlcks6XCJ3ZWJraXRSZXF1ZXN0RnVsbHNjcmVlblwiLGV4aXRLOlwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixlbGVtZW50SzpcIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XCIsZXZlbnRLOlwid2Via2l0XCIrZH06Yy5tc1JlcXVlc3RGdWxsc2NyZWVuJiYoYj17ZW50ZXJLOlwibXNSZXF1ZXN0RnVsbHNjcmVlblwiLGV4aXRLOlwibXNFeGl0RnVsbHNjcmVlblwiLGVsZW1lbnRLOlwibXNGdWxsc2NyZWVuRWxlbWVudFwiLGV2ZW50SzpcIk1TRnVsbHNjcmVlbkNoYW5nZVwifSksYiYmKGIuZW50ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gaj1xLmNsb3NlT25TY3JvbGwscS5jbG9zZU9uU2Nyb2xsPSExLFwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cIiE9PXRoaXMuZW50ZXJLP2EudGVtcGxhdGVbdGhpcy5lbnRlcktdKCk6dm9pZCBhLnRlbXBsYXRlW3RoaXMuZW50ZXJLXShFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKX0sYi5leGl0PWZ1bmN0aW9uKCl7cmV0dXJuIHEuY2xvc2VPblNjcm9sbD1qLGRvY3VtZW50W3RoaXMuZXhpdEtdKCl9LGIuaXNGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50W3RoaXMuZWxlbWVudEtdfSksYn19O3JldHVybiBhfSk7IiwiLyohIFBob3RvU3dpcGUgLSB2NC4xLjEgLSAyMDE1LTEyLTI0XHJcbiogaHR0cDovL3Bob3Rvc3dpcGUuY29tXHJcbiogQ29weXJpZ2h0IChjKSAyMDE1IERtaXRyeSBTZW1lbm92OyAqL1xyXG4hZnVuY3Rpb24oYSxiKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTphLlBob3RvU3dpcGU9YigpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9e2ZlYXR1cmVzOm51bGwsYmluZDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT0oZD9cInJlbW92ZVwiOlwiYWRkXCIpK1wiRXZlbnRMaXN0ZW5lclwiO2I9Yi5zcGxpdChcIiBcIik7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspYltmXSYmYVtlXShiW2ZdLGMsITEpfSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXJyYXl9LGNyZWF0ZUVsOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChifHxcImRpdlwiKTtyZXR1cm4gYSYmKGMuY2xhc3NOYW1lPWEpLGN9LGdldFNjcm9sbFk6ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cucGFnZVlPZmZzZXQ7cmV0dXJuIHZvaWQgMCE9PWE/YTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiLGMpe2UuYmluZChhLGIsYywhMCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFJlZ0V4cChcIihcXFxcc3xeKVwiK2IrXCIoXFxcXHN8JClcIik7YS5jbGFzc05hbWU9YS5jbGFzc05hbWUucmVwbGFjZShjLFwiIFwiKS5yZXBsYWNlKC9eXFxzXFxzKi8sXCJcIikucmVwbGFjZSgvXFxzXFxzKiQvLFwiXCIpfSxhZGRDbGFzczpmdW5jdGlvbihhLGIpe2UuaGFzQ2xhc3MoYSxiKXx8KGEuY2xhc3NOYW1lKz0oYS5jbGFzc05hbWU/XCIgXCI6XCJcIikrYil9LGhhc0NsYXNzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY2xhc3NOYW1lJiZuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrYitcIihcXFxcc3wkKVwiKS50ZXN0KGEuY2xhc3NOYW1lKX0sZ2V0Q2hpbGRCeUNsYXNzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWEuZmlyc3RDaGlsZDtjOyl7aWYoZS5oYXNDbGFzcyhjLGIpKXJldHVybiBjO2M9Yy5uZXh0U2libGluZ319LGFycmF5U2VhcmNoOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGg7ZC0tOylpZihhW2RdW2NdPT09YilyZXR1cm4gZDtyZXR1cm4tMX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQgaW4gYilpZihiLmhhc093blByb3BlcnR5KGQpKXtpZihjJiZhLmhhc093blByb3BlcnR5KGQpKWNvbnRpbnVlO2FbZF09YltkXX19LGVhc2luZzp7c2luZTp7b3V0OmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnNpbihhKihNYXRoLlBJLzIpKX0saW5PdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuLShNYXRoLmNvcyhNYXRoLlBJKmEpLTEpLzJ9fSxjdWJpYzp7b3V0OmZ1bmN0aW9uKGEpe3JldHVybi0tYSphKmErMX19fSxkZXRlY3RGZWF0dXJlczpmdW5jdGlvbigpe2lmKGUuZmVhdHVyZXMpcmV0dXJuIGUuZmVhdHVyZXM7dmFyIGE9ZS5jcmVhdGVFbCgpLGI9YS5zdHlsZSxjPVwiXCIsZD17fTtpZihkLm9sZElFPWRvY3VtZW50LmFsbCYmIWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIsZC50b3VjaD1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93LHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJihkLnJhZj13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGQuY2FmPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSksZC5wb2ludGVyRXZlbnQ9bmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkfHxuYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCwhZC5wb2ludGVyRXZlbnQpe3ZhciBmPW5hdmlnYXRvci51c2VyQWdlbnQ7aWYoL2lQKGhvbmV8b2QpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkpe3ZhciBnPW5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Lyk7ZyYmZy5sZW5ndGg+MCYmKGc9cGFyc2VJbnQoZ1sxXSwxMCksZz49MSYmOD5nJiYoZC5pc09sZElPU1Bob25lPSEwKSl9dmFyIGg9Zi5tYXRjaCgvQW5kcm9pZFxccyhbMC05XFwuXSopLyksaT1oP2hbMV06MDtpPXBhcnNlRmxvYXQoaSksaT49MSYmKDQuND5pJiYoZC5pc09sZEFuZHJvaWQ9ITApLGQuYW5kcm9pZFZlcnNpb249aSksZC5pc01vYmlsZU9wZXJhPS9vcGVyYSBtaW5pfG9wZXJhIG1vYmkvaS50ZXN0KGYpfWZvcih2YXIgaixrLGw9W1widHJhbnNmb3JtXCIsXCJwZXJzcGVjdGl2ZVwiLFwiYW5pbWF0aW9uTmFtZVwiXSxtPVtcIlwiLFwid2Via2l0XCIsXCJNb3pcIixcIm1zXCIsXCJPXCJdLG49MDs0Pm47bisrKXtjPW1bbl07Zm9yKHZhciBvPTA7Mz5vO28rKylqPWxbb10saz1jKyhjP2ouY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrai5zbGljZSgxKTpqKSwhZFtqXSYmayBpbiBiJiYoZFtqXT1rKTtjJiYhZC5yYWYmJihjPWMudG9Mb3dlckNhc2UoKSxkLnJhZj13aW5kb3dbYytcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxkLnJhZiYmKGQuY2FmPXdpbmRvd1tjK1wiQ2FuY2VsQW5pbWF0aW9uRnJhbWVcIl18fHdpbmRvd1tjK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdKSl9aWYoIWQucmFmKXt2YXIgcD0wO2QucmFmPWZ1bmN0aW9uKGEpe3ZhciBiPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9TWF0aC5tYXgoMCwxNi0oYi1wKSksZD13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EoYitjKX0sYyk7cmV0dXJuIHA9YitjLGR9LGQuY2FmPWZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19cmV0dXJuIGQuc3ZnPSEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TJiYhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJzdmdcIikuY3JlYXRlU1ZHUmVjdCxlLmZlYXR1cmVzPWQsZH19O2UuZGV0ZWN0RmVhdHVyZXMoKSxlLmZlYXR1cmVzLm9sZElFJiYoZS5iaW5kPWZ1bmN0aW9uKGEsYixjLGQpe2I9Yi5zcGxpdChcIiBcIik7Zm9yKHZhciBlLGY9KGQ/XCJkZXRhY2hcIjpcImF0dGFjaFwiKStcIkV2ZW50XCIsZz1mdW5jdGlvbigpe2MuaGFuZGxlRXZlbnQuY2FsbChjKX0saD0wO2g8Yi5sZW5ndGg7aCsrKWlmKGU9YltoXSlpZihcIm9iamVjdFwiPT10eXBlb2YgYyYmYy5oYW5kbGVFdmVudCl7aWYoZCl7aWYoIWNbXCJvbGRJRVwiK2VdKXJldHVybiExfWVsc2UgY1tcIm9sZElFXCIrZV09ZzthW2ZdKFwib25cIitlLGNbXCJvbGRJRVwiK2VdKX1lbHNlIGFbZl0oXCJvblwiK2UsYyl9KTt2YXIgZj10aGlzLGc9MjUsaD0zLGk9e2FsbG93UGFuVG9OZXh0OiEwLHNwYWNpbmc6LjEyLGJnT3BhY2l0eToxLG1vdXNlVXNlZDohMSxsb29wOiEwLHBpbmNoVG9DbG9zZTohMCxjbG9zZU9uU2Nyb2xsOiEwLGNsb3NlT25WZXJ0aWNhbERyYWc6ITAsdmVydGljYWxEcmFnUmFuZ2U6Ljc1LGhpZGVBbmltYXRpb25EdXJhdGlvbjozMzMsc2hvd0FuaW1hdGlvbkR1cmF0aW9uOjMzMyxzaG93SGlkZU9wYWNpdHk6ITEsZm9jdXM6ITAsZXNjS2V5OiEwLGFycm93S2V5czohMCxtYWluU2Nyb2xsRW5kRnJpY3Rpb246LjM1LHBhbkVuZEZyaWN0aW9uOi4zNSxpc0NsaWNrYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJBXCI9PT1hLnRhZ05hbWV9LGdldERvdWJsZVRhcFpvb206ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT8xOmIuaW5pdGlhbFpvb21MZXZlbDwuNz8xOjEuMzN9LG1heFNwcmVhZFpvb206MS4zMyxtb2RhbDohMCxzY2FsZU1vZGU6XCJmaXRcIn07ZS5leHRlbmQoaSxkKTt2YXIgaixrLGwsbSxuLG8scCxxLHIscyx0LHUsdix3LHgseSx6LEEsQixDLEQsRSxGLEcsSCxJLEosSyxMLE0sTixPLFAsUSxSLFMsVCxVLFYsVyxYLFksWiwkLF8sYWEsYmEsY2EsZGEsZWEsZmEsZ2EsaGEsaWEsamEsa2EsbGE9ZnVuY3Rpb24oKXtyZXR1cm57eDowLHk6MH19LG1hPWxhKCksbmE9bGEoKSxvYT1sYSgpLHBhPXt9LHFhPTAscmE9e30sc2E9bGEoKSx0YT0wLHVhPSEwLHZhPVtdLHdhPXt9LHhhPSExLHlhPWZ1bmN0aW9uKGEsYil7ZS5leHRlbmQoZixiLnB1YmxpY01ldGhvZHMpLHZhLnB1c2goYSl9LHphPWZ1bmN0aW9uKGEpe3ZhciBiPV9iKCk7cmV0dXJuIGE+Yi0xP2EtYjowPmE/YithOmF9LEFhPXt9LEJhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEFhW2FdfHwoQWFbYV09W10pLEFhW2FdLnB1c2goYil9LENhPWZ1bmN0aW9uKGEpe3ZhciBiPUFhW2FdO2lmKGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Yy5zaGlmdCgpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKWJbZF0uYXBwbHkoZixjKX19LERhPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LEVhPWZ1bmN0aW9uKGEpe2lhPWEsZi5iZy5zdHlsZS5vcGFjaXR5PWEqaS5iZ09wYWNpdHl9LEZhPWZ1bmN0aW9uKGEsYixjLGQsZSl7KCF4YXx8ZSYmZSE9PWYuY3Vyckl0ZW0pJiYoZC89ZT9lLmZpdFJhdGlvOmYuY3Vyckl0ZW0uZml0UmF0aW8pLGFbRV09dStiK1wicHgsIFwiK2MrXCJweFwiK3YrXCIgc2NhbGUoXCIrZCtcIilcIn0sR2E9ZnVuY3Rpb24oYSl7ZGEmJihhJiYocz5mLmN1cnJJdGVtLmZpdFJhdGlvP3hhfHwobGMoZi5jdXJySXRlbSwhMSwhMCkseGE9ITApOnhhJiYobGMoZi5jdXJySXRlbSkseGE9ITEpKSxGYShkYSxvYS54LG9hLnkscykpfSxIYT1mdW5jdGlvbihhKXthLmNvbnRhaW5lciYmRmEoYS5jb250YWluZXIuc3R5bGUsYS5pbml0aWFsUG9zaXRpb24ueCxhLmluaXRpYWxQb3NpdGlvbi55LGEuaW5pdGlhbFpvb21MZXZlbCxhKX0sSWE9ZnVuY3Rpb24oYSxiKXtiW0VdPXUrYStcInB4LCAwcHhcIit2fSxKYT1mdW5jdGlvbihhLGIpe2lmKCFpLmxvb3AmJmIpe3ZhciBjPW0rKHNhLngqcWEtYSkvc2EueCxkPU1hdGgucm91bmQoYS1zYi54KTsoMD5jJiZkPjB8fGM+PV9iKCktMSYmMD5kKSYmKGE9c2IueCtkKmkubWFpblNjcm9sbEVuZEZyaWN0aW9uKX1zYi54PWEsSWEoYSxuKX0sS2E9ZnVuY3Rpb24oYSxiKXt2YXIgYz10YlthXS1yYVthXTtyZXR1cm4gbmFbYV0rbWFbYV0rYy1jKihiL3QpfSxMYT1mdW5jdGlvbihhLGIpe2EueD1iLngsYS55PWIueSxiLmlkJiYoYS5pZD1iLmlkKX0sTWE9ZnVuY3Rpb24oYSl7YS54PU1hdGgucm91bmQoYS54KSxhLnk9TWF0aC5yb3VuZChhLnkpfSxOYT1udWxsLE9hPWZ1bmN0aW9uKCl7TmEmJihlLnVuYmluZChkb2N1bWVudCxcIm1vdXNlbW92ZVwiLE9hKSxlLmFkZENsYXNzKGEsXCJwc3dwLS1oYXNfbW91c2VcIiksaS5tb3VzZVVzZWQ9ITAsQ2EoXCJtb3VzZVVzZWRcIikpLE5hPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtOYT1udWxsfSwxMDApfSxQYT1mdW5jdGlvbigpe2UuYmluZChkb2N1bWVudCxcImtleWRvd25cIixmKSxOLnRyYW5zZm9ybSYmZS5iaW5kKGYuc2Nyb2xsV3JhcCxcImNsaWNrXCIsZiksaS5tb3VzZVVzZWR8fGUuYmluZChkb2N1bWVudCxcIm1vdXNlbW92ZVwiLE9hKSxlLmJpbmQod2luZG93LFwicmVzaXplIHNjcm9sbFwiLGYpLENhKFwiYmluZEV2ZW50c1wiKX0sUWE9ZnVuY3Rpb24oKXtlLnVuYmluZCh3aW5kb3csXCJyZXNpemVcIixmKSxlLnVuYmluZCh3aW5kb3csXCJzY3JvbGxcIixyLnNjcm9sbCksZS51bmJpbmQoZG9jdW1lbnQsXCJrZXlkb3duXCIsZiksZS51bmJpbmQoZG9jdW1lbnQsXCJtb3VzZW1vdmVcIixPYSksTi50cmFuc2Zvcm0mJmUudW5iaW5kKGYuc2Nyb2xsV3JhcCxcImNsaWNrXCIsZiksVSYmZS51bmJpbmQod2luZG93LHAsZiksQ2EoXCJ1bmJpbmRFdmVudHNcIil9LFJhPWZ1bmN0aW9uKGEsYil7dmFyIGM9aGMoZi5jdXJySXRlbSxwYSxhKTtyZXR1cm4gYiYmKGNhPWMpLGN9LFNhPWZ1bmN0aW9uKGEpe3JldHVybiBhfHwoYT1mLmN1cnJJdGVtKSxhLmluaXRpYWxab29tTGV2ZWx9LFRhPWZ1bmN0aW9uKGEpe3JldHVybiBhfHwoYT1mLmN1cnJJdGVtKSxhLnc+MD9pLm1heFNwcmVhZFpvb206MX0sVWE9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGQ9PT1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWw/KGNbYV09Zi5jdXJySXRlbS5pbml0aWFsUG9zaXRpb25bYV0sITApOihjW2FdPUthKGEsZCksY1thXT5iLm1pblthXT8oY1thXT1iLm1pblthXSwhMCk6Y1thXTxiLm1heFthXT8oY1thXT1iLm1heFthXSwhMCk6ITEpfSxWYT1mdW5jdGlvbigpe2lmKEUpe3ZhciBiPU4ucGVyc3BlY3RpdmUmJiFHO3JldHVybiB1PVwidHJhbnNsYXRlXCIrKGI/XCIzZChcIjpcIihcIiksdm9pZCh2PU4ucGVyc3BlY3RpdmU/XCIsIDBweClcIjpcIilcIil9RT1cImxlZnRcIixlLmFkZENsYXNzKGEsXCJwc3dwLS1pZVwiKSxJYT1mdW5jdGlvbihhLGIpe2IubGVmdD1hK1wicHhcIn0sSGE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5maXRSYXRpbz4xPzE6YS5maXRSYXRpbyxjPWEuY29udGFpbmVyLnN0eWxlLGQ9YiphLncsZT1iKmEuaDtjLndpZHRoPWQrXCJweFwiLGMuaGVpZ2h0PWUrXCJweFwiLGMubGVmdD1hLmluaXRpYWxQb3NpdGlvbi54K1wicHhcIixjLnRvcD1hLmluaXRpYWxQb3NpdGlvbi55K1wicHhcIn0sR2E9ZnVuY3Rpb24oKXtpZihkYSl7dmFyIGE9ZGEsYj1mLmN1cnJJdGVtLGM9Yi5maXRSYXRpbz4xPzE6Yi5maXRSYXRpbyxkPWMqYi53LGU9YypiLmg7YS53aWR0aD1kK1wicHhcIixhLmhlaWdodD1lK1wicHhcIixhLmxlZnQ9b2EueCtcInB4XCIsYS50b3A9b2EueStcInB4XCJ9fX0sV2E9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjtpLmVzY0tleSYmMjc9PT1hLmtleUNvZGU/Yj1cImNsb3NlXCI6aS5hcnJvd0tleXMmJigzNz09PWEua2V5Q29kZT9iPVwicHJldlwiOjM5PT09YS5rZXlDb2RlJiYoYj1cIm5leHRcIikpLGImJihhLmN0cmxLZXl8fGEuYWx0S2V5fHxhLnNoaWZ0S2V5fHxhLm1ldGFLZXl8fChhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExLGZbYl0oKSkpfSxYYT1mdW5jdGlvbihhKXthJiYoWHx8V3x8ZWF8fFMpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpfSxZYT1mdW5jdGlvbigpe2Yuc2V0U2Nyb2xsT2Zmc2V0KDAsZS5nZXRTY3JvbGxZKCkpfSxaYT17fSwkYT0wLF9hPWZ1bmN0aW9uKGEpe1phW2FdJiYoWmFbYV0ucmFmJiZJKFphW2FdLnJhZiksJGEtLSxkZWxldGUgWmFbYV0pfSxhYj1mdW5jdGlvbihhKXtaYVthXSYmX2EoYSksWmFbYV18fCgkYSsrLFphW2FdPXt9KX0sYmI9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gWmEpWmEuaGFzT3duUHJvcGVydHkoYSkmJl9hKGEpfSxjYj1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaCxpPURhKCk7YWIoYSk7dmFyIGo9ZnVuY3Rpb24oKXtpZihaYVthXSl7aWYoaD1EYSgpLWksaD49ZClyZXR1cm4gX2EoYSksZihjKSx2b2lkKGcmJmcoKSk7ZigoYy1iKSplKGgvZCkrYiksWmFbYV0ucmFmPUgoail9fTtqKCl9LGRiPXtzaG91dDpDYSxsaXN0ZW46QmEsdmlld3BvcnRTaXplOnBhLG9wdGlvbnM6aSxpc01haW5TY3JvbGxBbmltYXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZWF9LGdldFpvb21MZXZlbDpmdW5jdGlvbigpe3JldHVybiBzfSxnZXRDdXJyZW50SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gbX0saXNEcmFnZ2luZzpmdW5jdGlvbigpe3JldHVybiBVfSxpc1pvb21pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gX30sc2V0U2Nyb2xsT2Zmc2V0OmZ1bmN0aW9uKGEsYil7cmEueD1hLE09cmEueT1iLENhKFwidXBkYXRlU2Nyb2xsT2Zmc2V0XCIscmEpfSxhcHBseVpvb21QYW46ZnVuY3Rpb24oYSxiLGMsZCl7b2EueD1iLG9hLnk9YyxzPWEsR2EoZCl9LGluaXQ6ZnVuY3Rpb24oKXtpZighaiYmIWspe3ZhciBjO2YuZnJhbWV3b3JrPWUsZi50ZW1wbGF0ZT1hLGYuYmc9ZS5nZXRDaGlsZEJ5Q2xhc3MoYSxcInBzd3BfX2JnXCIpLEo9YS5jbGFzc05hbWUsaj0hMCxOPWUuZGV0ZWN0RmVhdHVyZXMoKSxIPU4ucmFmLEk9Ti5jYWYsRT1OLnRyYW5zZm9ybSxMPU4ub2xkSUUsZi5zY3JvbGxXcmFwPWUuZ2V0Q2hpbGRCeUNsYXNzKGEsXCJwc3dwX19zY3JvbGwtd3JhcFwiKSxmLmNvbnRhaW5lcj1lLmdldENoaWxkQnlDbGFzcyhmLnNjcm9sbFdyYXAsXCJwc3dwX19jb250YWluZXJcIiksbj1mLmNvbnRhaW5lci5zdHlsZSxmLml0ZW1Ib2xkZXJzPXk9W3tlbDpmLmNvbnRhaW5lci5jaGlsZHJlblswXSx3cmFwOjAsaW5kZXg6LTF9LHtlbDpmLmNvbnRhaW5lci5jaGlsZHJlblsxXSx3cmFwOjAsaW5kZXg6LTF9LHtlbDpmLmNvbnRhaW5lci5jaGlsZHJlblsyXSx3cmFwOjAsaW5kZXg6LTF9XSx5WzBdLmVsLnN0eWxlLmRpc3BsYXk9eVsyXS5lbC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLFZhKCkscj17cmVzaXplOmYudXBkYXRlU2l6ZSxzY3JvbGw6WWEsa2V5ZG93bjpXYSxjbGljazpYYX07dmFyIGQ9Ti5pc09sZElPU1Bob25lfHxOLmlzT2xkQW5kcm9pZHx8Ti5pc01vYmlsZU9wZXJhO2ZvcihOLmFuaW1hdGlvbk5hbWUmJk4udHJhbnNmb3JtJiYhZHx8KGkuc2hvd0FuaW1hdGlvbkR1cmF0aW9uPWkuaGlkZUFuaW1hdGlvbkR1cmF0aW9uPTApLGM9MDtjPHZhLmxlbmd0aDtjKyspZltcImluaXRcIit2YVtjXV0oKTtpZihiKXt2YXIgZz1mLnVpPW5ldyBiKGYsZSk7Zy5pbml0KCl9Q2EoXCJmaXJzdFVwZGF0ZVwiKSxtPW18fGkuaW5kZXh8fDAsKGlzTmFOKG0pfHwwPm18fG0+PV9iKCkpJiYobT0wKSxmLmN1cnJJdGVtPSRiKG0pLChOLmlzT2xkSU9TUGhvbmV8fE4uaXNPbGRBbmRyb2lkKSYmKHVhPSExKSxhLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSxpLm1vZGFsJiYodWE/YS5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCI6KGEuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGEuc3R5bGUudG9wPWUuZ2V0U2Nyb2xsWSgpK1wicHhcIikpLHZvaWQgMD09PU0mJihDYShcImluaXRpYWxMYXlvdXRcIiksTT1LPWUuZ2V0U2Nyb2xsWSgpKTt2YXIgbD1cInBzd3AtLW9wZW4gXCI7Zm9yKGkubWFpbkNsYXNzJiYobCs9aS5tYWluQ2xhc3MrXCIgXCIpLGkuc2hvd0hpZGVPcGFjaXR5JiYobCs9XCJwc3dwLS1hbmltYXRlX29wYWNpdHkgXCIpLGwrPUc/XCJwc3dwLS10b3VjaFwiOlwicHN3cC0tbm90b3VjaFwiLGwrPU4uYW5pbWF0aW9uTmFtZT9cIiBwc3dwLS1jc3NfYW5pbWF0aW9uXCI6XCJcIixsKz1OLnN2Zz9cIiBwc3dwLS1zdmdcIjpcIlwiLGUuYWRkQ2xhc3MoYSxsKSxmLnVwZGF0ZVNpemUoKSxvPS0xLHRhPW51bGwsYz0wO2g+YztjKyspSWEoKGMrbykqc2EueCx5W2NdLmVsLnN0eWxlKTtMfHxlLmJpbmQoZi5zY3JvbGxXcmFwLHEsZiksQmEoXCJpbml0aWFsWm9vbUluRW5kXCIsZnVuY3Rpb24oKXtmLnNldENvbnRlbnQoeVswXSxtLTEpLGYuc2V0Q29udGVudCh5WzJdLG0rMSkseVswXS5lbC5zdHlsZS5kaXNwbGF5PXlbMl0uZWwuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsaS5mb2N1cyYmYS5mb2N1cygpLFBhKCl9KSxmLnNldENvbnRlbnQoeVsxXSxtKSxmLnVwZGF0ZUN1cnJJdGVtKCksQ2EoXCJhZnRlckluaXRcIiksdWF8fCh3PXNldEludGVydmFsKGZ1bmN0aW9uKCl7JGF8fFV8fF98fHMhPT1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWx8fGYudXBkYXRlU2l6ZSgpfSwxZTMpKSxlLmFkZENsYXNzKGEsXCJwc3dwLS12aXNpYmxlXCIpfX0sY2xvc2U6ZnVuY3Rpb24oKXtqJiYoaj0hMSxrPSEwLENhKFwiY2xvc2VcIiksUWEoKSxiYyhmLmN1cnJJdGVtLG51bGwsITAsZi5kZXN0cm95KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtDYShcImRlc3Ryb3lcIiksV2ImJmNsZWFyVGltZW91dChXYiksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSxhLmNsYXNzTmFtZT1KLHcmJmNsZWFySW50ZXJ2YWwodyksZS51bmJpbmQoZi5zY3JvbGxXcmFwLHEsZiksZS51bmJpbmQod2luZG93LFwic2Nyb2xsXCIsZikseWIoKSxiYigpLEFhPW51bGx9LHBhblRvOmZ1bmN0aW9uKGEsYixjKXtjfHwoYT5jYS5taW4ueD9hPWNhLm1pbi54OmE8Y2EubWF4LngmJihhPWNhLm1heC54KSxiPmNhLm1pbi55P2I9Y2EubWluLnk6YjxjYS5tYXgueSYmKGI9Y2EubWF4LnkpKSxvYS54PWEsb2EueT1iLEdhKCl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe2E9YXx8d2luZG93LmV2ZW50LHJbYS50eXBlXSYmclthLnR5cGVdKGEpfSxnb1RvOmZ1bmN0aW9uKGEpe2E9emEoYSk7dmFyIGI9YS1tO3RhPWIsbT1hLGYuY3Vyckl0ZW09JGIobSkscWEtPWIsSmEoc2EueCpxYSksYmIoKSxlYT0hMSxmLnVwZGF0ZUN1cnJJdGVtKCl9LG5leHQ6ZnVuY3Rpb24oKXtmLmdvVG8obSsxKX0scHJldjpmdW5jdGlvbigpe2YuZ29UbyhtLTEpfSx1cGRhdGVDdXJyWm9vbUl0ZW06ZnVuY3Rpb24oYSl7aWYoYSYmQ2EoXCJiZWZvcmVDaGFuZ2VcIiwwKSx5WzFdLmVsLmNoaWxkcmVuLmxlbmd0aCl7dmFyIGI9eVsxXS5lbC5jaGlsZHJlblswXTtkYT1lLmhhc0NsYXNzKGIsXCJwc3dwX196b29tLXdyYXBcIik/Yi5zdHlsZTpudWxsfWVsc2UgZGE9bnVsbDtjYT1mLmN1cnJJdGVtLmJvdW5kcyx0PXM9Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsLG9hLng9Y2EuY2VudGVyLngsb2EueT1jYS5jZW50ZXIueSxhJiZDYShcImFmdGVyQ2hhbmdlXCIpfSxpbnZhbGlkYXRlQ3Vyckl0ZW1zOmZ1bmN0aW9uKCl7eD0hMDtmb3IodmFyIGE9MDtoPmE7YSsrKXlbYV0uaXRlbSYmKHlbYV0uaXRlbS5uZWVkc1VwZGF0ZT0hMCl9LHVwZGF0ZUN1cnJJdGVtOmZ1bmN0aW9uKGEpe2lmKDAhPT10YSl7dmFyIGIsYz1NYXRoLmFicyh0YSk7aWYoIShhJiYyPmMpKXtmLmN1cnJJdGVtPSRiKG0pLHhhPSExLENhKFwiYmVmb3JlQ2hhbmdlXCIsdGEpLGM+PWgmJihvKz10YSsodGE+MD8taDpoKSxjPWgpO2Zvcih2YXIgZD0wO2M+ZDtkKyspdGE+MD8oYj15LnNoaWZ0KCkseVtoLTFdPWIsbysrLElhKChvKzIpKnNhLngsYi5lbC5zdHlsZSksZi5zZXRDb250ZW50KGIsbS1jK2QrMSsxKSk6KGI9eS5wb3AoKSx5LnVuc2hpZnQoYiksby0tLElhKG8qc2EueCxiLmVsLnN0eWxlKSxmLnNldENvbnRlbnQoYixtK2MtZC0xLTEpKTtpZihkYSYmMT09PU1hdGguYWJzKHRhKSl7dmFyIGU9JGIoeik7ZS5pbml0aWFsWm9vbUxldmVsIT09cyYmKGhjKGUscGEpLGxjKGUpLEhhKGUpKX10YT0wLGYudXBkYXRlQ3Vyclpvb21JdGVtKCksej1tLENhKFwiYWZ0ZXJDaGFuZ2VcIil9fX0sdXBkYXRlU2l6ZTpmdW5jdGlvbihiKXtpZighdWEmJmkubW9kYWwpe3ZhciBjPWUuZ2V0U2Nyb2xsWSgpO2lmKE0hPT1jJiYoYS5zdHlsZS50b3A9YytcInB4XCIsTT1jKSwhYiYmd2EueD09PXdpbmRvdy5pbm5lcldpZHRoJiZ3YS55PT09d2luZG93LmlubmVySGVpZ2h0KXJldHVybjt3YS54PXdpbmRvdy5pbm5lcldpZHRoLHdhLnk9d2luZG93LmlubmVySGVpZ2h0LGEuc3R5bGUuaGVpZ2h0PXdhLnkrXCJweFwifWlmKHBhLng9Zi5zY3JvbGxXcmFwLmNsaWVudFdpZHRoLHBhLnk9Zi5zY3JvbGxXcmFwLmNsaWVudEhlaWdodCxZYSgpLHNhLng9cGEueCtNYXRoLnJvdW5kKHBhLngqaS5zcGFjaW5nKSxzYS55PXBhLnksSmEoc2EueCpxYSksQ2EoXCJiZWZvcmVSZXNpemVcIiksdm9pZCAwIT09byl7Zm9yKHZhciBkLGcsaixrPTA7aD5rO2srKylkPXlba10sSWEoKGsrbykqc2EueCxkLmVsLnN0eWxlKSxqPW0ray0xLGkubG9vcCYmX2IoKT4yJiYoaj16YShqKSksZz0kYihqKSxnJiYoeHx8Zy5uZWVkc1VwZGF0ZXx8IWcuYm91bmRzKT8oZi5jbGVhblNsaWRlKGcpLGYuc2V0Q29udGVudChkLGopLDE9PT1rJiYoZi5jdXJySXRlbT1nLGYudXBkYXRlQ3Vyclpvb21JdGVtKCEwKSksZy5uZWVkc1VwZGF0ZT0hMSk6LTE9PT1kLmluZGV4JiZqPj0wJiZmLnNldENvbnRlbnQoZCxqKSxnJiZnLmNvbnRhaW5lciYmKGhjKGcscGEpLGxjKGcpLEhhKGcpKTt4PSExfXQ9cz1mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwsY2E9Zi5jdXJySXRlbS5ib3VuZHMsY2EmJihvYS54PWNhLmNlbnRlci54LG9hLnk9Y2EuY2VudGVyLnksR2EoITApKSxDYShcInJlc2l6ZVwiKX0sem9vbVRvOmZ1bmN0aW9uKGEsYixjLGQsZil7YiYmKHQ9cyx0Yi54PU1hdGguYWJzKGIueCktb2EueCx0Yi55PU1hdGguYWJzKGIueSktb2EueSxMYShuYSxvYSkpO3ZhciBnPVJhKGEsITEpLGg9e307VWEoXCJ4XCIsZyxoLGEpLFVhKFwieVwiLGcsaCxhKTt2YXIgaT1zLGo9e3g6b2EueCx5Om9hLnl9O01hKGgpO3ZhciBrPWZ1bmN0aW9uKGIpezE9PT1iPyhzPWEsb2EueD1oLngsb2EueT1oLnkpOihzPShhLWkpKmIraSxvYS54PShoLngtai54KSpiK2oueCxvYS55PShoLnktai55KSpiK2oueSksZiYmZihiKSxHYSgxPT09Yil9O2M/Y2IoXCJjdXN0b21ab29tVG9cIiwwLDEsYyxkfHxlLmVhc2luZy5zaW5lLmluT3V0LGspOmsoMSl9fSxlYj0zMCxmYj0xMCxnYj17fSxoYj17fSxpYj17fSxqYj17fSxrYj17fSxsYj1bXSxtYj17fSxuYj1bXSxvYj17fSxwYj0wLHFiPWxhKCkscmI9MCxzYj1sYSgpLHRiPWxhKCksdWI9bGEoKSx2Yj1mdW5jdGlvbihhLGIpe3JldHVybiBhLng9PT1iLngmJmEueT09PWIueX0sd2I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTWF0aC5hYnMoYS54LWIueCk8ZyYmTWF0aC5hYnMoYS55LWIueSk8Z30seGI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gb2IueD1NYXRoLmFicyhhLngtYi54KSxvYi55PU1hdGguYWJzKGEueS1iLnkpLE1hdGguc3FydChvYi54Km9iLngrb2IueSpvYi55KX0seWI9ZnVuY3Rpb24oKXtZJiYoSShZKSxZPW51bGwpfSx6Yj1mdW5jdGlvbigpe1UmJihZPUgoemIpLFBiKCkpfSxBYj1mdW5jdGlvbigpe3JldHVybiEoXCJmaXRcIj09PWkuc2NhbGVNb2RlJiZzPT09Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsKX0sQmI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYSE9PWRvY3VtZW50P2EuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikuaW5kZXhPZihcInBzd3BfX3Njcm9sbC13cmFwXCIpPi0xPyExOmIoYSk/YTpCYihhLnBhcmVudE5vZGUsYik6ITF9LENiPXt9LERiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIENiLnByZXZlbnQ9IUJiKGEudGFyZ2V0LGkuaXNDbGlja2FibGVFbGVtZW50KSxDYShcInByZXZlbnREcmFnRXZlbnRcIixhLGIsQ2IpLENiLnByZXZlbnR9LEViPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIueD1hLnBhZ2VYLGIueT1hLnBhZ2VZLGIuaWQ9YS5pZGVudGlmaWVyLGJ9LEZiPWZ1bmN0aW9uKGEsYixjKXtjLng9LjUqKGEueCtiLngpLGMueT0uNSooYS55K2IueSl9LEdiPWZ1bmN0aW9uKGEsYixjKXtpZihhLVA+NTApe3ZhciBkPW5iLmxlbmd0aD4yP25iLnNoaWZ0KCk6e307ZC54PWIsZC55PWMsbmIucHVzaChkKSxQPWF9fSxIYj1mdW5jdGlvbigpe3ZhciBhPW9hLnktZi5jdXJySXRlbS5pbml0aWFsUG9zaXRpb24ueTtyZXR1cm4gMS1NYXRoLmFicyhhLyhwYS55LzIpKX0sSWI9e30sSmI9e30sS2I9W10sTGI9ZnVuY3Rpb24oYSl7Zm9yKDtLYi5sZW5ndGg+MDspS2IucG9wKCk7cmV0dXJuIEY/KGthPTAsbGIuZm9yRWFjaChmdW5jdGlvbihhKXswPT09a2E/S2JbMF09YToxPT09a2EmJihLYlsxXT1hKSxrYSsrfSkpOmEudHlwZS5pbmRleE9mKFwidG91Y2hcIik+LTE/YS50b3VjaGVzJiZhLnRvdWNoZXMubGVuZ3RoPjAmJihLYlswXT1FYihhLnRvdWNoZXNbMF0sSWIpLGEudG91Y2hlcy5sZW5ndGg+MSYmKEtiWzFdPUViKGEudG91Y2hlc1sxXSxKYikpKTooSWIueD1hLnBhZ2VYLEliLnk9YS5wYWdlWSxJYi5pZD1cIlwiLEtiWzBdPUliKSxLYn0sTWI9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZyxoPTAsaj1vYVthXStiW2FdLGs9YlthXT4wLGw9c2IueCtiLngsbT1zYi54LW1iLng7cmV0dXJuIGM9aj5jYS5taW5bYV18fGo8Y2EubWF4W2FdP2kucGFuRW5kRnJpY3Rpb246MSxqPW9hW2FdK2JbYV0qYywhaS5hbGxvd1BhblRvTmV4dCYmcyE9PWYuY3Vyckl0ZW0uaW5pdGlhbFpvb21MZXZlbHx8KGRhP1wiaFwiIT09ZmF8fFwieFwiIT09YXx8V3x8KGs/KGo+Y2EubWluW2FdJiYoYz1pLnBhbkVuZEZyaWN0aW9uLGg9Y2EubWluW2FdLWosZD1jYS5taW5bYV0tbmFbYV0pLCgwPj1kfHwwPm0pJiZfYigpPjE/KGc9bCwwPm0mJmw+bWIueCYmKGc9bWIueCkpOmNhLm1pbi54IT09Y2EubWF4LngmJihlPWopKTooajxjYS5tYXhbYV0mJihjPWkucGFuRW5kRnJpY3Rpb24saD1qLWNhLm1heFthXSxkPW5hW2FdLWNhLm1heFthXSksKDA+PWR8fG0+MCkmJl9iKCk+MT8oZz1sLG0+MCYmbDxtYi54JiYoZz1tYi54KSk6Y2EubWluLnghPT1jYS5tYXgueCYmKGU9aikpKTpnPWwsXCJ4XCIhPT1hKT92b2lkKGVhfHxafHxzPmYuY3Vyckl0ZW0uZml0UmF0aW8mJihvYVthXSs9YlthXSpjKSk6KHZvaWQgMCE9PWcmJihKYShnLCEwKSxaPWc9PT1tYi54PyExOiEwKSxjYS5taW4ueCE9PWNhLm1heC54JiYodm9pZCAwIT09ZT9vYS54PWU6Wnx8KG9hLngrPWIueCpjKSksdm9pZCAwIT09Zyl9LE5iPWZ1bmN0aW9uKGEpe2lmKCEoXCJtb3VzZWRvd25cIj09PWEudHlwZSYmYS5idXR0b24+MCkpe2lmKFpiKXJldHVybiB2b2lkIGEucHJldmVudERlZmF1bHQoKTtpZighVHx8XCJtb3VzZWRvd25cIiE9PWEudHlwZSl7aWYoRGIoYSwhMCkmJmEucHJldmVudERlZmF1bHQoKSxDYShcInBvaW50ZXJEb3duXCIpLEYpe3ZhciBiPWUuYXJyYXlTZWFyY2gobGIsYS5wb2ludGVySWQsXCJpZFwiKTswPmImJihiPWxiLmxlbmd0aCksbGJbYl09e3g6YS5wYWdlWCx5OmEucGFnZVksaWQ6YS5wb2ludGVySWR9fXZhciBjPUxiKGEpLGQ9Yy5sZW5ndGg7JD1udWxsLGJiKCksVSYmMSE9PWR8fChVPWdhPSEwLGUuYmluZCh3aW5kb3cscCxmKSxSPWphPWhhPVM9Wj1YPVY9Vz0hMSxmYT1udWxsLENhKFwiZmlyc3RUb3VjaFN0YXJ0XCIsYyksTGEobmEsb2EpLG1hLng9bWEueT0wLExhKGpiLGNbMF0pLExhKGtiLGpiKSxtYi54PXNhLngqcWEsbmI9W3t4OmpiLngseTpqYi55fV0sUD1PPURhKCksUmEocywhMCkseWIoKSx6YigpKSwhXyYmZD4xJiYhZWEmJiFaJiYodD1zLFc9ITEsXz1WPSEwLG1hLnk9bWEueD0wLExhKG5hLG9hKSxMYShnYixjWzBdKSxMYShoYixjWzFdKSxGYihnYixoYix1YiksdGIueD1NYXRoLmFicyh1Yi54KS1vYS54LHRiLnk9TWF0aC5hYnModWIueSktb2EueSxhYT1iYT14YihnYixoYikpfX19LE9iPWZ1bmN0aW9uKGEpe2lmKGEucHJldmVudERlZmF1bHQoKSxGKXt2YXIgYj1lLmFycmF5U2VhcmNoKGxiLGEucG9pbnRlcklkLFwiaWRcIik7aWYoYj4tMSl7dmFyIGM9bGJbYl07Yy54PWEucGFnZVgsYy55PWEucGFnZVl9fWlmKFUpe3ZhciBkPUxiKGEpO2lmKGZhfHxYfHxfKSQ9ZDtlbHNlIGlmKHNiLnghPT1zYS54KnFhKWZhPVwiaFwiO2Vsc2V7dmFyIGY9TWF0aC5hYnMoZFswXS54LWpiLngpLU1hdGguYWJzKGRbMF0ueS1qYi55KTtNYXRoLmFicyhmKT49ZmImJihmYT1mPjA/XCJoXCI6XCJ2XCIsJD1kKX19fSxQYj1mdW5jdGlvbigpe2lmKCQpe3ZhciBhPSQubGVuZ3RoO2lmKDAhPT1hKWlmKExhKGdiLCRbMF0pLGliLng9Z2IueC1qYi54LGliLnk9Z2IueS1qYi55LF8mJmE+MSl7aWYoamIueD1nYi54LGpiLnk9Z2IueSwhaWIueCYmIWliLnkmJnZiKCRbMV0saGIpKXJldHVybjtMYShoYiwkWzFdKSxXfHwoVz0hMCxDYShcInpvb21HZXN0dXJlU3RhcnRlZFwiKSk7dmFyIGI9eGIoZ2IsaGIpLGM9VWIoYik7Yz5mLmN1cnJJdGVtLmluaXRpYWxab29tTGV2ZWwrZi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsLzE1JiYoamE9ITApO3ZhciBkPTEsZT1TYSgpLGc9VGEoKTtpZihlPmMpaWYoaS5waW5jaFRvQ2xvc2UmJiFqYSYmdDw9Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsKXt2YXIgaD1lLWMsaj0xLWgvKGUvMS4yKTtFYShqKSxDYShcIm9uUGluY2hDbG9zZVwiLGopLGhhPSEwfWVsc2UgZD0oZS1jKS9lLGQ+MSYmKGQ9MSksYz1lLWQqKGUvMyk7ZWxzZSBjPmcmJihkPShjLWcpLyg2KmUpLGQ+MSYmKGQ9MSksYz1nK2QqZSk7MD5kJiYoZD0wKSxhYT1iLEZiKGdiLGhiLHFiKSxtYS54Kz1xYi54LXViLngsbWEueSs9cWIueS11Yi55LExhKHViLHFiKSxvYS54PUthKFwieFwiLGMpLG9hLnk9S2EoXCJ5XCIsYyksUj1jPnMscz1jLEdhKCl9ZWxzZXtpZighZmEpcmV0dXJuO2lmKGdhJiYoZ2E9ITEsTWF0aC5hYnMoaWIueCk+PWZiJiYoaWIueC09JFswXS54LWtiLngpLE1hdGguYWJzKGliLnkpPj1mYiYmKGliLnktPSRbMF0ueS1rYi55KSksamIueD1nYi54LGpiLnk9Z2IueSwwPT09aWIueCYmMD09PWliLnkpcmV0dXJuO2lmKFwidlwiPT09ZmEmJmkuY2xvc2VPblZlcnRpY2FsRHJhZyYmIUFiKCkpe21hLnkrPWliLnksb2EueSs9aWIueTt2YXIgaz1IYigpO3JldHVybiBTPSEwLENhKFwib25WZXJ0aWNhbERyYWdcIixrKSxFYShrKSx2b2lkIEdhKCl9R2IoRGEoKSxnYi54LGdiLnkpLFg9ITAsY2E9Zi5jdXJySXRlbS5ib3VuZHM7dmFyIGw9TWIoXCJ4XCIsaWIpO2x8fChNYihcInlcIixpYiksTWEob2EpLEdhKCkpfX19LFFiPWZ1bmN0aW9uKGEpe2lmKE4uaXNPbGRBbmRyb2lkKXtpZihUJiZcIm1vdXNldXBcIj09PWEudHlwZSlyZXR1cm47YS50eXBlLmluZGV4T2YoXCJ0b3VjaFwiKT4tMSYmKGNsZWFyVGltZW91dChUKSxUPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtUPTB9LDYwMCkpfUNhKFwicG9pbnRlclVwXCIpLERiKGEsITEpJiZhLnByZXZlbnREZWZhdWx0KCk7dmFyIGI7aWYoRil7dmFyIGM9ZS5hcnJheVNlYXJjaChsYixhLnBvaW50ZXJJZCxcImlkXCIpO2lmKGM+LTEpaWYoYj1sYi5zcGxpY2UoYywxKVswXSxuYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQpYi50eXBlPWEucG9pbnRlclR5cGV8fFwibW91c2VcIjtlbHNle3ZhciBkPXs0OlwibW91c2VcIiwyOlwidG91Y2hcIiwzOlwicGVuXCJ9O2IudHlwZT1kW2EucG9pbnRlclR5cGVdLGIudHlwZXx8KGIudHlwZT1hLnBvaW50ZXJUeXBlfHxcIm1vdXNlXCIpfX12YXIgZyxoPUxiKGEpLGo9aC5sZW5ndGg7aWYoXCJtb3VzZXVwXCI9PT1hLnR5cGUmJihqPTApLDI9PT1qKXJldHVybiAkPW51bGwsITA7MT09PWomJkxhKGtiLGhbMF0pLDAhPT1qfHxmYXx8ZWF8fChifHwoXCJtb3VzZXVwXCI9PT1hLnR5cGU/Yj17eDphLnBhZ2VYLHk6YS5wYWdlWSx0eXBlOlwibW91c2VcIn06YS5jaGFuZ2VkVG91Y2hlcyYmYS5jaGFuZ2VkVG91Y2hlc1swXSYmKGI9e3g6YS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCx5OmEuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVksdHlwZTpcInRvdWNoXCJ9KSksQ2EoXCJ0b3VjaFJlbGVhc2VcIixhLGIpKTt2YXIgaz0tMTtpZigwPT09aiYmKFU9ITEsZS51bmJpbmQod2luZG93LHAsZikseWIoKSxfP2s9MDotMSE9PXJiJiYoaz1EYSgpLXJiKSkscmI9MT09PWo/RGEoKTotMSxnPS0xIT09ayYmMTUwPms/XCJ6b29tXCI6XCJzd2lwZVwiLF8mJjI+aiYmKF89ITEsMT09PWomJihnPVwiem9vbVBvaW50ZXJVcFwiKSxDYShcInpvb21HZXN0dXJlRW5kZWRcIikpLCQ9bnVsbCxYfHxXfHxlYXx8UylpZihiYigpLFF8fChRPVJiKCkpLFEuY2FsY3VsYXRlU3dpcGVTcGVlZChcInhcIiksUyl7dmFyIGw9SGIoKTtpZihsPGkudmVydGljYWxEcmFnUmFuZ2UpZi5jbG9zZSgpO2Vsc2V7dmFyIG09b2EueSxuPWlhO2NiKFwidmVydGljYWxEcmFnXCIsMCwxLDMwMCxlLmVhc2luZy5jdWJpYy5vdXQsZnVuY3Rpb24oYSl7b2EueT0oZi5jdXJySXRlbS5pbml0aWFsUG9zaXRpb24ueS1tKSphK20sRWEoKDEtbikqYStuKSxHYSgpfSksQ2EoXCJvblZlcnRpY2FsRHJhZ1wiLDEpfX1lbHNle2lmKChafHxlYSkmJjA9PT1qKXt2YXIgbz1UYihnLFEpO2lmKG8pcmV0dXJuO2c9XCJ6b29tUG9pbnRlclVwXCJ9aWYoIWVhKXJldHVyblwic3dpcGVcIiE9PWc/dm9pZCBWYigpOnZvaWQoIVomJnM+Zi5jdXJySXRlbS5maXRSYXRpbyYmU2IoUSkpfX0sUmI9ZnVuY3Rpb24oKXt2YXIgYSxiLGM9e2xhc3RGbGlja09mZnNldDp7fSxsYXN0RmxpY2tEaXN0Ont9LGxhc3RGbGlja1NwZWVkOnt9LHNsb3dEb3duUmF0aW86e30sc2xvd0Rvd25SYXRpb1JldmVyc2U6e30sc3BlZWREZWNlbGVyYXRpb25SYXRpbzp7fSxzcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzOnt9LGRpc3RhbmNlT2Zmc2V0Ont9LGJhY2tBbmltRGVzdGluYXRpb246e30sYmFja0FuaW1TdGFydGVkOnt9LGNhbGN1bGF0ZVN3aXBlU3BlZWQ6ZnVuY3Rpb24oZCl7bmIubGVuZ3RoPjE/KGE9RGEoKS1QKzUwLGI9bmJbbmIubGVuZ3RoLTJdW2RdKTooYT1EYSgpLU8sYj1rYltkXSksYy5sYXN0RmxpY2tPZmZzZXRbZF09amJbZF0tYixjLmxhc3RGbGlja0Rpc3RbZF09TWF0aC5hYnMoYy5sYXN0RmxpY2tPZmZzZXRbZF0pLGMubGFzdEZsaWNrRGlzdFtkXT4yMD9jLmxhc3RGbGlja1NwZWVkW2RdPWMubGFzdEZsaWNrT2Zmc2V0W2RdL2E6Yy5sYXN0RmxpY2tTcGVlZFtkXT0wLE1hdGguYWJzKGMubGFzdEZsaWNrU3BlZWRbZF0pPC4xJiYoYy5sYXN0RmxpY2tTcGVlZFtkXT0wKSxjLnNsb3dEb3duUmF0aW9bZF09Ljk1LGMuc2xvd0Rvd25SYXRpb1JldmVyc2VbZF09MS1jLnNsb3dEb3duUmF0aW9bZF0sYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2RdPTF9LGNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0OmZ1bmN0aW9uKGEsYil7Yy5iYWNrQW5pbVN0YXJ0ZWRbYV18fChvYVthXT5jYS5taW5bYV0/Yy5iYWNrQW5pbURlc3RpbmF0aW9uW2FdPWNhLm1pblthXTpvYVthXTxjYS5tYXhbYV0mJihjLmJhY2tBbmltRGVzdGluYXRpb25bYV09Y2EubWF4W2FdKSx2b2lkIDAhPT1jLmJhY2tBbmltRGVzdGluYXRpb25bYV0mJihjLnNsb3dEb3duUmF0aW9bYV09LjcsYy5zbG93RG93blJhdGlvUmV2ZXJzZVthXT0xLWMuc2xvd0Rvd25SYXRpb1thXSxjLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnNbYV08LjA1JiYoYy5sYXN0RmxpY2tTcGVlZFthXT0wLGMuYmFja0FuaW1TdGFydGVkW2FdPSEwLGNiKFwiYm91bmNlWm9vbVBhblwiK2Esb2FbYV0sYy5iYWNrQW5pbURlc3RpbmF0aW9uW2FdLGJ8fDMwMCxlLmVhc2luZy5zaW5lLm91dCxmdW5jdGlvbihiKXtvYVthXT1iLEdhKCl9KSkpKX0sY2FsY3VsYXRlQW5pbU9mZnNldDpmdW5jdGlvbihhKXtjLmJhY2tBbmltU3RhcnRlZFthXXx8KGMuc3BlZWREZWNlbGVyYXRpb25SYXRpb1thXT1jLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9bYV0qKGMuc2xvd0Rvd25SYXRpb1thXStjLnNsb3dEb3duUmF0aW9SZXZlcnNlW2FdLWMuc2xvd0Rvd25SYXRpb1JldmVyc2VbYV0qYy50aW1lRGlmZi8xMCksYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzW2FdPU1hdGguYWJzKGMubGFzdEZsaWNrU3BlZWRbYV0qYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2FdKSxjLmRpc3RhbmNlT2Zmc2V0W2FdPWMubGFzdEZsaWNrU3BlZWRbYV0qYy5zcGVlZERlY2VsZXJhdGlvblJhdGlvW2FdKmMudGltZURpZmYsb2FbYV0rPWMuZGlzdGFuY2VPZmZzZXRbYV0pfSxwYW5BbmltTG9vcDpmdW5jdGlvbigpe3JldHVybiBaYS56b29tUGFuJiYoWmEuem9vbVBhbi5yYWY9SChjLnBhbkFuaW1Mb29wKSxjLm5vdz1EYSgpLGMudGltZURpZmY9Yy5ub3ctYy5sYXN0Tm93LGMubGFzdE5vdz1jLm5vdyxjLmNhbGN1bGF0ZUFuaW1PZmZzZXQoXCJ4XCIpLGMuY2FsY3VsYXRlQW5pbU9mZnNldChcInlcIiksR2EoKSxjLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieFwiKSxjLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieVwiKSxjLnNwZWVkRGVjZWxlcmF0aW9uUmF0aW9BYnMueDwuMDUmJmMuc3BlZWREZWNlbGVyYXRpb25SYXRpb0Ficy55PC4wNSk/KG9hLng9TWF0aC5yb3VuZChvYS54KSxvYS55PU1hdGgucm91bmQob2EueSksR2EoKSx2b2lkIF9hKFwiem9vbVBhblwiKSk6dm9pZCAwfX07cmV0dXJuIGN9LFNiPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNhbGN1bGF0ZVN3aXBlU3BlZWQoXCJ5XCIpLGNhPWYuY3Vyckl0ZW0uYm91bmRzLGEuYmFja0FuaW1EZXN0aW5hdGlvbj17fSxhLmJhY2tBbmltU3RhcnRlZD17fSxNYXRoLmFicyhhLmxhc3RGbGlja1NwZWVkLngpPD0uMDUmJk1hdGguYWJzKGEubGFzdEZsaWNrU3BlZWQueSk8PS4wNT8oYS5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzLng9YS5zcGVlZERlY2VsZXJhdGlvblJhdGlvQWJzLnk9MCxhLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieFwiKSxhLmNhbGN1bGF0ZU92ZXJCb3VuZHNBbmltT2Zmc2V0KFwieVwiKSwhMCk6KGFiKFwiem9vbVBhblwiKSxhLmxhc3ROb3c9RGEoKSx2b2lkIGEucGFuQW5pbUxvb3AoKSl9LFRiPWZ1bmN0aW9uKGEsYil7dmFyIGM7ZWF8fChwYj1tKTt2YXIgZDtpZihcInN3aXBlXCI9PT1hKXt2YXIgZz1qYi54LWtiLngsaD1iLmxhc3RGbGlja0Rpc3QueDwxMDtnPmViJiYoaHx8Yi5sYXN0RmxpY2tPZmZzZXQueD4yMCk/ZD0tMTotZWI+ZyYmKGh8fGIubGFzdEZsaWNrT2Zmc2V0Lng8LTIwKSYmKGQ9MSl9dmFyIGo7ZCYmKG0rPWQsMD5tPyhtPWkubG9vcD9fYigpLTE6MCxqPSEwKTptPj1fYigpJiYobT1pLmxvb3A/MDpfYigpLTEsaj0hMCksKCFqfHxpLmxvb3ApJiYodGErPWQscWEtPWQsYz0hMCkpO3ZhciBrLGw9c2EueCpxYSxuPU1hdGguYWJzKGwtc2IueCk7cmV0dXJuIGN8fGw+c2IueD09Yi5sYXN0RmxpY2tTcGVlZC54PjA/KGs9TWF0aC5hYnMoYi5sYXN0RmxpY2tTcGVlZC54KT4wP24vTWF0aC5hYnMoYi5sYXN0RmxpY2tTcGVlZC54KTozMzMsaz1NYXRoLm1pbihrLDQwMCksaz1NYXRoLm1heChrLDI1MCkpOms9MzMzLHBiPT09bSYmKGM9ITEpLGVhPSEwLENhKFwibWFpblNjcm9sbEFuaW1TdGFydFwiKSxjYihcIm1haW5TY3JvbGxcIixzYi54LGwsayxlLmVhc2luZy5jdWJpYy5vdXQsSmEsZnVuY3Rpb24oKXtiYigpLGVhPSExLHBiPS0xLChjfHxwYiE9PW0pJiZmLnVwZGF0ZUN1cnJJdGVtKCksQ2EoXCJtYWluU2Nyb2xsQW5pbUNvbXBsZXRlXCIpfSksYyYmZi51cGRhdGVDdXJySXRlbSghMCksY30sVWI9ZnVuY3Rpb24oYSl7cmV0dXJuIDEvYmEqYSp0fSxWYj1mdW5jdGlvbigpe3ZhciBhPXMsYj1TYSgpLGM9VGEoKTtiPnM/YT1iOnM+YyYmKGE9Yyk7dmFyIGQsZz0xLGg9aWE7cmV0dXJuIGhhJiYhUiYmIWphJiZiPnM/KGYuY2xvc2UoKSwhMCk6KGhhJiYoZD1mdW5jdGlvbihhKXtFYSgoZy1oKSphK2gpfSksZi56b29tVG8oYSwwLDIwMCxlLmVhc2luZy5jdWJpYy5vdXQsZCksITApfTt5YShcIkdlc3R1cmVzXCIse3B1YmxpY01ldGhvZHM6e2luaXRHZXN0dXJlczpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYixjLGQsZSl7QT1hK2IsQj1hK2MsQz1hK2QsRD1lP2ErZTpcIlwifTtGPU4ucG9pbnRlckV2ZW50LEYmJk4udG91Y2gmJihOLnRvdWNoPSExKSxGP25hdmlnYXRvci5wb2ludGVyRW5hYmxlZD9hKFwicG9pbnRlclwiLFwiZG93blwiLFwibW92ZVwiLFwidXBcIixcImNhbmNlbFwiKTphKFwiTVNQb2ludGVyXCIsXCJEb3duXCIsXCJNb3ZlXCIsXCJVcFwiLFwiQ2FuY2VsXCIpOk4udG91Y2g/KGEoXCJ0b3VjaFwiLFwic3RhcnRcIixcIm1vdmVcIixcImVuZFwiLFwiY2FuY2VsXCIpLEc9ITApOmEoXCJtb3VzZVwiLFwiZG93blwiLFwibW92ZVwiLFwidXBcIikscD1CK1wiIFwiK0MrXCIgXCIrRCxxPUEsRiYmIUcmJihHPW5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4xfHxuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cz4xKSxmLmxpa2VseVRvdWNoRGV2aWNlPUcscltBXT1OYixyW0JdPU9iLHJbQ109UWIsRCYmKHJbRF09cltDXSksTi50b3VjaCYmKHErPVwiIG1vdXNlZG93blwiLHArPVwiIG1vdXNlbW92ZSBtb3VzZXVwXCIsci5tb3VzZWRvd249cltBXSxyLm1vdXNlbW92ZT1yW0JdLHIubW91c2V1cD1yW0NdKSxHfHwoaS5hbGxvd1BhblRvTmV4dD0hMSl9fX0pO3ZhciBXYixYYixZYixaYiwkYixfYixhYyxiYz1mdW5jdGlvbihiLGMsZCxnKXtXYiYmY2xlYXJUaW1lb3V0KFdiKSxaYj0hMCxZYj0hMDt2YXIgaDtiLmluaXRpYWxMYXlvdXQ/KGg9Yi5pbml0aWFsTGF5b3V0LGIuaW5pdGlhbExheW91dD1udWxsKTpoPWkuZ2V0VGh1bWJCb3VuZHNGbiYmaS5nZXRUaHVtYkJvdW5kc0ZuKG0pO3ZhciBqPWQ/aS5oaWRlQW5pbWF0aW9uRHVyYXRpb246aS5zaG93QW5pbWF0aW9uRHVyYXRpb24saz1mdW5jdGlvbigpe19hKFwiaW5pdGlhbFpvb21cIiksZD8oZi50ZW1wbGF0ZS5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKSxmLmJnLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpKTooRWEoMSksYyYmKGMuc3R5bGUuZGlzcGxheT1cImJsb2NrXCIpLGUuYWRkQ2xhc3MoYSxcInBzd3AtLWFuaW1hdGVkLWluXCIpLENhKFwiaW5pdGlhbFpvb21cIisoZD9cIk91dEVuZFwiOlwiSW5FbmRcIikpKSxnJiZnKCksWmI9ITF9O2lmKCFqfHwhaHx8dm9pZCAwPT09aC54KXJldHVybiBDYShcImluaXRpYWxab29tXCIrKGQ/XCJPdXRcIjpcIkluXCIpKSxzPWIuaW5pdGlhbFpvb21MZXZlbCxMYShvYSxiLmluaXRpYWxQb3NpdGlvbiksR2EoKSxhLnN0eWxlLm9wYWNpdHk9ZD8wOjEsRWEoMSksdm9pZChqP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtrKCl9LGopOmsoKSk7dmFyIG49ZnVuY3Rpb24oKXt2YXIgYz1sLGc9IWYuY3Vyckl0ZW0uc3JjfHxmLmN1cnJJdGVtLmxvYWRFcnJvcnx8aS5zaG93SGlkZU9wYWNpdHk7Yi5taW5pSW1nJiYoYi5taW5pSW1nLnN0eWxlLndlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eT1cImhpZGRlblwiKSxkfHwocz1oLncvYi53LG9hLng9aC54LG9hLnk9aC55LUssZltnP1widGVtcGxhdGVcIjpcImJnXCJdLnN0eWxlLm9wYWNpdHk9LjAwMSxHYSgpKSxhYihcImluaXRpYWxab29tXCIpLGQmJiFjJiZlLnJlbW92ZUNsYXNzKGEsXCJwc3dwLS1hbmltYXRlZC1pblwiKSxnJiYoZD9lWyhjP1wicmVtb3ZlXCI6XCJhZGRcIikrXCJDbGFzc1wiXShhLFwicHN3cC0tYW5pbWF0ZV9vcGFjaXR5XCIpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFkZENsYXNzKGEsXCJwc3dwLS1hbmltYXRlX29wYWNpdHlcIil9LDMwKSksV2I9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKENhKFwiaW5pdGlhbFpvb21cIisoZD9cIk91dFwiOlwiSW5cIikpLGQpe3ZhciBmPWgudy9iLncsaT17eDpvYS54LHk6b2EueX0sbD1zLG09aWEsbj1mdW5jdGlvbihiKXsxPT09Yj8ocz1mLG9hLng9aC54LG9hLnk9aC55LU0pOihzPShmLWwpKmIrbCxvYS54PShoLngtaS54KSpiK2kueCxvYS55PShoLnktTS1pLnkpKmIraS55KSxHYSgpLGc/YS5zdHlsZS5vcGFjaXR5PTEtYjpFYShtLWIqbSl9O2M/Y2IoXCJpbml0aWFsWm9vbVwiLDAsMSxqLGUuZWFzaW5nLmN1YmljLm91dCxuLGspOihuKDEpLFdiPXNldFRpbWVvdXQoayxqKzIwKSl9ZWxzZSBzPWIuaW5pdGlhbFpvb21MZXZlbCxMYShvYSxiLmluaXRpYWxQb3NpdGlvbiksR2EoKSxFYSgxKSxnP2Euc3R5bGUub3BhY2l0eT0xOkVhKDEpLFdiPXNldFRpbWVvdXQoayxqKzIwKX0sZD8yNTo5MCl9O24oKX0sY2M9e30sZGM9W10sZWM9e2luZGV4OjAsZXJyb3JNc2c6JzxkaXYgY2xhc3M9XCJwc3dwX19lcnJvci1tc2dcIj48YSBocmVmPVwiJXVybCVcIiB0YXJnZXQ9XCJfYmxhbmtcIj5UaGUgaW1hZ2U8L2E+IGNvdWxkIG5vdCBiZSBsb2FkZWQuPC9kaXY+Jyxmb3JjZVByb2dyZXNzaXZlTG9hZGluZzohMSxwcmVsb2FkOlsxLDFdLGdldE51bUl0ZW1zRm46ZnVuY3Rpb24oKXtyZXR1cm4gWGIubGVuZ3RofX0sZmM9ZnVuY3Rpb24oKXtyZXR1cm57Y2VudGVyOnt4OjAseTowfSxtYXg6e3g6MCx5OjB9LG1pbjp7eDowLHk6MH19fSxnYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5ib3VuZHM7ZC5jZW50ZXIueD1NYXRoLnJvdW5kKChjYy54LWIpLzIpLGQuY2VudGVyLnk9TWF0aC5yb3VuZCgoY2MueS1jKS8yKSthLnZHYXAudG9wLGQubWF4Lng9Yj5jYy54P01hdGgucm91bmQoY2MueC1iKTpkLmNlbnRlci54LGQubWF4Lnk9Yz5jYy55P01hdGgucm91bmQoY2MueS1jKSthLnZHYXAudG9wOmQuY2VudGVyLnksZC5taW4ueD1iPmNjLng/MDpkLmNlbnRlci54LGQubWluLnk9Yz5jYy55P2EudkdhcC50b3A6ZC5jZW50ZXIueX0saGM9ZnVuY3Rpb24oYSxiLGMpe2lmKGEuc3JjJiYhYS5sb2FkRXJyb3Ipe3ZhciBkPSFjO2lmKGQmJihhLnZHYXB8fChhLnZHYXA9e3RvcDowLGJvdHRvbTowfSksQ2EoXCJwYXJzZVZlcnRpY2FsTWFyZ2luXCIsYSkpLGNjLng9Yi54LGNjLnk9Yi55LWEudkdhcC50b3AtYS52R2FwLmJvdHRvbSxkKXt2YXIgZT1jYy54L2EudyxmPWNjLnkvYS5oO2EuZml0UmF0aW89Zj5lP2U6Zjt2YXIgZz1pLnNjYWxlTW9kZTtcIm9yaWdcIj09PWc/Yz0xOlwiZml0XCI9PT1nJiYoYz1hLmZpdFJhdGlvKSxjPjEmJihjPTEpLGEuaW5pdGlhbFpvb21MZXZlbD1jLGEuYm91bmRzfHwoYS5ib3VuZHM9ZmMoKSl9aWYoIWMpcmV0dXJuO3JldHVybiBnYyhhLGEudypjLGEuaCpjKSxkJiZjPT09YS5pbml0aWFsWm9vbUxldmVsJiYoYS5pbml0aWFsUG9zaXRpb249YS5ib3VuZHMuY2VudGVyKSxhLmJvdW5kc31yZXR1cm4gYS53PWEuaD0wLGEuaW5pdGlhbFpvb21MZXZlbD1hLmZpdFJhdGlvPTEsYS5ib3VuZHM9ZmMoKSxhLmluaXRpYWxQb3NpdGlvbj1hLmJvdW5kcy5jZW50ZXIsYS5ib3VuZHN9LGljPWZ1bmN0aW9uKGEsYixjLGQsZSxnKXtiLmxvYWRFcnJvcnx8ZCYmKGIuaW1hZ2VBcHBlbmRlZD0hMCxsYyhiLGQsYj09PWYuY3Vyckl0ZW0mJnhhKSxjLmFwcGVuZENoaWxkKGQpLGcmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiJiZiLmxvYWRlZCYmYi5wbGFjZWhvbGRlciYmKGIucGxhY2Vob2xkZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixiLnBsYWNlaG9sZGVyPW51bGwpfSw1MDApKX0samM9ZnVuY3Rpb24oYSl7YS5sb2FkaW5nPSEwLGEubG9hZGVkPSExO3ZhciBiPWEuaW1nPWUuY3JlYXRlRWwoXCJwc3dwX19pbWdcIixcImltZ1wiKSxjPWZ1bmN0aW9uKCl7YS5sb2FkaW5nPSExLGEubG9hZGVkPSEwLGEubG9hZENvbXBsZXRlP2EubG9hZENvbXBsZXRlKGEpOmEuaW1nPW51bGwsYi5vbmxvYWQ9Yi5vbmVycm9yPW51bGwsYj1udWxsfTtyZXR1cm4gYi5vbmxvYWQ9YyxiLm9uZXJyb3I9ZnVuY3Rpb24oKXthLmxvYWRFcnJvcj0hMCxjKCl9LGIuc3JjPWEuc3JjLGJ9LGtjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3JjJiZhLmxvYWRFcnJvciYmYS5jb250YWluZXI/KGImJihhLmNvbnRhaW5lci5pbm5lckhUTUw9XCJcIiksYS5jb250YWluZXIuaW5uZXJIVE1MPWkuZXJyb3JNc2cucmVwbGFjZShcIiV1cmwlXCIsYS5zcmMpLCEwKTp2b2lkIDB9LGxjPWZ1bmN0aW9uKGEsYixjKXtpZihhLnNyYyl7Ynx8KGI9YS5jb250YWluZXIubGFzdENoaWxkKTt2YXIgZD1jP2EudzpNYXRoLnJvdW5kKGEudyphLmZpdFJhdGlvKSxlPWM/YS5oOk1hdGgucm91bmQoYS5oKmEuZml0UmF0aW8pO2EucGxhY2Vob2xkZXImJiFhLmxvYWRlZCYmKGEucGxhY2Vob2xkZXIuc3R5bGUud2lkdGg9ZCtcInB4XCIsYS5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQ9ZStcInB4XCIpLGIuc3R5bGUud2lkdGg9ZCtcInB4XCIsYi5zdHlsZS5oZWlnaHQ9ZStcInB4XCJ9fSxtYz1mdW5jdGlvbigpe2lmKGRjLmxlbmd0aCl7Zm9yKHZhciBhLGI9MDtiPGRjLmxlbmd0aDtiKyspYT1kY1tiXSxhLmhvbGRlci5pbmRleD09PWEuaW5kZXgmJmljKGEuaW5kZXgsYS5pdGVtLGEuYmFzZURpdixhLmltZywhMSxhLmNsZWFyUGxhY2Vob2xkZXIpO2RjPVtdfX07eWEoXCJDb250cm9sbGVyXCIse3B1YmxpY01ldGhvZHM6e2xhenlMb2FkSXRlbTpmdW5jdGlvbihhKXthPXphKGEpO3ZhciBiPSRiKGEpO2ImJighYi5sb2FkZWQmJiFiLmxvYWRpbmd8fHgpJiYoQ2EoXCJnZXR0aW5nRGF0YVwiLGEsYiksYi5zcmMmJmpjKGIpKX0saW5pdENvbnRyb2xsZXI6ZnVuY3Rpb24oKXtlLmV4dGVuZChpLGVjLCEwKSxmLml0ZW1zPVhiPWMsJGI9Zi5nZXRJdGVtQXQsX2I9aS5nZXROdW1JdGVtc0ZuLGFjPWkubG9vcCxfYigpPDMmJihpLmxvb3A9ITEpLEJhKFwiYmVmb3JlQ2hhbmdlXCIsZnVuY3Rpb24oYSl7dmFyIGIsYz1pLnByZWxvYWQsZD1udWxsPT09YT8hMDphPj0wLGU9TWF0aC5taW4oY1swXSxfYigpKSxnPU1hdGgubWluKGNbMV0sX2IoKSk7Zm9yKGI9MTsoZD9nOmUpPj1iO2IrKylmLmxhenlMb2FkSXRlbShtK2IpO2ZvcihiPTE7KGQ/ZTpnKT49YjtiKyspZi5sYXp5TG9hZEl0ZW0obS1iKX0pLEJhKFwiaW5pdGlhbExheW91dFwiLGZ1bmN0aW9uKCl7Zi5jdXJySXRlbS5pbml0aWFsTGF5b3V0PWkuZ2V0VGh1bWJCb3VuZHNGbiYmaS5nZXRUaHVtYkJvdW5kc0ZuKG0pfSksQmEoXCJtYWluU2Nyb2xsQW5pbUNvbXBsZXRlXCIsbWMpLEJhKFwiaW5pdGlhbFpvb21JbkVuZFwiLG1jKSxCYShcImRlc3Ryb3lcIixmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTA7YjxYYi5sZW5ndGg7YisrKWE9WGJbYl0sYS5jb250YWluZXImJihhLmNvbnRhaW5lcj1udWxsKSxhLnBsYWNlaG9sZGVyJiYoYS5wbGFjZWhvbGRlcj1udWxsKSxhLmltZyYmKGEuaW1nPW51bGwpLGEucHJlbG9hZGVyJiYoYS5wcmVsb2FkZXI9bnVsbCksYS5sb2FkRXJyb3ImJihhLmxvYWRlZD1hLmxvYWRFcnJvcj0hMSk7ZGM9bnVsbH0pfSxnZXRJdGVtQXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE+PTAmJnZvaWQgMCE9PVhiW2FdP1hiW2FdOiExfSxhbGxvd1Byb2dyZXNzaXZlSW1nOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZm9yY2VQcm9ncmVzc2l2ZUxvYWRpbmd8fCFHfHxpLm1vdXNlVXNlZHx8c2NyZWVuLndpZHRoPjEyMDB9LHNldENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXtpLmxvb3AmJihiPXphKGIpKTt2YXIgYz1mLmdldEl0ZW1BdChhLmluZGV4KTtjJiYoYy5jb250YWluZXI9bnVsbCk7dmFyIGQsZz1mLmdldEl0ZW1BdChiKTtpZighZylyZXR1cm4gdm9pZChhLmVsLmlubmVySFRNTD1cIlwiKTtDYShcImdldHRpbmdEYXRhXCIsYixnKSxhLmluZGV4PWIsYS5pdGVtPWc7dmFyIGg9Zy5jb250YWluZXI9ZS5jcmVhdGVFbChcInBzd3BfX3pvb20td3JhcFwiKTtpZighZy5zcmMmJmcuaHRtbCYmKGcuaHRtbC50YWdOYW1lP2guYXBwZW5kQ2hpbGQoZy5odG1sKTpoLmlubmVySFRNTD1nLmh0bWwpLGtjKGcpLGhjKGcscGEpLCFnLnNyY3x8Zy5sb2FkRXJyb3J8fGcubG9hZGVkKWcuc3JjJiYhZy5sb2FkRXJyb3ImJihkPWUuY3JlYXRlRWwoXCJwc3dwX19pbWdcIixcImltZ1wiKSxkLnN0eWxlLm9wYWNpdHk9MSxkLnNyYz1nLnNyYyxsYyhnLGQpLGljKGIsZyxoLGQsITApKTtlbHNle2lmKGcubG9hZENvbXBsZXRlPWZ1bmN0aW9uKGMpe2lmKGope2lmKGEmJmEuaW5kZXg9PT1iKXtpZihrYyhjLCEwKSlyZXR1cm4gYy5sb2FkQ29tcGxldGU9Yy5pbWc9bnVsbCxoYyhjLHBhKSxIYShjKSx2b2lkKGEuaW5kZXg9PT1tJiZmLnVwZGF0ZUN1cnJab29tSXRlbSgpKTtjLmltYWdlQXBwZW5kZWQ/IVpiJiZjLnBsYWNlaG9sZGVyJiYoYy5wbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGMucGxhY2Vob2xkZXI9bnVsbCk6Ti50cmFuc2Zvcm0mJihlYXx8WmIpP2RjLnB1c2goe2l0ZW06YyxiYXNlRGl2OmgsaW1nOmMuaW1nLGluZGV4OmIsaG9sZGVyOmEsY2xlYXJQbGFjZWhvbGRlcjohMH0pOmljKGIsYyxoLGMuaW1nLGVhfHxaYiwhMCl9Yy5sb2FkQ29tcGxldGU9bnVsbCxjLmltZz1udWxsLENhKFwiaW1hZ2VMb2FkQ29tcGxldGVcIixiLGMpfX0sZS5mZWF0dXJlcy50cmFuc2Zvcm0pe3ZhciBrPVwicHN3cF9faW1nIHBzd3BfX2ltZy0tcGxhY2Vob2xkZXJcIjtrKz1nLm1zcmM/XCJcIjpcIiBwc3dwX19pbWctLXBsYWNlaG9sZGVyLS1ibGFua1wiO3ZhciBsPWUuY3JlYXRlRWwoayxnLm1zcmM/XCJpbWdcIjpcIlwiKTtnLm1zcmMmJihsLnNyYz1nLm1zcmMpLGxjKGcsbCksaC5hcHBlbmRDaGlsZChsKSxnLnBsYWNlaG9sZGVyPWx9Zy5sb2FkaW5nfHxqYyhnKSxmLmFsbG93UHJvZ3Jlc3NpdmVJbWcoKSYmKCFZYiYmTi50cmFuc2Zvcm0/ZGMucHVzaCh7aXRlbTpnLGJhc2VEaXY6aCxpbWc6Zy5pbWcsaW5kZXg6Yixob2xkZXI6YX0pOmljKGIsZyxoLGcuaW1nLCEwLCEwKSl9WWJ8fGIhPT1tP0hhKGcpOihkYT1oLnN0eWxlLGJjKGcsZHx8Zy5pbWcpKSxhLmVsLmlubmVySFRNTD1cIlwiLGEuZWwuYXBwZW5kQ2hpbGQoaCl9LGNsZWFuU2xpZGU6ZnVuY3Rpb24oYSl7YS5pbWcmJihhLmltZy5vbmxvYWQ9YS5pbWcub25lcnJvcj1udWxsKSxhLmxvYWRlZD1hLmxvYWRpbmc9YS5pbWc9YS5pbWFnZUFwcGVuZGVkPSExfX19KTt2YXIgbmMsb2M9e30scGM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksZT17b3JpZ0V2ZW50OmEsdGFyZ2V0OmEudGFyZ2V0LHJlbGVhc2VQb2ludDpiLHBvaW50ZXJUeXBlOmN8fFwidG91Y2hcIn07ZC5pbml0Q3VzdG9tRXZlbnQoXCJwc3dwVGFwXCIsITAsITAsZSksYS50YXJnZXQuZGlzcGF0Y2hFdmVudChkKX07eWEoXCJUYXBcIix7cHVibGljTWV0aG9kczp7aW5pdFRhcDpmdW5jdGlvbigpe0JhKFwiZmlyc3RUb3VjaFN0YXJ0XCIsZi5vblRhcFN0YXJ0KSxCYShcInRvdWNoUmVsZWFzZVwiLGYub25UYXBSZWxlYXNlKSxCYShcImRlc3Ryb3lcIixmdW5jdGlvbigpe29jPXt9LG5jPW51bGx9KX0sb25UYXBTdGFydDpmdW5jdGlvbihhKXthLmxlbmd0aD4xJiYoY2xlYXJUaW1lb3V0KG5jKSxuYz1udWxsKX0sb25UYXBSZWxlYXNlOmZ1bmN0aW9uKGEsYil7aWYoYiYmIVgmJiFWJiYhJGEpe3ZhciBjPWI7aWYobmMmJihjbGVhclRpbWVvdXQobmMpLG5jPW51bGwsd2IoYyxvYykpKXJldHVybiB2b2lkIENhKFwiZG91YmxlVGFwXCIsYyk7aWYoXCJtb3VzZVwiPT09Yi50eXBlKXJldHVybiB2b2lkIHBjKGEsYixcIm1vdXNlXCIpO3ZhciBkPWEudGFyZ2V0LnRhZ05hbWUudG9VcHBlckNhc2UoKTtpZihcIkJVVFRPTlwiPT09ZHx8ZS5oYXNDbGFzcyhhLnRhcmdldCxcInBzd3BfX3NpbmdsZS10YXBcIikpcmV0dXJuIHZvaWQgcGMoYSxiKTtMYShvYyxjKSxuYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cGMoYSxiKSxuYz1udWxsfSwzMDApfX19fSk7dmFyIHFjO3lhKFwiRGVza3RvcFpvb21cIix7cHVibGljTWV0aG9kczp7aW5pdERlc2t0b3Bab29tOmZ1bmN0aW9uKCl7THx8KEc/QmEoXCJtb3VzZVVzZWRcIixmdW5jdGlvbigpe2Yuc2V0dXBEZXNrdG9wWm9vbSgpfSk6Zi5zZXR1cERlc2t0b3Bab29tKCEwKSl9LHNldHVwRGVza3RvcFpvb206ZnVuY3Rpb24oYil7cWM9e307dmFyIGM9XCJ3aGVlbCBtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsXCI7QmEoXCJiaW5kRXZlbnRzXCIsZnVuY3Rpb24oKXtlLmJpbmQoYSxjLGYuaGFuZGxlTW91c2VXaGVlbCl9KSxCYShcInVuYmluZEV2ZW50c1wiLGZ1bmN0aW9uKCl7cWMmJmUudW5iaW5kKGEsYyxmLmhhbmRsZU1vdXNlV2hlZWwpfSksZi5tb3VzZVpvb21lZEluPSExO3ZhciBkLGc9ZnVuY3Rpb24oKXtmLm1vdXNlWm9vbWVkSW4mJihlLnJlbW92ZUNsYXNzKGEsXCJwc3dwLS16b29tZWQtaW5cIiksZi5tb3VzZVpvb21lZEluPSExKSwxPnM/ZS5hZGRDbGFzcyhhLFwicHN3cC0tem9vbS1hbGxvd2VkXCIpOmUucmVtb3ZlQ2xhc3MoYSxcInBzd3AtLXpvb20tYWxsb3dlZFwiKSxoKCl9LGg9ZnVuY3Rpb24oKXtkJiYoZS5yZW1vdmVDbGFzcyhhLFwicHN3cC0tZHJhZ2dpbmdcIiksZD0hMSl9O0JhKFwicmVzaXplXCIsZyksQmEoXCJhZnRlckNoYW5nZVwiLGcpLEJhKFwicG9pbnRlckRvd25cIixmdW5jdGlvbigpe2YubW91c2Vab29tZWRJbiYmKGQ9ITAsZS5hZGRDbGFzcyhhLFwicHN3cC0tZHJhZ2dpbmdcIikpfSksQmEoXCJwb2ludGVyVXBcIixoKSxifHxnKCl9LGhhbmRsZU1vdXNlV2hlZWw6ZnVuY3Rpb24oYSl7aWYoczw9Zi5jdXJySXRlbS5maXRSYXRpbylyZXR1cm4gaS5tb2RhbCYmKCFpLmNsb3NlT25TY3JvbGx8fCRhfHxVP2EucHJldmVudERlZmF1bHQoKTpFJiZNYXRoLmFicyhhLmRlbHRhWSk+MiYmKGw9ITAsZi5jbG9zZSgpKSksITA7aWYoYS5zdG9wUHJvcGFnYXRpb24oKSxxYy54PTAsXCJkZWx0YVhcImluIGEpMT09PWEuZGVsdGFNb2RlPyhxYy54PTE4KmEuZGVsdGFYLHFjLnk9MTgqYS5kZWx0YVkpOihxYy54PWEuZGVsdGFYLHFjLnk9YS5kZWx0YVkpO2Vsc2UgaWYoXCJ3aGVlbERlbHRhXCJpbiBhKWEud2hlZWxEZWx0YVgmJihxYy54PS0uMTYqYS53aGVlbERlbHRhWCksYS53aGVlbERlbHRhWT9xYy55PS0uMTYqYS53aGVlbERlbHRhWTpxYy55PS0uMTYqYS53aGVlbERlbHRhO2Vsc2V7aWYoIShcImRldGFpbFwiaW4gYSkpcmV0dXJuO3FjLnk9YS5kZXRhaWx9UmEocywhMCk7dmFyIGI9b2EueC1xYy54LGM9b2EueS1xYy55OyhpLm1vZGFsfHxiPD1jYS5taW4ueCYmYj49Y2EubWF4LngmJmM8PWNhLm1pbi55JiZjPj1jYS5tYXgueSkmJmEucHJldmVudERlZmF1bHQoKSxmLnBhblRvKGIsYyl9LHRvZ2dsZURlc2t0b3Bab29tOmZ1bmN0aW9uKGIpe2I9Ynx8e3g6cGEueC8yK3JhLngseTpwYS55LzIrcmEueX07dmFyIGM9aS5nZXREb3VibGVUYXBab29tKCEwLGYuY3Vyckl0ZW0pLGQ9cz09PWM7Zi5tb3VzZVpvb21lZEluPSFkLGYuem9vbVRvKGQ/Zi5jdXJySXRlbS5pbml0aWFsWm9vbUxldmVsOmMsYiwzMzMpLGVbKGQ/XCJyZW1vdmVcIjpcImFkZFwiKStcIkNsYXNzXCJdKGEsXCJwc3dwLS16b29tZWQtaW5cIil9fX0pO3ZhciByYyxzYyx0Yyx1Yyx2Yyx3Yyx4Yyx5Yyx6YyxBYyxCYyxDYyxEYz17aGlzdG9yeTohMCxnYWxsZXJ5VUlEOjF9LEVjPWZ1bmN0aW9uKCl7cmV0dXJuIEJjLmhhc2guc3Vic3RyaW5nKDEpfSxGYz1mdW5jdGlvbigpe3JjJiZjbGVhclRpbWVvdXQocmMpLHRjJiZjbGVhclRpbWVvdXQodGMpfSxHYz1mdW5jdGlvbigpe3ZhciBhPUVjKCksYj17fTtpZihhLmxlbmd0aDw1KXJldHVybiBiO3ZhciBjLGQ9YS5zcGxpdChcIiZcIik7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylpZihkW2NdKXt2YXIgZT1kW2NdLnNwbGl0KFwiPVwiKTtlLmxlbmd0aDwyfHwoYltlWzBdXT1lWzFdKX1pZihpLmdhbGxlcnlQSURzKXt2YXIgZj1iLnBpZDtmb3IoYi5waWQ9MCxjPTA7YzxYYi5sZW5ndGg7YysrKWlmKFhiW2NdLnBpZD09PWYpe2IucGlkPWM7YnJlYWt9fWVsc2UgYi5waWQ9cGFyc2VJbnQoYi5waWQsMTApLTE7cmV0dXJuIGIucGlkPDAmJihiLnBpZD0wKSxifSxIYz1mdW5jdGlvbigpe2lmKHRjJiZjbGVhclRpbWVvdXQodGMpLCRhfHxVKXJldHVybiB2b2lkKHRjPXNldFRpbWVvdXQoSGMsNTAwKSk7dWM/Y2xlYXJUaW1lb3V0KHNjKTp1Yz0hMDt2YXIgYT1tKzEsYj0kYihtKTtiLmhhc093blByb3BlcnR5KFwicGlkXCIpJiYoYT1iLnBpZCk7dmFyIGM9eGMrXCImZ2lkPVwiK2kuZ2FsbGVyeVVJRCtcIiZwaWQ9XCIrYTt5Y3x8LTE9PT1CYy5oYXNoLmluZGV4T2YoYykmJihBYz0hMCk7dmFyIGQ9QmMuaHJlZi5zcGxpdChcIiNcIilbMF0rXCIjXCIrYztDYz9cIiNcIitjIT09d2luZG93LmxvY2F0aW9uLmhhc2gmJmhpc3RvcnlbeWM/XCJyZXBsYWNlU3RhdGVcIjpcInB1c2hTdGF0ZVwiXShcIlwiLGRvY3VtZW50LnRpdGxlLGQpOnljP0JjLnJlcGxhY2UoZCk6QmMuaGFzaD1jLHljPSEwLHNjPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt1Yz0hMX0sNjApfTt5YShcIkhpc3RvcnlcIix7cHVibGljTWV0aG9kczp7aW5pdEhpc3Rvcnk6ZnVuY3Rpb24oKXtpZihlLmV4dGVuZChpLERjLCEwKSxpLmhpc3Rvcnkpe0JjPXdpbmRvdy5sb2NhdGlvbixBYz0hMSx6Yz0hMSx5Yz0hMSx4Yz1FYygpLENjPVwicHVzaFN0YXRlXCJpbiBoaXN0b3J5LHhjLmluZGV4T2YoXCJnaWQ9XCIpPi0xJiYoeGM9eGMuc3BsaXQoXCImZ2lkPVwiKVswXSx4Yz14Yy5zcGxpdChcIj9naWQ9XCIpWzBdKSxCYShcImFmdGVyQ2hhbmdlXCIsZi51cGRhdGVVUkwpLEJhKFwidW5iaW5kRXZlbnRzXCIsZnVuY3Rpb24oKXtlLnVuYmluZCh3aW5kb3csXCJoYXNoY2hhbmdlXCIsZi5vbkhhc2hDaGFuZ2UpfSk7dmFyIGE9ZnVuY3Rpb24oKXt3Yz0hMCx6Y3x8KEFjP2hpc3RvcnkuYmFjaygpOnhjP0JjLmhhc2g9eGM6Q2M/aGlzdG9yeS5wdXNoU3RhdGUoXCJcIixkb2N1bWVudC50aXRsZSxCYy5wYXRobmFtZStCYy5zZWFyY2gpOkJjLmhhc2g9XCJcIiksRmMoKX07QmEoXCJ1bmJpbmRFdmVudHNcIixmdW5jdGlvbigpe2wmJmEoKX0pLEJhKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7d2N8fGEoKX0pLEJhKFwiZmlyc3RVcGRhdGVcIixmdW5jdGlvbigpe209R2MoKS5waWR9KTt2YXIgYj14Yy5pbmRleE9mKFwicGlkPVwiKTtiPi0xJiYoeGM9eGMuc3Vic3RyaW5nKDAsYiksXCImXCI9PT14Yy5zbGljZSgtMSkmJih4Yz14Yy5zbGljZSgwLC0xKSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtqJiZlLmJpbmQod2luZG93LFwiaGFzaGNoYW5nZVwiLGYub25IYXNoQ2hhbmdlKX0sNDApfX0sb25IYXNoQ2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIEVjKCk9PT14Yz8oemM9ITAsdm9pZCBmLmNsb3NlKCkpOnZvaWQodWN8fCh2Yz0hMCxmLmdvVG8oR2MoKS5waWQpLHZjPSExKSl9LHVwZGF0ZVVSTDpmdW5jdGlvbigpe0ZjKCksdmN8fCh5Yz9yYz1zZXRUaW1lb3V0KEhjLDgwMCk6SGMoKSl9fX0pLGUuZXh0ZW5kKGYsZGIpfTtyZXR1cm4gYX0pOyIsIi8qIVxyXG4gKiB0eXBlYWhlYWQuanMgMC4xMS4xXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS90d2l0dGVyL3R5cGVhaGVhZC5qc1xyXG4gKiBDb3B5cmlnaHQgMjAxMy0yMDE1IFR3aXR0ZXIsIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUXHJcbiAqL1xyXG5cclxuIWZ1bmN0aW9uKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInR5cGVhaGVhZC5qc1wiLFtcImpxdWVyeVwiXSxmdW5jdGlvbihhKXtyZXR1cm4gYihhKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIocmVxdWlyZShcImpxdWVyeVwiKSk6YihqUXVlcnkpfSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7cmV0dXJue2lzTXNpZTpmdW5jdGlvbigpe3JldHVybi8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKG1zaWUgfHJ2OikoXFxkKyguXFxkKyk/KS9pKVsyXTohMX0saXNCbGFua1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4hYXx8L15cXHMqJC8udGVzdChhKX0sZXNjYXBlUmVnRXhDaGFyczpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZyxcIlxcXFwkJlwiKX0saXNTdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGF9LGlzTnVtYmVyOmZ1bmN0aW9uKGEpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBhfSxpc0FycmF5OmEuaXNBcnJheSxpc0Z1bmN0aW9uOmEuaXNGdW5jdGlvbixpc09iamVjdDphLmlzUGxhaW5PYmplY3QsaXNVbmRlZmluZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGF9LGlzRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4hKCFhfHwxIT09YS5ub2RlVHlwZSl9LGlzSlF1ZXJ5OmZ1bmN0aW9uKGIpe3JldHVybiBiIGluc3RhbmNlb2YgYX0sdG9TdHI6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuaXNVbmRlZmluZWQoYSl8fG51bGw9PT1hP1wiXCI6YStcIlwifSxiaW5kOmEucHJveHksZWFjaDpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYyhiLGEpfWEuZWFjaChiLGQpfSxtYXA6YS5tYXAsZmlsdGVyOmEuZ3JlcCxldmVyeTpmdW5jdGlvbihiLGMpe3ZhciBkPSEwO3JldHVybiBiPyhhLmVhY2goYixmdW5jdGlvbihhLGUpe3JldHVybihkPWMuY2FsbChudWxsLGUsYSxiKSk/dm9pZCAwOiExfSksISFkKTpkfSxzb21lOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ITE7cmV0dXJuIGI/KGEuZWFjaChiLGZ1bmN0aW9uKGEsZSl7cmV0dXJuKGQ9Yy5jYWxsKG51bGwsZSxhLGIpKT8hMTp2b2lkIDB9KSwhIWQpOmR9LG1peGluOmEuZXh0ZW5kLGlkZW50aXR5OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxjbG9uZTpmdW5jdGlvbihiKXtyZXR1cm4gYS5leHRlbmQoITAse30sYil9LGdldElkR2VuZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYSsrfX0sdGVtcGxhdGlmeTpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7cmV0dXJuIFN0cmluZyhiKX1yZXR1cm4gYS5pc0Z1bmN0aW9uKGIpP2I6Y30sZGVmZXI6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChhLDApfSxkZWJvdW5jZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZixnLGg9dGhpcyxpPWFyZ3VtZW50cztyZXR1cm4gZj1mdW5jdGlvbigpe2Q9bnVsbCxjfHwoZT1hLmFwcGx5KGgsaSkpfSxnPWMmJiFkLGNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoZixiKSxnJiYoZT1hLmFwcGx5KGgsaSkpLGV9fSx0aHJvdHRsZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaDtyZXR1cm4gZz0wLGg9ZnVuY3Rpb24oKXtnPW5ldyBEYXRlLGU9bnVsbCxmPWEuYXBwbHkoYyxkKX0sZnVuY3Rpb24oKXt2YXIgaT1uZXcgRGF0ZSxqPWItKGktZyk7cmV0dXJuIGM9dGhpcyxkPWFyZ3VtZW50cywwPj1qPyhjbGVhclRpbWVvdXQoZSksZT1udWxsLGc9aSxmPWEuYXBwbHkoYyxkKSk6ZXx8KGU9c2V0VGltZW91dChoLGopKSxmfX0sc3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3JldHVybiBiLmlzU3RyaW5nKGEpP2E6SlNPTi5zdHJpbmdpZnkoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9fX0oKSxjPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShhKXt2YXIgZyxoO3JldHVybiBoPWIubWl4aW4oe30sZixhKSxnPXtjc3M6ZSgpLGNsYXNzZXM6aCxodG1sOmMoaCksc2VsZWN0b3JzOmQoaCl9LHtjc3M6Zy5jc3MsaHRtbDpnLmh0bWwsY2xhc3NlczpnLmNsYXNzZXMsc2VsZWN0b3JzOmcuc2VsZWN0b3JzLG1peGluOmZ1bmN0aW9uKGEpe2IubWl4aW4oYSxnKX19fWZ1bmN0aW9uIGMoYSl7cmV0dXJue3dyYXBwZXI6JzxzcGFuIGNsYXNzPVwiJythLndyYXBwZXIrJ1wiPjwvc3Bhbj4nLG1lbnU6JzxkaXYgY2xhc3M9XCInK2EubWVudSsnXCI+PC9kaXY+J319ZnVuY3Rpb24gZChhKXt2YXIgYz17fTtyZXR1cm4gYi5lYWNoKGEsZnVuY3Rpb24oYSxiKXtjW2JdPVwiLlwiK2F9KSxjfWZ1bmN0aW9uIGUoKXt2YXIgYT17d3JhcHBlcjp7cG9zaXRpb246XCJyZWxhdGl2ZVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0saGludDp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjBcIixsZWZ0OlwiMFwiLGJvcmRlckNvbG9yOlwidHJhbnNwYXJlbnRcIixib3hTaGFkb3c6XCJub25lXCIsb3BhY2l0eTpcIjFcIn0saW5wdXQ6e3Bvc2l0aW9uOlwicmVsYXRpdmVcIix2ZXJ0aWNhbEFsaWduOlwidG9wXCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn0saW5wdXRXaXRoTm9IaW50Ontwb3NpdGlvbjpcInJlbGF0aXZlXCIsdmVydGljYWxBbGlnbjpcInRvcFwifSxtZW51Ontwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiMTAwJVwiLGxlZnQ6XCIwXCIsekluZGV4OlwiMTAwXCIsZGlzcGxheTpcIm5vbmVcIn0sbHRyOntsZWZ0OlwiMFwiLHJpZ2h0OlwiYXV0b1wifSxydGw6e2xlZnQ6XCJhdXRvXCIscmlnaHQ6XCIgMFwifX07cmV0dXJuIGIuaXNNc2llKCkmJmIubWl4aW4oYS5pbnB1dCx7YmFja2dyb3VuZEltYWdlOlwidXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNylcIn0pLGF9dmFyIGY9e3dyYXBwZXI6XCJ0d2l0dGVyLXR5cGVhaGVhZFwiLGlucHV0OlwidHQtaW5wdXRcIixoaW50OlwidHQtaGludFwiLG1lbnU6XCJ0dC1tZW51XCIsZGF0YXNldDpcInR0LWRhdGFzZXRcIixzdWdnZXN0aW9uOlwidHQtc3VnZ2VzdGlvblwiLHNlbGVjdGFibGU6XCJ0dC1zZWxlY3RhYmxlXCIsZW1wdHk6XCJ0dC1lbXB0eVwiLG9wZW46XCJ0dC1vcGVuXCIsY3Vyc29yOlwidHQtY3Vyc29yXCIsaGlnaGxpZ2h0OlwidHQtaGlnaGxpZ2h0XCJ9O3JldHVybiBhfSgpLGQ9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGIpe2ImJmIuZWx8fGEuZXJyb3IoXCJFdmVudEJ1cyBpbml0aWFsaXplZCB3aXRob3V0IGVsXCIpLHRoaXMuJGVsPWEoYi5lbCl9dmFyIGQsZTtyZXR1cm4gZD1cInR5cGVhaGVhZDpcIixlPXtyZW5kZXI6XCJyZW5kZXJlZFwiLGN1cnNvcmNoYW5nZTpcImN1cnNvcmNoYW5nZWRcIixzZWxlY3Q6XCJzZWxlY3RlZFwiLGF1dG9jb21wbGV0ZTpcImF1dG9jb21wbGV0ZWRcIn0sYi5taXhpbihjLnByb3RvdHlwZSx7X3RyaWdnZXI6ZnVuY3Rpb24oYixjKXt2YXIgZTtyZXR1cm4gZT1hLkV2ZW50KGQrYiksKGM9Y3x8W10pLnVuc2hpZnQoZSksdGhpcy4kZWwudHJpZ2dlci5hcHBseSh0aGlzLiRlbCxjKSxlfSxiZWZvcmU6ZnVuY3Rpb24oYSl7dmFyIGIsYztyZXR1cm4gYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxjPXRoaXMuX3RyaWdnZXIoXCJiZWZvcmVcIithLGIpLGMuaXNEZWZhdWx0UHJldmVudGVkKCl9LHRyaWdnZXI6ZnVuY3Rpb24oYSl7dmFyIGI7dGhpcy5fdHJpZ2dlcihhLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSwoYj1lW2FdKSYmdGhpcy5fdHJpZ2dlcihiLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX19KSxjfSgpLGU9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBhKGEsYixjLGQpe3ZhciBlO2lmKCFjKXJldHVybiB0aGlzO2ZvcihiPWIuc3BsaXQoaSksYz1kP2goYyxkKTpjLHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2U9Yi5zaGlmdCgpOyl0aGlzLl9jYWxsYmFja3NbZV09dGhpcy5fY2FsbGJhY2tzW2VdfHx7c3luYzpbXSxhc3luYzpbXX0sdGhpcy5fY2FsbGJhY2tzW2VdW2FdLnB1c2goYyk7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gYihiLGMsZCl7cmV0dXJuIGEuY2FsbCh0aGlzLFwiYXN5bmNcIixiLGMsZCl9ZnVuY3Rpb24gYyhiLGMsZCl7cmV0dXJuIGEuY2FsbCh0aGlzLFwic3luY1wiLGIsYyxkKX1mdW5jdGlvbiBkKGEpe3ZhciBiO2lmKCF0aGlzLl9jYWxsYmFja3MpcmV0dXJuIHRoaXM7Zm9yKGE9YS5zcGxpdChpKTtiPWEuc2hpZnQoKTspZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tiXTtyZXR1cm4gdGhpc31mdW5jdGlvbiBlKGEpe3ZhciBiLGMsZCxlLGc7aWYoIXRoaXMuX2NhbGxiYWNrcylyZXR1cm4gdGhpcztmb3IoYT1hLnNwbGl0KGkpLGQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7KGI9YS5zaGlmdCgpKSYmKGM9dGhpcy5fY2FsbGJhY2tzW2JdKTspZT1mKGMuc3luYyx0aGlzLFtiXS5jb25jYXQoZCkpLGc9ZihjLmFzeW5jLHRoaXMsW2JdLmNvbmNhdChkKSksZSgpJiZqKGcpO3JldHVybiB0aGlzfWZ1bmN0aW9uIGYoYSxiLGMpe2Z1bmN0aW9uIGQoKXtmb3IodmFyIGQsZT0wLGY9YS5sZW5ndGg7IWQmJmY+ZTtlKz0xKWQ9YVtlXS5hcHBseShiLGMpPT09ITE7cmV0dXJuIWR9cmV0dXJuIGR9ZnVuY3Rpb24gZygpe3ZhciBhO3JldHVybiBhPXdpbmRvdy5zZXRJbW1lZGlhdGU/ZnVuY3Rpb24oYSl7c2V0SW1tZWRpYXRlKGZ1bmN0aW9uKCl7YSgpfSl9OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKCl9LDApfX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGEuYmluZD9hLmJpbmQoYik6ZnVuY3Rpb24oKXthLmFwcGx5KGIsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfX12YXIgaT0vXFxzKy8saj1nKCk7cmV0dXJue29uU3luYzpjLG9uQXN5bmM6YixvZmY6ZCx0cmlnZ2VyOmV9fSgpLGY9ZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYyhhLGMsZCl7Zm9yKHZhciBlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylmLnB1c2goYi5lc2NhcGVSZWdFeENoYXJzKGFbZ10pKTtyZXR1cm4gZT1kP1wiXFxcXGIoXCIrZi5qb2luKFwifFwiKStcIilcXFxcYlwiOlwiKFwiK2Yuam9pbihcInxcIikrXCIpXCIsYz9uZXcgUmVnRXhwKGUpOm5ldyBSZWdFeHAoZSxcImlcIil9dmFyIGQ9e25vZGU6bnVsbCxwYXR0ZXJuOm51bGwsdGFnTmFtZTpcInN0cm9uZ1wiLGNsYXNzTmFtZTpudWxsLHdvcmRzT25seTohMSxjYXNlU2Vuc2l0aXZlOiExfTtyZXR1cm4gZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZihiKXt2YXIgYyxkLGY7cmV0dXJuKGM9aC5leGVjKGIuZGF0YSkpJiYoZj1hLmNyZWF0ZUVsZW1lbnQoZS50YWdOYW1lKSxlLmNsYXNzTmFtZSYmKGYuY2xhc3NOYW1lPWUuY2xhc3NOYW1lKSxkPWIuc3BsaXRUZXh0KGMuaW5kZXgpLGQuc3BsaXRUZXh0KGNbMF0ubGVuZ3RoKSxmLmFwcGVuZENoaWxkKGQuY2xvbmVOb2RlKCEwKSksYi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChmLGQpKSwhIWN9ZnVuY3Rpb24gZyhhLGIpe2Zvcih2YXIgYyxkPTMsZT0wO2U8YS5jaGlsZE5vZGVzLmxlbmd0aDtlKyspYz1hLmNoaWxkTm9kZXNbZV0sYy5ub2RlVHlwZT09PWQ/ZSs9YihjKT8xOjA6ZyhjLGIpfXZhciBoO2U9Yi5taXhpbih7fSxkLGUpLGUubm9kZSYmZS5wYXR0ZXJuJiYoZS5wYXR0ZXJuPWIuaXNBcnJheShlLnBhdHRlcm4pP2UucGF0dGVybjpbZS5wYXR0ZXJuXSxoPWMoZS5wYXR0ZXJuLGUuY2FzZVNlbnNpdGl2ZSxlLndvcmRzT25seSksZyhlLm5vZGUsZikpfX0od2luZG93LmRvY3VtZW50KSxnPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYyhjLGUpe2M9Y3x8e30sYy5pbnB1dHx8YS5lcnJvcihcImlucHV0IGlzIG1pc3NpbmdcIiksZS5taXhpbih0aGlzKSx0aGlzLiRoaW50PWEoYy5oaW50KSx0aGlzLiRpbnB1dD1hKGMuaW5wdXQpLHRoaXMucXVlcnk9dGhpcy4kaW5wdXQudmFsKCksdGhpcy5xdWVyeVdoZW5Gb2N1c2VkPXRoaXMuaGFzRm9jdXMoKT90aGlzLnF1ZXJ5Om51bGwsdGhpcy4kb3ZlcmZsb3dIZWxwZXI9ZCh0aGlzLiRpbnB1dCksdGhpcy5fY2hlY2tMYW5ndWFnZURpcmVjdGlvbigpLDA9PT10aGlzLiRoaW50Lmxlbmd0aCYmKHRoaXMuc2V0SGludD10aGlzLmdldEhpbnQ9dGhpcy5jbGVhckhpbnQ9dGhpcy5jbGVhckhpbnRJZkludmFsaWQ9Yi5ub29wKX1mdW5jdGlvbiBkKGIpe3JldHVybiBhKCc8cHJlIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvcHJlPicpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHZpc2liaWxpdHk6XCJoaWRkZW5cIix3aGl0ZVNwYWNlOlwicHJlXCIsZm9udEZhbWlseTpiLmNzcyhcImZvbnQtZmFtaWx5XCIpLGZvbnRTaXplOmIuY3NzKFwiZm9udC1zaXplXCIpLGZvbnRTdHlsZTpiLmNzcyhcImZvbnQtc3R5bGVcIiksZm9udFZhcmlhbnQ6Yi5jc3MoXCJmb250LXZhcmlhbnRcIiksZm9udFdlaWdodDpiLmNzcyhcImZvbnQtd2VpZ2h0XCIpLHdvcmRTcGFjaW5nOmIuY3NzKFwid29yZC1zcGFjaW5nXCIpLGxldHRlclNwYWNpbmc6Yi5jc3MoXCJsZXR0ZXItc3BhY2luZ1wiKSx0ZXh0SW5kZW50OmIuY3NzKFwidGV4dC1pbmRlbnRcIiksdGV4dFJlbmRlcmluZzpiLmNzcyhcInRleHQtcmVuZGVyaW5nXCIpLHRleHRUcmFuc2Zvcm06Yi5jc3MoXCJ0ZXh0LXRyYW5zZm9ybVwiKX0pLmluc2VydEFmdGVyKGIpfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYy5ub3JtYWxpemVRdWVyeShhKT09PWMubm9ybWFsaXplUXVlcnkoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYS5hbHRLZXl8fGEuY3RybEtleXx8YS5tZXRhS2V5fHxhLnNoaWZ0S2V5fXZhciBoO3JldHVybiBoPXs5OlwidGFiXCIsMjc6XCJlc2NcIiwzNzpcImxlZnRcIiwzOTpcInJpZ2h0XCIsMTM6XCJlbnRlclwiLDM4OlwidXBcIiw0MDpcImRvd25cIn0sYy5ub3JtYWxpemVRdWVyeT1mdW5jdGlvbihhKXtyZXR1cm4gYi50b1N0cihhKS5yZXBsYWNlKC9eXFxzKi9nLFwiXCIpLnJlcGxhY2UoL1xcc3syLH0vZyxcIiBcIil9LGIubWl4aW4oYy5wcm90b3R5cGUsZSx7X29uQmx1cjpmdW5jdGlvbigpe3RoaXMucmVzZXRJbnB1dFZhbHVlKCksdGhpcy50cmlnZ2VyKFwiYmx1cnJlZFwiKX0sX29uRm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnF1ZXJ5V2hlbkZvY3VzZWQ9dGhpcy5xdWVyeSx0aGlzLnRyaWdnZXIoXCJmb2N1c2VkXCIpfSxfb25LZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWhbYS53aGljaHx8YS5rZXlDb2RlXTt0aGlzLl9tYW5hZ2VQcmV2ZW50RGVmYXVsdChiLGEpLGImJnRoaXMuX3Nob3VsZFRyaWdnZXIoYixhKSYmdGhpcy50cmlnZ2VyKGIrXCJLZXllZFwiLGEpfSxfb25JbnB1dDpmdW5jdGlvbigpe3RoaXMuX3NldFF1ZXJ5KHRoaXMuZ2V0SW5wdXRWYWx1ZSgpKSx0aGlzLmNsZWFySGludElmSW52YWxpZCgpLHRoaXMuX2NoZWNrTGFuZ3VhZ2VEaXJlY3Rpb24oKX0sX21hbmFnZVByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEsYil7dmFyIGM7c3dpdGNoKGEpe2Nhc2VcInVwXCI6Y2FzZVwiZG93blwiOmM9IWcoYik7YnJlYWs7ZGVmYXVsdDpjPSExfWMmJmIucHJldmVudERlZmF1bHQoKX0sX3Nob3VsZFRyaWdnZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYztzd2l0Y2goYSl7Y2FzZVwidGFiXCI6Yz0hZyhiKTticmVhaztkZWZhdWx0OmM9ITB9cmV0dXJuIGN9LF9jaGVja0xhbmd1YWdlRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuJGlucHV0LmNzcyhcImRpcmVjdGlvblwiKXx8XCJsdHJcIikudG9Mb3dlckNhc2UoKTt0aGlzLmRpciE9PWEmJih0aGlzLmRpcj1hLHRoaXMuJGhpbnQuYXR0cihcImRpclwiLGEpLHRoaXMudHJpZ2dlcihcImxhbmdEaXJDaGFuZ2VkXCIsYSkpfSxfc2V0UXVlcnk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9ZihhLHRoaXMucXVlcnkpLGQ9Yz90aGlzLnF1ZXJ5Lmxlbmd0aCE9PWEubGVuZ3RoOiExLHRoaXMucXVlcnk9YSxifHxjPyFiJiZkJiZ0aGlzLnRyaWdnZXIoXCJ3aGl0ZXNwYWNlQ2hhbmdlZFwiLHRoaXMucXVlcnkpOnRoaXMudHJpZ2dlcihcInF1ZXJ5Q2hhbmdlZFwiLHRoaXMucXVlcnkpfSxiaW5kOmZ1bmN0aW9uKCl7dmFyIGEsYyxkLGUsZj10aGlzO3JldHVybiBhPWIuYmluZCh0aGlzLl9vbkJsdXIsdGhpcyksYz1iLmJpbmQodGhpcy5fb25Gb2N1cyx0aGlzKSxkPWIuYmluZCh0aGlzLl9vbktleWRvd24sdGhpcyksZT1iLmJpbmQodGhpcy5fb25JbnB1dCx0aGlzKSx0aGlzLiRpbnB1dC5vbihcImJsdXIudHRcIixhKS5vbihcImZvY3VzLnR0XCIsYykub24oXCJrZXlkb3duLnR0XCIsZCksIWIuaXNNc2llKCl8fGIuaXNNc2llKCk+OT90aGlzLiRpbnB1dC5vbihcImlucHV0LnR0XCIsZSk6dGhpcy4kaW5wdXQub24oXCJrZXlkb3duLnR0IGtleXByZXNzLnR0IGN1dC50dCBwYXN0ZS50dFwiLGZ1bmN0aW9uKGEpe2hbYS53aGljaHx8YS5rZXlDb2RlXXx8Yi5kZWZlcihiLmJpbmQoZi5fb25JbnB1dCxmLGEpKX0pLHRoaXN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy4kaW5wdXQuZm9jdXMoKX0sYmx1cjpmdW5jdGlvbigpe3RoaXMuJGlucHV0LmJsdXIoKX0sZ2V0TGFuZ0RpcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpcn0sZ2V0UXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeXx8XCJcIn0sc2V0UXVlcnk6ZnVuY3Rpb24oYSxiKXt0aGlzLnNldElucHV0VmFsdWUoYSksdGhpcy5fc2V0UXVlcnkoYSxiKX0saGFzUXVlcnlDaGFuZ2VkU2luY2VMYXN0Rm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeSE9PXRoaXMucXVlcnlXaGVuRm9jdXNlZH0sZ2V0SW5wdXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRpbnB1dC52YWwoKX0sc2V0SW5wdXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLiRpbnB1dC52YWwoYSksdGhpcy5jbGVhckhpbnRJZkludmFsaWQoKSx0aGlzLl9jaGVja0xhbmd1YWdlRGlyZWN0aW9uKCl9LHJlc2V0SW5wdXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLnF1ZXJ5KX0sZ2V0SGludDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRoaW50LnZhbCgpfSxzZXRIaW50OmZ1bmN0aW9uKGEpe3RoaXMuJGhpbnQudmFsKGEpfSxjbGVhckhpbnQ6ZnVuY3Rpb24oKXt0aGlzLnNldEhpbnQoXCJcIil9LGNsZWFySGludElmSW52YWxpZDpmdW5jdGlvbigpe3ZhciBhLGIsYyxkO2E9dGhpcy5nZXRJbnB1dFZhbHVlKCksYj10aGlzLmdldEhpbnQoKSxjPWEhPT1iJiYwPT09Yi5pbmRleE9mKGEpLGQ9XCJcIiE9PWEmJmMmJiF0aGlzLmhhc092ZXJmbG93KCksIWQmJnRoaXMuY2xlYXJIaW50KCl9LGhhc0ZvY3VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlucHV0LmlzKFwiOmZvY3VzXCIpfSxoYXNPdmVyZmxvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJGlucHV0LndpZHRoKCktMjtyZXR1cm4gdGhpcy4kb3ZlcmZsb3dIZWxwZXIudGV4dCh0aGlzLmdldElucHV0VmFsdWUoKSksdGhpcy4kb3ZlcmZsb3dIZWxwZXIud2lkdGgoKT49YX0saXNDdXJzb3JBdEVuZDpmdW5jdGlvbigpe3ZhciBhLGMsZDtyZXR1cm4gYT10aGlzLiRpbnB1dC52YWwoKS5sZW5ndGgsYz10aGlzLiRpbnB1dFswXS5zZWxlY3Rpb25TdGFydCxiLmlzTnVtYmVyKGMpP2M9PT1hOmRvY3VtZW50LnNlbGVjdGlvbj8oZD1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxkLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC1hKSxhPT09ZC50ZXh0Lmxlbmd0aCk6ITB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLiRoaW50Lm9mZihcIi50dFwiKSx0aGlzLiRpbnB1dC5vZmYoXCIudHRcIiksdGhpcy4kb3ZlcmZsb3dIZWxwZXIucmVtb3ZlKCksdGhpcy4kaGludD10aGlzLiRpbnB1dD10aGlzLiRvdmVyZmxvd0hlbHBlcj1hKFwiPGRpdj5cIil9fSksY30oKSxoPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYyhjLGUpe2M9Y3x8e30sYy50ZW1wbGF0ZXM9Yy50ZW1wbGF0ZXN8fHt9LGMudGVtcGxhdGVzLm5vdEZvdW5kPWMudGVtcGxhdGVzLm5vdEZvdW5kfHxjLnRlbXBsYXRlcy5lbXB0eSxjLnNvdXJjZXx8YS5lcnJvcihcIm1pc3Npbmcgc291cmNlXCIpLGMubm9kZXx8YS5lcnJvcihcIm1pc3Npbmcgbm9kZVwiKSxjLm5hbWUmJiFoKGMubmFtZSkmJmEuZXJyb3IoXCJpbnZhbGlkIGRhdGFzZXQgbmFtZTogXCIrYy5uYW1lKSxlLm1peGluKHRoaXMpLHRoaXMuaGlnaGxpZ2h0PSEhYy5oaWdobGlnaHQsdGhpcy5uYW1lPWMubmFtZXx8aigpLHRoaXMubGltaXQ9Yy5saW1pdHx8NSx0aGlzLmRpc3BsYXlGbj1kKGMuZGlzcGxheXx8Yy5kaXNwbGF5S2V5KSx0aGlzLnRlbXBsYXRlcz1nKGMudGVtcGxhdGVzLHRoaXMuZGlzcGxheUZuKSx0aGlzLnNvdXJjZT1jLnNvdXJjZS5fX3R0QWRhcHRlcj9jLnNvdXJjZS5fX3R0QWRhcHRlcigpOmMuc291cmNlLHRoaXMuYXN5bmM9Yi5pc1VuZGVmaW5lZChjLmFzeW5jKT90aGlzLnNvdXJjZS5sZW5ndGg+MjohIWMuYXN5bmMsdGhpcy5fcmVzZXRMYXN0U3VnZ2VzdGlvbigpLHRoaXMuJGVsPWEoYy5ub2RlKS5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuZGF0YXNldCkuYWRkQ2xhc3ModGhpcy5jbGFzc2VzLmRhdGFzZXQrXCItXCIrdGhpcy5uYW1lKX1mdW5jdGlvbiBkKGEpe2Z1bmN0aW9uIGMoYil7cmV0dXJuIGJbYV19cmV0dXJuIGE9YXx8Yi5zdHJpbmdpZnksYi5pc0Z1bmN0aW9uKGEpP2E6Y31mdW5jdGlvbiBnKGMsZCl7ZnVuY3Rpb24gZShiKXtyZXR1cm4gYShcIjxkaXY+XCIpLnRleHQoZChiKSl9cmV0dXJue25vdEZvdW5kOmMubm90Rm91bmQmJmIudGVtcGxhdGlmeShjLm5vdEZvdW5kKSxwZW5kaW5nOmMucGVuZGluZyYmYi50ZW1wbGF0aWZ5KGMucGVuZGluZyksaGVhZGVyOmMuaGVhZGVyJiZiLnRlbXBsYXRpZnkoYy5oZWFkZXIpLGZvb3RlcjpjLmZvb3RlciYmYi50ZW1wbGF0aWZ5KGMuZm9vdGVyKSxzdWdnZXN0aW9uOmMuc3VnZ2VzdGlvbnx8ZX19ZnVuY3Rpb24gaChhKXtyZXR1cm4vXltfYS16QS1aMC05LV0rJC8udGVzdChhKX12YXIgaSxqO3JldHVybiBpPXt2YWw6XCJ0dC1zZWxlY3RhYmxlLWRpc3BsYXlcIixvYmo6XCJ0dC1zZWxlY3RhYmxlLW9iamVjdFwifSxqPWIuZ2V0SWRHZW5lcmF0b3IoKSxjLmV4dHJhY3REYXRhPWZ1bmN0aW9uKGIpe3ZhciBjPWEoYik7cmV0dXJuIGMuZGF0YShpLm9iaik/e3ZhbDpjLmRhdGEoaS52YWwpfHxcIlwiLG9iajpjLmRhdGEoaS5vYmopfHxudWxsfTpudWxsfSxiLm1peGluKGMucHJvdG90eXBlLGUse19vdmVyd3JpdGU6ZnVuY3Rpb24oYSxiKXtiPWJ8fFtdLGIubGVuZ3RoP3RoaXMuX3JlbmRlclN1Z2dlc3Rpb25zKGEsYik6dGhpcy5hc3luYyYmdGhpcy50ZW1wbGF0ZXMucGVuZGluZz90aGlzLl9yZW5kZXJQZW5kaW5nKGEpOiF0aGlzLmFzeW5jJiZ0aGlzLnRlbXBsYXRlcy5ub3RGb3VuZD90aGlzLl9yZW5kZXJOb3RGb3VuZChhKTp0aGlzLl9lbXB0eSgpLHRoaXMudHJpZ2dlcihcInJlbmRlcmVkXCIsdGhpcy5uYW1lLGIsITEpfSxfYXBwZW5kOmZ1bmN0aW9uKGEsYil7Yj1ifHxbXSxiLmxlbmd0aCYmdGhpcy4kbGFzdFN1Z2dlc3Rpb24ubGVuZ3RoP3RoaXMuX2FwcGVuZFN1Z2dlc3Rpb25zKGEsYik6Yi5sZW5ndGg/dGhpcy5fcmVuZGVyU3VnZ2VzdGlvbnMoYSxiKTohdGhpcy4kbGFzdFN1Z2dlc3Rpb24ubGVuZ3RoJiZ0aGlzLnRlbXBsYXRlcy5ub3RGb3VuZCYmdGhpcy5fcmVuZGVyTm90Rm91bmQoYSksdGhpcy50cmlnZ2VyKFwicmVuZGVyZWRcIix0aGlzLm5hbWUsYiwhMCl9LF9yZW5kZXJTdWdnZXN0aW9uczpmdW5jdGlvbihhLGIpe3ZhciBjO2M9dGhpcy5fZ2V0U3VnZ2VzdGlvbnNGcmFnbWVudChhLGIpLHRoaXMuJGxhc3RTdWdnZXN0aW9uPWMuY2hpbGRyZW4oKS5sYXN0KCksdGhpcy4kZWwuaHRtbChjKS5wcmVwZW5kKHRoaXMuX2dldEhlYWRlcihhLGIpKS5hcHBlbmQodGhpcy5fZ2V0Rm9vdGVyKGEsYikpfSxfYXBwZW5kU3VnZ2VzdGlvbnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9dGhpcy5fZ2V0U3VnZ2VzdGlvbnNGcmFnbWVudChhLGIpLGQ9Yy5jaGlsZHJlbigpLmxhc3QoKSx0aGlzLiRsYXN0U3VnZ2VzdGlvbi5hZnRlcihjKSx0aGlzLiRsYXN0U3VnZ2VzdGlvbj1kfSxfcmVuZGVyUGVuZGluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRlbXBsYXRlcy5wZW5kaW5nO3RoaXMuX3Jlc2V0TGFzdFN1Z2dlc3Rpb24oKSxiJiZ0aGlzLiRlbC5odG1sKGIoe3F1ZXJ5OmEsZGF0YXNldDp0aGlzLm5hbWV9KSl9LF9yZW5kZXJOb3RGb3VuZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRlbXBsYXRlcy5ub3RGb3VuZDt0aGlzLl9yZXNldExhc3RTdWdnZXN0aW9uKCksYiYmdGhpcy4kZWwuaHRtbChiKHtxdWVyeTphLGRhdGFzZXQ6dGhpcy5uYW1lfSkpfSxfZW1wdHk6ZnVuY3Rpb24oKXt0aGlzLiRlbC5lbXB0eSgpLHRoaXMuX3Jlc2V0TGFzdFN1Z2dlc3Rpb24oKX0sX2dldFN1Z2dlc3Rpb25zRnJhZ21lbnQ6ZnVuY3Rpb24oYyxkKXt2YXIgZSxnPXRoaXM7cmV0dXJuIGU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGIuZWFjaChkLGZ1bmN0aW9uKGIpe3ZhciBkLGY7Zj1nLl9pbmplY3RRdWVyeShjLGIpLGQ9YShnLnRlbXBsYXRlcy5zdWdnZXN0aW9uKGYpKS5kYXRhKGkub2JqLGIpLmRhdGEoaS52YWwsZy5kaXNwbGF5Rm4oYikpLmFkZENsYXNzKGcuY2xhc3Nlcy5zdWdnZXN0aW9uK1wiIFwiK2cuY2xhc3Nlcy5zZWxlY3RhYmxlKSxlLmFwcGVuZENoaWxkKGRbMF0pfSksdGhpcy5oaWdobGlnaHQmJmYoe2NsYXNzTmFtZTp0aGlzLmNsYXNzZXMuaGlnaGxpZ2h0LG5vZGU6ZSxwYXR0ZXJuOmN9KSxhKGUpfSxfZ2V0Rm9vdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudGVtcGxhdGVzLmZvb3Rlcj90aGlzLnRlbXBsYXRlcy5mb290ZXIoe3F1ZXJ5OmEsc3VnZ2VzdGlvbnM6YixkYXRhc2V0OnRoaXMubmFtZX0pOm51bGx9LF9nZXRIZWFkZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZXMuaGVhZGVyP3RoaXMudGVtcGxhdGVzLmhlYWRlcih7cXVlcnk6YSxzdWdnZXN0aW9uczpiLGRhdGFzZXQ6dGhpcy5uYW1lfSk6bnVsbH0sX3Jlc2V0TGFzdFN1Z2dlc3Rpb246ZnVuY3Rpb24oKXt0aGlzLiRsYXN0U3VnZ2VzdGlvbj1hKCl9LF9pbmplY3RRdWVyeTpmdW5jdGlvbihhLGMpe3JldHVybiBiLmlzT2JqZWN0KGMpP2IubWl4aW4oe19xdWVyeTphfSxjKTpjfSx1cGRhdGU6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhhKXtnfHwoZz0hMCxhPShhfHxbXSkuc2xpY2UoMCxlLmxpbWl0KSxoPWEubGVuZ3RoLGUuX292ZXJ3cml0ZShiLGEpLGg8ZS5saW1pdCYmZS5hc3luYyYmZS50cmlnZ2VyKFwiYXN5bmNSZXF1ZXN0ZWRcIixiKSl9ZnVuY3Rpb24gZChjKXtjPWN8fFtdLCFmJiZoPGUubGltaXQmJihlLmNhbmNlbD1hLm5vb3AsaCs9Yy5sZW5ndGgsZS5fYXBwZW5kKGIsYy5zbGljZSgwLGUubGltaXQtaCkpLGUuYXN5bmMmJmUudHJpZ2dlcihcImFzeW5jUmVjZWl2ZWRcIixiKSl9dmFyIGU9dGhpcyxmPSExLGc9ITEsaD0wO3RoaXMuY2FuY2VsKCksdGhpcy5jYW5jZWw9ZnVuY3Rpb24oKXtmPSEwLGUuY2FuY2VsPWEubm9vcCxlLmFzeW5jJiZlLnRyaWdnZXIoXCJhc3luY0NhbmNlbGVkXCIsYil9LHRoaXMuc291cmNlKGIsYyxkKSwhZyYmYyhbXSl9LGNhbmNlbDphLm5vb3AsY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9lbXB0eSgpLHRoaXMuY2FuY2VsKCksdGhpcy50cmlnZ2VyKFwiY2xlYXJlZFwiKX0saXNFbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbC5pcyhcIjplbXB0eVwiKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuJGVsPWEoXCI8ZGl2PlwiKX19KSxjfSgpLGk9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBjKGMsZCl7ZnVuY3Rpb24gZShiKXt2YXIgYz1mLiRub2RlLmZpbmQoYi5ub2RlKS5maXJzdCgpO3JldHVybiBiLm5vZGU9Yy5sZW5ndGg/YzphKFwiPGRpdj5cIikuYXBwZW5kVG8oZi4kbm9kZSksbmV3IGgoYixkKX12YXIgZj10aGlzO2M9Y3x8e30sYy5ub2RlfHxhLmVycm9yKFwibm9kZSBpcyByZXF1aXJlZFwiKSxkLm1peGluKHRoaXMpLHRoaXMuJG5vZGU9YShjLm5vZGUpLHRoaXMucXVlcnk9bnVsbCx0aGlzLmRhdGFzZXRzPWIubWFwKGMuZGF0YXNldHMsZSl9cmV0dXJuIGIubWl4aW4oYy5wcm90b3R5cGUsZSx7X29uU2VsZWN0YWJsZUNsaWNrOmZ1bmN0aW9uKGIpe3RoaXMudHJpZ2dlcihcInNlbGVjdGFibGVDbGlja2VkXCIsYShiLmN1cnJlbnRUYXJnZXQpKX0sX29uUmVuZGVyZWQ6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy4kbm9kZS50b2dnbGVDbGFzcyh0aGlzLmNsYXNzZXMuZW1wdHksdGhpcy5fYWxsRGF0YXNldHNFbXB0eSgpKSx0aGlzLnRyaWdnZXIoXCJkYXRhc2V0UmVuZGVyZWRcIixiLGMsZCl9LF9vbkNsZWFyZWQ6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLnRvZ2dsZUNsYXNzKHRoaXMuY2xhc3Nlcy5lbXB0eSx0aGlzLl9hbGxEYXRhc2V0c0VtcHR5KCkpLHRoaXMudHJpZ2dlcihcImRhdGFzZXRDbGVhcmVkXCIpfSxfcHJvcGFnYXRlOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX2FsbERhdGFzZXRzRW1wdHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBhLmlzRW1wdHkoKX1yZXR1cm4gYi5ldmVyeSh0aGlzLmRhdGFzZXRzLGEpfSxfZ2V0U2VsZWN0YWJsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kbm9kZS5maW5kKHRoaXMuc2VsZWN0b3JzLnNlbGVjdGFibGUpfSxfcmVtb3ZlQ3Vyc29yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRBY3RpdmVTZWxlY3RhYmxlKCk7YSYmYS5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMuY3Vyc29yKX0sX2Vuc3VyZVZpc2libGU6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yj1hLnBvc2l0aW9uKCkudG9wLGM9YithLm91dGVySGVpZ2h0KCEwKSxkPXRoaXMuJG5vZGUuc2Nyb2xsVG9wKCksZT10aGlzLiRub2RlLmhlaWdodCgpK3BhcnNlSW50KHRoaXMuJG5vZGUuY3NzKFwicGFkZGluZ1RvcFwiKSwxMCkrcGFyc2VJbnQodGhpcy4kbm9kZS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpLDEwKSwwPmI/dGhpcy4kbm9kZS5zY3JvbGxUb3AoZCtiKTpjPmUmJnRoaXMuJG5vZGUuc2Nyb2xsVG9wKGQrKGMtZSkpfSxiaW5kOmZ1bmN0aW9uKCl7dmFyIGEsYz10aGlzO3JldHVybiBhPWIuYmluZCh0aGlzLl9vblNlbGVjdGFibGVDbGljayx0aGlzKSx0aGlzLiRub2RlLm9uKFwiY2xpY2sudHRcIix0aGlzLnNlbGVjdG9ycy5zZWxlY3RhYmxlLGEpLGIuZWFjaCh0aGlzLmRhdGFzZXRzLGZ1bmN0aW9uKGEpe2Eub25TeW5jKFwiYXN5bmNSZXF1ZXN0ZWRcIixjLl9wcm9wYWdhdGUsYykub25TeW5jKFwiYXN5bmNDYW5jZWxlZFwiLGMuX3Byb3BhZ2F0ZSxjKS5vblN5bmMoXCJhc3luY1JlY2VpdmVkXCIsYy5fcHJvcGFnYXRlLGMpLm9uU3luYyhcInJlbmRlcmVkXCIsYy5fb25SZW5kZXJlZCxjKS5vblN5bmMoXCJjbGVhcmVkXCIsYy5fb25DbGVhcmVkLGMpfSksdGhpc30saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJG5vZGUuaGFzQ2xhc3ModGhpcy5jbGFzc2VzLm9wZW4pfSxvcGVuOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5hZGRDbGFzcyh0aGlzLmNsYXNzZXMub3Blbil9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy4kbm9kZS5yZW1vdmVDbGFzcyh0aGlzLmNsYXNzZXMub3BlbiksdGhpcy5fcmVtb3ZlQ3Vyc29yKCl9LHNldExhbmd1YWdlRGlyZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuJG5vZGUuYXR0cihcImRpclwiLGEpfSxzZWxlY3RhYmxlUmVsYXRpdmVUb0N1cnNvcjpmdW5jdGlvbihhKXt2YXIgYixjLGQsZTtyZXR1cm4gYz10aGlzLmdldEFjdGl2ZVNlbGVjdGFibGUoKSxiPXRoaXMuX2dldFNlbGVjdGFibGVzKCksZD1jP2IuaW5kZXgoYyk6LTEsZT1kK2EsZT0oZSsxKSUoYi5sZW5ndGgrMSktMSxlPS0xPmU/Yi5sZW5ndGgtMTplLC0xPT09ZT9udWxsOmIuZXEoZSl9LHNldEN1cnNvcjpmdW5jdGlvbihhKXt0aGlzLl9yZW1vdmVDdXJzb3IoKSwoYT1hJiZhLmZpcnN0KCkpJiYoYS5hZGRDbGFzcyh0aGlzLmNsYXNzZXMuY3Vyc29yKSx0aGlzLl9lbnN1cmVWaXNpYmxlKGEpKX0sZ2V0U2VsZWN0YWJsZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEubGVuZ3RoP2guZXh0cmFjdERhdGEoYSk6bnVsbH0sZ2V0QWN0aXZlU2VsZWN0YWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2dldFNlbGVjdGFibGVzKCkuZmlsdGVyKHRoaXMuc2VsZWN0b3JzLmN1cnNvcikuZmlyc3QoKTtyZXR1cm4gYS5sZW5ndGg/YTpudWxsfSxnZXRUb3BTZWxlY3RhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZ2V0U2VsZWN0YWJsZXMoKS5maXJzdCgpO3JldHVybiBhLmxlbmd0aD9hOm51bGx9LHVwZGF0ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGIpe2IudXBkYXRlKGEpfXZhciBkPWEhPT10aGlzLnF1ZXJ5O3JldHVybiBkJiYodGhpcy5xdWVyeT1hLGIuZWFjaCh0aGlzLmRhdGFzZXRzLGMpKSxkfSxlbXB0eTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5jbGVhcigpfWIuZWFjaCh0aGlzLmRhdGFzZXRzLGEpLHRoaXMucXVlcnk9bnVsbCx0aGlzLiRub2RlLmFkZENsYXNzKHRoaXMuY2xhc3Nlcy5lbXB0eSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2EuZGVzdHJveSgpfXRoaXMuJG5vZGUub2ZmKFwiLnR0XCIpLHRoaXMuJG5vZGU9YShcIjxkaXY+XCIpLGIuZWFjaCh0aGlzLmRhdGFzZXRzLGMpfX0pLGN9KCksaj1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoKXtpLmFwcGx5KHRoaXMsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfXZhciBjPWkucHJvdG90eXBlO3JldHVybiBiLm1peGluKGEucHJvdG90eXBlLGkucHJvdG90eXBlLHtvcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2FsbERhdGFzZXRzRW1wdHkoKSYmdGhpcy5fc2hvdygpLGMub3Blbi5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlkZSgpLGMuY2xvc2UuYXBwbHkodGhpcyxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSl9LF9vblJlbmRlcmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FsbERhdGFzZXRzRW1wdHkoKT90aGlzLl9oaWRlKCk6dGhpcy5pc09wZW4oKSYmdGhpcy5fc2hvdygpLGMuX29uUmVuZGVyZWQuYXBwbHkodGhpcyxbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSl9LF9vbkNsZWFyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxsRGF0YXNldHNFbXB0eSgpP3RoaXMuX2hpZGUoKTp0aGlzLmlzT3BlbigpJiZ0aGlzLl9zaG93KCksYy5fb25DbGVhcmVkLmFwcGx5KHRoaXMsW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfSxzZXRMYW5ndWFnZURpcmVjdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kbm9kZS5jc3MoXCJsdHJcIj09PWE/dGhpcy5jc3MubHRyOnRoaXMuY3NzLnJ0bCksYy5zZXRMYW5ndWFnZURpcmVjdGlvbi5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKX0sX2hpZGU6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmhpZGUoKX0sX3Nob3c6ZnVuY3Rpb24oKXt0aGlzLiRub2RlLmNzcyhcImRpc3BsYXlcIixcImJsb2NrXCIpfX0pLGF9KCksaz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGMoYyxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG4sbyxwO2M9Y3x8e30sYy5pbnB1dHx8YS5lcnJvcihcIm1pc3NpbmcgaW5wdXRcIiksYy5tZW51fHxhLmVycm9yKFwibWlzc2luZyBtZW51XCIpLGMuZXZlbnRCdXN8fGEuZXJyb3IoXCJtaXNzaW5nIGV2ZW50IGJ1c1wiKSxlLm1peGluKHRoaXMpLHRoaXMuZXZlbnRCdXM9Yy5ldmVudEJ1cyx0aGlzLm1pbkxlbmd0aD1iLmlzTnVtYmVyKGMubWluTGVuZ3RoKT9jLm1pbkxlbmd0aDoxLHRoaXMuaW5wdXQ9Yy5pbnB1dCx0aGlzLm1lbnU9Yy5tZW51LHRoaXMuZW5hYmxlZD0hMCx0aGlzLmFjdGl2ZT0hMSx0aGlzLmlucHV0Lmhhc0ZvY3VzKCkmJnRoaXMuYWN0aXZhdGUoKSx0aGlzLmRpcj10aGlzLmlucHV0LmdldExhbmdEaXIoKSx0aGlzLl9oYWNrcygpLHRoaXMubWVudS5iaW5kKCkub25TeW5jKFwic2VsZWN0YWJsZUNsaWNrZWRcIix0aGlzLl9vblNlbGVjdGFibGVDbGlja2VkLHRoaXMpLm9uU3luYyhcImFzeW5jUmVxdWVzdGVkXCIsdGhpcy5fb25Bc3luY1JlcXVlc3RlZCx0aGlzKS5vblN5bmMoXCJhc3luY0NhbmNlbGVkXCIsdGhpcy5fb25Bc3luY0NhbmNlbGVkLHRoaXMpLm9uU3luYyhcImFzeW5jUmVjZWl2ZWRcIix0aGlzLl9vbkFzeW5jUmVjZWl2ZWQsdGhpcykub25TeW5jKFwiZGF0YXNldFJlbmRlcmVkXCIsdGhpcy5fb25EYXRhc2V0UmVuZGVyZWQsdGhpcykub25TeW5jKFwiZGF0YXNldENsZWFyZWRcIix0aGlzLl9vbkRhdGFzZXRDbGVhcmVkLHRoaXMpLGY9ZCh0aGlzLFwiYWN0aXZhdGVcIixcIm9wZW5cIixcIl9vbkZvY3VzZWRcIiksZz1kKHRoaXMsXCJkZWFjdGl2YXRlXCIsXCJfb25CbHVycmVkXCIpLGg9ZCh0aGlzLFwiaXNBY3RpdmVcIixcImlzT3BlblwiLFwiX29uRW50ZXJLZXllZFwiKSxpPWQodGhpcyxcImlzQWN0aXZlXCIsXCJpc09wZW5cIixcIl9vblRhYktleWVkXCIpLGo9ZCh0aGlzLFwiaXNBY3RpdmVcIixcIl9vbkVzY0tleWVkXCIpLGs9ZCh0aGlzLFwiaXNBY3RpdmVcIixcIm9wZW5cIixcIl9vblVwS2V5ZWRcIiksbD1kKHRoaXMsXCJpc0FjdGl2ZVwiLFwib3BlblwiLFwiX29uRG93bktleWVkXCIpLG09ZCh0aGlzLFwiaXNBY3RpdmVcIixcImlzT3BlblwiLFwiX29uTGVmdEtleWVkXCIpLG49ZCh0aGlzLFwiaXNBY3RpdmVcIixcImlzT3BlblwiLFwiX29uUmlnaHRLZXllZFwiKSxvPWQodGhpcyxcIl9vcGVuSWZBY3RpdmVcIixcIl9vblF1ZXJ5Q2hhbmdlZFwiKSxwPWQodGhpcyxcIl9vcGVuSWZBY3RpdmVcIixcIl9vbldoaXRlc3BhY2VDaGFuZ2VkXCIpLHRoaXMuaW5wdXQuYmluZCgpLm9uU3luYyhcImZvY3VzZWRcIixmLHRoaXMpLm9uU3luYyhcImJsdXJyZWRcIixnLHRoaXMpLm9uU3luYyhcImVudGVyS2V5ZWRcIixoLHRoaXMpLm9uU3luYyhcInRhYktleWVkXCIsaSx0aGlzKS5vblN5bmMoXCJlc2NLZXllZFwiLGosdGhpcykub25TeW5jKFwidXBLZXllZFwiLGssdGhpcykub25TeW5jKFwiZG93bktleWVkXCIsbCx0aGlzKS5vblN5bmMoXCJsZWZ0S2V5ZWRcIixtLHRoaXMpLm9uU3luYyhcInJpZ2h0S2V5ZWRcIixuLHRoaXMpLm9uU3luYyhcInF1ZXJ5Q2hhbmdlZFwiLG8sdGhpcykub25TeW5jKFwid2hpdGVzcGFjZUNoYW5nZWRcIixwLHRoaXMpLm9uU3luYyhcImxhbmdEaXJDaGFuZ2VkXCIsdGhpcy5fb25MYW5nRGlyQ2hhbmdlZCx0aGlzKX1mdW5jdGlvbiBkKGEpe3ZhciBjPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtiLmVhY2goYyxmdW5jdGlvbihiKXtyZXR1cm4gYVtiXS5hcHBseShhLGQpfSl9fXJldHVybiBiLm1peGluKGMucHJvdG90eXBlLHtfaGFja3M6ZnVuY3Rpb24oKXt2YXIgYyxkO2M9dGhpcy5pbnB1dC4kaW5wdXR8fGEoXCI8ZGl2PlwiKSxkPXRoaXMubWVudS4kbm9kZXx8YShcIjxkaXY+XCIpLGMub24oXCJibHVyLnR0XCIsZnVuY3Rpb24oYSl7dmFyIGUsZixnO2U9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCxmPWQuaXMoZSksZz1kLmhhcyhlKS5sZW5ndGg+MCxiLmlzTXNpZSgpJiYoZnx8ZykmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxiLmRlZmVyKGZ1bmN0aW9uKCl7Yy5mb2N1cygpfSkpfSksZC5vbihcIm1vdXNlZG93bi50dFwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pfSxfb25TZWxlY3RhYmxlQ2xpY2tlZDpmdW5jdGlvbihhLGIpe3RoaXMuc2VsZWN0KGIpfSxfb25EYXRhc2V0Q2xlYXJlZDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUhpbnQoKX0sX29uRGF0YXNldFJlbmRlcmVkOmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuX3VwZGF0ZUhpbnQoKSx0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJyZW5kZXJcIixjLGQsYil9LF9vbkFzeW5jUmVxdWVzdGVkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJhc3luY3JlcXVlc3RcIixjLGIpfSxfb25Bc3luY0NhbmNlbGVkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJhc3luY2NhbmNlbFwiLGMsYil9LF9vbkFzeW5jUmVjZWl2ZWQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZXZlbnRCdXMudHJpZ2dlcihcImFzeW5jcmVjZWl2ZVwiLGMsYil9LF9vbkZvY3VzZWQ6ZnVuY3Rpb24oKXt0aGlzLl9taW5MZW5ndGhNZXQoKSYmdGhpcy5tZW51LnVwZGF0ZSh0aGlzLmlucHV0LmdldFF1ZXJ5KCkpfSxfb25CbHVycmVkOmZ1bmN0aW9uKCl7dGhpcy5pbnB1dC5oYXNRdWVyeUNoYW5nZWRTaW5jZUxhc3RGb2N1cygpJiZ0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJjaGFuZ2VcIix0aGlzLmlucHV0LmdldFF1ZXJ5KCkpfSxfb25FbnRlcktleWVkOmZ1bmN0aW9uKGEsYil7dmFyIGM7KGM9dGhpcy5tZW51LmdldEFjdGl2ZVNlbGVjdGFibGUoKSkmJnRoaXMuc2VsZWN0KGMpJiZiLnByZXZlbnREZWZhdWx0KCl9LF9vblRhYktleWVkOmZ1bmN0aW9uKGEsYil7dmFyIGM7KGM9dGhpcy5tZW51LmdldEFjdGl2ZVNlbGVjdGFibGUoKSk/dGhpcy5zZWxlY3QoYykmJmIucHJldmVudERlZmF1bHQoKTooYz10aGlzLm1lbnUuZ2V0VG9wU2VsZWN0YWJsZSgpKSYmdGhpcy5hdXRvY29tcGxldGUoYykmJmIucHJldmVudERlZmF1bHQoKX0sX29uRXNjS2V5ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCl9LF9vblVwS2V5ZWQ6ZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3IoLTEpfSxfb25Eb3duS2V5ZWQ6ZnVuY3Rpb24oKXt0aGlzLm1vdmVDdXJzb3IoMSl9LF9vbkxlZnRLZXllZDpmdW5jdGlvbigpe1wicnRsXCI9PT10aGlzLmRpciYmdGhpcy5pbnB1dC5pc0N1cnNvckF0RW5kKCkmJnRoaXMuYXV0b2NvbXBsZXRlKHRoaXMubWVudS5nZXRUb3BTZWxlY3RhYmxlKCkpfSxfb25SaWdodEtleWVkOmZ1bmN0aW9uKCl7XCJsdHJcIj09PXRoaXMuZGlyJiZ0aGlzLmlucHV0LmlzQ3Vyc29yQXRFbmQoKSYmdGhpcy5hdXRvY29tcGxldGUodGhpcy5tZW51LmdldFRvcFNlbGVjdGFibGUoKSl9LF9vblF1ZXJ5Q2hhbmdlZDpmdW5jdGlvbihhLGIpe3RoaXMuX21pbkxlbmd0aE1ldChiKT90aGlzLm1lbnUudXBkYXRlKGIpOnRoaXMubWVudS5lbXB0eSgpfSxfb25XaGl0ZXNwYWNlQ2hhbmdlZDpmdW5jdGlvbigpe3RoaXMuX3VwZGF0ZUhpbnQoKX0sX29uTGFuZ0RpckNoYW5nZWQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmRpciE9PWImJih0aGlzLmRpcj1iLHRoaXMubWVudS5zZXRMYW5ndWFnZURpcmVjdGlvbihiKSl9LF9vcGVuSWZBY3RpdmU6ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCkmJnRoaXMub3BlbigpfSxfbWluTGVuZ3RoTWV0OmZ1bmN0aW9uKGEpe3JldHVybiBhPWIuaXNTdHJpbmcoYSk/YTp0aGlzLmlucHV0LmdldFF1ZXJ5KCl8fFwiXCIsYS5sZW5ndGg+PXRoaXMubWluTGVuZ3RofSxfdXBkYXRlSGludDpmdW5jdGlvbigpe3ZhciBhLGMsZCxlLGYsaCxpO2E9dGhpcy5tZW51LmdldFRvcFNlbGVjdGFibGUoKSxjPXRoaXMubWVudS5nZXRTZWxlY3RhYmxlRGF0YShhKSxkPXRoaXMuaW5wdXQuZ2V0SW5wdXRWYWx1ZSgpLCFjfHxiLmlzQmxhbmtTdHJpbmcoZCl8fHRoaXMuaW5wdXQuaGFzT3ZlcmZsb3coKT90aGlzLmlucHV0LmNsZWFySGludCgpOihlPWcubm9ybWFsaXplUXVlcnkoZCksZj1iLmVzY2FwZVJlZ0V4Q2hhcnMoZSksaD1uZXcgUmVnRXhwKFwiXig/OlwiK2YrXCIpKC4rJClcIixcImlcIiksaT1oLmV4ZWMoYy52YWwpLGkmJnRoaXMuaW5wdXQuc2V0SGludChkK2lbMV0pKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfSxpc0FjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZX0sYWN0aXZhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0FjdGl2ZSgpPyEwOiF0aGlzLmlzRW5hYmxlZCgpfHx0aGlzLmV2ZW50QnVzLmJlZm9yZShcImFjdGl2ZVwiKT8hMToodGhpcy5hY3RpdmU9ITAsdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiYWN0aXZlXCIpLCEwKX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQWN0aXZlKCk/dGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJpZGxlXCIpPyExOih0aGlzLmFjdGl2ZT0hMSx0aGlzLmNsb3NlKCksdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiaWRsZVwiKSwhMCk6ITB9LGlzT3BlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lbnUuaXNPcGVuKCl9LG9wZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc09wZW4oKXx8dGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJvcGVuXCIpfHwodGhpcy5tZW51Lm9wZW4oKSx0aGlzLl91cGRhdGVIaW50KCksdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwib3BlblwiKSksdGhpcy5pc09wZW4oKX0sY2xvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc09wZW4oKSYmIXRoaXMuZXZlbnRCdXMuYmVmb3JlKFwiY2xvc2VcIikmJih0aGlzLm1lbnUuY2xvc2UoKSx0aGlzLmlucHV0LmNsZWFySGludCgpLHRoaXMuaW5wdXQucmVzZXRJbnB1dFZhbHVlKCksdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwiY2xvc2VcIikpLCF0aGlzLmlzT3BlbigpfSxzZXRWYWw6ZnVuY3Rpb24oYSl7dGhpcy5pbnB1dC5zZXRRdWVyeShiLnRvU3RyKGEpKX0sZ2V0VmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXQuZ2V0UXVlcnkoKX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWVudS5nZXRTZWxlY3RhYmxlRGF0YShhKTtyZXR1cm4gYiYmIXRoaXMuZXZlbnRCdXMuYmVmb3JlKFwic2VsZWN0XCIsYi5vYmopPyh0aGlzLmlucHV0LnNldFF1ZXJ5KGIudmFsLCEwKSx0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJzZWxlY3RcIixiLm9iaiksdGhpcy5jbG9zZSgpLCEwKTohMX0sYXV0b2NvbXBsZXRlOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtyZXR1cm4gYj10aGlzLmlucHV0LmdldFF1ZXJ5KCksYz10aGlzLm1lbnUuZ2V0U2VsZWN0YWJsZURhdGEoYSksZD1jJiZiIT09Yy52YWwsZCYmIXRoaXMuZXZlbnRCdXMuYmVmb3JlKFwiYXV0b2NvbXBsZXRlXCIsYy5vYmopPyh0aGlzLmlucHV0LnNldFF1ZXJ5KGMudmFsKSx0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJhdXRvY29tcGxldGVcIixjLm9iaiksITApOiExfSxtb3ZlQ3Vyc29yOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGY7cmV0dXJuIGI9dGhpcy5pbnB1dC5nZXRRdWVyeSgpLGM9dGhpcy5tZW51LnNlbGVjdGFibGVSZWxhdGl2ZVRvQ3Vyc29yKGEpLGQ9dGhpcy5tZW51LmdldFNlbGVjdGFibGVEYXRhKGMpLGU9ZD9kLm9iajpudWxsLGY9dGhpcy5fbWluTGVuZ3RoTWV0KCkmJnRoaXMubWVudS51cGRhdGUoYiksZnx8dGhpcy5ldmVudEJ1cy5iZWZvcmUoXCJjdXJzb3JjaGFuZ2VcIixlKT8hMToodGhpcy5tZW51LnNldEN1cnNvcihjKSxkP3RoaXMuaW5wdXQuc2V0SW5wdXRWYWx1ZShkLnZhbCk6KHRoaXMuaW5wdXQucmVzZXRJbnB1dFZhbHVlKCksdGhpcy5fdXBkYXRlSGludCgpKSx0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJjdXJzb3JjaGFuZ2VcIixlKSwhMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmlucHV0LmRlc3Ryb3koKSx0aGlzLm1lbnUuZGVzdHJveSgpfX0pLGN9KCk7IWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZShiLGMpe2IuZWFjaChmdW5jdGlvbigpe3ZhciBiLGQ9YSh0aGlzKTsoYj1kLmRhdGEocC50eXBlYWhlYWQpKSYmYyhiLGQpfSl9ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhLmNsb25lKCkuYWRkQ2xhc3MoYi5jbGFzc2VzLmhpbnQpLnJlbW92ZURhdGEoKS5jc3MoYi5jc3MuaGludCkuY3NzKGwoYSkpLnByb3AoXCJyZWFkb25seVwiLCEwKS5yZW1vdmVBdHRyKFwiaWQgbmFtZSBwbGFjZWhvbGRlciByZXF1aXJlZFwiKS5hdHRyKHthdXRvY29tcGxldGU6XCJvZmZcIixzcGVsbGNoZWNrOlwiZmFsc2VcIix0YWJpbmRleDotMX0pfWZ1bmN0aW9uIGgoYSxiKXthLmRhdGEocC5hdHRycyx7ZGlyOmEuYXR0cihcImRpclwiKSxhdXRvY29tcGxldGU6YS5hdHRyKFwiYXV0b2NvbXBsZXRlXCIpLHNwZWxsY2hlY2s6YS5hdHRyKFwic3BlbGxjaGVja1wiKSxzdHlsZTphLmF0dHIoXCJzdHlsZVwiKX0pLGEuYWRkQ2xhc3MoYi5jbGFzc2VzLmlucHV0KS5hdHRyKHthdXRvY29tcGxldGU6XCJvZmZcIixzcGVsbGNoZWNrOiExfSk7dHJ5eyFhLmF0dHIoXCJkaXJcIikmJmEuYXR0cihcImRpclwiLFwiYXV0b1wiKX1jYXRjaChjKXt9cmV0dXJuIGF9ZnVuY3Rpb24gbChhKXtyZXR1cm57YmFja2dyb3VuZEF0dGFjaG1lbnQ6YS5jc3MoXCJiYWNrZ3JvdW5kLWF0dGFjaG1lbnRcIiksYmFja2dyb3VuZENsaXA6YS5jc3MoXCJiYWNrZ3JvdW5kLWNsaXBcIiksYmFja2dyb3VuZENvbG9yOmEuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiKSxiYWNrZ3JvdW5kSW1hZ2U6YS5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIpLGJhY2tncm91bmRPcmlnaW46YS5jc3MoXCJiYWNrZ3JvdW5kLW9yaWdpblwiKSxiYWNrZ3JvdW5kUG9zaXRpb246YS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIpLGJhY2tncm91bmRSZXBlYXQ6YS5jc3MoXCJiYWNrZ3JvdW5kLXJlcGVhdFwiKSxiYWNrZ3JvdW5kU2l6ZTphLmNzcyhcImJhY2tncm91bmQtc2l6ZVwiKX19ZnVuY3Rpb24gbShhKXt2YXIgYyxkO2M9YS5kYXRhKHAud3d3KSxkPWEucGFyZW50KCkuZmlsdGVyKGMuc2VsZWN0b3JzLndyYXBwZXIpLGIuZWFjaChhLmRhdGEocC5hdHRycyksZnVuY3Rpb24oYyxkKXtiLmlzVW5kZWZpbmVkKGMpP2EucmVtb3ZlQXR0cihkKTphLmF0dHIoZCxjKX0pLGEucmVtb3ZlRGF0YShwLnR5cGVhaGVhZCkucmVtb3ZlRGF0YShwLnd3dykucmVtb3ZlRGF0YShwLmF0dHIpLnJlbW92ZUNsYXNzKGMuY2xhc3Nlcy5pbnB1dCksZC5sZW5ndGgmJihhLmRldGFjaCgpLmluc2VydEFmdGVyKGQpLGQucmVtb3ZlKCkpfWZ1bmN0aW9uIG4oYyl7dmFyIGQsZTtyZXR1cm4gZD1iLmlzSlF1ZXJ5KGMpfHxiLmlzRWxlbWVudChjKSxlPWQ/YShjKS5maXJzdCgpOltdLGUubGVuZ3RoP2U6bnVsbH12YXIgbyxwLHE7bz1hLmZuLnR5cGVhaGVhZCxwPXt3d3c6XCJ0dC13d3dcIixhdHRyczpcInR0LWF0dHJzXCIsdHlwZWFoZWFkOlwidHQtdHlwZWFoZWFkXCJ9LHE9e2luaXRpYWxpemU6ZnVuY3Rpb24oZSxsKXtmdW5jdGlvbiBtKCl7dmFyIGMsbSxxLHIscyx0LHUsdix3LHgseTtiLmVhY2gobCxmdW5jdGlvbihhKXthLmhpZ2hsaWdodD0hIWUuaGlnaGxpZ2h0fSksYz1hKHRoaXMpLG09YShvLmh0bWwud3JhcHBlcikscT1uKGUuaGludCkscj1uKGUubWVudSkscz1lLmhpbnQhPT0hMSYmIXEsdD1lLm1lbnUhPT0hMSYmIXIscyYmKHE9ZihjLG8pKSx0JiYocj1hKG8uaHRtbC5tZW51KS5jc3Moby5jc3MubWVudSkpLHEmJnEudmFsKFwiXCIpLGM9aChjLG8pLChzfHx0KSYmKG0uY3NzKG8uY3NzLndyYXBwZXIpLGMuY3NzKHM/by5jc3MuaW5wdXQ6by5jc3MuaW5wdXRXaXRoTm9IaW50KSxjLndyYXAobSkucGFyZW50KCkucHJlcGVuZChzP3E6bnVsbCkuYXBwZW5kKHQ/cjpudWxsKSkseT10P2o6aSx1PW5ldyBkKHtlbDpjfSksdj1uZXcgZyh7aGludDpxLGlucHV0OmN9LG8pLHc9bmV3IHkoe25vZGU6cixkYXRhc2V0czpsfSxvKSx4PW5ldyBrKHtpbnB1dDp2LG1lbnU6dyxldmVudEJ1czp1LG1pbkxlbmd0aDplLm1pbkxlbmd0aH0sbyksYy5kYXRhKHAud3d3LG8pLGMuZGF0YShwLnR5cGVhaGVhZCx4KX12YXIgbztyZXR1cm4gbD1iLmlzQXJyYXkobCk/bDpbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxlPWV8fHt9LG89YyhlLmNsYXNzTmFtZXMpLHRoaXMuZWFjaChtKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGUodGhpcy5maXJzdCgpLGZ1bmN0aW9uKGIpe2E9Yi5pc0VuYWJsZWQoKX0pLGF9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsZnVuY3Rpb24oYSl7YS5lbmFibGUoKX0pLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGZ1bmN0aW9uKGEpe2EuZGlzYWJsZSgpfSksdGhpc30saXNBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZSh0aGlzLmZpcnN0KCksZnVuY3Rpb24oYil7YT1iLmlzQWN0aXZlKCl9KSxhfSxhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsZnVuY3Rpb24oYSl7YS5hY3RpdmF0ZSgpfSksdGhpc30sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsZnVuY3Rpb24oYSl7YS5kZWFjdGl2YXRlKCl9KSx0aGlzfSxpc09wZW46ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZSh0aGlzLmZpcnN0KCksZnVuY3Rpb24oYil7YT1iLmlzT3BlbigpfSksYX0sb3BlbjpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsZnVuY3Rpb24oYSl7YS5vcGVuKCl9KSx0aGlzfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsZnVuY3Rpb24oYSl7YS5jbG9zZSgpfSksdGhpc30sc2VsZWN0OmZ1bmN0aW9uKGIpe3ZhciBjPSExLGQ9YShiKTtyZXR1cm4gZSh0aGlzLmZpcnN0KCksZnVuY3Rpb24oYSl7Yz1hLnNlbGVjdChkKX0pLGN9LGF1dG9jb21wbGV0ZTpmdW5jdGlvbihiKXt2YXIgYz0hMSxkPWEoYik7cmV0dXJuIGUodGhpcy5maXJzdCgpLGZ1bmN0aW9uKGEpe2M9YS5hdXRvY29tcGxldGUoZCl9KSxjfSxtb3ZlQ3Vyc29yOmZ1bmN0aW9uKGEpe3ZhciBiPSExO3JldHVybiBlKHRoaXMuZmlyc3QoKSxmdW5jdGlvbihjKXtiPWMubW92ZUN1cnNvcihhKX0pLGJ9LHZhbDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZSh0aGlzLGZ1bmN0aW9uKGIpe2Iuc2V0VmFsKGEpfSksdGhpcyk6KGUodGhpcy5maXJzdCgpLGZ1bmN0aW9uKGEpe2I9YS5nZXRWYWwoKX0pLGIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxmdW5jdGlvbihhLGIpe20oYiksYS5kZXN0cm95KCl9KSx0aGlzfX0sYS5mbi50eXBlYWhlYWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHFbYV0/cVthXS5hcHBseSh0aGlzLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTpxLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxhLmZuLnR5cGVhaGVhZC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuZm4udHlwZWFoZWFkPW8sdGhpc319KCl9KTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5sZXQgdXRpbHMgPSByZXF1aXJlKCcuLi9jb21tb24vdXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIGluZGV4RnVuOmZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8v5Yig6ZmkcHJvZHVjdFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGFsZXJ0ID0gJCgnI21vZGFsLWFsZXJ0Jyk7XHJcbiAgICAgICAgICAgICQoJy5yZW1vdmUtYXJ0aWNsZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJCgnI2NvbmZpcm0tcmVtb3ZlLWFydGljbGUnKS5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9ICQodGhpcy5yZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFydGljbGVJZCA9IHRhcmdldC5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL2FydGljbGUvcmVtb3ZlLyR7YXJ0aWNsZUlkfWBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTooKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9ICQodGhpcy5yZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnBhcmVudHMoJ3RyJykuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dCgn5Yig6Zmk5paH56ug5oiQ5YqfIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsOigpPT4geyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy/kuIrkvKDkuLvlsZXnpLrlm77niYdjYWxsYmFja1xyXG4gICAgdXBsb2FkRmlsZVN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGxldCBpbWFnZVZpZXcgPSAkKCcuaW1hZ2UtbGlzdCcpO1xyXG4gICAgICAgICQuZWFjaChkYXRhLChpLG4pPT4ge1xyXG4gICAgICAgICAgICBpbWFnZVZpZXcuYXBwZW5kKGA8bGkgZGF0YS1pZD1cIiR7bi5pZH1cIiBjbGFzcz1cImFtLWNmXCI+PGRpdiBjbGFzcz1cImFtLWZsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIC8+PC9kaXY+PGRpdiBjbGFzcz1cImFtLWZyXCI+PHA+PGEgY2xhc3M9XCJpbWctbGlua1wiIGhyZWY9XCIke24udXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPjxpbWcgc3JjPVwiJHtuLnVybH0/aW1hZ2VNb2dyMi90aHVtYm5haWwvMTAwXCIvPjwvYT48L3A+PHA+PGEgY2xhc3M9XCJtb3ZlXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPuWJjeenuzwvYT4gfCA8c3BhbiBjbGFzcz1cImNvcHlcIj48YSBjbGFzcz1cImNvcHktdXJsXCIgaHJlZj1cImphdmFzY3JpcHQ6O1wiPuWkjeWItjwvYT48L3NwYW4+IHwgPGEgY2xhc3M9XCJyZW1vdmVcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+5Yig6ZmkPC9hPjwvcD48L2Rpdj48L2xpPmApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudXBkYXRlSW1hZ2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/mm7TmlrBpbWFnZSBsaXN0XHJcbiAgICB1cGRhdGVJbWFnZTpmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IGltYWdlID0gJCgnI2ltYWdlJyk7XHJcbiAgICAgICAgbGV0IGltYWdlVmlldyA9ICQoJy5pbWFnZS1saXN0Jyk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0ge307XHJcblxyXG4gICAgICAgIGltYWdlVmlldy5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJCh0aGlzKS5wYXJlbnRzKCdsaScpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb250ZW50KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY29udGVudC5maW5kKCcuaW1nLWxpbmsnKS5hdHRyKCdocmVmJykpO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGNvbnRlbnQuZmluZCgnLmltZy1saW5rJykuYXR0cignaHJlZicpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW1hZ2UudmFsKHZhbHVlKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/kuIrkvKDkuLvlsZXnpLrlm77niYdjYWxsYmFja1xyXG4gICAgdXBsb2FkVmlkZW9GaWxlU3VjY2VzczpmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbGV0IHZpZGVvRmlsZSA9ICQoJyN2aWRlby1saW5rJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgJC5lYWNoKGRhdGEsKGksbik9PiB7XHJcbiAgICAgICAgICAgIHZpZGVvRmlsZS52YWwobi51cmwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5sZXQgdXRpbHMgPSByZXF1aXJlKCcuLi9jb21tb24vdXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaW5kZXhGdW4oKSB7XHJcbiAgICAgICAgJCgnaDQnKS5lYWNoKGZ1bmN0aW9uIChpLG4pIHtcclxuICAgICAgICAgICAgbGV0IHRleHQgPSAkKG4pLnRleHQoKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnKirlsI/mj5DnpLo6Kiog55Sx5LqO5q2k57G75Lqn5ZOB5Ye66LSn6YeP6L6D5aSn77yM5pe25pyJ5Ye6546w57y66LSn55qE5oOF5Ya177yM5aaC5pqC5peg546w6LSn77yM5bu66K6u5Lqy5Y+v5Lul6YCJ5oup5ZCM57G75YW35pyJ55u45ZCM5L2c55So55qE5Lqn5ZOB5pu/5Luj77yM5Lmf5Lya5pyJ5ZCM5qC355qE5Y+N6aaI5ZOm77yM6K+m5oOF5Y+v6K+i6Zeu5pqu6Zuq55qE5b+D5oS/5Z+O5a6i5pyN5Li65oKo5o6o6I2QOiknLCcnKTtcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnKipb5pqu6Zuq55qE5b+D5oS/5Z+O6Iux6K+RXToqKicsJycpO1xyXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCcqKlvmmq7pm6rnmoTlv4PmhL/ln47ljp/mlofnv7vor5FdOioqJywnJyk7XHJcbiAgICAgICAgICAgICQobikudGV4dCh0ZXh0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy/liKDpmaRjb3Vyc2VcclxuICAgICAgICBsZXQgcmVtb3ZlTGluayA9ICQoJy5yZW1vdmUtY291cnNlLXRlbXBsYXRlJyk7XHJcbiAgICAgICAgbGV0IG1vZGFsID0gJCgnI2NvbmZpcm0tcmVtb3ZlLWNvdXJzZS10ZW1wbGF0ZScpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVtb3ZlTGluay5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdXJzZVRlbXBsYXRlSWQgPSBwYXJzZUludChpdGVtLmRhdGEoJ2lkJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5kYXRhKCdzdGF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3Muc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL2NvdXJzZS10ZW1wbGF0ZS9yZW1vdmUvJHtjb3Vyc2VUZW1wbGF0ZUlkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT4gbG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfliKDpmaTor77nqIvmqKHmnb/miJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKCkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgYWRkRnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICB9LFxyXG4gICAgZWRpdEZ1bjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIHN1Ym1pdENvbnRyb2w6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3VibWl0ID0gJCgnI3N1Ym1pdCcpO1xyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGb3JtVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1Ym1pdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpLmFkZENsYXNzKCdhbS1kaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSmpiM1Z5YzJVdGRYTmxjaTVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYlhYMD0iLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy/liKDpmaRjb3Vyc2VcclxuICAgICAgICBsZXQgcmVtb3ZlTGluayA9ICQoJy5yZW1vdmUtY291cnNlJyk7XHJcbiAgICAgICAgbGV0IG1vZGFsID0gJCgnI2NvbmZpcm0tcmVtb3ZlLWNvdXJzZScpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG4gICAgICAgIGxldCBjb3Vyc2VUZW1wbGF0ZSA9ICQoXCIjY291cnNlLXRlbXBsYXRlXCIpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVtb3ZlTGluay5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvdXJzZUlkID0gcGFyc2VJbnQoaXRlbS5kYXRhKCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9jb3Vyc2UvcmVtb3ZlLyR7Y291cnNlSWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEoJ3N0YXRlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLmRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogKCk9PiBsb2NhdGlvbi5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbmQoJy5hbS1tb2RhbC1iZCcpLnRleHQoJ+WIoOmZpOivvueoi+aIkOWKnyEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoKS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvdXJzZVRlbXBsYXRlLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHRlbXBsYXRlVmFsdWUgPSBjb3Vyc2VUZW1wbGF0ZS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLmF0dHIoXCJkYXRhLWluZm9cIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRlbXBsYXRlVmFsdWUuZGVmYXVsdENvbnRlbnQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcbiAgICBhZGRGdW46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnN1Ym1pdENvbnRyb2woKTtcclxuICAgIH0sXHJcbiAgICBlZGl0RnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICB9LFxyXG4gICAgc3VibWl0Q29udHJvbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBzdWJtaXQgPSAkKCcjc3VibWl0Jyk7XHJcbiAgICAgICAgJCgnLmFtLWZvcm0nKS52YWxpZGF0b3Ioe1xyXG4gICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0Zvcm1WYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3VibWl0LmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSkuYWRkQ2xhc3MoJ2FtLWRpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5sZXQgdXRpbHMgPSByZXF1aXJlKCcuLi9jb21tb24vdXRpbHMnKTtcclxubGV0IGFzeW5jID0gcmVxdWlyZSgnYXN5bmMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gICAgaW5kZXhGdW46ZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMubW9kYWxPcmRlclNlYXJjaCA9ICQoJyNtb2RhbC1vcmRlci1zZWFyY2gnKTtcclxuICAgICAgICB0aGlzLm1vZGFsT3JkZXJTZWFyY2hDb250ZW50ID0gdGhpcy5tb2RhbE9yZGVyU2VhcmNoLmZpbmQoJy5hbS10YWJsZSB0Ym9keScpO1xyXG4gICAgICAgIHRoaXMuY291bnRMZW4gPSB0aGlzLm1vZGFsT3JkZXJTZWFyY2guZmluZCgnLmNvdW50LWxlbicpO1xyXG4gICAgICAgIHRoaXMuYnRuSW1wb3J0T3JkZXIgPSB0aGlzLm1vZGFsT3JkZXJTZWFyY2guZmluZCgnLmJ0bi1pbXBvcnQtb3JkZXInKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRXaXNkb21PcmRlclNpdGUoKTtcclxuICAgICAgICB0aGlzLnNldEx1Y2t5bW9qb09yZGVyU2l0ZSgpO1xyXG4gICAgICAgIHRoaXMuc2V0UHJvZHVjdE9yZGVyU2l0ZSgpO1xyXG5cclxuICAgICAgICAvL+ato+WcqOWvvOWFpeagh+iusFxyXG4gICAgICAgIHRoaXMuaXNJbXBvcnRpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5idG5JbXBvcnRPcmRlci5jbGljaygoKT0+IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBhcnIgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5maW5kKCd0cicpLmVhY2goZnVuY3Rpb24gKGksbikge1xyXG4gICAgICAgICAgICAgICAgaWYoJChuKS5hdHRyKCdkYXRhLXByb2R1Y3QtaWQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiQobikuZGF0YSgncHJvZHVjdC1pZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNlcnZlOiQobikuZGF0YSgncmVzZXJ2ZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdSZXNlcnZlOiQobikuZGF0YSgnY291bnQnKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGNvbmZpcm0oJ+ehruWumui/m+ihjOaJuemHj+iuvue9rj8nKSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaXNJbXBvcnRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJChfdGhpcy5idG5JbXBvcnRPcmRlcikuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgYXN5bmMuZm9yRWFjaFNlcmllcyhhcnIsIGZ1bmN0aW9uKGl0ZW0sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vaW1wb3J0LW9yZGVyL3NhdmUtZGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDppdGVtLnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2VydmU6aXRlbS5yZXNlcnZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UmVzZXJ2ZTppdGVtLm5ld1Jlc2VydmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHIgPSBfdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5maW5kKGB0cltkYXRhLXByb2R1Y3QtaWQ9JHtpdGVtLnByb2R1Y3RJZH1dYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmZpbmQoJy5pbXBvcnQtY2hlY2stdHJ1ZScpLnJlbW92ZUNsYXNzKCdpbXBvcnQtY2hlY2stdHJ1ZScpLmFkZENsYXNzKCdpbXBvcnQtY2hlY2stc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5maW5kKCcudXBkYXRlLXJlc2VydmUnKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydChhcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pc0ltcG9ydGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5om56YeP5pu05paw5a6M5oiQIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5tb2RhbE9yZGVyU2VhcmNoLm9uKCdvcGVuLm1vZGFsLmFtdWknLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKF90aGlzLmJ0bkltcG9ydE9yZGVyKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5idG4tc2F2ZS10ZXh0JykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgIGxldCBjb250ZW50ID0gJCh0aGlzKS5wYXJlbnRzKCcuY29udGVudCcpO1xyXG4gICAgICAgICAgIGxldCB0ZXh0ID0gJC50cmltKGNvbnRlbnQuZmluZCgndGV4dGFyZWEnKS52YWwoKSk7XHJcbiAgICAgICAgIC8vICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFx0L2csJyAnKTtcclxuICAgICAgICAgIC8vICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMrL2csJyAnKTtcclxuICAgICAgICAgICAgJC5jb29raWUoY29udGVudC5maW5kKCd0ZXh0YXJlYScpLmF0dHIoJ2NsYXNzJyksdGV4dCx7ZXhwaXJlczpuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDEwMDAqNjAqNjAqMjQqMzApLHBhdGg6Jy8nLGRvbWFpbjpsb2NhdGlvbi5ob3N0fSk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sNTAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgc2V0V2lzZG9tT3JkZXJTaXRlKCkge1xyXG5cclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGxldCBpbnB1dFdpc2RvbU9yZGVyID0gJCgnLmlucHV0LXdpc2RvbS1vcmRlcicpO1xyXG4gICAgICAgICQoJy5idG4taW1wb3J0LXdpc2RvbS1vcmRlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmKF90aGlzLmlzSW1wb3J0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgn5q2j5Zyo5a+85YWl5Lit77yM6K+356iN5ZCOLi4uJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF90aGlzLmlzSW1wb3J0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMubW9kYWxPcmRlclNlYXJjaC5tb2RhbCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAkKF90aGlzLmJ0bkltcG9ydE9yZGVyKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvdW50TGVuLnRleHQoJycpO1xyXG4gICAgICAgICAgICBsZXQgYXJyV2lzZG9tRGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYXJyVmFsdWUgPSAkLnRyaW0oaW5wdXRXaXNkb21PcmRlci52YWwoKSkuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAkLmVhY2goYXJyVmFsdWUsZnVuY3Rpb24gKGksbikge1xyXG4gICAgICAgICAgICAgICAgbiA9IG4ucmVwbGFjZSgvXFx0L2csJyAnKTtcclxuICAgICAgICAgICAgICAgIG4gPSBuLnJlcGxhY2UoL1xccysvZywnICcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5hbWUgPSAvKFteXFwkXSspXFwkLy5leGVjKG4pWzFdO1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvXFxkXFwvXFxkLiovLCcnKTtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSAkLnRyaW0obmFtZSk7XHJcbiAgICAgICAgICAgICAgICBhcnJXaXNkb21EYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6bmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDovXFwkW15cXHNdK1xccyhcXGQrKS8uZXhlYyhuKVsxXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNvdW50TGVuID0gMDtcclxuICAgICAgICAgICAgX3RoaXMuY291bnRMZW4udGV4dChgJHtjb3VudExlbn0vJHthcnJXaXNkb21EYXRhLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgYXN5bmMuZm9yRWFjaFNlcmllcyhhcnJXaXNkb21EYXRhLCBmdW5jdGlvbihpdGVtLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9pbXBvcnQtb3JkZXIvZGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTp7J2ltcG9ydC1kYXRhJzogSlNPTi5zdHJpbmdpZnkoW2l0ZW1dKX1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudExlbiA8IGFycldpc2RvbURhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50TGVuICsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudExlbiA9PT0gYXJyV2lzZG9tRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChfdGhpcy5idG5JbXBvcnRPcmRlcikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kRGF0YShkYXRhLGNvdW50TGVuLGFycldpc2RvbURhdGEsY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaXNJbXBvcnRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZigkLmNvb2tpZSgnaW5wdXQtd2lzZG9tLW9yZGVyJykpIHtcclxuICAgICAgICAgICAgJCgnLmlucHV0LXdpc2RvbS1vcmRlcicpLnZhbCgkLmNvb2tpZSgnaW5wdXQtd2lzZG9tLW9yZGVyJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgc2V0THVja3ltb2pvT3JkZXJTaXRlKCkge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGlucHV0THVja3ltb2pvT3JkZXIgPSAkKCcuaW5wdXQtbHVja3ltb2pvLW9yZGVyJyk7XHJcblxyXG4gICAgICAgICQoJy5idG4taW1wb3J0LWx1Y2t5bW9qby1vcmRlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmKF90aGlzLmlzSW1wb3J0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgn5q2j5Zyo5a+85YWl5Lit77yM6K+356iN5ZCOLi4uJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF90aGlzLmlzSW1wb3J0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMubW9kYWxPcmRlclNlYXJjaC5tb2RhbCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAkKF90aGlzLmJ0bkltcG9ydE9yZGVyKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIGxldCBhcnJMdWNreW1vam9EYXRhID0gW107XHJcbiAgICAgICAgICAgIGxldCBhcnJWYWx1ZSA9ICQudHJpbShpbnB1dEx1Y2t5bW9qb09yZGVyLnZhbCgpKS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgICAgICQuZWFjaChhcnJWYWx1ZSxmdW5jdGlvbiAoaSxuKSB7XHJcbiAgICAgICAgICAgICAgICBuID0gbi5yZXBsYWNlKC9cXHQvZywnICcpO1xyXG4gICAgICAgICAgICAgICAgbiA9IG4ucmVwbGFjZSgvXFxzKy9nLCcgJyk7XHJcbiAgICAgICAgICAgICAgICBhcnJMdWNreW1vam9EYXRhLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6LyhcXHcrXFwtXFx3K1xcLVxcdyspLy5leGVjKG4pWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50Oi8oXFxkKykvLmV4ZWMobilbMV1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IGNvdW50TGVuID0gMDtcclxuICAgICAgICAgICAgX3RoaXMuY291bnRMZW4udGV4dChgJHtjb3VudExlbn0vJHthcnJMdWNreW1vam9EYXRhLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgYXN5bmMuZm9yRWFjaFNlcmllcyhhcnJMdWNreW1vam9EYXRhLCBmdW5jdGlvbihpdGVtLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9pbXBvcnQtb3JkZXIvZGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTp7J2ltcG9ydC1kYXRhJzogSlNPTi5zdHJpbmdpZnkoW2l0ZW1dKX1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudExlbiA8IGFyckx1Y2t5bW9qb0RhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50TGVuICsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZihjb3VudExlbiA9PT0gYXJyTHVja3ltb2pvRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChfdGhpcy5idG5JbXBvcnRPcmRlcikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kRGF0YShkYXRhLGNvdW50TGVuLGFyckx1Y2t5bW9qb0RhdGEsY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaXNJbXBvcnRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmKCQuY29va2llKCdpbnB1dC1sdWNreW1vam8tb3JkZXInKSkge1xyXG4gICAgICAgICAgICAkKCcuaW5wdXQtbHVja3ltb2pvLW9yZGVyJykudmFsKCQuY29va2llKCdpbnB1dC1sdWNreW1vam8tb3JkZXInKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldFByb2R1Y3RPcmRlclNpdGUoKSB7XHJcblxyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgbGV0IGlucHV0UHJvZHVjdE9yZGVyID0gJCgnLmlucHV0LXByb2R1Y3Qtb3JkZXInKTtcclxuXHJcbiAgICAgICAgJCgnLmJ0bi1pbXBvcnQtcHJvZHVjdC1vcmRlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmKF90aGlzLmlzSW1wb3J0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydCgn5q2j5Zyo5a+85YWl5Lit77yM6K+356iN5ZCOLi4uJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF90aGlzLmlzSW1wb3J0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3RoaXMubW9kYWxPcmRlclNlYXJjaC5tb2RhbCgpO1xyXG4gICAgICAgICAgICBfdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAkKF90aGlzLmJ0bkltcG9ydE9yZGVyKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIGxldCBhcnJQcm9kdWN0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYXJyVmFsdWUgPSAkLnRyaW0oaW5wdXRQcm9kdWN0T3JkZXIudmFsKCkpLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgJC5lYWNoKGFyclZhbHVlLGZ1bmN0aW9uIChpLG4pIHtcclxuICAgICAgICAgICAgICAgIG4gPSBuLnJlcGxhY2UoL1xcdC9nLCcgJyk7XHJcbiAgICAgICAgICAgICAgICBuID0gbi5yZXBsYWNlKC9cXHMrL2csJyAnKTtcclxuICAgICAgICAgICAgICAgIG4gPSBuLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBhcnJQcm9kdWN0RGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiQudHJpbSgvKFteXFwqXSspLy5leGVjKG4pWzFdKSxcclxuICAgICAgICAgICAgICAgICAgICBjb3VudDovXFwqXFxzPyhcXGQrKS8uZXhlYyhuKVsxXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBsZXQgY291bnRMZW4gPSAwO1xyXG4gICAgICAgICAgICBfdGhpcy5jb3VudExlbi50ZXh0KGAke2NvdW50TGVufS8ke2FyclByb2R1Y3REYXRhLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgYXN5bmMuZm9yRWFjaFNlcmllcyhhcnJQcm9kdWN0RGF0YSwgZnVuY3Rpb24oaXRlbSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vaW1wb3J0LW9yZGVyL2RhdGEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6eydpbXBvcnQtZGF0YSc6IEpTT04uc3RyaW5naWZ5KFtpdGVtXSl9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY291bnRMZW4gPCBhcnJQcm9kdWN0RGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRMZW4gKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNvdW50TGVuID09PSBhcnJQcm9kdWN0RGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChfdGhpcy5idG5JbXBvcnRPcmRlcikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kRGF0YShkYXRhLGNvdW50TGVuLGFyclByb2R1Y3REYXRhLGNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmlzSW1wb3J0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZigkLmNvb2tpZSgnaW5wdXQtcHJvZHVjdC1vcmRlcicpKSB7XHJcbiAgICAgICAgICAgICQoJy5pbnB1dC1wcm9kdWN0LW9yZGVyJykudmFsKCQuY29va2llKCdpbnB1dC1wcm9kdWN0LW9yZGVyJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIGFwcGVuZERhdGEoZGF0YSxfY291bnRMZW4sYXJyRGF0YSxjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuY291bnRMZW4udGV4dChgJHtfY291bnRMZW59LyR7YXJyRGF0YS5sZW5ndGh9YCk7XHJcbiAgICAgICAgbGV0IG1haW5JbWFnZSA9ICcvL2xjLUpvYUJjUlR0LmNuLW4xLmxjZmlsZS5jb20vZDRjMjI1MDU0ZjAwNWE0ZDdkMzkucG5nJztcclxuICAgICAgICBmb3IobGV0IGkgaW4gZGF0YS5yZXN1bHRbMF0ubWFpbkltYWdlKSB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEucmVzdWx0WzBdLm1haW5JbWFnZVtpXS5pc01haW5JbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgbWFpbkltYWdlID0gZGF0YS5yZXN1bHRbMF0ubWFpbkltYWdlW2ldLnVybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5hbWVDbiA9IGRhdGEucmVzdWx0WzBdLm5hbWVDbiA9PT0gJycgPyAnLScgOiBkYXRhLnJlc3VsdFswXS5uYW1lQ247XHJcbiAgICAgICAgbGV0IHN0b2NrID0gZGF0YS5yZXN1bHRbMF0uc3RvY2sgPT09ICcnID8gJy0nIDogZGF0YS5yZXN1bHRbMF0uc3RvY2s7XHJcbiAgICAgICAgbGV0IHJlc2VydmUgPSBkYXRhLnJlc3VsdFswXS5yZXNlcnZlID09PSAnJyA/ICctJyA6IGRhdGEucmVzdWx0WzBdLnJlc2VydmU7XHJcbiAgICAgICAgbGV0IGlzSW1wb3J0VHJ1ZSA9IGRhdGEucmVzdWx0WzBdLmlzVHJ1ZSA/ICc8c3BhbiBjbGFzcz1cImltcG9ydC1jaGVjay10cnVlXCI+PGkgY2xhc3M9XCJhbS1pY29uLWNoZWNrXCI+PC9pPjwvc3Bhbj4nIDogJzxzcGFuIGNsYXNzPVwiaW1wb3J0LWNoZWNrLWZhbHNlXCI+PGkgY2xhc3M9XCJhbS1pY29uLWNsb3NlXCI+PC9pPjwvc3Bhbj4nO1xyXG5cclxuICAgICAgICBfdGhpcy5tb2RhbE9yZGVyU2VhcmNoQ29udGVudC5hcHBlbmQoYDx0ciBkYXRhLXByb2R1Y3QtaWQ9XCIke2RhdGEucmVzdWx0WzBdLnByb2R1Y3RJZH1cIiBkYXRhLXJlc2VydmU9XCIke3Jlc2VydmV9XCIgZGF0YS1jb3VudD1cIiR7ZGF0YS5yZXN1bHRbMF0uY291bnR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInQtY1wiPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke21haW5JbWFnZX1cIj48aW1nIHNyYz1cIiR7bWFpbkltYWdlfT9pbWFnZU1vZ3IyL3RodW1ibmFpbC8zMlwiIGFsdD1cIlwiPjwvYT48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+WyR7ZGF0YS5yZXN1bHRbMF0ubmFtZX1dPGJyLz4ke25hbWVDbn08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0LWNcIj4ke3N0b2NrfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInQtY1wiPiR7cmVzZXJ2ZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0LWNcIj48c3Ryb25nPiR7ZGF0YS5yZXN1bHRbMF0uY291bnR9PC9zdHJvbmc+PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidC1jXCI+PGkgY2xhc3M9XCJ1cGRhdGUtcmVzZXJ2ZVwiPiR7IHJlc2VydmU9PT0gJy0nID8gJy0nIDoocGFyc2VJbnQocmVzZXJ2ZSkgKyBwYXJzZUludChkYXRhLnJlc3VsdFswXS5jb3VudCkpfTwvaT48L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0LWNcIj4ke2lzSW1wb3J0VHJ1ZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+YCk7XHJcbiAgICAgICAgY2FsbGJhY2soKTtcclxuICAgIH1cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy/liKDpmaRwcm9kdWN0TWV0aG9kXHJcbiAgICAgICAgbGV0IHJlbW92ZUxpbmsgPSAkKCcucmVtb3ZlLXByb2R1Y3QtYnJhbmQnKTtcclxuICAgICAgICBsZXQgbW9kYWwgPSAkKCcjY29uZmlybS1yZW1vdmUtcHJvZHVjdC1icmFuZCcpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVtb3ZlTGluay5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RNZXRob2RJZCA9IHBhcnNlSW50KGl0ZW0uZGF0YSgnaWQnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuIFxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3Muc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3QtYnJhbmQvcmVtb3ZlLyR7cHJvZHVjdE1ldGhvZElkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YSgnc3RhdGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ2Nsb3NlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiAoKT0+IGxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dCgn5Yig6Zmk5Lqn5ZOB57G75Z6L5oiQ5YqfIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCgpLmZpbmQoJy5hbS1tb2RhbC1iZCcpLnRleHQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuICAgIGFkZEZ1bjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIGVkaXRGdW46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnN1Ym1pdENvbnRyb2woKTtcclxuICAgIH0sXHJcbiAgICBzdWJtaXRDb250cm9sOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IHN1Ym1pdCA9ICQoJyNzdWJtaXQnKTtcclxuICAgICAgICAkKCcuYW0tZm9ybScpLnZhbGlkYXRvcih7XHJcbiAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRm9ybVZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdWJtaXQuYXR0cignZGlzYWJsZWQnLCB0cnVlKS5hZGRDbGFzcygnYW0tZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIGJyYW5kTG9nb1VwbG9hZFN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgICAgICQoJyNicmFuZC1sb2dvLWltYWdlLXZpZXcnKS5lbXB0eSgpLmFkZENsYXNzKCdvbicpLmFwcGVuZChgPGxpPjxhIGhyZWY9XCIke2RhdGFbMF0udXJsfVwiPjxpbWcgc3JjPVwiJHtkYXRhWzBdLnVybH1cIi8+PC9hPjwvbGk+YCk7XHJcbiAgICAgICAgJCgnI2JyYW5kLWxvZ28taW1hZ2UnKS52YWwoZGF0YVswXS51cmwpO1xyXG4gICAgfSxcclxuICAgIGF1dGhvclVwbG9hZFN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgICAgICQoJyNhdXRob3ItaW1hZ2UtdmlldycpLmVtcHR5KCkuYWRkQ2xhc3MoJ29uJykuYXBwZW5kKGA8bGk+PGEgaHJlZj1cIiR7ZGF0YVswXS51cmx9XCI+PGltZyBzcmM9XCIke2RhdGFbMF0udXJsfVwiLz48L2E+PC9saT5gKTtcclxuICAgICAgICAkKCcjYXV0aG9yLWltYWdlJykudmFsKGRhdGFbMF0udXJsKTtcclxuICAgIH0sXHJcbiAgICBpbWFnZVVwbG9hZFN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgICAgIGxldCBkZXRhaWxUZXh0ID0gJCgnI2JyYW5kLWRldGFpbCcpO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gZGV0YWlsVGV4dC52YWwoKTtcclxuICAgICAgICB0ZXh0ICs9IGBcXG5cXG4ke2RhdGFbMF0udXJsfWA7XHJcbiAgICAgICAgZGV0YWlsVGV4dC52YWwodGV4dCk7XHJcbiAgICB9XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIGluZGV4RnVuOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gJCgnLmFtLWFjY29yZGlvbicpO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdFByb2R1Y3RNZXRob2QoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZENhdGVnb3J5MSgpO1xyXG4gICAgICAgIHRoaXMuZWRpdENhdGVnb3J5MSgpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlQ2F0ZWdvcnkxKCk7XHJcbiAgICAgICAgdGhpcy5tb3ZlQ2F0ZWdvcnkxVXAoKTtcclxuICAgICAgICB0aGlzLm1vdmVDYXRlZ29yeTFEb3duKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ2F0ZWdvcnkyKCk7XHJcbiAgICAgICAgdGhpcy5lZGl0Q2F0ZWdvcnkyKCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVDYXRlZ29yeTIoKTtcclxuICAgICAgICB0aGlzLm1vdmVDYXRlZ29yeTJVcCgpO1xyXG4gICAgICAgIHRoaXMubW92ZUNhdGVnb3J5MkRvd24oKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIC8v6YCJ5oup5Lqn5ZOB57G75Z6LXHJcbiAgICBzZWxlY3RQcm9kdWN0TWV0aG9kKCkge1xyXG4gICAgICAgIGxldCBzZWxlY3QgPSAkKCcuc2VsZWN0LXByb2R1Y3QtbWV0aG9kJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wcm9kdWN0TWV0aG9kSWQgPSBzZWxlY3QudmFsKCkgPyBwYXJzZUludChzZWxlY3QudmFsKCkpIDogMDtcclxuICAgICAgICBcclxuICAgICAgICBzZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9wcm9kdWN0LWNhdGVnb3J5P3Byb2R1Y3QtbWV0aG9kLWlkPSR7dGhpcy52YWx1ZX1gO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+a3u+WKoOS4gOe6p+WIhuexu1xyXG4gICAgYWRkQ2F0ZWdvcnkxOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jYXRlZ29yeS0xLWFkZCcpO1xyXG4gICAgICAgIGxldCBpbnB1dCA9ICQoJyNpbnB1dC1jYXRlZ29yeS0xLWFkZCcpO1xyXG4gICAgICAgIGxldCBjb25maXJtID0gJCgnI21vZGFsLWNhdGVnb3J5LTEtY29uZmlybS1hZGQnKTtcclxuICAgICAgICBsZXQgcHJvZHVjdE1ldGhvZElkID0gdGhpcy5wcm9kdWN0TWV0aG9kSWQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgJCgnLmJ0bi1jYXRlZ29yeS0xLWFkZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaW5wdXQudmFsKCcnKTtcclxuICAgICAgICAgICAgbW9kYWwubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlybS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29uZmlybS5kYXRhKCdzdGF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG4gICAgICAgICAgICBjb25maXJtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAkLnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBsZWFuQXBwLmFwaSArICdjbGFzc2VzL1Byb2R1Y3RDYXRlZ29yeTEnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbGVhbkFwcEhlYWRlcixcclxuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogJCgnLmFtLWFjY29yZGlvbi1pdGVtJykubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICQudHJpbShpbnB1dC52YWwoKSkgPyAkLnRyaW0oaW5wdXQudmFsKCkpIDogJ+aXoOWIhuexu+WQjScsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdE1ldGhvZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm0uZGF0YSgnc3RhdGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+e8lui+keS4gOe6p+WIhuexu1xyXG4gICAgZWRpdENhdGVnb3J5MTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgbW9kYWwgPSAkKCcjbW9kYWwtY2F0ZWdvcnktMS1lZGl0Jyk7XHJcbiAgICAgICAgbGV0IGlucHV0ID0gJCgnI2lucHV0LWNhdGVnb3J5LTEtZWRpdCcpO1xyXG4gICAgICAgIGxldCBjb25maXJtID0gJCgnI21vZGFsLWNhdGVnb3J5LTEtY29uZmlybS1lZGl0Jyk7XHJcbiAgICAgICAgbGV0IGFsZXJ0ID0gJCgnI21vZGFsLWFsZXJ0Jyk7XHJcblxyXG4gICAgICAgIGxldCBwcm9kdWN0TWV0aG9kSWQgPSB0aGlzLnByb2R1Y3RNZXRob2RJZDtcclxuICAgICAgICBsZXQgY3VycmVudElkID0gbnVsbDtcclxuXHJcbiAgICAgICAgJCgnLmVkaXQtY2F0ZWdvcnktMScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS5wYXJlbnRzKCcuYW0tYWNjb3JkaW9uLXRpdGxlJykuZmluZCgnc3Ryb25nJykudGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsKCQudHJpbSh0ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpc1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SWQgPSAkKHRoaXMpLnBhcmVudHMoJy5hbS1hY2NvcmRpb24taXRlbScpLmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbmZpcm0uY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbmZpcm0uZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3Muc3RhcnQoKTtcclxuICAgICAgICAgICAgY29uZmlybS5kYXRhKCdzdGF0ZScsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgJC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiBsZWFuQXBwLmFwaSArICdjbGFzc2VzL1Byb2R1Y3RDYXRlZ29yeTEnLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbGVhbkFwcEhlYWRlcixcclxuICAgICAgICAgICAgICAgIGRhdGE6ICd3aGVyZT17XCJjYXRlZ29yeTFJZFwiOicgKyBjdXJyZW50SWQgKyAnfSdcclxuICAgICAgICAgICAgfSkuZG9uZShkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQVVQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogYCR7bGVhbkFwcC5hcGl9Y2xhc3Nlcy9Qcm9kdWN0Q2F0ZWdvcnkxLyR7ZGF0YS5yZXN1bHRzWzBdLm9iamVjdElkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbGVhbkFwcEhlYWRlcixcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICQudHJpbShpbnB1dC52YWwoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RNZXRob2RJZFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSkuZG9uZSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtLmRhdGEoJ3N0YXRlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLmRvbmUoKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdjbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogKCk9PmxvY2F0aW9uLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfnvJbovpHkuIDnuqfliIbnsbvmiJDlip8hJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy/liKDpmaTkuIDnuqfliIbnsbtcclxuICAgIHJlbW92ZUNhdGVnb3J5MTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgcmVtb3ZlTGluayA9ICQoJy5yZW1vdmUtY2F0ZWdvcnktMScpO1xyXG4gICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jYXRlZ29yeS0xLXJlbW92ZScpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG4gICAgICAgIGxldCBwcm9kdWN0TWV0aG9kSWQgPSB0aGlzLnByb2R1Y3RNZXRob2RJZDtcclxuXHJcbiAgICAgICAgLy9hbGVydCDlhbPpl63lkI7np7vpmaTmmoLlrZjnmoTlrp7kvovvvIzlho3mrKHosIPnlKjml7bph43mlrDliJ3lp4vljJYs5Y+v5Lul6Kej5YazMuasoeiwg+eUqOWQjOS4gOS7o+eggeeahOmXrumimFxyXG4gICAgICAgIGFsZXJ0Lm9uKCdjbG9zZWQubW9kYWwuYW11aScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVEYXRhKCdhbXVpLm1vZGFsJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlbW92ZUxpbmsuZWFjaChmdW5jdGlvbiAoaSwgbikge1xyXG5cclxuICAgICAgICAgICAgJChuKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gJCh0aGlzLnJlbGF0ZWRUYXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/liKDpmaTkuIDnuqfliIbnsbvpnIDopoHliKTmlq3or6Xkuqflk4HmmK/lkKblt7Lkvb/nlKjor6XliIbnsbss5omA5Lul5LiN6IO95L2/55SoYXBp6LCD55SoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZ2V0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hZG1pbi9wcm9kdWN0LWNhdGVnb3J5L3JlbW92ZS1jYXRlZ29yeS0xJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0TWV0aG9kSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0ucGFyZW50cygnLmFtLWFjY29yZGlvbi1pdGVtJykuYXR0cignZGF0YS1pZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdjbG9zZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCgpLmZpbmQoJy5hbS1tb2RhbC1iZCcpLnRleHQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT4gbG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dCgn5Yig6Zmk5LiA57qn5YiG57G75oiQ5YqfIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIC8v5YiG57G7MeS4iuenu1xyXG4gICAgbW92ZUNhdGVnb3J5MVVwOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBzdGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAkKCcubW92ZXVwLWNhdGVnb3J5LTEnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9ICR0aGlzLnBhcmVudHMoJy5hbS1hY2NvcmRpb24taXRlbScpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGNvbnRlbnQucHJldigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJZCA9IGNvbnRlbnQuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldElkID0gdGFyZ2V0LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGNvbnRlbnQuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuZ2V0KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYWRtaW4vcHJvZHVjdC1jYXRlZ29yeS9tb3ZlLWNhdGVnb3J5LTEtdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudElkOiBjdXJyZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldElkOiB0YXJnZXRJZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmFmdGVyKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3N0YXRlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIC8v5YiG57G7MeS4i+enu1xyXG4gICAgbW92ZUNhdGVnb3J5MURvd246IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IGxpc3QgPSAkKCcuYW0tYWNjb3JkaW9uLWl0ZW0nKTtcclxuXHJcbiAgICAgICAgJCgnLm1vdmVkb3duLWNhdGVnb3J5LTEnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9ICR0aGlzLnBhcmVudHMoJy5hbS1hY2NvcmRpb24taXRlbScpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGNvbnRlbnQubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJZCA9IGNvbnRlbnQuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldElkID0gdGFyZ2V0LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGNvbnRlbnQuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGxpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHRoaXMuZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdGF0ZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hZG1pbi9wcm9kdWN0LWNhdGVnb3J5L21vdmUtY2F0ZWdvcnktMS1kb3duJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJZDogY3VycmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRJZDogdGFyZ2V0SWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS5kb25lKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5iZWZvcmUodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3RhdGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0sXHJcblxyXG5cclxuICAgIC8v5re75Yqg5LqM57qn5YiG57G7XHJcbiAgICBhZGRDYXRlZ29yeTI6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IG1vZGFsID0gJCgnI21vZGFsLWNhdGVnb3J5LTItYWRkJyk7XHJcbiAgICAgICAgbGV0IGlucHV0ID0gJCgnI2lucHV0LWNhdGVnb3J5LTItYWRkJyk7XHJcbiAgICAgICAgbGV0IGNvbmZpcm0gPSAkKCcjbW9kYWwtY2F0ZWdvcnktMi1jb25maXJtLWFkZCcpO1xyXG4gICAgICAgIGxldCBjb250ZW50ID0gbnVsbDtcclxuICAgICAgICBsZXQgY2F0ZWdvcnkxSWQgPSBudWxsO1xyXG5cclxuXHJcbiAgICAgICAgJCgnLmJ0bi1jYXRlZ29yeS0yLWFkZCcpLmVhY2goZnVuY3Rpb24gKGksIG4pIHtcclxuICAgICAgICAgICAgJChuKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gJCh0aGlzKS5wYXJlbnRzKCcuYW0tYWNjb3JkaW9uLWl0ZW0nKTtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5MUlkID0gcGFyc2VJbnQoY29udGVudC5hdHRyKCdkYXRhLWlkJykpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXQudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlybS5jbGljayhmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29uZmlybS5kYXRhKCdzdGF0ZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG4gICAgICAgICAgICBjb25maXJtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBjb250ZW50LmZpbmQoJy5jYXRlZ29yeS0yLWxpc3QgbGknKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvL+a3u+WKoOS6jOe6p+WIhuexuyzmraTlpITmsqHnlKhhcGnmmK/lm6DkuLphcGkgc2F2ZeWQjuWGjWdldOaXoOazleiOt+WPluWIsOWFt+S9k+eahGNhdGVnb3J5Mklk562J5pWw5o2uLOaJgOS7peWPquiDvemAmui/h2FqYXjosIPnlKhcclxuICAgICAgICAgICAgJC5wb3N0KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9hZG1pbi9wcm9kdWN0LWNhdGVnb3J5L2FkZC1jYXRlZ29yeS0yJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJC50cmltKGlucHV0LnZhbCgpKSA/ICQudHJpbShpbnB1dC52YWwoKSkgOiAn5peg5qCH6aKYJyxcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTFJZDogY2F0ZWdvcnkxSWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuZG9uZShkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICBjb25maXJtLmRhdGEoJ3N0YXRlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TWV0aG9kSWQgPSAkKCcuc2VsZWN0LXByb2R1Y3QtbWV0aG9kJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcnkxSWQgPSBjb250ZW50LmRhdGEoJ2lkJyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuZmluZCgnLmNhdGVnb3J5LTItbGlzdCcpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBkYXRhLWlkPVwiJHtkYXRhLmlkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIvYWRtaW4vcHJvZHVjdD9wcm9kdWN0LW1ldGhvZC1pZD0ke3Byb2R1Y3RNZXRob2RJZH0mY2F0ZWdvcnkxLWlkPSR7Y2F0ZWdvcnkxSWR9JmNhdGVnb3J5Mi1pZD0ke2RhdGEuaWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHtkYXRhLm5hbWV9PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHJvbmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm9wdGlvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiL2FkbWluL3Byb2R1Y3QvYWRkP3Byb2R1Y3QtbWV0aG9kLWlkPSR7cHJvZHVjdE1ldGhvZElkfSZjYXRlZ29yeTEtaWQ9JHtjYXRlZ29yeTFJZH0mY2F0ZWdvcnkyLWlkPSR7ZGF0YS5pZH1cIiB0YXJnZXQ9XCJfYmxhbmtcIj7mlrDlu7o8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJlZGl0LWNhdGVnb3J5LTJcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+57yW6L6RPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibW92ZXVwLWNhdGVnb3J5LTJcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+5LiK56e7PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwibW92ZWRvd24tY2F0ZWdvcnktMlwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj7kuIvnp7s8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyZW1vdmUtY2F0ZWdvcnktMlwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj7liKDpmaQ8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy/nvJbovpHkuoznuqfliIbnsbtcclxuICAgIGVkaXRDYXRlZ29yeTI6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IG1vZGFsID0gJCgnI21vZGFsLWNhdGVnb3J5LTItZWRpdCcpO1xyXG4gICAgICAgIGxldCBpbnB1dCA9ICQoJyNpbnB1dC1jYXRlZ29yeS0yLWVkaXQnKTtcclxuICAgICAgICBsZXQgY29uZmlybSA9ICQoJyNtb2RhbC1jYXRlZ29yeS0yLWNvbmZpcm0tZWRpdCcpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG5cclxuICAgICAgICBsZXQgY29udGVudCA9IG51bGw7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5MklkID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIub24oJ2NsaWNrJywgJy5lZGl0LWNhdGVnb3J5LTInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkKHRoaXMpLnBhcmVudHMoJ2xpJyk7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbCgkLnRyaW0oY29udGVudC5maW5kKCdzdHJvbmcnKS50ZXh0KCkpKTtcclxuICAgICAgICAgICAgY2F0ZWdvcnkySWQgPSBjb250ZW50LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAgICAgbW9kYWwubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25maXJtLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb25maXJtLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgIGNvbmZpcm0uZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAkLmdldCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6IGxlYW5BcHAuYXBpICsgJ2NsYXNzZXMvUHJvZHVjdENhdGVnb3J5MicsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBsZWFuQXBwSGVhZGVyLFxyXG4gICAgICAgICAgICAgICAgZGF0YTogJ3doZXJlPXtcImNhdGVnb3J5MklkXCI6JyArIGNhdGVnb3J5MklkICsgJ30nXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUFVUJyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IGxlYW5BcHAuYXBpICsgJ2NsYXNzZXMvUHJvZHVjdENhdGVnb3J5Mi8nICsgZGF0YS5yZXN1bHRzWzBdLm9iamVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGxlYW5BcHBIZWFkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkLnRyaW0oaW5wdXQudmFsKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KS5kb25lKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbmZpcm0uZGF0YSgnc3RhdGUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiAoKSA9PiBjb250ZW50LmZpbmQoJ3N0cm9uZyBhJykudGV4dChpbnB1dC52YWwoKSlcclxuICAgICAgICAgICAgICAgIH0pLmZpbmQoJy5hbS1tb2RhbC1iZCcpLnRleHQoJ+e8lui+keS6jOe6p+WIhuexu+aIkOWKnyEnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvL+WIoOmZpOS6jOe6p+WIhuexu1xyXG4gICAgcmVtb3ZlQ2F0ZWdvcnkyOiBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jYXRlZ29yeS0yLXJlbW92ZScpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIub24oJ2NsaWNrJywgJy5yZW1vdmUtY2F0ZWdvcnktMicsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBpdGVtLnBhcmVudHMoJ2xpJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL+WIoOmZpOS4gOe6p+WIhuexu+mcgOimgeWIpOaWreivpeS6p+WTgeaYr+WQpuW3suS9v+eUqOivpeWIhuexuyzmiYDku6XkuI3og73kvb/nlKhhcGnosIPnlKhcclxuICAgICAgICAgICAgICAgICAgICAkLmdldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hZG1pbi9wcm9kdWN0LWNhdGVnb3J5L3JlbW92ZS1jYXRlZ29yeS0yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkxSWQ6IGNvbnRlbnQucGFyZW50cygnLmFtLWFjY29yZGlvbi1pdGVtJykuYXR0cignZGF0YS1pZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkySWQ6IGNvbnRlbnQuYXR0cignZGF0YS1pZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT5jb250ZW50LmRldGFjaCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dCgn5Yig6Zmk5LqM57qn5YiG57G75oiQ5YqfIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydC5tb2RhbCgpLmZpbmQoJy5hbS1tb2RhbC1iZCcpLnRleHQoZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+WIhuexuzLkuIrnp7tcclxuICAgIG1vdmVDYXRlZ29yeTJVcDogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5vbignY2xpY2snLCAnLm1vdmV1cC1jYXRlZ29yeS0yJywgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAkKHRoaXMpLnBhcmVudHMoJ2xpJyk7XHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50SWQgPSBjb250ZW50LmF0dHIoJ2RhdGEtaWQnKTtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGNvbnRlbnQucHJldigpO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0SWQgPSB0YXJnZXQuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBjb250ZW50LmluZGV4KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCR0aGlzLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAkLmdldCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWRtaW4vcHJvZHVjdC1jYXRlZ29yeS9tb3ZlLWNhdGVnb3J5LTItdXAnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJZDogY3VycmVudElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElkOiB0YXJnZXRJZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5kb25lKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuYWZ0ZXIodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy/liIbnsbsy5LiL56e7XHJcbiAgICBtb3ZlQ2F0ZWdvcnkyRG93bjogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5vbignY2xpY2snLCAnLm1vdmVkb3duLWNhdGVnb3J5LTInLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9ICQodGhpcykucGFyZW50cygnbGknKTtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRJZCA9IGNvbnRlbnQuYXR0cignZGF0YS1pZCcpO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gY29udGVudC5uZXh0KCk7XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRJZCA9IHRhcmdldC5hdHRyKCdkYXRhLWlkJyk7XHJcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGNvbnRlbnQuaW5kZXgoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gY29udGVudC5wYXJlbnQoKS5maW5kKCdsaScpLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCR0aGlzLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3RhdGUnLCB0cnVlKTtcclxuICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAkLmdldCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvYWRtaW4vcHJvZHVjdC1jYXRlZ29yeS9tb3ZlLWNhdGVnb3J5LTItZG93bicsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudElkOiBjdXJyZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SWQ6IHRhcmdldElkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmRvbmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5iZWZvcmUodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAkLkFNVUkucHJvZ3Jlc3MuZG9uZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IGxlYW5BcHBIZWFkZXIgPSB3aW5kb3cubGVhbkFwcEhlYWRlcjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG5cclxuICAgIGluZGV4RnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/liKDpmaRwcm9kdWN0TWV0aG9kXHJcbiAgICAgICAgbGV0IHJlbW92ZUxpbmsgPSAkKCcucmVtb3ZlLXByb2R1Y3QtZ3JvdXAnKTtcclxuICAgICAgICBsZXQgbW9kYWwgPSAkKCcjY29uZmlybS1yZW1vdmUtcHJvZHVjdC1ncm91cCcpO1xyXG4gICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG5cclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVtb3ZlTGluay5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RHcm91cElkID0gcGFyc2VJbnQoaXRlbS5kYXRhKCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0LWdyb3VwL3JlbW92ZS8ke3Byb2R1Y3RHcm91cElkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT4gbG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfliKDpmaTkuqflk4Hnu4TlkIjnsbvlnovmiJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKCkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgYWRkRnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICB9LFxyXG4gICAgZWRpdEZ1bjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIHN1Ym1pdENvbnRyb2w6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3VibWl0ID0gJCgnI3N1Ym1pdCcpO1xyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGb3JtVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1Ym1pdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpLmFkZENsYXNzKCdhbS1kaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IGF1dG9jb21wbGV0ZSA9IHJlcXVpcmUoJy4vcHJvZHVjdC9hdXRvY29tcGxldGUtcHJvZHVjdC1uYW1lJyk7XHJcbmxldCB1dGlscyA9IHJlcXVpcmUoJy4uL2NvbW1vbi91dGlscycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46ZnVuY3Rpb24oKSB7XHJcbiAgIFxyXG4gICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKCcjcHJvZHVjdC1pZCcpLnZhbCgpO1xyXG4gICAgICAgIGxldCBwcm9kdWN0TWV0aG9kSWQgPSAkKCcjcHJvZHVjdC1tZXRob2QtaWQnKS52YWwoKTtcclxuICAgICAgICBsZXQgY2F0ZWdvcnkxSWQgPSAkKCcjY2F0ZWdvcnkxLWlkJykudmFsKCk7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5MklkID0gJCgnI2NhdGVnb3J5Mi1pZCcpLnZhbCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBmb3JtR3JvdXBzID0gJCgnI2Zvcm0tZWRpdC1ncm91cHMnKTtcclxuICAgICAgICBsZXQgcHJvZHVjdE5hbWUgPSAkKCcucHJvZHVjdC1uYW1lJyk7XHJcblxyXG4gICAgICAgIC8v6YCa6L+HaWTojrflj5bor6bnu4bkuqflk4HlkI0s6ZqP5ZCO5Yqg6L29YXV0b2NvbXBsZXRlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcm9kdWN0TmFtZS5lYWNoKChpLG4pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKC9cXGQrLy50ZXN0KG4udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlLmdldElkKG4sbi52YWx1ZSxmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlLmdldE5hbWUobik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgZ29ydXBIdG1sID0gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW0tZm9ybS1ncm91cFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwicHJvZHVjdC1uYW1lXCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIui+k+WFpeS6p+WTgeWQjeensCjoh6rliqjloavlhYUpXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiamF2YXNjcmlwdDo7XCI+LSDliKDpmaQ8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuICAgICAgICBcclxuICAgICAgICAkKCcucHJvZHVjdC1ncm91cC1hZGQnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IGdyb3VwID0gJCh0aGlzKS5wYXJlbnRzKCcucHJvZHVjdC1ncm91cCcpO1xyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGdyb3VwLmZpbmQoJy5saXN0LWdyb3VwLWZpZWxkJyk7XHJcbiAgICAgICAgICAgIGxpc3QuYXBwZW5kKGdvcnVwSHRtbCk7XHJcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZS5nZXROYW1lKGdyb3VwLmZpbmQoJy5wcm9kdWN0LW5hbWU6bGFzdCcpKTtcclxuICAgICAgICAgICAgZ3JvdXAuZmluZCgnLnByb2R1Y3QtbmFtZTpsYXN0JylbMF0uZm9jdXMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZm9ybUdyb3Vwcy5vbignY2xpY2snLCcuZGVsIGEnLGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmRldGFjaCgpOyBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvL2FqYXhcclxuICAgICAgICAkKCcjc3VibWl0JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGxldCBqc29uID0gW107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKCcucHJvZHVjdC1ncm91cCcpLmVhY2goKGksbik9PiB7XHJcbiAgICAgICAgICAgICAgICBqc29uLnB1c2goe30pO1xyXG4gICAgICAgICAgICAgICAganNvbltpXS5wcm9kdWN0R3JvdXBJZCA9ICQobikuZGF0YSgnZ3JvdXAtaWQnKTtcclxuICAgICAgICAgICAgICAgIGpzb25baV0ucHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzID0gJChuKS5maW5kKCcucHJvZHVjdC1uYW1lJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhJCh0aGlzKS5hdHRyKCdyZWFkb25seScpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMuZWFjaCgoaixuKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZigvXFx7aWRcXDpcXGQrXFx9Ly50ZXN0KG4udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IC9cXHtpZFxcOihcXGQrKVxcfS8uZXhlYyhuLnZhbHVlKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAganNvbltpXS5wcm9kdWN0cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkdGhpcy5wcm9wKCdkaXNhYmxlZCcsdHJ1ZSk7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0L2dyb3Vwcy8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICBncm91cHM6SlNPTi5zdHJpbmdpZnkoanNvbilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmID0gYC9hZG1pbi9wcm9kdWN0P3Byb2R1Y3QtbWV0aG9kLWlkPSR7cHJvZHVjdE1ldGhvZElkfSZjYXRlZ29yeTEtaWQ9JHtjYXRlZ29yeTFJZH0mY2F0ZWdvcnkyLWlkPSR7Y2F0ZWdvcnkySWR9YDsgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICR0aGlzLnByb3AoJ2Rpc2FibGVkJyxmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICBcclxuICAgIH1cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgLy/liKDpmaRwcm9kdWN0TWV0aG9kXHJcbiAgICAgICAgbGV0IHJlbW92ZUxpbmsgPSAkKCcucmVtb3ZlLXByb2R1Y3QtbWV0aG9kJyk7XHJcbiAgICAgICAgbGV0IG1vZGFsID0gJCgnI2NvbmZpcm0tcmVtb3ZlLXByb2R1Y3QtbWV0aG9kJyk7XHJcbiAgICAgICAgbGV0IGFsZXJ0ID0gJCgnI21vZGFsLWFsZXJ0Jyk7XHJcblxyXG4gICAgICAgIC8vYWxlcnQg5YWz6Zet5ZCO56e76Zmk5pqC5a2Y55qE5a6e5L6L77yM5YaN5qyh6LCD55So5pe26YeN5paw5Yid5aeL5YyWLOWPr+S7peino+WGszLmrKHosIPnlKjlkIzkuIDku6PnoIHnmoTpl67pophcclxuICAgICAgICBhbGVydC5vbignY2xvc2VkLm1vZGFsLmFtdWknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlRGF0YSgnYW11aS5tb2RhbCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZW1vdmVMaW5rLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbW9kYWwubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9ICQodGhpcy5yZWxhdGVkVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdE1ldGhvZElkID0gcGFyc2VJbnQoaXRlbS5kYXRhKCdpZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YSgnc3RhdGUnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEoJ3N0YXRlJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5BTVVJLnByb2dyZXNzLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0LW1ldGhvZC9yZW1vdmUvJHtwcm9kdWN0TWV0aG9kSWR9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT4gbG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfliKDpmaTkuqflk4HnsbvlnovmiJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKCkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgYWRkRnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICB9LFxyXG4gICAgZWRpdEZ1bjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIHN1Ym1pdENvbnRyb2w6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3VibWl0ID0gJCgnI3N1Ym1pdCcpO1xyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGb3JtVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1Ym1pdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpLmFkZENsYXNzKCdhbS1kaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IHV0aWxzID0gcmVxdWlyZSgnLi4vY29tbW9uL3V0aWxzJyk7XHJcblxyXG4vL+S6p+WTgemihOiniCBmdW5jdGlvblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGluaXQoc2V0dGluZ3MpIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgLy8gICB0aGlzLmJ0bkNvcHkoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZURvbSgpO1xyXG4gICAgICAgIHRoaXMud2F0ZXJNYXJrKCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5TaG90KCk7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5TaG90UmVjb21tZW5kKCk7XHJcbiAgICB9LFxyXG4gICAgYnRuQ29weSgpIHtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcHJldmlld0NvbnRlbnQgPSAkKCcucHJldmlldy1jb250ZW50Jyk7XHJcbiAgICAgICAgbGV0IGh0bWwgPSAkLnRyaW0ocHJldmlld0NvbnRlbnQuaHRtbCgpKTtcclxuICAgICAgICBsZXQgYnRuQ29weSA9ICQoJy5idG4tY29weScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKGJ0bkNvcHlbMF0sIHtcclxuICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGJ0bkNvcHkucG9wb3Zlcih7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiAn5aSN5Yi25oiQ5YqfISdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlRG9tKCkge1xyXG4gICAgICBcclxuICAgICAgICAkKCcucHJldmlldy1jb250ZW50JykuZmluZCgnZW0nKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZigkLnRyaW0oJCh0aGlzKS50ZXh0KCkpPT09J2RhdGUnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ2xpJykuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICB3YXRlck1hcmsoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGltYWdlcyA9ICQoJy5wcmV2aWV3LWNvbnRlbnQnKS5maW5kKCdkaXYgaW1nJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaW1hZ2VzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzcmMgPSB0aGlzLnNyYztcclxuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdzcmMtc291cmNlJyxzcmMucmVwbGFjZSgvXFw/LisvLCcnKSk7XHJcbiAgICAgICAgICAgICQodGhpcykuZGF0YSgnc3JjLXRhcmdldCcsc3JjKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAkKCcuZGlzYWJsZS13YXRlcm1hcmsnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsJCh0aGlzKS5kYXRhKCdzcmMtc291cmNlJykpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsJCh0aGlzKS5kYXRhKCdzcmMtdGFyZ2V0JykpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBzY3JlZW5TaG90KCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBwcmV2aWV3Q29udGVudCA9ICQoJy5wcmV2aWV3LWNvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgbGV0IHN0eWxlcyA9IGA8c3R5bGU+XHJcbiAgICAgICAgICAgIGJvZHkgeyBtYXJnaW46MDsgd2lkdGg6NzUwcHg7IGJhY2tncm91bmQ6ICNmZmY7ICBmb250LWZhbWlseTonU2Vnb2UgVUknLCdMdWNpZGEgR3JhbmRlJywnSGVsdmV0aWNhJywnQXJpYWwnLCdNaWNyb3NvZnQgWWFIZWknOyBmb250LXNpemU6IDIwcHg7IGxpbmUtaGVpZ2h0OiAzMHB4OyB9XHJcbiAgICAgICAgICAgIHNlY3Rpb24geyBwYWRkaW5nOiAwOyBtYXJnaW46IDAgMCAyMHB4IDA7IH1cclxuICAgICAgICAgICAgc2VjdGlvbiBpbWcgeyBtYXJnaW46MDt9XHJcbiAgICAgICAgICAgIGRpdiB7IHBhZGRpbmc6IDAgMTVweDsgbWFyZ2luLWJvdHRvbTogMjBweDt9XHJcbiAgICAgICAgICAgIHVsIHttYXJnaW46IDAgMCAxNXB4IDA7cGFkZGluZzogMCAwIDAgMjBweDt9XHJcbiAgICAgICAgICAgIGltZyB7IHdpZHRoOiAxMDAlOyBtYXJnaW4tYm90dG9tOiAyMHB4OyB9XHJcbiAgICAgICAgICAgIHAgeyBtYXJnaW46IDAgMCAxNXB4IDA7IHBhZGRpbmc6IDA7fVxyXG4gICAgICAgIDwvc3R5bGU+YDtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgaHRtbCA9IHByZXZpZXdDb250ZW50Lmh0bWwoKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgYnRuU2hvdCA9ICQoJy5idG4tc2hvdCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZignbG9jYWxob3N0JykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIGJ0blNob3QuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcuYnRuLXNob3QtcmVjb21tZW5kJykuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBidG5TaG90LmJ1dHRvbignbG9hZGluZycpO1xyXG4gICAgICAgIGxldCBwcm9ncmVzcyA9ICQuQU1VSS5wcm9ncmVzcztcclxuXHJcbiAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgYnRuU2hvdC5idXR0b24oJ3Jlc2V0Jyk7XHJcbiAgICAgICAgICAgIGJ0blNob3QuY2xpY2soZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3Muc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIGJ0blNob3QuYnV0dG9uKCdsb2FkaW5nJykudGV4dCgn5Zu+54mH55Sf5oiQ5LitLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDonL2FkbWluL3Byb2R1Y3QvcHJldmlldy9zaG90JyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDpzdHlsZXMgKyBodG1sLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50SGVpZ2h0OjQ4MCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEhlaWdodDpwcmV2aWV3Q29udGVudC5oZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTon5Lqn5ZOBLScgKyAkKCdoNCcpLnRleHQoKS5yZXBsYWNlKC9cXC8vZywnJylcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6ZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI21vZGFsLXNob3Qtc3VjY2VzcycpLm1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0blNob3QuYnV0dG9uKCdyZXNldCcpLnRleHQoJ+eUn+aIkOa3mOWuneivpuaDheWbvueJhycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICByZWNvbW1lbmRQcm9kdWN0cyhncm91cHMsZ3JvdXBzTmFtZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBwcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgIGZvcihsZXQgaT0wO2k8IGdyb3Vwcy5sZW5ndGg7aSsrKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqPCBncm91cHNbaV0ucHJvZHVjdHMubGVuZ3RoO2orKykge1xyXG4gICAgICAgICAgICAgICAgcHJvZHVjdHMucHVzaChncm91cHNbaV0ucHJvZHVjdHNbal0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOidnZXQnLFxyXG4gICAgICAgICAgICB1cmw6YC9wcm9kdWN0L3JlY29tbWVuZC9jdXN0b20vJHtwcm9kdWN0cy5qb2luKCl9YFxyXG4gICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XHJcblxyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPCBncm91cHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8Z3JvdXBzTmFtZS5sZW5ndGg7aisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZ3JvdXBzW2ldLnByb2R1Y3RHcm91cElkID09PSBncm91cHNOYW1lW2pdLnByb2R1Y3RHcm91cElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3Vwc1tpXS5uYW1lID0gZ3JvdXBzTmFtZVtqXS5wcm9kdWN0R3JvdXBOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZ3JvdXBzW2ldLmh0bWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wOyBqIDwgZ3JvdXBzW2ldLnByb2R1Y3RzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBrID0gMDtrIDwgZGF0YS5pdGVtcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihkYXRhLml0ZW1zW2tdLnByb2R1Y3RJZCA9PT0gcGFyc2VJbnQoZ3JvdXBzW2ldLnByb2R1Y3RzW2pdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBzW2ldLmh0bWwucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOmRhdGEuaXRlbXNba10ucHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ZGF0YS5pdGVtc1trXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOnV0aWxzLnByb2R1Y3RNYWluSW1hZ2VPdXRwdXQoZGF0YS5pdGVtc1trXS5tYWluSW1hZ2UpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOmRhdGEuaXRlbXNba10ucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3Q6ZGF0YS5pdGVtc1trXS5pc0hvdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG9wTGluazpkYXRhLml0ZW1zW2tdLnNob3BMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZ3JvdXBzID0gZ3JvdXBzLmZpbHRlcihuID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuLmh0bWwubGVuZ3RoO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjb21tZW5kSHRtbChncm91cHMpO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICByZWNvbW1lbmRIdG1sKGRhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IGNvbnQgPSAkKCcucmVjb21tZW5kLWNvbnRlbnQnKTtcclxuICAgICAgICBsZXQgaHRtbCA9ICcnO1xyXG5cclxuICAgICAgICAkLmVhY2goZGF0YSwoaSxuKT0+IHtcclxuXHJcbiAgICAgICAgICAgIGh0bWwgKz0gYDxoMyBjbGFzcz1cIml0ZW1cIj4ke24ubmFtZX06PC9oMz48ZGl2PmA7XHJcblxyXG4gICAgICAgICAgICAkLmVhY2gobi5odG1sLChpMSxuMSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbmsgPSBuMS5zaG9wTGlua1swXSA/IGA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtuMS5zaG9wTGlua1swXX1cIj5gIDogJyc7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9IGBcclxuICAgICAgICAgICAgICAgICAgICA8ZGwgY2xhc3M9XCJpdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7bGlua31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGR0PjxpbWcgc3JjPVwiJHtuMS5pbWFnZX0/aW1hZ2VNb2dyMi90aHVtYm5haWwvOTBcIj48L2R0PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+JHtuMS5uYW1lfTwvZGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7bGluayA/ICc8L2E+JyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGw+XHJcbiAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaHRtbCArPSBgPC9kaXY+YDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjb250LmFwcGVuZChodG1sKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgaW1nTG9hZCA9IDA7XHJcbiAgICAgICAgY29udC5maW5kKCdpbWcnKS5lYWNoKGZ1bmN0aW9uKGksbikge1xyXG4gICAgICAgICAgICBsZXQgbGVuZ3RoID0gY29udC5maW5kKCdpbWcnKS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpbWdMb2FkICsrO1xyXG4gICAgICAgICAgICAgICAgaWYoaW1nTG9hZCA9PT0gbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmJ0bi1zaG90LXJlY29tbWVuZCcpLmJ1dHRvbigncmVzZXQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBzY3JlZW5TaG90UmVjb21tZW5kKCkge1xyXG5cclxuICAgICAgICBsZXQgYnRuU2hvdFJlY29tbWVuZCA9ICQoJy5idG4tc2hvdC1yZWNvbW1lbmQnKTtcclxuICAgICAgICBpZighYnRuU2hvdFJlY29tbWVuZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBsZXQgc3R5bGVzID0gYDxzdHlsZT5cclxuICAgICAgICAgICAgYm9keSB7IG1hcmdpbjowOyB3aWR0aDo3NTBweDsgYmFja2dyb3VuZDogI2ZmZjsgIGZvbnQtZmFtaWx5OidTZWdvZSBVSScsJ0x1Y2lkYSBHcmFuZGUnLCdIZWx2ZXRpY2EnLCdBcmlhbCcsJ01pY3Jvc29mdCBZYUhlaSc7IH0gIFxyXG4gICAgICAgICAgICBoMyB7IGhlaWdodDoxMDBweDsgbGluZS1oZWlnaHQ6IDEwMHB4OyBtYXJnaW46MDsgZm9udC1zaXplOjI0cHg7IHBhZGRpbmctbGVmdDoxNXB4OyB9XHJcbiAgICAgICAgICAgIGRsIHsgbWFyZ2luOjA7IH1cclxuICAgICAgICAgICAgZGw6YmVmb3JlIHsgY29udGVudDogJyAnO2Rpc3BsYXk6IHRhYmxlO31cclxuICAgICAgICAgICAgZGw6YWZ0ZXIgeyBjb250ZW50OiAnICc7ZGlzcGxheTogdGFibGU7IGNsZWFyOiBib3RoOyB9XHJcbiAgICAgICAgICAgIGR0IHsgbWFyZ2luOjA7IGZsb2F0OmxlZnQ7IHRleHQtYWxpZ246IGNlbnRlcjsgd2lkdGg6IDEyMHB4OyBoZWlnaHQ6IDEwMHB4O31cclxuICAgICAgICAgICAgZGQgeyBjb2xvcjojNjY2OyBmbG9hdDpsZWZ0OyBtYXJnaW46MDsgZm9udC1zaXplOjIwcHg7IHdpZHRoOiA2MzBweDsgaGVpZ2h0OiAxMDBweDsgbGluZS1oZWlnaHQ6IDEwMHB4OyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgfVxyXG4gICAgICAgICAgICBkbCBpbWcgeyBtYXJnaW4tdG9wOjVweDsgd2lkdGg6IDkwcHg7IGhlaWdodDogOTBweDsgYm9yZGVyLXJhZGl1czogNXB4OyB9XHJcbiAgICAgICAgICAgIGEgZGQgeyBjb2xvcjojMzMzOyAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7fVxyXG4gICAgICAgIDwvc3R5bGU+YDtcclxuXHJcbiAgICAgICAgbGV0IHJlY29tbWVuZENvbnRlbnQgPSAkKCcucmVjb21tZW5kLWNvbnRlbnQnKTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgYnRuU2hvdFJlY29tbWVuZC5idXR0b24oJ2xvYWRpbmcnKTtcclxuICAgICAgICBsZXQgcHJvZ3Jlc3MgPSAkLkFNVUkucHJvZ3Jlc3M7XHJcblxyXG4gICAgICAgIGJ0blNob3RSZWNvbW1lbmQuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwcm9ncmVzcy5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgbGV0IGh0bWwgPSByZWNvbW1lbmRDb250ZW50Lmh0bWwoKTtcclxuICAgICAgICAgICAgLy8ucmVwbGFjZSgvPGgzPltcXHNcXFNdKj88XFwvaDM+L2dpLCcnKTtcclxuXHJcbiAgICAgICAgICAgIGJ0blNob3RSZWNvbW1lbmQuYnV0dG9uKCdsb2FkaW5nJykudGV4dCgn5Zu+54mH55Sf5oiQ5LitLi4uJyk7XHJcbiAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9wcm9kdWN0L3ByZXZpZXcvc2hvdCcsXHJcbiAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6c3R5bGVzICsgaHRtbCxcclxuICAgICAgICAgICAgICAgICAgICBodG1sSGVpZ2h0OihyZWNvbW1lbmRDb250ZW50LmZpbmQoJ2RsJykubGVuZ3RoICsgcmVjb21tZW5kQ29udGVudC5maW5kKCdoMycpLmxlbmd0aCkgKiAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VnbWVudEhlaWdodDoxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTon5o6o6I2QLScgKyAkKCdoNCcpLnRleHQoKS5yZXBsYWNlKC9cXC8vZywnJylcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmRvbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjbW9kYWwtc2hvdC1zdWNjZXNzJykubW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBidG5TaG90UmVjb21tZW5kLmJ1dHRvbigncmVzZXQnKS50ZXh0KCfnlJ/miJDmjqjojZDkuqflk4Hlm77niYcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy/nlJ/miJDovazmjaLlm77niYflkI7nmoTmjqjojZDku6PnoIFcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCByZWNvbW1lbmRDb2RlID0gJCgnLnJlY29tbWVuZC1jb2RlJyk7XHJcbiAgICAgICAgICAgIGxldCBidG5SZWNvbW1lbmRDb2RlQ29weSA9ICQoJy5idG4tcmVjb21tZW5kLWNvZGUtY29weScpO1xyXG4gICAgICAgICAgICBsZXQgcmVjb21tZW5kQ29kZUhpZGRlbiA9ICQoJy5yZWNvbW1lbmQtY29kZS1oaWRkZW4nKTtcclxuICAgICAgICAgICAgbGV0IG5ld0h0bWwgPSAnJztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQoJy5idG4tcmVjb21tZW5kLWNvZGUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBuZXdIdG1sID0gJyc7XHJcbiAgICAgICAgICAgICAgICByZWNvbW1lbmRDb2RlSGlkZGVuLmh0bWwocmVjb21tZW5kQ29kZS52YWwoKSk7IC8v5bCGdGV4dGFyZWHlgLzovazmjaLkuLpodG1sLOeEtuWQjuWvueW6lOabv+aNomhyZWZcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy/mo4DmtYvovpPlhaXmt5jlrp3lm77niYdcclxuICAgICAgICAgICAgICAgIGlmKHJlY29tbWVuZENvZGVIaWRkZW4uZmluZCgnaW1nJykubGVuZ3RoICE9PSByZWNvbW1lbmRDb250ZW50LmZpbmQoJy5pdGVtJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+WbvueJh+aVsOmHj+S4jeS4gOiHtCzor7fph43mlrDovpPlhaUhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPCByZWNvbW1lbmRDb2RlSGlkZGVuLmZpbmQoJ2ltZycpLmxlbmd0aDtpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihyZWNvbW1lbmRDb2RlSGlkZGVuLmZpbmQoJ2ltZycpLmVxKGkpLmF0dHIoJ3NyYycpLmluZGV4T2YoJ2FsaWNkbicpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn5Zu+54mH5Zyw5Z2A5pyJ6K+vLOivt+mHjeaWsOi+k+WFpSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhbS1idG4tcHJpbWFyeScpLmFkZENsYXNzKCdhbS1idG4tc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgYnRuUmVjb21tZW5kQ29kZUNvcHkucmVtb3ZlQ2xhc3MoJ2FtLWJ0bi1zdWNjZXNzJykuYWRkQ2xhc3MoJ2FtLWJ0bi1wcmltYXJ5Jyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIG5ld0h0bWwgPSAnPGRpdj48aW1nIHNyYz1cImh0dHBzOi8vaW1nLmFsaWNkbi5jb20vaW1nZXh0cmEvaTQvNDI4NzkyMDYvVEIyRHc0N3A5QmpwdUZqU3NwbFhYYTVNVlhhXyEhNDI4NzkyMDYucG5nXCI+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kQ29udGVudC5maW5kKCcuaXRlbScpLmVhY2goZnVuY3Rpb24oaSxuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IGA8aW1nIHNyYz1cIiR7cmVjb21tZW5kQ29kZUhpZGRlbi5maW5kKCdpbWcnKS5lcShpKS5hdHRyKCdzcmMnKX1cIi8+YDtcclxuICAgICAgICAgICAgICAgICAgICBpZigkKG4pLmZpbmQoJ2EnKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SHRtbCArPSBgPGEgaHJlZj1cIiR7JChuKS5maW5kKCdhJykuYXR0cignaHJlZicpfVwiPiR7aW1nfTwvYT5gO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0h0bWwgKz0gaW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kQ29kZUhpZGRlbi5odG1sKG5ld0h0bWwpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoYnRuUmVjb21tZW5kQ29kZUNvcHlbMF0sIHtcclxuICAgICAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXdIdG1sO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBidG5SZWNvbW1lbmRDb2RlQ29weS5yZW1vdmVDbGFzcygnYW0tYnRuLXByaW1hcnknKS5hZGRDbGFzcygnYW0tYnRuLXN1Y2Nlc3MnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IGxlYW5BcHBIZWFkZXIgPSB3aW5kb3cubGVhbkFwcEhlYWRlcjtcclxubGV0IEJsb29kaG91bmQgPSByZXF1aXJlKCdibG9vZGhvdW5kJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGluaXQoKSB7XHJcblxyXG4gICAgICAgIC8v5aaC5p6c5pivaWZyYW1lIG1vZGFsLOWImeaJp+ihjHBhcmVudCB3aW5kb3flhbPpl61cclxuICAgICAgICAvL+WmguaenOi/lOWbnueahHByb2R1Y3QtcHJvZXJ0eeeahExvY2F0aW9u5pyJdmlld3BvcnQ9d2luZG935LiU5rKh5pyJ57G75Ly8I3NldHRpbmdzLOWImeivtOaYjuaYr+i/lOWbnuWFs+mXrWlmcmFtZVxyXG4gICAgICAgIGlmKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd2aWV3cG9ydD13aW5kb3cnKSA+IC0xICYmICFsb2NhdGlvbi5oYXNoICYmIHdpbmRvdy5wYXJlbnQuY2xvc2VWaWV3cG9ydE1vZGFsKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQuY2xvc2VWaWV3cG9ydE1vZGFsKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZXRDb250ZW50RGlzcGxheSgpOyAvL+iuvue9ruWMuuWdl+aJk+W8gOaXtuaYvuekulxyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5Y2V54us5Yy65Z+f6K6+572uXHJcbiAgICAgICAgdGhpcy5zZXRQdXJjaGFzZUxpbmtDb250ZW50KCk7XHJcbiAgICAgICAgdGhpcy5zZXRTaG9wTGlua0NvbnRlbnQoKTtcclxuICAgICAgICB0aGlzLnNldFN0b2NrQ29udGVudCgpO1xyXG4gICAgICAgIHRoaXMuc2V0U2V0dGluZ3NDb250ZW50KCk7XHJcbiAgICAgICAgdGhpcy5zZXRDb250ZW50TWFuYWdlKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbWFnZVNvdXJjZUxpbmsoKTtcclxuXHJcbiAgICAgICAgJCgnLnNhdmUtbm9yZWZyZXNoJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnQuZ1JlbG9hZFBhZ2VWYXI9ZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBzZXRDb250ZW50RGlzcGxheSgpIHtcclxuICAgICAgICBpZihsb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJChgIyR7bG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSl9YCk7XHJcbiAgICAgICAgICAgIGlmKGNvbnRlbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LmFkZENsYXNzKCdhbS1hY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQuZmluZCgnLmFtLWNvbGxhcHNlJykuYWRkQ2xhc3MoJ2FtLWluJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICAvL+e8lui+keS6p+WTgemTvuaOpVxyXG4gICAgc2V0UHVyY2hhc2VMaW5rQ29udGVudCgpIHtcclxuICAgICAgICBpZihsb2NhdGlvbi5oYXNoID09PSAnI3B1cmNoYXNlLWxpbmsnKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiAkKCdpbnB1dFtuYW1lPXB1cmNoYXNlLWxpbmtdJykuZ2V0KDApLmZvY3VzKCksMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFxyXG4gICAgLy/nvJbovpHmt5jlrp3lupfpk7rpk77mjqVcclxuICAgIHNldFNob3BMaW5rQ29udGVudCgpIHtcclxuICAgICAgICBpZihsb2NhdGlvbi5oYXNoID09PSAnI3Nob3AtbGluaycpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ICQoJ2lucHV0W25hbWU9c2hvcC1saW5rXScpLmdldCgwKS5mb2N1cygpLDApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcclxuICAgIC8v5bqT5a2YXHJcbiAgICBzZXRTdG9ja0NvbnRlbnQoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQgPSAkKCcjc3RvY2snKTtcclxuICAgICAgICBsZXQgc3RvY2sgPSBjb250ZW50LmZpbmQoJ3NlbGVjdFtuYW1lPXN0b2NrXScpO1xyXG4gICAgICAgIGxldCBzYWxlcyA9IGNvbnRlbnQuZmluZCgnW25hbWU9c2FsZXNdJyk7XHJcbiAgICAgICAgbGV0IHN0b2NrTWludXMgPSBjb250ZW50LmZpbmQoJy5zdG9jay1taW51cycpO1xyXG4gICAgICAgIGxldCBzdG9ja1BsdXMgPSBjb250ZW50LmZpbmQoJy5zdG9jay1wbHVzJyk7XHJcbiAgICAgICAgbGV0IHJlc2V0ID0gJCgnLnN0b2NrLXJlc2V0Jyk7XHJcbiAgICAgICAgbGV0IHNvbGQgPSAkKCcjc29sZCcpO1xyXG4gICAgICAgIGxldCByZXNlcnZlID0gJCgnI3Jlc2VydmUnKTtcclxuICAgICAgICBsZXQgc29sZFBsdXMgPSBjb250ZW50LmZpbmQoJy5zb2xkLXBsdXMnKTtcclxuICAgICAgICBsZXQgc29sZE1pbnVzID0gY29udGVudC5maW5kKCcuc29sZC1taW51cycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN0b2NrTWludXMuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzdG9ja1ZhbHVlID0gcGFyc2VJbnQoc3RvY2sudmFsKCkpO1xyXG4gICAgICAgICAgICBsZXQgc2FsZXNWYWx1ZSA9IHBhcnNlSW50KHNhbGVzLnZhbCgpKTtcclxuICAgICAgICAgICAgaWYoc3RvY2tWYWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHN0b2NrLmZpbmQoYG9wdGlvblt2YWx1ZT0ke3N0b2NrVmFsdWUgLSAxfV1gKVswXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzYWxlcy52YWwoc2FsZXNWYWx1ZSArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0b2NrLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdG9ja1BsdXMuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBzdG9ja1ZhbHVlID0gcGFyc2VJbnQoc3RvY2sudmFsKCkpO1xyXG4gICAgICAgICAgICBzdG9jay5maW5kKGBvcHRpb25bdmFsdWU9JHtzdG9ja1ZhbHVlICsgMX1dYClbMF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzdG9jay50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICByZXNldC5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgc3RvY2suZmluZChgb3B0aW9uW3ZhbHVlPSR7c3RvY2suZGF0YSgnc3RvY2snKX1dYClbMF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzYWxlcy52YWwoc2FsZXMuZGF0YSgnc2FsZXMnKSk7XHJcbiAgICAgICAgICAgIHJlc2VydmUudmFsKHJlc2VydmUuZGF0YSgncmVzZXJ2ZScpKTtcclxuICAgICAgICAgICAgc29sZC52YWwoc29sZC5kYXRhKCdzb2xkJykpO1xyXG4gICAgICAgICAgICBzdG9jay50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY2tiV2FybmluZ1N0b2NrT3V0ID0gJCgnLmNrYi13YXJuaW5nLXN0b2NrLW91dCcpO1xyXG4gICAgICAgIGxldCBja2JXYXJuaW5nU3RvY2tJbiA9ICQoJy5ja2Itd2FybmluZy1zdG9jay1pbicpO1xyXG4gICAgICAgIGxldCBub3dTdG9jayA9IHBhcnNlSW50KHN0b2NrLnZhbCgpKTtcclxuXHJcbiAgICAgICAgY2tiV2FybmluZ1N0b2NrT3V0LmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBja2JXYXJuaW5nU3RvY2tJbi5wcm9wKCdjaGVja2VkJyxmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNrYldhcm5pbmdTdG9ja0luLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBja2JXYXJuaW5nU3RvY2tPdXQucHJvcCgnY2hlY2tlZCcsZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8v5bqT5a2Y5o+Q6YaSIG4tMCDnvLrotKforr7nva4gY2hlY2tib3hcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmKG5vd1N0b2NrID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3RvY2suY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50KHN0b2NrLnZhbCgpKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBja2JXYXJuaW5nU3RvY2tPdXQucHJvcCgnY2hlY2tlZCcsdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2tiV2FybmluZ1N0b2NrT3V0LnByb3AoJ2NoZWNrZWQnLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvL+W6k+WtmOaPkOmGkiAwLW4g5paw5Yiw6LSn6K6+572uIGNoZWNrYm94XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZihub3dTdG9jayA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc3RvY2suY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhcnNlSW50KHN0b2NrLnZhbCgpKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29sZC52YWwoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNrYldhcm5pbmdTdG9ja0luLnByb3AoJ2NoZWNrZWQnLHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNrYldhcm5pbmdTdG9ja0luLnByb3AoJ2NoZWNrZWQnLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/mma7pgJrnirbmgIFzdG9jayBjaGFuZ2XvvIzor6XooajlnKjpgJRpbnB1dOWAvFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRTdG9jayA9IHN0b2NrLmRhdGEoJ3N0b2NrJyk7XHJcbiAgICAgICAgICAgIHN0b2NrLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBpZihwYXJzZUludChyZXNlcnZlLnZhbCgpKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RvY2tDaGFuZ2VkID0gdGhpcy52YWx1ZSAtIGN1cnJlbnRTdG9jaztcclxuICAgICAgICAgICAgICAgICAgICByZXNlcnZlLnZhbChwYXJzZUludChyZXNlcnZlLnZhbCgpKSAtIHN0b2NrQ2hhbmdlZCApO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdG9jayA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9zb2xk5Yqg5YePXHJcbiAgICAgICAgc29sZFBsdXMuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzb2xkLnZhbChwYXJzZUludChzb2xkLnZhbCgpKSArIDEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzb2xkTWludXMuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZihwYXJzZUludChzb2xkLnZhbCgpKSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNvbGQudmFsKHBhcnNlSW50KHNvbGQudmFsKCkpIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLnJlc2VydmUtcGx1cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmVzZXJ2ZS52YWwocGFyc2VJbnQocmVzZXJ2ZS52YWwoKSkgKyBwYXJzZUludCggJCh0aGlzKS5kYXRhKCdwbHVzJykpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH0sXHJcblxyXG4gICAgLy/orr7nva5cclxuICAgIHNldFNldHRpbmdzQ29udGVudCgpIHtcclxuICAgICAgICBpZihsb2NhdGlvbi5oYXNoID09PSAnI3NldHRpbmdzJykge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4gJCgnaW5wdXRbbmFtZT1wcmljZV0nKS5nZXQoMCkuZm9jdXMoKSwwKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICAvL+WGheWuueeuoeeQhlxyXG4gICAgc2V0Q29udGVudE1hbmFnZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICAvL+WTgeeJjOWQjeensOafpeivolxyXG4gICAgICAgIHZhciBicmFuZElucHV0ID0gJCgnI2JyYW5kLWlkJyk7XHJcbiAgICAgICAgbGV0IGJyYW5kSGlkZGVuSW5wdXQgPSAkKCdbbmFtZT1icmFuZC1pZF0nKTtcclxuICAgICAgICBicmFuZElucHV0LnR5cGVhaGVhZChudWxsLCB7XHJcbiAgICAgICAgICAgIGxpbWl0OjEwLFxyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbXBsYXRlczoge1xyXG4gICAgICAgICAgICAgICAgc3VnZ2VzdGlvbjogZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXY+JHtpdGVtLnZhbHVlfTwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhpZ2hsaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgc291cmNlOiBuZXcgQmxvb2Rob3VuZCh7XHJcbiAgICAgICAgICAgICAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKCd2YWx1ZScpLFxyXG4gICAgICAgICAgICAgICAgcXVlcnlUb2tlbml6ZXI6IEJsb29kaG91bmQudG9rZW5pemVycy53aGl0ZXNwYWNlLFxyXG4gICAgICAgICAgICAgICAgcmVtb3RlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2FkbWluL3Byb2R1Y3QtYnJhbmQvYWpheC9zZWFyY2gnLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmU6IGZ1bmN0aW9uIChxdWVyeSwgc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGJyYW5kSW5wdXQudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuIFxyXG4gICAgICAgIGJyYW5kSW5wdXQub24oe1xyXG4gICAgICAgICAgICAndHlwZWFoZWFkOnNlbGVjdCc6ZnVuY3Rpb24oZXZlbnQsaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gL1xce2lkXFw6KFxcZCspXFx9Ly5leGVjKGl0ZW0udmFsdWUpWzFdO1xyXG4gICAgICAgICAgICAgICAgYnJhbmRIaWRkZW5JbnB1dC52YWwodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG5cclxuICAgIHNldEltYWdlU291cmNlTGluaygpIHtcclxuICAgICAgICBsZXQgaW1hZ2VTb3VyY2VEb3dubG9hZCA9ICQoJy5pbWFnZS1zb3VyY2UtZG93bmxvYWQnKTtcclxuICAgICAgICBsZXQgbGlua3MgPSAkKCd0ZXh0YXJlYVtuYW1lPWltYWdlLXNvdXJjZV0nKS52YWwoKS5zcGxpdCgnXFxuJyk7XHJcbiAgICAgICAgbGV0IGlkPSAkKCcjcHJvZHVjdC1pZCcpLnZhbCgpO1xyXG4gICAgICAgIGlmKGxpbmtzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkLmVhY2gobGlua3MsZnVuY3Rpb24oaSxuKSB7XHJcbiAgICAgICAgICAgICAgICBpbWFnZVNvdXJjZURvd25sb2FkLmFwcGVuZChgPGEgaHJlZj1cIiR7bn1cIiBkb3dubG9hZD1cIuS4i+i9vS4ke2lkfS4ke2krMX1cIj7kuIvovb0ke2krMX08L2E+IGApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5sZXQgbGVhbkFwcEhlYWRlciA9IHdpbmRvdy5sZWFuQXBwSGVhZGVyO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblxyXG4gICAgaW5kZXhGdW46IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL+WIoOmZpHByb2R1Y3RNZXRob2RcclxuICAgICAgICBsZXQgcmVtb3ZlTGluayA9ICQoJy5yZW1vdmUtcHJvZHVjdC10YWcnKTtcclxuICAgICAgICBsZXQgbW9kYWwgPSAkKCcjY29uZmlybS1yZW1vdmUtcHJvZHVjdC10YWcnKTtcclxuICAgICAgICBsZXQgYWxlcnQgPSAkKCcjbW9kYWwtYWxlcnQnKTtcclxuICAgICAgICBcclxuICAgICAgICAvL2FsZXJ0IOWFs+mXreWQjuenu+mZpOaaguWtmOeahOWunuS+i++8jOWGjeasoeiwg+eUqOaXtumHjeaWsOWIneWni+WMlizlj6/ku6Xop6PlhrMy5qyh6LCD55So5ZCM5LiA5Luj56CB55qE6Zeu6aKYXHJcbiAgICAgICAgYWxlcnQub24oJ2Nsb3NlZC5tb2RhbC5hbXVpJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2FtdWkubW9kYWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVtb3ZlTGluay5jbGljayhmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RUYWdJZCA9IHBhcnNlSW50KGl0ZW0uZGF0YSgnaWQnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmRhdGEoJ3N0YXRlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOmAvYWRtaW4vcHJvZHVjdC10YWcvcmVtb3ZlLyR7cHJvZHVjdFRhZ0lkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXRhKCdzdGF0ZScsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQU1VSS5wcm9ncmVzcy5kb25lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnY2xvc2UnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06ICgpPT4gbG9jYXRpb24ucmVsb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfliKDpmaTmoIfnrb7miJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm1vZGFsKCkuZmluZCgnLmFtLW1vZGFsLWJkJykudGV4dChkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG4gICAgYWRkRnVuOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICB9LFxyXG4gICAgZWRpdEZ1bjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIHN1Ym1pdENvbnRyb2w6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgc3VibWl0ID0gJCgnI3N1Ym1pdCcpO1xyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNGb3JtVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1Ym1pdC5hdHRyKCdkaXNhYmxlZCcsIHRydWUpLmFkZENsYXNzKCdhbS1kaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxubGV0IGxlYW5BcHBIZWFkZXIgPSB3aW5kb3cubGVhbkFwcEhlYWRlcjtcclxubGV0IHV0aWxzID0gcmVxdWlyZSgnLi4vY29tbW9uL3V0aWxzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHJcbiAgICBpbmRleEZ1bjpmdW5jdGlvbigpIHtcclxuICAgICAgICAvL+mAieaLqeS6p+WTgeWIhuexu1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3J5MSA9ICQoJy5zZWxlY3QtY2F0ZWdvcnktMScpO1xyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnkyID0gJCgnLnNlbGVjdC1jYXRlZ29yeS0yJyk7XHJcbiAgICAgICAgICAgIGxldCBvcmRlciA9ICQoJy5zZWxlY3Qtb3JkZXInKTtcclxuICAgICAgICAgICAgbGV0IHByb2R1Y3RNZXRob2QgPSAkKCcuc2VsZWN0LXByb2R1Y3QtbWV0aG9kJyk7XHJcbiAgICAgICAgICAgIGxldCBvbnNhbGUgPSAkKCdpbnB1dFtuYW1lPW9uc2FsZV0nKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXRlZ29yeTFWYWwgPSBjYXRlZ29yeTEudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCBjYXRlZ29yeTJWYWwgPSBjYXRlZ29yeTIudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0TWV0aG9kVmFsID0gcHJvZHVjdE1ldGhvZC52YWwoKTtcclxuICAgICAgICAgICAgbGV0IG9uc2FsZVZhbCA9IG9uc2FsZS52YWwoKTtcclxuICAgICAgICAgICAgbGV0IGlzU2hvcnRTdG9jayA9ICQoJ2lucHV0W25hbWU9aXMtc2hvcnQtc3RvY2tdJykudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCB1cGRhdGVTdG9ja0RhdGUgPSAkKCdpbnB1dFtuYW1lPXVwZGF0ZS1zdG9jay1kYXRlXScpLnZhbCgpO1xyXG4gICAgICAgICAgICBsZXQgaXNVcGRhdGVTdG9jayA9ICQoJ2lucHV0W25hbWU9aXMtdXBkYXRlLXN0b2NrXScpLnZhbCgpO1xyXG4gICAgICAgICAgICBsZXQgaG90ID0gJCgnaW5wdXRbbmFtZT1ob3RdJykudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCBzdG9jayA9ICQoJ2lucHV0W25hbWU9c3RvY2tdJykudmFsKCk7XHJcbiAgICAgICAgICAgIGxldCBzZWFyY2ggPSAkKCdpbnB1dFtuYW1lPXNlYXJjaF0nKS52YWwoKTtcclxuICAgICAgICAgICAgbGV0IGlzVHJhbnNsYXRpb24gPSAkKCdpbnB1dFtuYW1lPWlzLXRyYW5zbGF0aW9uXScpLnZhbCgpO1xyXG4gICAgICAgICAgICBwcm9kdWN0TWV0aG9kLmNoYW5nZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmID0gdXRpbHMudXJsUGFyYW1zQ29tcG9uZW50KCcvYWRtaW4vcHJvZHVjdCcse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjdC1tZXRob2QtaWQnOnRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvbnNhbGUnOm9uc2FsZVZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzLXNob3J0LXN0b2NrJzppc1Nob3J0U3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cGRhdGUtc3RvY2stZGF0ZSc6dXBkYXRlU3RvY2tEYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMtdXBkYXRlLXN0b2NrJzppc1VwZGF0ZVN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1dGlscy51cmxQYXJhbXNDb21wb25lbnQoJy9hZG1pbi9wcm9kdWN0Jyx7XHJcbiAgICAgICAgICAgICAgICAgICAgJ29uc2FsZSc6b25zYWxlVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICdpcy1zaG9ydC1zdG9jayc6aXNTaG9ydFN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGUtc3RvY2stZGF0ZSc6dXBkYXRlU3RvY2tEYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICdpcy11cGRhdGUtc3RvY2snOmlzVXBkYXRlU3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgaG90LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaCxcclxuICAgICAgICAgICAgICAgICAgICBpc1RyYW5zbGF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjYXRlZ29yeTEuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmID0gdXRpbHMudXJsUGFyYW1zQ29tcG9uZW50KCcvYWRtaW4vcHJvZHVjdCcse1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjdC1tZXRob2QtaWQnOnByb2R1Y3RNZXRob2RWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTEtaWQnOnRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvbnNhbGUnOm9uc2FsZVZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzLXNob3J0LXN0b2NrJzppc1Nob3J0U3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cGRhdGUtc3RvY2stZGF0ZSc6dXBkYXRlU3RvY2tEYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMtdXBkYXRlLXN0b2NrJzppc1VwZGF0ZVN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1dGlscy51cmxQYXJhbXNDb21wb25lbnQoJy9hZG1pbi9wcm9kdWN0Jyx7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3QtbWV0aG9kLWlkJzpwcm9kdWN0TWV0aG9kVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICdvbnNhbGUnOm9uc2FsZVZhbCxcclxuICAgICAgICAgICAgICAgICAgICAnaXMtc2hvcnQtc3RvY2snOmlzU2hvcnRTdG9jayxcclxuICAgICAgICAgICAgICAgICAgICAndXBkYXRlLXN0b2NrLWRhdGUnOnVwZGF0ZVN0b2NrRGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAnaXMtdXBkYXRlLXN0b2NrJzppc1VwZGF0ZVN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdCxcclxuICAgICAgICAgICAgICAgICAgICBzdG9jayxcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcmFuc2xhdGlvblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY2F0ZWdvcnkyLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb24uaHJlZiA9IHV0aWxzLnVybFBhcmFtc0NvbXBvbmVudCgnL2FkbWluL3Byb2R1Y3QnLHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3QtbWV0aG9kLWlkJzpwcm9kdWN0TWV0aG9kVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2F0ZWdvcnkxLWlkJzpjYXRlZ29yeTFWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTItaWQnOnRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvbnNhbGUnOm9uc2FsZVZhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzLXNob3J0LXN0b2NrJzppc1Nob3J0U3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cGRhdGUtc3RvY2stZGF0ZSc6dXBkYXRlU3RvY2tEYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMtdXBkYXRlLXN0b2NrJzppc1VwZGF0ZVN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1dGlscy51cmxQYXJhbXNDb21wb25lbnQoJy9hZG1pbi9wcm9kdWN0Jyx7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3QtbWV0aG9kLWlkJzpwcm9kdWN0TWV0aG9kVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTEtaWQnOmNhdGVnb3J5MVZhbCxcclxuICAgICAgICAgICAgICAgICAgICAnb25zYWxlJzpvbnNhbGVWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lzLXNob3J0LXN0b2NrJzppc1Nob3J0U3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZS1zdG9jay1kYXRlJzp1cGRhdGVTdG9ja0RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lzLXVwZGF0ZS1zdG9jayc6aXNVcGRhdGVTdG9jayxcclxuICAgICAgICAgICAgICAgICAgICBob3QsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRpb25cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICBvbnNhbGUuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHV0aWxzLnVybFBhcmFtc0NvbXBvbmVudCgnL2FkbWluL3Byb2R1Y3QnLHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvZHVjdC1tZXRob2QtaWQnOnByb2R1Y3RNZXRob2RWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NhdGVnb3J5MS1pZCc6Y2F0ZWdvcnkxVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTItaWQnOmNhdGVnb3J5MlZhbCxcclxuICAgICAgICAgICAgICAgICAgICAnb25zYWxlJzp0aGlzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICdpcy1zaG9ydC1zdG9jayc6aXNTaG9ydFN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICd1cGRhdGUtc3RvY2stZGF0ZSc6dXBkYXRlU3RvY2tEYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICdpcy11cGRhdGUtc3RvY2snOmlzVXBkYXRlU3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgaG90LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaCxcclxuICAgICAgICAgICAgICAgICAgICBpc1RyYW5zbGF0aW9uXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBvcmRlci5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb24uaHJlZiA9IHV0aWxzLnVybFBhcmFtc0NvbXBvbmVudCgnL2FkbWluL3Byb2R1Y3QnLHtcclxuICAgICAgICAgICAgICAgICAgICAncHJvZHVjdC1tZXRob2QtaWQnOnByb2R1Y3RNZXRob2RWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NhdGVnb3J5MS1pZCc6Y2F0ZWdvcnkxVmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTItaWQnOmNhdGVnb3J5MlZhbCxcclxuICAgICAgICAgICAgICAgICAgICAnb25zYWxlJzpvbnNhbGVWYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lzLXNob3J0LXN0b2NrJzppc1Nob3J0U3RvY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgJ3VwZGF0ZS1zdG9jay1kYXRlJzp1cGRhdGVTdG9ja0RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2lzLXVwZGF0ZS1zdG9jayc6aXNVcGRhdGVTdG9jayxcclxuICAgICAgICAgICAgICAgICAgICAnb3JkZXInOiB0aGlzLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhvdCxcclxuICAgICAgICAgICAgICAgICAgICBzdG9jayxcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNUcmFuc2xhdGlvblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdElkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJCgnLnJlbW92ZS1wcm9kdWN0JykuZWFjaChmdW5jdGlvbihpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkcy5wdXNoKCQodGhpcykuYXR0cignZGF0YS1pZCcpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidnZXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3QvZ2V0LXNhbGVzYCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3QtaWRzJzpwcm9kdWN0SWRzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcm93cyA9ICQoJ3RhYmxlIHRib2R5IHRyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3RNb250aEZpcnN0RGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TW9udGhGaXJzdERheS5zZXRNb250aChsYXN0TW9udGhGaXJzdERheS5nZXRNb250aCgpLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0d29Nb250aEZpcnN0RGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0d29Nb250aEZpcnN0RGF5LnNldE1vbnRoKHR3b01vbnRoRmlyc3REYXkuZ2V0TW9udGgoKS0yKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZGF0YS5kYXRhLChpLG4pPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4ucHJvZHVjdElkID09ICQodGhpcykuYXR0cignZGF0YS1wcm9kdWN0LWlkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy50aXRsZScpLmF0dHIoJ2RhdGEtcG9wb3Zlci10aGlydHknLCBuLnRoaXJ0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcudGl0bGUnKS5hdHRyKCdkYXRhLXBvcG92ZXItbmluZXR5Jywgbi5uaW5ldHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnLnRpdGxlJykuYXR0cignZGF0YS1wb3BvdmVyLWxhc3QtbW9udGgnLCBuLmxhc3RNb250eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCcudGl0bGUnKS5hdHRyKCdkYXRhLXBvcG92ZXItdHdvLW1vbnRoJywgbi50d29Nb250eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd3MuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gJCh0aGlzKS5maW5kKCcudGl0bGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUucG9wb3Zlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OmDljp/ku7c6ICR7dGl0bGUuZGF0YSgncG9wb3Zlci1zb3VyY2UtcHJpY2UnKX0gfCDmiJDmnKzku7c677+lJHt0aXRsZS5kYXRhKCdwb3BvdmVyLWNvc3QtcHJpY2UnKX0gfCDlrprku7c6IO+/pSR7dGl0bGUuZGF0YSgncG9wb3Zlci1wcmljZScpfSA8YnIvPjMw5aSp6ZSA6YePOiAke3RpdGxlLmRhdGEoJ3BvcG92ZXItdGhpcnR5Jyl9IHwgOTDlpKnplIDph486ICR7dGl0bGUuZGF0YSgncG9wb3Zlci1uaW5ldHknKX0gPGJyLz4gICR7dHdvTW9udGhGaXJzdERheS5nZXRNb250aCgpKzF95pyI5Lu96ZSA6YePOiAke3RpdGxlLmRhdGEoJ3BvcG92ZXItdHdvLW1vbnRoJyl9IHwgJHtsYXN0TW9udGhGaXJzdERheS5nZXRNb250aCgpKzF95pyI5Lu96ZSA6YePOiAke3RpdGxlLmRhdGEoJ3BvcG92ZXItbGFzdC1tb250aCcpfSAgPGJyLz7mgLvplIDph486ICR7dGl0bGUuZGF0YSgncG9wb3Zlci1zYWxlcycpfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOidob3ZlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvL+WIoOmZpHByb2R1Y3RcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBhbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG4gICAgICAgICAgICAkKCcucmVtb3ZlLXByb2R1Y3QnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoJyNjb25maXJtLXJlbW92ZS1wcm9kdWN0JykubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSAkKHRoaXMucmVsYXRlZFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSB0YXJnZXQuYXR0cignZGF0YS1pZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOmAvYWRtaW4vcHJvZHVjdC9yZW1vdmUvJHtwcm9kdWN0SWR9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOigpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gJCh0aGlzLnJlbGF0ZWRUYXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGFyZW50cygndHInKS5kZXRhY2goKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfliKDpmaTkuqflk4HmiJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25DYW5jZWw6KCk9PiB7IHJldHVybiBmYWxzZTsgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgICQoJy5hbS10YWJsZScpLm9uKCdtb3VzZWRvd24nLCcuYW0taWNvbi1saW5rJyxmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvL+e8lui+keWumuS9jVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZigvcHJvZHVjdC1pZD1cXGQrLy50ZXN0KGxvY2F0aW9uLnNlYXJjaCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZWRpdFByb2R1Y3RJZCA9IC9wcm9kdWN0LWlkPShcXGQrKS8uZXhlYyhsb2NhdGlvbi5zZWFyY2gpWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gJChgdHJbZGF0YS1wcm9kdWN0LWlkPSR7ZWRpdFByb2R1Y3RJZH1dYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sLGJvZHknKS5hbmltYXRlKHsnc2Nyb2xsVG9wJzppdGVtLm9mZnNldCgpLnRvcH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvL21vZGFsIHZpZXdwb3J0IGlmcmFtZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbGV0IG1vZGFsVmlld3BvcnQgPSAkKCcjbW9kYWwtdmlld3BvcnQnKTtcclxuICAgICAgICAgICAgbGV0IG1vZGFsVmlld3BvcnRDb250ZW50ID0gbW9kYWxWaWV3cG9ydC5maW5kKCcuYW0tbW9kYWwtYmQnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICQoJy5saW5rLW1vZGFsLXZpZXdwb3J0JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbFZpZXdwb3J0Q29udGVudC5hcHBlbmQoJzxpZnJhbWUgY2xhc3M9XCJpZnJhbWUtdmlld3BvcnRcIiBzcmM9XCJcIiBmcmFtZWJvcmRlcj1cIjBcIj48L2lmcmFtZT4nKTtcclxuICAgICAgICAgICAgICAgIGxldCBpZnJhbWUgPSBtb2RhbFZpZXdwb3J0LmZpbmQoJ2lmcmFtZScpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNyYyA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgaWZyYW1lLmF0dHIoJ3NyYycsc3JjKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsVmlld3BvcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjgwMCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6NTIwXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBtb2RhbFZpZXdwb3J0Lm9uKCdjbG9zZS5tb2RhbC5hbXVpJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIG1vZGFsVmlld3BvcnRDb250ZW50LmVtcHR5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvL2NvcHkgcHJvZHVjdCBjb250ZW50XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsZXQgZm9ybSA9ICQoJy5mb3JtLWNvcHktcHJvZHVjdC1jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIGxldCBtb2RhbENvbmZpcm0gPSAkKCcjbW9kYWwtY29uZmlybScpO1xyXG4gICAgICAgICAgICBsZXQgbW9kYWxBbGVydCA9ICQoJyNtb2RhbC1hbGVydCcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9ybS5maW5kKCcuYW0tYnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSBwYXJzZUludCgkKHRoaXMpLnBhcmVudHMoJ3RyJykuZGF0YSgncHJvZHVjdC1pZCcpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihmb3JtLnNlcmlhbGl6ZSgpID09PScnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxBbGVydC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXNcclxuICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCfor7fpgInmi6npnIDopoHlpI3liLbnmoTlhoXlrrknKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvcm0uZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHRoaXMubmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbW9kYWxDb25maXJtLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OnRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJy9hZG1pbi9wcm9kdWN0L3Byb2R1Y3QtY29weScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdElkOiBwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsQWxlcnQubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5maW5kKCcuYW0tbW9kYWwtYmQnKS50ZXh0KCflpI3liLbmiJDlip8hJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAvL2NvcHkgZXRzeVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jb3B5LWV0c3knKTtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gJCgnLmlucHV0LWNvcHktZXRzeScpO1xyXG4gICAgICAgICAgICBsZXQgbW9kYWxMb2FkaW5nID0gJCgnI21vZGFsLWxvYWRpbmcnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkKCcubGluay1jb3B5LWV0c3knKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKHRoaXMpLmRhdGEoJ3Byb2R1Y3QtaWQnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCfmraPlnKjlr7zlhaUuLi4nKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoISQudHJpbShpbnB1dC52YWwoKSkgfHwgJC50cmltKGlucHV0LnZhbCgpKS5pbmRleE9mKCdldHN5LmNvbScpID09PS0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6K+36L6T5YWl5q2j56Gu55qEZXRzeS5jb23pk77mjqUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDonL2FkbWluL3Byb2R1Y3Qvc3BpZGVyLWluZm8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2R1Y3QtaWQnOnByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndXJsJzokLnRyaW0oaW5wdXQudmFsKCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5jb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCflr7zlhaXmiJDlip8h5q2j5Zyo5pu05pawLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcuZmluZCgnLmFtLW1vZGFsLWhkJykudGV4dCgn5a+85YWl5aSx6LSlLOivt+mHjeivlSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5tb2RhbCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcuZmluZCgnLmFtLW1vZGFsLWhkJykudGV4dCgn5a+85YWl5aSx6LSlLOivt+mHjeivlSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcubW9kYWwoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLm1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy/lhbPogZTliIbnsbvlsZ7mgKdcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1iaW5kLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgIGxldCBpbnB1dCA9ICQoJy5pbnB1dC1iaW5kLWNhdGVnb3J5Jyk7XHJcbiAgICAgICAgICAgIGxldCBtb2RhbExvYWRpbmcgPSAkKCcjbW9kYWwtbG9hZGluZycpO1xyXG5cclxuICAgICAgICAgICAgJCgnLmxpbmstYmluZC1jYXRlZ29yeScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKHRoaXMpLmRhdGEoJ3Byb2R1Y3QtaWQnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCfmraPlnKjkv67mlLkuLi4nKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ29uZmlybTogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9wcm9kdWN0L3NldC1wYXJlbnQtcHJvZHVjdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjdElkJzpwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BhcmVudFByb2R1Y3RJZCc6aW5wdXQudmFsKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLmZpbmQoJy5hbS1tb2RhbC1oZCcpLnRleHQoJ+WFs+iBlOaIkOWKnyHmraPlnKjmm7TmlrAuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLmZpbmQoJy5hbS1tb2RhbC1oZCcpLnRleHQoJ+WFs+iBlOWksei0pSzor7fph43or5UhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLm1vZGFsKCdjbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5tb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB7Ly8g5pS55Lu3XHJcbiAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jaGFuZ2UtcHJpY2UnKTtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gJCgnLmlucHV0LWNoYW5nZS1wcmljZScpO1xyXG4gICAgICAgICAgICBsZXQgbW9kYWxMb2FkaW5nID0gJCgnI21vZGFsLWxvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgICAgICQoJy5saW5rLWNoYW5nZS1wcmljZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RJZCA9ICQodGhpcykuZGF0YSgncHJvZHVjdC1pZCcpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNhdGVnb3J5MklkPSQodGhpcykuZGF0YSgnY2F0ZWdvcnkyLWlkJyk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcuZmluZCgnLmFtLW1vZGFsLWhkJykudGV4dCgn5q2j5Zyo5L+u5pS5Li4uJyk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRlZFRhcmdldDogdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBvbkNvbmZpcm06IGZ1bmN0aW9uKGUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEkLnRyaW0oaW5wdXQudmFsKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgn6K+36L6T5YWl5q2j56Gu55qE5Lu35qC8Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6Jy9hZG1pbi9wcm9kdWN0L3N5bmMtcHJpY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjdElkJzpwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmljZSc6JC50cmltKGlucHV0LnZhbCgpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhdGVnb3J5MklkJzpjYXRlZ29yeTJJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLmZpbmQoJy5hbS1tb2RhbC1oZCcpLnRleHQoJ+S/ruaUueaIkOWKnyHmraPlnKjmm7TmlrAuLi4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCfkv67mlLnlpLHotKUs6K+36YeN6K+VIScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLm1vZGFsKCdjbG9zZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcubW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB7Ly8g5pS55oiQ5pys5Lu3XHJcbiAgICAgICAgICAgIGxldCBtb2RhbCA9ICQoJyNtb2RhbC1jaGFuZ2UtcHJpY2UnKTtcclxuICAgICAgICAgICAgbGV0IGlucHV0ID0gJCgnLmlucHV0LWNoYW5nZS1wcmljZScpO1xyXG4gICAgICAgICAgICBsZXQgbW9kYWxMb2FkaW5nID0gJCgnI21vZGFsLWxvYWRpbmcnKTtcclxuXHJcbiAgICAgICAgICAgICQoJy5saW5rLWNoYW5nZS1jb3N0LXByaWNlJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdElkID0gJCh0aGlzKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2F0ZWdvcnkySWQ9JCh0aGlzKS5kYXRhKCdjYXRlZ29yeTItaWQnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCfmraPlnKjkv67mlLkuLi4nKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbyhwcm9kdWN0SWQpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0ZWRUYXJnZXQ6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgb25Db25maXJtOiBmdW5jdGlvbihlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighJC50cmltKGlucHV0LnZhbCgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+ivt+i+k+WFpeato+ehrueahOS7t+agvCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOicvYWRtaW4vcHJvZHVjdC9zeW5jLWNvc3QtcHJpY2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvZHVjdElkJzpwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb3N0UHJpY2UnOiQudHJpbShpbnB1dC52YWwoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYXRlZ29yeTJJZCc6Y2F0ZWdvcnkySWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5maW5kKCcuYW0tbW9kYWwtaGQnKS50ZXh0KCfkv67mlLnmiJDlip8h5q2j5Zyo5pu05pawLi4uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbExvYWRpbmcuZmluZCgnLmFtLW1vZGFsLWhkJykudGV4dCgn5L+u5pS55aSx6LSlLOivt+mHjeivlSEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsTG9hZGluZy5tb2RhbCgnY2xvc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxMb2FkaW5nLm1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlucHV0WzBdLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy9jb3B5IHRpdGxlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuY29weS1wcm9kdWN0LXRpdGxlJykuZWFjaChmdW5jdGlvbihpLG4pIHtcclxuICAgICAgICAgICAgICAgIGxldCBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKG4sIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAkeyQobikuZGF0YSgndGV4dCcpfSB7JHskKG4pLmRhdGEoJ2lkJyl9fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICQobikuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLmltYWdlLXNvdXJjZS1kb3dubG9hZCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwID0gJCh0aGlzKS5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGlua3MgPSBncm91cC5maW5kKCcuaW1hZ2Utc291cmNlLXZhbHVlJykudmFsKCkuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlkID0gJCh0aGlzKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICBpZihsaW5rcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkLmVhY2gobGlua3MsZnVuY3Rpb24oaSxuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLmFwcGVuZChgPGEgaHJlZj1cIiR7bn1cIiBkb3dubG9hZD5kb3dubG9hZDwvYT5gKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBncm91cC5maW5kKCdhJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV2T2JqID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ01vdXNlRXZlbnRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2T2JqLmluaXRFdmVudCgnY2xpY2snLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldk9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLnNldC1vbnNhbGUnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc09uc2FsZSA9ICQodGhpcykuYXR0cignaXNvbnNhbGUnKSA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RJZCA9ICQodGhpcykucGFyZW50cygndHInKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuZmluZCgnLnRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3Qvc2V0LW9uc2FsZS8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6e2lzT25zYWxlfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNPbnNhbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLnJlbW92ZUNsYXNzKCdwcm9kdWN0LW91dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpc29uc2FsZScsJ3RydWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFkZENsYXNzKCdwcm9kdWN0LW91dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpc29uc2FsZScsJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLnNldC1ob3QnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc0hvdCA9ICQodGhpcykuYXR0cignaXNob3QnKSA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RJZCA9ICQodGhpcykucGFyZW50cygndHInKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuZmluZCgnLnRpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3Qvc2V0LWhvdC8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6e2lzSG90fVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNIb3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZCgnPHN1cCBjbGFzcz1cImhvdFwiPjwvc3VwPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUuYWRkQ2xhc3MoJ3Byb2R1Y3QtaG90Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2lzaG90JywndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUuZmluZCgnc3VwJykuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS5hZGRDbGFzcygncHJvZHVjdC1ob3QnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignaXNob3QnLCdmYWxzZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLnNldC1zaG9ydC1zdG9jaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzU2hvcnRTdG9jayA9ICQodGhpcykuYXR0cignaXNzaG9ydHN0b2NrJykgPT09ICd0cnVlJyA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuZGF0YSgncHJvZHVjdC1pZCcpO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0L3NldC1zaG9ydC1zdG9jay8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6e2lzU2hvcnRTdG9ja31cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzU2hvcnRTdG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignaXNzaG9ydHN0b2NrJywndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignaXNzaG9ydHN0b2NrJywnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL+mHjeaWsOS4iuaetua3mOWunVxyXG4gICAgICAgIHtcclxuXHJcbiAgICAgICAgICAgICQoJy5zZXQtdXBkYXRlLXN0b2NrOm5vdCgub24pJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoJy51cGRhdGUtdG90YW9iYW8tY29uZmlybScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwb3BvdmVyID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICAgIGxldCB1cGRhdGVUb3Rhb2Jhb0ltYWdlID0gcG9wb3Zlci5maW5kKCcudXBkYXRlLXRvdGFvYmFvLWltYWdlJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlVG90YW9iYW9UaXRsZSA9IHBvcG92ZXIuZmluZCgnLnVwZGF0ZS10b3Rhb2Jhby10aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZVRvdGFvYmFvQ29udGVudCA9IHBvcG92ZXIuZmluZCgnLnVwZGF0ZS10b3Rhb2Jhby1jb250ZW50Jyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgdXBkYXRlVG90YW9iYW9QcmljZSA9IHBvcG92ZXIuZmluZCgnLnVwZGF0ZS10b3Rhb2Jhby1wcmljZScpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHVwZGF0ZVRvdGFvYmFvQ2F0ZWdvcnkgPSBwb3BvdmVyLmZpbmQoJy51cGRhdGUtdG90YW9iYW8tY2F0ZWdvcnknKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdElkID0gJCh0aGlzKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9ICQoYHRyW2RhdGEtcHJvZHVjdC1pZD0ke3Byb2R1Y3RJZH1dYCkuZmluZCgnLnNldC11cGRhdGUtc3RvY2snKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6J3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3Qvc2V0LXVwZGF0ZS1zdG9jay8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZVN0b2NrOnRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFvYmFvSW1hZ2U6dXBkYXRlVG90YW9iYW9JbWFnZS5wcm9wKCdjaGVja2VkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFvYmFvVGl0bGU6dXBkYXRlVG90YW9iYW9UaXRsZS5wcm9wKCdjaGVja2VkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFvYmFvQ29udGVudDp1cGRhdGVUb3Rhb2Jhb0NvbnRlbnQucHJvcCgnY2hlY2tlZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb3Rhb2Jhb1ByaWNlOnVwZGF0ZVRvdGFvYmFvUHJpY2UucHJvcCgnY2hlY2tlZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUb3Rhb2Jhb0NhdGVnb3J5OnVwZGF0ZVRvdGFvYmFvQ2F0ZWdvcnkucHJvcCgnY2hlY2tlZCcpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5hdHRyKCdpc3VwZGF0ZXN0b2NrJywndHJ1ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnBvcG92ZXIoJ2Nsb3NlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnLnNldC11cGRhdGUtc3RvY2sub24nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuZGF0YSgncHJvZHVjdC1pZCcpO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0L3NldC11cGRhdGUtc3RvY2svJHtwcm9kdWN0SWR9YCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOntpc1VwZGF0ZVN0b2NrOmZhbHNlfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpc3VwZGF0ZXN0b2NrJywnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNVcGRhdGVTdG9jayA9ICQodGhpcykuYXR0cignaXN1cGRhdGVzdG9jaycpID09PSAndHJ1ZScgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdElkID0gJCh0aGlzKS5wYXJlbnRzKCd0cicpLmRhdGEoJ3Byb2R1Y3QtaWQnKTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOmAvYWRtaW4vcHJvZHVjdC9zZXQtdXBkYXRlLXN0b2NrLyR7cHJvZHVjdElkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTp7aXNVcGRhdGVTdG9ja31cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzVXBkYXRlU3RvY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2lzdXBkYXRlc3RvY2snLCd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpc3VwZGF0ZXN0b2NrJywnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuc2V0LXdhcm5pbmctc3RvY2sub24nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SWQgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJykuZGF0YSgncHJvZHVjdC1pZCcpO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOidwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICB1cmw6YC9hZG1pbi9wcm9kdWN0L3NldC11cGRhdGUtc3RvY2stZGF0ZS8ke3Byb2R1Y3RJZH1gLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdG9ja0RhdGU6dHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ29uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAkKCcuc2V0LXByb2R1Y3QtdHJhbnMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCBpc1RyYW5zbGF0aW9uID0gJCh0aGlzKS5hdHRyKCdpc3RyYW5zbGF0aW9uZGF0ZScpID09PSAndHJ1ZScgPyBmYWxzZSA6IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RJZCA9ICQodGhpcykucGFyZW50cygndHInKS5kYXRhKCdwcm9kdWN0LWlkJyk7XHJcbiAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZToncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDpgL2FkbWluL3Byb2R1Y3Qvc2V0LWlzLXRyYW5zbGF0aW9uLyR7cHJvZHVjdElkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVHJhbnNsYXRpb25cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzVHJhbnNsYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnb24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdpc3RyYW5zbGF0aW9uZGF0ZScsJ3RydWUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2lzdHJhbnNsYXRpb25kYXRlJywnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnLnNldC1wcm9kdWN0LXBhcmVudCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2FkbWluL3Byb2R1Y3Q/cGFyZW50LXByb2R1Y3QtaWQ9JyskKHRoaXMpLmF0dHIoJ3BhcmVudFByb2R1Y3RJZCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8v5pi+56S66KeE5qC8XHJcbiAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgJCgnLnNldC1wcm9kdWN0LXBhcmVudCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgIGxldCByb3cgPSAkKHRoaXMpLnBhcmVudHMoJ3RyJyk7XHJcbiAgICAgICAgICAgICAgICAgaWYocm93Lmhhc0NsYXNzKCdtYWluLXByb2R1Y3Qtcm93JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBsZXQgcGFyZW50SWQgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ3BhcmVudHByb2R1Y3RpZCcpKTtcclxuICAgICAgICAgICAgICAgICBsZXQgcGFyZW50VGFyZ2V0Um93ID0gJCgnLm1haW4tcHJvZHVjdC1yb3dbZGF0YS1wcm9kdWN0LWlkPScrIHBhcmVudElkICsgJ10nKTtcclxuICAgICAgICAgICAgICAgICBpZihwYXJlbnRUYXJnZXRSb3cubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHJvdy5hZGRDbGFzcygnc3ViLXByb2R1Y3Qtcm93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgIHBhcmVudFRhcmdldFJvdy5hZnRlcihyb3cpO1xyXG4gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIHJvdy5kZXRhY2goKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICBhZGRGdW46ZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q2F0ZWdvcnkoKTtcclxuICAgICAgICB0aGlzLmNob29zZUJhbm5lcignYWRkJyk7XHJcbiAgICAgICAgdGhpcy5zdWJtaXRDb250cm9sKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbWFnZUxpc3QoKTtcclxuICAgICAgICB0aGlzLnNldFpjbGlwKCk7XHJcbiAgICAgICAgdGhpcy5zYXZlRGF0YSgpO1xyXG4gICAgfSxcclxuICAgIGVkaXRGdW46ZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0Q2F0ZWdvcnkoKTtcclxuICAgICAgICB0aGlzLmNob29zZUJhbm5lcigpO1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgICAgIHRoaXMuc2V0SW1hZ2VMaXN0KCk7XHJcbiAgICAgICAgdGhpcy5zZXRaY2xpcCgpO1xyXG4gICAgICAgIHRoaXMuc2F2ZURhdGEoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/kuIDnuqcs5LqM57qn5YiG57G76YCJ5oupXHJcbiAgICBzZXRDYXRlZ29yeTpmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgbGV0IGNhdGVnb3J5R3JvdXAgPSAkKCcuY2F0ZWdvcnktZ3JvdXAnKTtcclxuICAgICAgICBsZXQgJGJ0bkFkZENhdGVnb3J5ID0gJCgnLmJ0bi1hZGQtY2F0ZWdvcnknKTtcclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICBjYXRlZ29yeUdyb3VwLm9uKCdjaGFuZ2UnLCcuc2VsZWN0LXByb2R1Y3QtbWV0aG9kJyxmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIGxldCBncm91cCA9ICR0aGlzLnBhcmVudHMoJy5ncm91cCcpO1xyXG4gICAgICAgICAgICBsZXQgJHNlbGVjdENhdGVnb3J5MSA9IGdyb3VwLmZpbmQoJy5zZWxlY3QtY2F0ZWdvcnktMScpO1xyXG4gICAgICAgICAgICBsZXQgJHNlbGVjdENhdGVnb3J5MiA9IGdyb3VwLmZpbmQoJy5zZWxlY3QtY2F0ZWdvcnktMicpO1xyXG5cclxuICAgICAgICAgICAgaWYoIXRoaXMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoX3RoaXMuaXNTdWJtaXRCdG4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHByb2R1Y3RNZXRob2RJZCA9IHBhcnNlSW50KHRoaXMudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgJC5nZXQoe1xyXG4gICAgICAgICAgICAgICAgdXJsOmAke2xlYW5BcHAuYXBpfWNsYXNzZXMvUHJvZHVjdENhdGVnb3J5MWAsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOmxlYW5BcHBIZWFkZXIsXHJcbiAgICAgICAgICAgICAgICBkYXRhOmB3aGVyZT17XCJwcm9kdWN0TWV0aG9kSWRcIjoke3Byb2R1Y3RNZXRob2RJZH19YFxyXG4gICAgICAgICAgICB9KS5kb25lKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgJHNlbGVjdENhdGVnb3J5MS5maW5kKCdvcHRpb246bm90KDpmaXJzdCknKS5kZXRhY2goKTtcclxuICAgICAgICAgICAgICAgICRzZWxlY3RDYXRlZ29yeTIuZmluZCgnb3B0aW9uOm5vdCg6Zmlyc3QpJykuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGBgO1xyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEucmVzdWx0cywoaSxuKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgKz0gYDxvcHRpb24gdmFsdWU9XCIke24uY2F0ZWdvcnkxSWR9XCI+JHtuLm5hbWV9PC9vcHRpb24+YDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHNlbGVjdENhdGVnb3J5MS5hcHBlbmQob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2F0ZWdvcnlHcm91cC5vbignY2hhbmdlJywnLnNlbGVjdC1jYXRlZ29yeS0xJyxmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBncm91cCA9ICQodGhpcykucGFyZW50cygnLmdyb3VwJyk7XHJcbiAgICAgICAgICAgIGxldCAkc2VsZWN0Q2F0ZWdvcnkyID0gZ3JvdXAuZmluZCgnLnNlbGVjdC1jYXRlZ29yeS0yJyk7XHJcblxyXG4gICAgICAgICAgICBpZighdGhpcy52YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBpZihfdGhpcy5pc1N1Ym1pdEJ0bikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgY2F0ZWdvcnkxSWQgPSBwYXJzZUludCh0aGlzLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICQuZ2V0KHtcclxuICAgICAgICAgICAgICAgIHVybDpsZWFuQXBwLmFwaSArICdjbGFzc2VzL1Byb2R1Y3RDYXRlZ29yeTInLFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczpsZWFuQXBwSGVhZGVyLFxyXG4gICAgICAgICAgICAgICAgZGF0YTond2hlcmU9e1wiY2F0ZWdvcnkxSWRcIjonKyBjYXRlZ29yeTFJZCArJ30nXHJcbiAgICAgICAgICAgIH0pLmRvbmUoZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0Q2F0ZWdvcnkyLmZpbmQoJ29wdGlvbjpub3QoOmZpcnN0KScpLmRldGFjaCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBgYDtcclxuICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLnJlc3VsdHMsKGksbik9PntcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zICs9IGA8b3B0aW9uIHZhbHVlPVwiJHtuLmNhdGVnb3J5MklkfVwiPiR7bi5uYW1lfTwvb3B0aW9uPmA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICRzZWxlY3RDYXRlZ29yeTIuYXBwZW5kKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2F0ZWdvcnlHcm91cC5vbignY2xpY2snLCcuYnRuLXJlbW92ZS1jYXRlZ29yeScsZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmdyb3VwJykuZGV0YWNoKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8v5re75Yqg5pawY2F0ZWdvcnkgZ3JvdXDlubbliJ3lp4vljJZcclxuICAgICAgICAkYnRuQWRkQ2F0ZWdvcnkuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBncm91cCA9ICQodGhpcykucGFyZW50cygnLmdyb3VwJyk7XHJcbiAgICAgICAgICAgIGxldCBuZXdHcm91cCA9IGdyb3VwLmNsb25lKCk7XHJcbiAgICAgICAgICAgIG5ld0dyb3VwLmZpbmQoJy5hbS1zZWxlY3RlZCcpLmRldGFjaCgpO1xyXG4gICAgICAgICAgICBuZXdHcm91cC5maW5kKCdzZWxlY3QnKS5yZW1vdmVBdHRyKCdyZXF1aXJlZCcpO1xyXG4gICAgICAgICAgICBuZXdHcm91cC5hcHBlbmRUbyhjYXRlZ29yeUdyb3VwKTtcclxuICAgICAgICAgICAgbmV3R3JvdXAuZmluZCgnLnNlbGVjdC1jYXRlZ29yeS0xIG9wdGlvbjpub3QoOmZpcnN0KScpLmRldGFjaCgpO1xyXG4gICAgICAgICAgICBuZXdHcm91cC5maW5kKCcuc2VsZWN0LWNhdGVnb3J5LTIgb3B0aW9uOm5vdCg6Zmlyc3QpJykuZGV0YWNoKCk7XHJcbiAgICAgICAgICAgIG5ld0dyb3VwLmZpbmQoJy5idG4tYWRkLWNhdGVnb3J5JykucmVtb3ZlQ2xhc3MoJ2J0bi1hZGQtY2F0ZWdvcnknKS5hZGRDbGFzcygnYnRuLXJlbW92ZS1jYXRlZ29yeScpLnRleHQoJ+WIoOmZpCcpO1xyXG4gICAgICAgICAgICBuZXdHcm91cC5maW5kKCdsYWJlbCcpLmRldGFjaCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy/pgInmi6liYW5uZXJcclxuICAgIGNob29zZUJhbm5lcjpmdW5jdGlvbihwYWdlKSB7XHJcblxyXG4gICAgICAgIGxldCBzZWxlY3QgPSAkKCcjc2VsZWN0LWJhbm5lcicpO1xyXG4gICAgICAgIGxldCBiYW5uZXJWaWV3ID0gJCgnLmJhbm5lci12aWV3Jyk7XHJcbiAgICAgICAgbGV0IGJhbm5lciA9ICQoJyNiYW5uZXInKTtcclxuICAgICAgICBsZXQgc2VsZWN0QmFubmVyUmFuZG9tID0gJCgnLnNlbGVjdC1iYW5uZXItcmFuZG9tJyk7XHJcblxyXG4gICAgICAgIHNlbGVjdC5vbignY2hhbmdlJyxmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IHNyYyA9IHNlbGVjdC5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS5hdHRyKCdkYXRhLXNyYycpO1xyXG4gICAgICAgICAgICBiYW5uZXJWaWV3LnJlbW92ZUNsYXNzKCdoaWRlJyk7XHJcbiAgICAgICAgICAgIGJhbm5lclZpZXcuaHRtbChgPGltZyB3aWR0aD1cIjMwMFwiIHNyYz1cIiR7c3JjfVwiLz5gKTtcclxuICAgICAgICAgICAgYmFubmVyLnZhbChzcmMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzZWxlY3RCYW5uZXJSYW5kb20uY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBiYW5uZXJSYW5nZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICggc2VsZWN0LmZpbmQoJ29wdGlvbicpLmxlbmd0aCAtMSApKTtcclxuICAgICAgICAgICAgc2VsZWN0LmZpbmQoJ29wdGlvbicpLmdldChiYW5uZXJSYW5nZSkuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxlY3QudHJpZ2dlcignY2hhbmdlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmKHBhZ2U9PT0nYWRkJykge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT4ge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0QmFubmVyUmFuZG9tLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH0sMTAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICAvL+iuvue9ruS4u+WbvumihOiniFxyXG4gICAgc2V0SW1hZ2VMaXN0OmZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGxldCBpbWFnZVZpZXcgPSAkKCcuaW1hZ2UtbGlzdCcpO1xyXG4gICAgICAgIGxldCBkZXRhaWxJbWFnZSA9ICQoJyNkZXRhaWwtaW1hZ2UnKTtcclxuXHJcbiAgICAgICAgaW1hZ2VWaWV3Lm9uKCdjbGljaycsJy5tb3ZlJyxmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAkKHRoaXMpLnBhcmVudHMoJ2xpJyk7XHJcbiAgICAgICAgICAgIGlmKGNvbnRlbnQuaW5kZXgoKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnRlbnQuYWZ0ZXIoY29udGVudC5wcmV2KCkpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVNYWluSW1hZ2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW1hZ2VWaWV3Lm9uKCdjbGljaycsJy5yZW1vdmUnLGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBsZXQgY29udGVudCA9ICQodGhpcykucGFyZW50cygnbGknKTtcclxuXHJcbiAgICAgICAgICAgIC8v6Ieq5Yqo5Yig6Zmk5paH5pys5qGG5Lit5Zu+54mH6ZO+5o6lXHJcbiAgICAgICAgICAgIGxldCBpbWFnZVNyYyA9IGNvbnRlbnQuZmluZCgnaW1nJykuYXR0cignc3JjJyk7XHJcbiAgICAgICAgICAgIGltYWdlU3JjID0gaW1hZ2VTcmMucmVwbGFjZSgnP2ltYWdlTW9ncjIvdGh1bWJuYWlsLzEwMCcsJycpO1xyXG4gICAgICAgICAgICBpbWFnZVNyYyA9IGAhW10oJHtpbWFnZVNyY30pYDtcclxuICAgICAgICAgICAgbGV0IHZhbCA9IGRldGFpbEltYWdlLnZhbCgpLnJlcGxhY2UoaW1hZ2VTcmMsJycpO1xyXG4gICAgICAgICAgICBkZXRhaWxJbWFnZS52YWwoJC50cmltKHZhbCkpO1xyXG5cclxuICAgICAgICAgICAgY29udGVudC5kZXRhY2goKTtcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlTWFpbkltYWdlKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbWFnZVZpZXcub24oJ2NsaWNrJywnaW5wdXRbdHlwZT1jaGVja2JveF0nLGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVNYWluSW1hZ2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9LFxyXG5cclxuXHJcblxyXG4gICAgLy/mj5DkuqTml7bnirbmgIHorr7nva5cclxuICAgIHN1Ym1pdENvbnRyb2w6ZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGxldCBzdWJtaXQgPSAkKCcjc3VibWl0Jyk7XHJcbiAgICAgICAgbGV0IF90aGlzID0gdGhpcztcclxuICAgICAgICBfdGhpcy5pc1N1Ym1pdEJ0biA9ZmFsc2U7XHJcblxyXG4gICAgICAgICQoJ2Zvcm0gOnN1Ym1pdCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgX3RoaXMuaXNTdWJtaXRCdG4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgJCgnZm9ybScpLmF0dHIoe1xyXG4gICAgICAgICAgICAgICAgJ2FjdGlvbic6JHRoaXMuZGF0YSgnYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICAndGFyZ2V0JzokdGhpcy5kYXRhKCd0YXJnZXQnKVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMuaWQgPT09ICdzdWJtaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdGF0ZScsJHRoaXNbMF0uaWQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL+eUseS6jnN1Ym1pdOaXtmFtYXpldWnnmoRzZWxlY3TkvJrop6blj5HkuIDmrKFvbmNoYW5nZSzlr7zoh7RjYXRlZ29yeTHlkoxjYXRlZ29yeTLkvJrph43nva4s5pWw5o2u5Lii5aSxXHJcbiAgICAgICAgICAgIC8v6L+Y5Y6faXNTdWJtaXRCdG4s6K6pc2VsZWN0IGVuYWJsZVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaXNTdWJtaXRCdG4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaWQgPT09ICdzdWJtaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnc3RhdGUnLGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLDEwMDApO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OmZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNGb3JtVmFsaWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoc3VibWl0LmRhdGEoJ3N0YXRlJykgPT09ICdzdWJtaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0LmF0dHIoJ2Rpc2FibGVkJyx0cnVlKS5hZGRDbGFzcygnYW0tZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvL+S4iuS8oOS4u+WxleekuuWbvueJh2NhbGxiYWNrXHJcbiAgICB1cGxvYWRGaWxlU3VjY2VzczpmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgbGV0IGltYWdlVmlldyA9ICQoJy5pbWFnZS1saXN0Jyk7XHJcbiAgICAgICAgJC5lYWNoKGRhdGEsKGksbik9PiB7XHJcbiAgICAgICAgICAgIGltYWdlVmlldy5hcHBlbmQoYDxsaSBkYXRhLWlkPVwiJHtuLmlkfVwiIGNsYXNzPVwiYW0tY2ZcIj48ZGl2IGNsYXNzPVwiYW0tZmxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgLz48L2Rpdj48ZGl2IGNsYXNzPVwiYW0tZnJcIj48cD48YSBjbGFzcz1cImltZy1saW5rXCIgaHJlZj1cIiR7bi51cmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+PGltZyBzcmM9XCIke24udXJsfT9pbWFnZU1vZ3IyL3RodW1ibmFpbC8xMDBcIi8+PC9hPjwvcD48cD48YSBjbGFzcz1cIm1vdmVcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+5YmN56e7PC9hPiB8IDxzcGFuIGNsYXNzPVwiY29weVwiPjxhIGNsYXNzPVwiY29weS11cmxcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+5aSN5Yi2PC9hPjwvc3Bhbj4gfCA8YSBjbGFzcz1cInJlbW92ZVwiIGhyZWY9XCJqYXZhc2NyaXB0OjtcIj7liKDpmaQ8L2E+PC9wPjwvZGl2PjwvbGk+YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVNYWluSW1hZ2UoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy/mm7TmlrBpbWFnZSBsaXN0XHJcbiAgICB1cGRhdGVNYWluSW1hZ2U6ZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIGxldCBpbWFnZSA9ICQoJyNtYWluLWltYWdlJyk7XHJcbiAgICAgICAgbGV0IGltYWdlVmlldyA9ICQoJy5pbWFnZS1saXN0Jyk7XHJcbiAgICAgICAgbGV0IHZhbHVlID0ge307XHJcblxyXG4gICAgICAgIGltYWdlVmlldy5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJCh0aGlzKS5wYXJlbnRzKCdsaScpO1xyXG4gICAgICAgICAgICB2YWx1ZVtjb250ZW50LmRhdGEoJ2lkJyldID0ge1xyXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjpjb250ZW50LmZpbmQoJy5pbWctbGluaycpLmF0dHIoJ2hyZWYnKSxcclxuICAgICAgICAgICAgICAgIFwiaXNNYWluSW1hZ2VcIjp0aGlzLmNoZWNrZWRcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpbWFnZS52YWwoSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRaY2xpcCgpO1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgc2V0WmNsaXA6ZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxldCBkZXRhaWxJbWFnZSA9ICQoJyNkZXRhaWwtaW1hZ2UnKTtcclxuICAgICAgICAgICAgbGV0IGltYWdlVmlldyA9ICQoJy5pbWFnZS1saXN0Jyk7XHJcbiAgICAgICAgICAgICQoJy56Y2xpcCcpLmRldGFjaCgpO1xyXG4gICAgICAgICAgICBpbWFnZVZpZXcuZmluZCgnLmNvcHktdXJsJykuZGV0YWNoKCk7XHJcblxyXG4gICAgICAgICAgICBpbWFnZVZpZXcuZmluZCgnLmNvcHknKS5hcHBlbmQoJzxhIGNsYXNzPVwiY29weS11cmxcIiBocmVmPVwiamF2YXNjcmlwdDo7XCI+5aSN5Yi2PC9hPicpO1xyXG4gICAgICAgICAgICBpbWFnZVZpZXcuZmluZCgnLmNvcHktdXJsJykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGxldCAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2xpcGJvYXJkID0gbmV3IENsaXBib2FyZCh0aGlzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgIVtdKCR7JHRoaXMucGFyZW50cygnbGknKS5maW5kKCcuaW1nLWxpbmsnKS5hdHRyKCdocmVmJyl9KWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlVmlldy5maW5kKCcub25jb3B5JykucmVtb3ZlQ2xhc3MoJ29uY29weScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ29uY29weScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZXRhaWxUZXh0ID0gZGV0YWlsSW1hZ2UudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoISQudHJpbShkZXRhaWxUZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxJbWFnZS52YWwoZGV0YWlsVGV4dCArIGRhdGEudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsSW1hZ2UudmFsKGRldGFpbFRleHQgKyAnXFxuJyArIGRhdGEudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBzYXZlRGF0YTpmdW5jdGlvbigpIHtcclxuICAgICAgICAkKGRvY3VtZW50KS5vbigna2V5ZG93bicsZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZihlLmtleUNvZGUgPT09IDEzICYmIGUuY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI3N1Ym1pdCcpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn07IiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxucmVxdWlyZSgnanF1ZXJ5LXZhbGlkYXRlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHJcbiAgICBsb2dpbkZ1bjpmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnN1Ym1pdENvbnRyb2woKTtcclxuICAgIH0sXHJcbiAgICBcclxuICAgIHJlZ2lzdGVyRnVuOmZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc3VibWl0Q29udHJvbCgpO1xyXG4gICAgfSxcclxuICAgIFxyXG4gICAgc3VibWl0Q29udHJvbDpmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgc3VibWl0ID0gJCgnI3N1Ym1pdCcpO1xyXG4gICAgICAgICQoJy5hbS1mb3JtJykudmFsaWRhdG9yKHtcclxuICAgICAgICAgICAgc3VibWl0OmZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNGb3JtVmFsaWQoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3VibWl0LmF0dHIoJ2Rpc2FibGVkJyx0cnVlKS5hZGRDbGFzcygnYW0tZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIFxyXG4gICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgbGV0IGZvcm1VcGxvYWQgPSAkKCcjZm9ybS11cGxvYWQnKTtcclxuICAgICAgICBsZXQgZmlsZSA9ICQoJyNmaWxlJyk7XHJcbiAgICAgICAgbGV0IHVwbG9hZExvYWRpbmcgPSAkKCcudXBsb2FkLWxvYWRpbmcnKTtcclxuICAgICAgICBsZXQgYnRuID0gJCgnLmFtLWJ0bicpO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gJCgnLnRleHQnKTtcclxuICAgICAgICBsZXQgZmlsZVR5cGUgPSBvcHRpb25zLmZpbGVUeXBlO1xyXG4gICAgICAgIGxldCBjYWxsYmFja05hbWUgPSBvcHRpb25zLmNhbGxiYWNrTmFtZTtcclxuICAgICAgICBmb3JtVXBsb2FkLnN1Ym1pdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB1cGxvYWRMb2FkaW5nLmFkZENsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICBidG4ucmVtb3ZlQ2xhc3MoJ2FtLWJ0bi1wcmltYXJ5JykuYWRkQ2xhc3MoJ2FtLWJ0bi1kZWZhdWx0JykucHJvcCgnZGlzYWJsZWQnLHRydWUpO1xyXG4gICAgICAgICAgICB0ZXh0LnRleHQoJ+ato+WcqOS4iuS8oC4uLicpO1xyXG4gICAgICAgICAgICBmaWxlLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICQodGhpcykuYWpheFN1Ym1pdCh7XHJcbiAgICAgICAgICAgICAgICBkYXRhOntmaWxlVHlwZTpmaWxlVHlwZX0sXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGUudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGxvYWRMb2FkaW5nLnJlbW92ZUNsYXNzKCdvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ0bi5hZGRDbGFzcygnYW0tYnRuLXByaW1hcnknKS5yZW1vdmVDbGFzcygnYW0tYnRuLWRlZmF1bHQnKS5wcm9wKCdkaXNhYmxlZCcsZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudGV4dCgn6YCJ5oup6KaB5LiK5Lyg55qE5paH5Lu2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsZS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wYXJlbnRbY2FsbGJhY2tOYW1lXShyZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQocmVzdWx0LmVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmaWxlLmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGZvcm1VcGxvYWQuc3VibWl0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcbn07Il19
