<!DOCTYPE html>
<html>
<head>
    <% include ../partials/meta %>
    <title><%= title %></title>
    <% include ../partials/css %>
</head>
<body>

<% include ../partials/header %>

<div class="am-cf admin-main">

    <!-- sidebar start -->
    <% include ../partials/sidebar %>
    <!-- sidebar end -->

    <!-- content start -->
    <div class="admin-content admin-product-page">

        <div class="am-cf am-padding">
            <div class="am-fl am-cf"><strong><a href="/admin/product">产品编辑</a></strong> / <a href="/admin/product/add">添加新产品</a>
            </div>
        </div>

        <div class="am-g">
            <div class="am-u-sm-12">

                <form id="form-add-product" class="am-form" method="post" action="/admin/product/add">

                    <!-- name start -->
                    <div class="am-form-group">
                        <label for="name">产品名称<i>*</i>:</label>
                        <input id="name" required name="name" type="text" placeholder="输入产品名称[必填]"/>
                    </div>

                    <div class="am-form-group">
                        <label for="name-en">产品名称英文:</label>
                        <input id="name-en" name="name-en" type="text" placeholder="输入产品名称英文"/>
                    </div>
                    <!-- name end -->

                    <hr>


                    <div class="category-group">

                        <div class="group am-g">
                            <div class="am-u-sm-12 am-u-md-3">
                                <!-- select productMethod start -->
                                <div class="am-form-group">
                                    <label>请选择产品类型<i>*</i>:</label>
                                    <div>
                                        <select class="select-product-method" name="select-product-method" required
                                                data-am-selected>
                                            <option value="">请选择产品类型</option>
                                            <% for (var i=0;i < productMethod.length; i++) { %>
                                            <option value="<%= productMethod[i].get('productMethodId'); %>"><%=
                                                productMethod[i].get('name'); %>
                                            </option>
                                            <% } %>
                                        </select>
                                    </div>
                                </div>
                                <!-- select productMethod end -->
                            </div>
                            <div class="am-u-sm-12 am-u-md-3">
                                <!-- select category1 start -->
                                <div class="am-form-group">
                                    <label>选择商品一级分类<i>*</i>:</label>
                                    <div>
                                        <select class="select-category-1" name="select-category-1" required
                                                data-am-selected>
                                            <option value="">请选择商品一级分类</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- select category1 end -->
                            </div>
                            <div class="am-u-sm-12 am-u-md-3">
                                <!-- select category2 start -->
                                <div class="am-form-group">
                                    <label>选择商品二级分类<i>*</i>:</label>
                                    <div>
                                        <select class="select-category-2" name="select-category-2" required
                                                data-am-selected>
                                            <option value="">请选择商品二级分类</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- select category2 end -->

                            </div>
                            <div class="am-u-sm-12 am-u-md-3">
                                <div class="am-form-group">
                                    <label>&nbsp;</label>
                                    <div>
                                        <button type="button" class="btn-add-category am-btn am-btn-primary">添加新分类
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <hr/>

                    <!-- banner start -->
                    <div class="am-form-group am-form-select">
                        <label for="select-banner">选择商品匹配的 Banner：</label>
                        <div>
                            <select id="select-banner" name="select-banner" data-am-selected>
                                <option value="">不选择</option>
                                <% for(var i=0;i< banner.length; i++) { %>
                                <option value="<%= banner[i].get('bannerId') %>"
                                        data-src="<%= banner[i].get('bannerUrl') %>"><%= banner[i].get('bannerText') %>
                                </option>
                                <% } %>
                            </select>
                            <span class="split"></span><a class="select-banner-random" href="javascript:;">随机选择</a>
                        </div>
                    </div>

                    <div class="banner-view"></div>
                    <!-- banner end -->

                    <hr/>

                    <!-- description start -->
                    <div class="am-form-group">
                        <label for="description">产品简述(主要用于列表展示页):</label>
                        <input type="text" id="description" name="description" placeholder="输入产品简述">
                    </div>
                    <!-- description end -->

                    <!-- review start -->
                    <div class="am-form-group">
                        <label for="review">店主评语
                            <small>(md5)</small>
                            :</label>
                        <textarea id="review" name="review" rows="3" placeholder="输入店主评语"></textarea>
                    </div>
                    <!-- review end -->

                    <hr/>

                    <!-- detail start -->
                    <div class="am-form-group">
                        <label for="detail">输入产品详情
                            <small>(md5)</small>
                            :</label>
                        <textarea id="detail" name="detail" rows="5" placeholder="输入产品详情[必填]"></textarea>
                    </div>

                    <div class="am-form-group">
                        <div class="am-panel">
                            <div class="am-panel-hd">
                                <label class="am-panel-title" data-am-collapse="{target:'#detail-en-panel'}"
                                       for="detail-en"><em class="am-icon-angle-right"></em> 输入产品详情英文
                                    <small> (md5)</small>
                                    :</label>
                            </div>
                            <div id="detail-en-panel" class="am-panel-collapse am-collapse">
                                <textarea id="detail-en" name="detail-en" rows="5" placeholder="输入产品详情(英文)"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- detail end -->


                    <hr/>


                    <!-- property start -->
                    <div class="am-form-group">
                        <label for="property">产品属性<small>(md5)</small>:</label>
                        <textarea id="property" name="property" rows="3" placeholder="输入产品属性"></textarea>
                    </div>

                    <div class="am-form-group">
                        <div class="am-panel">
                            <div class="am-panel-hd">
                                <label class="am-panel-title" data-am-collapse="{target:'#property-en-panel'}" for="property-en"><em class="am-icon-angle-right"></em> 输入产品属性英文<small> (md5)</small>:</label>
                            </div>
                            <div id="property-en-panel" class="am-panel-collapse am-collapse">
                                <textarea id="property-en" name="property-en" rows="3" placeholder="输入产品属性"></textarea>
                            </div>
                        </div>
                    </div>
                    <!-- property end -->

                    <hr/>


                    <!-- instruction start -->
                    <div class="am-form-group">
                        <label for="instruction">产品说明 <small>(md5)</small>:</label>
                        <textarea id="instruction" name="instruction" rows="3" placeholder="输入产品说明"></textarea>
                    </div>

                    <div class="am-form-group">
                        <div class="am-panel">
                            <div class="am-panel-hd">
                                <label class="am-panel-title" data-am-collapse="{target:'#instruction-en-panel'}" for="instruction-en"><em class="am-icon-angle-right"></em> 输入产品说明英文<small> (md5)</small>:</label>
                            </div>
                            <div id="instruction-en-panel" class="am-panel-collapse am-collapse">
                                <textarea id="instruction-en" name="instruction-en" rows="3" placeholder="输入产品说明英文"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- instruction end -->

                    <hr/>
                    

                    <!-- use start -->
                    <div class="am-form-group">
                        <label for="use">产品使用说明
                            <small>(md5)</small>
                            :</label>
                        <textarea id="use" name="use" rows="5" placeholder="输入产品使用说明"></textarea>
                    </div>

                    <div class="am-form-group">
                        <div class="am-panel">
                            <div class="am-panel-hd">
                                <label class="am-panel-title" data-am-collapse="{target:'#use-en-panel'}" for="use-en"><em class="am-icon-angle-right"></em> 输入产品使用说明英文<small> (md5)</small>:</label>
                            </div>
                            <div id="use-en-panel" class="am-panel-collapse am-collapse">
                                <textarea id="use-en" name="use-en" rows="5" placeholder="输入产品使用说明英文"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- use end -->

                    <hr/>

                    <!-- images start -->
                    <div class="am-form-group">
                        <label for="detail-image">产品图片：</label>
                        <div class="upload-content">
                            <iframe class="upload" src="/admin/product/upload" frameborder="0"></iframe>
                        </div>
                        <ul class="image-list"></ul>
                        <hr/>
                        <textarea id="detail-image" name="detail-image" rows="5" placeholder="输入产品图片"></textarea>
                        <input id="main-image" name="main-image" type="hidden"/>
                    </div>
                    <!-- images end -->

                    <hr/>

                    <!-- video start -->
                    <div class="am-form-group">
                        <label for="video">产品视频：</label>
                        <input id="video" name="video" type="text" placeholder="输入产品视频"/>
                    </div>
                    <!-- video end -->

                    <hr/>

                    <div class="am-form-group">
                        <button id="submit" type="submit" class="am-btn am-btn-primary" data-target="_self"
                                data-action="/admin/product/add">保存
                        </button>
                        <button id="preview" type="submit" class="am-btn am-btn-success" data-target="_blank"
                                data-action="/admin/product/preview/preview-taobao">预览
                        </button>
                        <button type="button" class="am-btn am-btn-primary" onclick="history.back(-1);">返回</button>
                    </div>

                </form>

            </div>
        </div>

    </div>
    <!-- content end -->

</div>


<% include ../partials/footer %>
<% include ../partials/js %>

<script type="text/javascript">

    var product;
    $(function () {
        require('upload');
        product = require('product');
        product.addFun();
    });

    //iframe upload callback
    function uploadFileSuccess(data) {
        product.uploadFileSuccess(data);
    }

</script>
</body>
</html>